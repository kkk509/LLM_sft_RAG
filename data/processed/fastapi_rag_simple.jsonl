{"doc_id": "fastapi_0001", "title": "Alternatives, Inspiration and Comparisons { #alternatives-inspiration-and-comparisons }", "section": "Alternatives, Inspiration and Comparisons { #alternatives-inspiration-and-comparisons }", "content": "What inspired **FastAPI**, how it compares to alternatives and what it learned from them.", "source": "alternatives.md"}
{"doc_id": "fastapi_0002", "title": "Alternatives, Inspiration and Comparisons { #alternatives-inspiration-and-comparisons }", "section": "Intro { #intro }", "content": "**FastAPI** wouldn't exist if not for the previous work of others.\n\nThere have been many tools created before that have helped inspire its creation.\n\nI have been avoiding the creation of a new framework for several years. First I tried to solve all the features covered by **FastAPI** using many different frameworks, plug-ins, and tools.\n\nBut at some point, there was no other option than creating something that provided all these features, taking the best ideas from previous tools, and combining them in the best way possible, using language features that weren't even available before (Python 3.6+ type hints).", "source": "alternatives.md"}
{"doc_id": "fastapi_0003", "title": "Alternatives, Inspiration and Comparisons { #alternatives-inspiration-and-comparisons }", "section": "Previous tools { #previous-tools }", "content": "", "source": "alternatives.md"}
{"doc_id": "fastapi_0004", "title": "Alternatives, Inspiration and Comparisons { #alternatives-inspiration-and-comparisons }", "section": "<a href=\"https://www.djangoproject.com/\" class=\"external-link\" target=\"_blank\">Django</a> { #django }", "content": "It's the most popular Python framework and is widely trusted. It is used to build systems like Instagram.\n\nIt's relatively tightly coupled with relational databases (like MySQL or PostgreSQL), so, having a NoSQL database (like Couchbase, MongoDB, Cassandra, etc) as the main store engine is not very easy.\n\nIt was created to generate the HTML in the backend, not to create APIs used by a modern frontend (like React, Vue.js and Angular) or by other systems (like <abbr title=\"Internet of Things\">IoT</abbr> devices) communicating with it.", "source": "alternatives.md"}
{"doc_id": "fastapi_0005", "title": "Alternatives, Inspiration and Comparisons { #alternatives-inspiration-and-comparisons }", "section": "<a href=\"https://www.django-rest-framework.org/\" class=\"external-link\" target=\"_blank\">Django REST Framework</a> { #django-rest-framework }", "content": "Django REST framework was created to be a flexible toolkit for building Web APIs using Django underneath, to improve its API capabilities.\n\nIt is used by many companies including Mozilla, Red Hat and Eventbrite.\n\nIt was one of the first examples of **automatic API documentation**, and this was specifically one of the first ideas that inspired \"the search for\" **FastAPI**.\n\n/// note\n\nDjango REST Framework was created by Tom Christie. The same creator of Starlette and Uvicorn, on which **FastAPI** is based.\n\n///\n\n/// check | Inspired **FastAPI** to\n\nHave an automatic API documentation web user interface.\n\n///", "source": "alternatives.md"}
{"doc_id": "fastapi_0006", "title": "Alternatives, Inspiration and Comparisons { #alternatives-inspiration-and-comparisons }", "section": "<a href=\"https://flask.palletsprojects.com\" class=\"external-link\" target=\"_blank\">Flask</a> { #flask }", "content": "Flask is a \"microframework\", it doesn't include database integrations nor many of the things that come by default in Django.\n\nThis simplicity and flexibility allow doing things like using NoSQL databases as the main data storage system.\n\nAs it is very simple, it's relatively intuitive to learn, although the documentation gets somewhat technical at some points.\n\nIt is also commonly used for other applications that don't necessarily need a database, user management, or any of the many features that come pre-built in Django. Although many of these features can be added with plug-ins.\n\nThis decoupling of parts, and being a \"microframework\" that could be extended to cover exactly what is needed was a key feature that I wanted to keep.\n\nGiven the simplicity of Flask, it seemed like a good match for building APIs. The next thing to find was a \"Django REST Framework\" for Flask.\n\n/// check | Inspired **FastAPI** to\n\nBe a micro-framework. Making it easy to mix and match the tools and parts needed.\n\nHave a simple and easy to use routing system.\n\n///", "source": "alternatives.md"}
{"doc_id": "fastapi_0007", "title": "Alternatives, Inspiration and Comparisons { #alternatives-inspiration-and-comparisons }", "section": "<a href=\"https://requests.readthedocs.io\" class=\"external-link\" target=\"_blank\">Requests</a> { #requests }", "content": "**FastAPI** is not actually an alternative to **Requests**. Their scope is very different.\n\nIt would actually be common to use Requests *inside* of a FastAPI application.\n\nBut still, FastAPI got quite some inspiration from Requests.\n\n**Requests** is a library to *interact* with APIs (as a client), while **FastAPI** is a library to *build* APIs (as a server).\n\nThey are, more or less, at opposite ends, complementing each other.\n\nRequests has a very simple and intuitive design, it's very easy to use, with sensible defaults. But at the same time, it's very powerful and customizable.\n\nThat's why, as said in the official website:\n\n> Requests is one of the most downloaded Python packages of all time\n\nThe way you use it is very simple. For example, to do a `GET` request, you would write:\n\n```Python\nresponse = requests.get(\"http://example.com/some/url\")\n```\n\nThe FastAPI counterpart API *path operation* could look like:\n\n```Python hl_lines=\"1\"\n@app.get(\"/some/url\")\ndef read_url():\n    return {\"message\": \"Hello World\"}\n```\n\nSee the similarities in `requests.get(...)` and `@app.get(...)`.\n\n/// check | Inspired **FastAPI** to\n\n* Have a simple and intuitive API.\n* Use HTTP method names (operations) directly, in a straightforward and intuitive way.\n* Have sensible defaults, but powerful customizations.\n\n///", "source": "alternatives.md"}
{"doc_id": "fastapi_0008", "title": "Alternatives, Inspiration and Comparisons { #alternatives-inspiration-and-comparisons }", "section": "<a href=\"https://swagger.io/\" class=\"external-link\" target=\"_blank\">Swagger</a> / <a href=\"https://github.com/OAI/OpenAPI-Specification/\" class=\"external-link\" target=\"_blank\">OpenAPI</a> { #swagger-openapi }", "content": "The main feature I wanted from Django REST Framework was the automatic API documentation.\n\nThen I found that there was a standard to document APIs, using JSON (or YAML, an extension of JSON) called Swagger.\n\nAnd there was a web user interface for Swagger APIs already created. So, being able to generate Swagger documentation for an API would allow using this web user interface automatically.\n\nAt some point, Swagger was given to the Linux Foundation, to be renamed OpenAPI.\n\nThat's why when talking about version 2.0 it's common to say \"Swagger\", and for version 3+ \"OpenAPI\".\n\n/// check | Inspired **FastAPI** to\n\nAdopt and use an open standard for API specifications, instead of a custom schema.\n\nAnd integrate standards-based user interface tools:\n\n* <a href=\"https://github.com/swagger-api/swagger-ui\" class=\"external-link\" target=\"_blank\">Swagger UI</a>\n* <a href=\"https://github.com/Rebilly/ReDoc\" class=\"external-link\" target=\"_blank\">ReDoc</a>\n\nThese two were chosen for being fairly popular and stable, but doing a quick search, you could find dozens of alternative user interfaces for OpenAPI (that you can use with **FastAPI**).\n\n///", "source": "alternatives.md"}
{"doc_id": "fastapi_0009", "title": "Alternatives, Inspiration and Comparisons { #alternatives-inspiration-and-comparisons }", "section": "Flask REST frameworks { #flask-rest-frameworks }", "content": "There are several Flask REST frameworks, but after investing the time and work into investigating them, I found that many are discontinued or abandoned, with several standing issues that made them unfit.", "source": "alternatives.md"}
{"doc_id": "fastapi_0010", "title": "Alternatives, Inspiration and Comparisons { #alternatives-inspiration-and-comparisons }", "section": "<a href=\"https://marshmallow.readthedocs.io/en/stable/\" class=\"external-link\" target=\"_blank\">Marshmallow</a> { #marshmallow }", "content": "One of the main features needed by API systems is data \"<abbr title=\"also called marshalling, conversion\">serialization</abbr>\" which is taking data from the code (Python) and converting it into something that can be sent through the network. For example, converting an object containing data from a database into a JSON object. Converting `datetime` objects into strings, etc.\n\nAnother big feature needed by APIs is data validation, making sure that the data is valid, given certain parameters. For example, that some field is an `int`, and not some random string. This is especially useful for incoming data.\n\nWithout a data validation system, you would have to do all the checks by hand, in code.\n\nThese features are what Marshmallow was built to provide. It is a great library, and I have used it a lot before.\n\nBut it was created before there existed Python type hints. So, to define every <abbr title=\"the definition of how data should be formed\">schema</abbr> you need to use specific utils and classes provided by Marshmallow.\n\n/// check | Inspired **FastAPI** to\n\nUse code to define \"schemas\" that provide data types and validation, automatically.\n\n///", "source": "alternatives.md"}
{"doc_id": "fastapi_0011", "title": "Alternatives, Inspiration and Comparisons { #alternatives-inspiration-and-comparisons }", "section": "<a href=\"https://webargs.readthedocs.io/en/latest/\" class=\"external-link\" target=\"_blank\">Webargs</a> { #webargs }", "content": "Another big feature required by APIs is <abbr title=\"reading and converting to Python data\">parsing</abbr> data from incoming requests.\n\nWebargs is a tool that was made to provide that on top of several frameworks, including Flask.\n\nIt uses Marshmallow underneath to do the data validation. And it was created by the same developers.\n\nIt's a great tool and I have used it a lot too, before having **FastAPI**.\n\n/// info\n\nWebargs was created by the same Marshmallow developers.\n\n///\n\n/// check | Inspired **FastAPI** to\n\nHave automatic validation of incoming request data.\n\n///", "source": "alternatives.md"}
{"doc_id": "fastapi_0012", "title": "Alternatives, Inspiration and Comparisons { #alternatives-inspiration-and-comparisons }", "section": "<a href=\"https://apispec.readthedocs.io/en/stable/\" class=\"external-link\" target=\"_blank\">APISpec</a> { #apispec }", "content": "Marshmallow and Webargs provide validation, parsing and serialization as plug-ins.\n\nBut documentation is still missing. Then APISpec was created.\n\nIt is a plug-in for many frameworks (and there's a plug-in for Starlette too).\n\nThe way it works is that you write the definition of the schema using YAML format inside the docstring of each function handling a route.\n\nAnd it generates OpenAPI schemas.\n\nThat's how it works in Flask, Starlette, Responder, etc.\n\nBut then, we have again the problem of having a micro-syntax, inside of a Python string (a big YAML).\n\nThe editor can't help much with that. And if we modify parameters or Marshmallow schemas and forget to also modify that YAML docstring, the generated schema would be obsolete.\n\n/// info\n\nAPISpec was created by the same Marshmallow developers.\n\n///\n\n/// check | Inspired **FastAPI** to\n\nSupport the open standard for APIs, OpenAPI.\n\n///", "source": "alternatives.md"}
{"doc_id": "fastapi_0013", "title": "Alternatives, Inspiration and Comparisons { #alternatives-inspiration-and-comparisons }", "section": "<a href=\"https://flask-apispec.readthedocs.io/en/latest/\" class=\"external-link\" target=\"_blank\">Flask-apispec</a> { #flask-apispec }", "content": "It's a Flask plug-in, that ties together Webargs, Marshmallow and APISpec.\n\nIt uses the information from Webargs and Marshmallow to automatically generate OpenAPI schemas, using APISpec.\n\nIt's a great tool, very underrated. It should be way more popular than many Flask plug-ins out there. It might be due to its documentation being too concise and abstract.\n\nThis solved having to write YAML (another syntax) inside of Python docstrings.\n\nThis combination of Flask, Flask-apispec with Marshmallow and Webargs was my favorite backend stack until building **FastAPI**.\n\nUsing it led to the creation of several Flask full-stack generators. These are the main stacks I (and several external teams) have been using up to now:\n\n* <a href=\"https://github.com/tiangolo/full-stack\" class=\"external-link\" target=\"_blank\">https://github.com/tiangolo/full-stack</a>\n* <a href=\"https://github.com/tiangolo/full-stack-flask-couchbase\" class=\"external-link\" target=\"_blank\">https://github.com/tiangolo/full-stack-flask-couchbase</a>\n* <a href=\"https://github.com/tiangolo/full-stack-flask-couchdb\" class=\"external-link\" target=\"_blank\">https://github.com/tiangolo/full-stack-flask-couchdb</a>\n\nAnd these same full-stack generators were the base of the [**FastAPI** Project Generators](project-generation.md){.internal-link target=_blank}.\n\n/// info\n\nFlask-apispec was created by the same Marshmallow developers.\n\n///\n\n/// check | Inspired **FastAPI** to\n\nGenerate the OpenAPI schema automatically, from the same code that defines serialization and validation.\n\n///", "source": "alternatives.md"}
{"doc_id": "fastapi_0014", "title": "Alternatives, Inspiration and Comparisons { #alternatives-inspiration-and-comparisons }", "section": "<a href=\"https://nestjs.com/\" class=\"external-link\" target=\"_blank\">NestJS</a> (and <a href=\"https://angular.io/\" class=\"external-link\" target=\"_blank\">Angular</a>) { #nestjs-and-angular }", "content": "This isn't even Python, NestJS is a JavaScript (TypeScript) NodeJS framework inspired by Angular.\n\nIt achieves something somewhat similar to what can be done with Flask-apispec.\n\nIt has an integrated dependency injection system, inspired by Angular 2. It requires pre-registering the \"injectables\" (like all the other dependency injection systems I know), so, it adds to the verbosity and code repetition.\n\nAs the parameters are described with TypeScript types (similar to Python type hints), editor support is quite good.\n\nBut as TypeScript data is not preserved after compilation to JavaScript, it cannot rely on the types to define validation, serialization and documentation at the same time. Due to this and some design decisions, to get validation, serialization and automatic schema generation, it's needed to add decorators in many places. So, it becomes quite verbose.\n\nIt can't handle nested models very well. So, if the JSON body in the request is a JSON object that has inner fields that in turn are nested JSON objects, it cannot be properly documented and validated.\n\n/// check | Inspired **FastAPI** to\n\nUse Python types to have great editor support.\n\nHave a powerful dependency injection system. Find a way to minimize code repetition.\n\n///", "source": "alternatives.md"}
{"doc_id": "fastapi_0015", "title": "Alternatives, Inspiration and Comparisons { #alternatives-inspiration-and-comparisons }", "section": "<a href=\"https://sanic.readthedocs.io/en/latest/\" class=\"external-link\" target=\"_blank\">Sanic</a> { #sanic }", "content": "It was one of the first extremely fast Python frameworks based on `asyncio`. It was made to be very similar to Flask.\n\n/// note | Technical Details\n\nIt used <a href=\"https://github.com/MagicStack/uvloop\" class=\"external-link\" target=\"_blank\">`uvloop`</a> instead of the default Python `asyncio` loop. That's what made it so fast.\n\nIt clearly inspired Uvicorn and Starlette, that are currently faster than Sanic in open benchmarks.\n\n///\n\n/// check | Inspired **FastAPI** to\n\nFind a way to have a crazy performance.\n\nThat's why **FastAPI** is based on Starlette, as it is the fastest framework available (tested by third-party benchmarks).\n\n///", "source": "alternatives.md"}
{"doc_id": "fastapi_0016", "title": "Alternatives, Inspiration and Comparisons { #alternatives-inspiration-and-comparisons }", "section": "<a href=\"https://falconframework.org/\" class=\"external-link\" target=\"_blank\">Falcon</a> { #falcon }", "content": "Falcon is another high performance Python framework, it is designed to be minimal, and work as the foundation of other frameworks like Hug.\n\nIt is designed to have functions that receive two parameters, one \"request\" and one \"response\". Then you \"read\" parts from the request, and \"write\" parts to the response. Because of this design, it is not possible to declare request parameters and bodies with standard Python type hints as function parameters.\n\nSo, data validation, serialization, and documentation, have to be done in code, not automatically. Or they have to be implemented as a framework on top of Falcon, like Hug. This same distinction happens in other frameworks that are inspired by Falcon's design, of having one request object and one response object as parameters.\n\n/// check | Inspired **FastAPI** to\n\nFind ways to get great performance.\n\nAlong with Hug (as Hug is based on Falcon) inspired **FastAPI** to declare a `response` parameter in functions.\n\nAlthough in FastAPI it's optional, and is used mainly to set headers, cookies, and alternative status codes.\n\n///", "source": "alternatives.md"}
{"doc_id": "fastapi_0017", "title": "Alternatives, Inspiration and Comparisons { #alternatives-inspiration-and-comparisons }", "section": "<a href=\"https://moltenframework.com/\" class=\"external-link\" target=\"_blank\">Molten</a> { #molten }", "content": "I discovered Molten in the first stages of building **FastAPI**. And it has quite similar ideas:\n\n* Based on Python type hints.\n* Validation and documentation from these types.\n* Dependency Injection system.\n\nIt doesn't use a data validation, serialization and documentation third-party library like Pydantic, it has its own. So, these data type definitions would not be reusable as easily.\n\nIt requires a little bit more verbose configurations. And as it is based on WSGI (instead of ASGI), it is not designed to take advantage of the high performance provided by tools like Uvicorn, Starlette and Sanic.\n\nThe dependency injection system requires pre-registration of the dependencies and the dependencies are solved based on the declared types. So, it's not possible to declare more than one \"component\" that provides a certain type.\n\nRoutes are declared in a single place, using functions declared in other places (instead of using decorators that can be placed right on top of the function that handles the endpoint). This is closer to how Django does it than to how Flask (and Starlette) does it. It separates in the code things that are relatively tightly coupled.\n\n/// check | Inspired **FastAPI** to\n\nDefine extra validations for data types using the \"default\" value of model attributes. This improves editor support, and it was not available in Pydantic before.\n\nThis actually inspired updating parts of Pydantic, to support the same validation declaration style (all this functionality is now already available in Pydantic).\n\n///", "source": "alternatives.md"}
{"doc_id": "fastapi_0018", "title": "Alternatives, Inspiration and Comparisons { #alternatives-inspiration-and-comparisons }", "section": "<a href=\"https://github.com/hugapi/hug\" class=\"external-link\" target=\"_blank\">Hug</a> { #hug }", "content": "Hug was one of the first frameworks to implement the declaration of API parameter types using Python type hints. This was a great idea that inspired other tools to do the same.\n\nIt used custom types in its declarations instead of standard Python types, but it was still a huge step forward.\n\nIt also was one of the first frameworks to generate a custom schema declaring the whole API in JSON.\n\nIt was not based on a standard like OpenAPI and JSON Schema. So it wouldn't be straightforward to integrate it with other tools, like Swagger UI. But again, it was a very innovative idea.\n\nIt has an interesting, uncommon feature: using the same framework, it's possible to create APIs and also CLIs.\n\nAs it is based on the previous standard for synchronous Python web frameworks (WSGI), it can't handle Websockets and other things, although it still has high performance too.\n\n/// info\n\nHug was created by Timothy Crosley, the same creator of <a href=\"https://github.com/timothycrosley/isort\" class=\"external-link\" target=\"_blank\">`isort`</a>, a great tool to automatically sort imports in Python files.\n\n///\n\n/// check | Ideas inspiring **FastAPI**\n\nHug inspired parts of APIStar, and was one of the tools I found most promising, alongside APIStar.\n\nHug helped inspiring **FastAPI** to use Python type hints to declare parameters, and to generate a schema defining the API automatically.\n\nHug inspired **FastAPI** to declare a `response` parameter in functions to set headers and cookies.\n\n///", "source": "alternatives.md"}
{"doc_id": "fastapi_0019", "title": "Alternatives, Inspiration and Comparisons { #alternatives-inspiration-and-comparisons }", "section": "<a href=\"https://github.com/encode/apistar\" class=\"external-link\" target=\"_blank\">APIStar</a> (<= 0.5) { #apistar-0-5 }", "content": "Right before deciding to build **FastAPI** I found **APIStar** server. It had almost everything I was looking for and had a great design.\n\nIt was one of the first implementations of a framework using Python type hints to declare parameters and requests that I ever saw (before NestJS and Molten). I found it more or less at the same time as Hug. But APIStar used the OpenAPI standard.\n\nIt had automatic data validation, data serialization and OpenAPI schema generation based on the same type hints in several places.\n\nBody schema definitions didn't use the same Python type hints like Pydantic, it was a bit more similar to Marshmallow, so, editor support wouldn't be as good, but still, APIStar was the best available option.\n\nIt had the best performance benchmarks at the time (only surpassed by Starlette).\n\nAt first, it didn't have an automatic API documentation web UI, but I knew I could add Swagger UI to it.\n\nIt had a dependency injection system. It required pre-registration of components, as other tools discussed above. But still, it was a great feature.\n\nI was never able to use it in a full project, as it didn't have security integration, so, I couldn't replace all the features I was having with the full-stack generators based on Flask-apispec. I had in my backlog of projects to create a pull request adding that functionality.\n\nBut then, the project's focus shifted.\n\nIt was no longer an API web framework, as the creator needed to focus on Starlette.\n\nNow APIStar is a set of tools to validate OpenAPI specifications, not a web framework.\n\n/// info\n\nAPIStar was created by Tom Christie. The same guy that created:\n\n* Django REST Framework\n* Starlette (in which **FastAPI** is based)\n* Uvicorn (used by Starlette and **FastAPI**)\n\n///\n\n/// check | Inspired **FastAPI** to\n\nExist.\n\nThe idea of declaring multiple things (data validation, serialization and documentation) with the same Python types, that at the same time provided great editor support, was something I considered a brilliant idea.\n\nAnd after searching for a long time for a similar framework and testing many different alternatives, APIStar was the best option available.\n\nThen APIStar stopped to exist as a server and Starlette was created, and was a new better foundation for such a system. That was the final inspiration to build **FastAPI**.\n\nI consider **FastAPI** a \"spiritual successor\" to APIStar, while improving and increasing the features, typing system, and other parts, based on the learnings from all these previous tools.\n\n///", "source": "alternatives.md"}
{"doc_id": "fastapi_0020", "title": "Alternatives, Inspiration and Comparisons { #alternatives-inspiration-and-comparisons }", "section": "Used by **FastAPI** { #used-by-fastapi }", "content": "", "source": "alternatives.md"}
{"doc_id": "fastapi_0021", "title": "Alternatives, Inspiration and Comparisons { #alternatives-inspiration-and-comparisons }", "section": "<a href=\"https://docs.pydantic.dev/\" class=\"external-link\" target=\"_blank\">Pydantic</a> { #pydantic }", "content": "Pydantic is a library to define data validation, serialization and documentation (using JSON Schema) based on Python type hints.\n\nThat makes it extremely intuitive.\n\nIt is comparable to Marshmallow. Although it's faster than Marshmallow in benchmarks. And as it is based on the same Python type hints, the editor support is great.\n\n/// check | **FastAPI** uses it to\n\nHandle all the data validation, data serialization and automatic model documentation (based on JSON Schema).\n\n**FastAPI** then takes that JSON Schema data and puts it in OpenAPI, apart from all the other things it does.\n\n///", "source": "alternatives.md"}
{"doc_id": "fastapi_0022", "title": "Alternatives, Inspiration and Comparisons { #alternatives-inspiration-and-comparisons }", "section": "<a href=\"https://www.starlette.dev/\" class=\"external-link\" target=\"_blank\">Starlette</a> { #starlette }", "content": "Starlette is a lightweight <abbr title=\"The new standard for building asynchronous Python web applications\">ASGI</abbr> framework/toolkit, which is ideal for building high-performance asyncio services.\n\nIt is very simple and intuitive. It's designed to be easily extensible, and have modular components.\n\nIt has:\n\n* Seriously impressive performance.\n* WebSocket support.\n* In-process background tasks.\n* Startup and shutdown events.\n* Test client built on HTTPX.\n* CORS, GZip, Static Files, Streaming responses.\n* Session and Cookie support.\n* 100% test coverage.\n* 100% type annotated codebase.\n* Few hard dependencies.\n\nStarlette is currently the fastest Python framework tested. Only surpassed by Uvicorn, which is not a framework, but a server.\n\nStarlette provides all the basic web microframework functionality.\n\nBut it doesn't provide automatic data validation, serialization or documentation.\n\nThat's one of the main things that **FastAPI** adds on top, all based on Python type hints (using Pydantic). That, plus the dependency injection system, security utilities, OpenAPI schema generation, etc.\n\n/// note | Technical Details\n\nASGI is a new \"standard\" being developed by Django core team members. It is still not a \"Python standard\" (a PEP), although they are in the process of doing that.\n\nNevertheless, it is already being used as a \"standard\" by several tools. This greatly improves interoperability, as you could switch Uvicorn for any other ASGI server (like Daphne or Hypercorn), or you could add ASGI compatible tools, like `python-socketio`.\n\n///\n\n/// check | **FastAPI** uses it to\n\nHandle all the core web parts. Adding features on top.\n\nThe class `FastAPI` itself inherits directly from the class `Starlette`.\n\nSo, anything that you can do with Starlette, you can do it directly with **FastAPI**, as it is basically Starlette on steroids.\n\n///", "source": "alternatives.md"}
{"doc_id": "fastapi_0023", "title": "Alternatives, Inspiration and Comparisons { #alternatives-inspiration-and-comparisons }", "section": "<a href=\"https://www.uvicorn.dev/\" class=\"external-link\" target=\"_blank\">Uvicorn</a> { #uvicorn }", "content": "Uvicorn is a lightning-fast ASGI server, built on uvloop and httptools.\n\nIt is not a web framework, but a server. For example, it doesn't provide tools for routing by paths. That's something that a framework like Starlette (or **FastAPI**) would provide on top.\n\nIt is the recommended server for Starlette and **FastAPI**.\n\n/// check | **FastAPI** recommends it as\n\nThe main web server to run **FastAPI** applications.\n\nYou can also use the `--workers` command line option to have an asynchronous multi-process server.\n\nCheck more details in the [Deployment](deployment/index.md){.internal-link target=_blank} section.\n\n///", "source": "alternatives.md"}
{"doc_id": "fastapi_0024", "title": "Alternatives, Inspiration and Comparisons { #alternatives-inspiration-and-comparisons }", "section": "Benchmarks and speed { #benchmarks-and-speed }", "content": "To understand, compare, and see the difference between Uvicorn, Starlette and FastAPI, check the section about [Benchmarks](benchmarks.md){.internal-link target=_blank}.", "source": "alternatives.md"}
{"doc_id": "fastapi_0025", "title": "Concurrency and async / await { #concurrency-and-async-await }", "section": "Concurrency and async / await { #concurrency-and-async-await }", "content": "Details about the `async def` syntax for *path operation functions* and some background about asynchronous code, concurrency, and parallelism.", "source": "async.md"}
{"doc_id": "fastapi_0026", "title": "Concurrency and async / await { #concurrency-and-async-await }", "section": "In a hurry? { #in-a-hurry }", "content": "<abbr title=\"too long; didn't read\"><strong>TL;DR:</strong></abbr>\n\nIf you are using third party libraries that tell you to call them with `await`, like:\n\n```Python\nresults = await some_library()\n```\n\nThen, declare your *path operation functions* with `async def` like:\n\n```Python hl_lines=\"2\"\n@app.get('/')\nasync def read_results():\n    results = await some_library()\n    return results\n```\n\n/// note\n\nYou can only use `await` inside of functions created with `async def`.\n\n///\n\n---\n\nIf you are using a third party library that communicates with something (a database, an API, the file system, etc.) and doesn't have support for using `await`, (this is currently the case for most database libraries), then declare your *path operation functions* as normally, with just `def`, like:\n\n```Python hl_lines=\"2\"\n@app.get('/')\ndef results():\n    results = some_library()\n    return results\n```\n\n---\n\nIf your application (somehow) doesn't have to communicate with anything else and wait for it to respond, use `async def`, even if you don't need to use `await` inside.\n\n---\n\nIf you just don't know, use normal `def`.\n\n---\n\n**Note**: You can mix `def` and `async def` in your *path operation functions* as much as you need and define each one using the best option for you. FastAPI will do the right thing with them.\n\nAnyway, in any of the cases above, FastAPI will still work asynchronously and be extremely fast.\n\nBut by following the steps above, it will be able to do some performance optimizations.", "source": "async.md"}
{"doc_id": "fastapi_0027", "title": "Concurrency and async / await { #concurrency-and-async-await }", "section": "Technical Details { #technical-details }", "content": "Modern versions of Python have support for **\"asynchronous code\"** using something called **\"coroutines\"**, with **`async` and `await`** syntax.\n\nLet's see that phrase by parts in the sections below:\n\n* **Asynchronous Code**\n* **`async` and `await`**\n* **Coroutines**", "source": "async.md"}
{"doc_id": "fastapi_0028", "title": "Concurrency and async / await { #concurrency-and-async-await }", "section": "Asynchronous Code { #asynchronous-code }", "content": "Asynchronous code just means that the language üí¨ has a way to tell the computer / program ü§ñ that at some point in the code, it ü§ñ will have to wait for *something else* to finish somewhere else. Let's say that *something else* is called \"slow-file\" üìù.\n\nSo, during that time, the computer can go and do some other work, while \"slow-file\" üìù finishes.\n\nThen the computer / program ü§ñ will come back every time it has a chance because it's waiting again, or whenever it ü§ñ finished all the work it had at that point. And it ü§ñ will see if any of the tasks it was waiting for have already finished, doing whatever it had to do.\n\nNext, it ü§ñ takes the first task to finish (let's say, our \"slow-file\" üìù) and continues whatever it had to do with it.\n\nThat \"wait for something else\" normally refers to <abbr title=\"Input and Output\">I/O</abbr> operations that are relatively \"slow\" (compared to the speed of the processor and the RAM memory), like waiting for:\n\n* the data from the client to be sent through the network\n* the data sent by your program to be received by the client through the network\n* the contents of a file in the disk to be read by the system and given to your program\n* the contents your program gave to the system to be written to disk\n* a remote API operation\n* a database operation to finish\n* a database query to return the results\n* etc.\n\nAs the execution time is consumed mostly by waiting for <abbr title=\"Input and Output\">I/O</abbr> operations, they call them \"I/O bound\" operations.\n\nIt's called \"asynchronous\" because the computer / program doesn't have to be \"synchronized\" with the slow task, waiting for the exact moment that the task finishes, while doing nothing, to be able to take the task result and continue the work.\n\nInstead of that, by being an \"asynchronous\" system, once finished, the task can wait in line a little bit (some microseconds) for the computer / program to finish whatever it went to do, and then come back to take the results and continue working with them.\n\nFor \"synchronous\" (contrary to \"asynchronous\") they commonly also use the term \"sequential\", because the computer / program follows all the steps in sequence before switching to a different task, even if those steps involve waiting.", "source": "async.md"}
{"doc_id": "fastapi_0029", "title": "Concurrency and async / await { #concurrency-and-async-await }", "section": "Concurrency and Burgers { #concurrency-and-burgers }", "content": "This idea of **asynchronous** code described above is also sometimes called **\"concurrency\"**. It is different from **\"parallelism\"**.\n\n**Concurrency** and **parallelism** both relate to \"different things happening more or less at the same time\".\n\nBut the details between *concurrency* and *parallelism* are quite different.\n\nTo see the difference, imagine the following story about burgers:", "source": "async.md"}
{"doc_id": "fastapi_0030", "title": "Concurrency and async / await { #concurrency-and-async-await }", "section": "Concurrent Burgers { #concurrent-burgers }", "content": "You go with your crush to get fast food, you stand in line while the cashier takes the orders from the people in front of you. üòç\n\n<img src=\"/img/async/concurrent-burgers/concurrent-burgers-01.png\" class=\"illustration\">\n\nThen it's your turn, you place your order of 2 very fancy burgers for your crush and you. üçîüçî\n\n<img src=\"/img/async/concurrent-burgers/concurrent-burgers-02.png\" class=\"illustration\">\n\nThe cashier says something to the cook in the kitchen so they know they have to prepare your burgers (even though they are currently preparing the ones for the previous clients).\n\n<img src=\"/img/async/concurrent-burgers/concurrent-burgers-03.png\" class=\"illustration\">\n\nYou pay. üí∏\n\nThe cashier gives you the number of your turn.\n\n<img src=\"/img/async/concurrent-burgers/concurrent-burgers-04.png\" class=\"illustration\">\n\nWhile you are waiting, you go with your crush and pick a table, you sit and talk with your crush for a long time (as your burgers are very fancy and take some time to prepare).\n\nAs you are sitting at the table with your crush, while you wait for the burgers, you can spend that time admiring how awesome, cute and smart your crush is ‚ú®üòç‚ú®.\n\n<img src=\"/img/async/concurrent-burgers/concurrent-burgers-05.png\" class=\"illustration\">\n\nWhile waiting and talking to your crush, from time to time, you check the number displayed on the counter to see if it's your turn already.\n\nThen at some point, it finally is your turn. You go to the counter, get your burgers and come back to the table.\n\n<img src=\"/img/async/concurrent-burgers/concurrent-burgers-06.png\" class=\"illustration\">\n\nYou and your crush eat the burgers and have a nice time. ‚ú®\n\n<img src=\"/img/async/concurrent-burgers/concurrent-burgers-07.png\" class=\"illustration\">\n\n/// info\n\nBeautiful illustrations by <a href=\"https://www.instagram.com/ketrinadrawsalot\" class=\"external-link\" target=\"_blank\">Ketrina Thompson</a>. üé®\n\n///\n\n---\n\nImagine you are the computer / program ü§ñ in that story.\n\nWhile you are at the line, you are just idle üò¥, waiting for your turn, not doing anything very \"productive\". But the line is fast because the cashier is only taking the orders (not preparing them), so that's fine.\n\nThen, when it's your turn, you do actual \"productive\" work, you process the menu, decide what you want, get your crush's choice, pay, check that you give the correct bill or card, check that you are charged correctly, check that the order has the correct items, etc.\n\nBut then, even though you still don't have your burgers, your work with the cashier is \"on pause\" ‚è∏, because you have to wait üïô for your burgers to be ready.\n\nBut as you go away from the counter and sit at the table with a number for your turn, you can switch üîÄ your attention to your crush, and \"work\" ‚èØ ü§ì on that. Then you are again doing something very \"productive\" as is flirting with your crush üòç.\n\nThen the cashier üíÅ says \"I'm finished with doing the burgers\" by putting your number on the counter's display, but you don't jump like crazy immediately when the displayed number changes to your turn number. You know no one will steal your burgers because you have the number of your turn, and they have theirs.\n\nSo you wait for your crush to finish the story (finish the current work ‚èØ / task being processed ü§ì), smile gently and say that you are going for the burgers ‚è∏.\n\nThen you go to the counter üîÄ, to the initial task that is now finished ‚èØ, pick the burgers, say thanks and take them to the table. That finishes that step / task of interaction with the counter ‚èπ. That in turn, creates a new task, of \"eating burgers\" üîÄ ‚èØ, but the previous one of \"getting burgers\" is finished ‚èπ.", "source": "async.md"}
{"doc_id": "fastapi_0031", "title": "Concurrency and async / await { #concurrency-and-async-await }", "section": "Parallel Burgers { #parallel-burgers }", "content": "Now let's imagine these aren't \"Concurrent Burgers\", but \"Parallel Burgers\".\n\nYou go with your crush to get parallel fast food.\n\nYou stand in line while several (let's say 8) cashiers that at the same time are cooks take the orders from the people in front of you.\n\nEveryone before you is waiting for their burgers to be ready before leaving the counter because each of the 8 cashiers goes and prepares the burger right away before getting the next order.\n\n<img src=\"/img/async/parallel-burgers/parallel-burgers-01.png\" class=\"illustration\">\n\nThen it's finally your turn, you place your order of 2 very fancy burgers for your crush and you.\n\nYou pay üí∏.\n\n<img src=\"/img/async/parallel-burgers/parallel-burgers-02.png\" class=\"illustration\">\n\nThe cashier goes to the kitchen.\n\nYou wait, standing in front of the counter üïô, so that no one else takes your burgers before you do, as there are no numbers for turns.\n\n<img src=\"/img/async/parallel-burgers/parallel-burgers-03.png\" class=\"illustration\">\n\nAs you and your crush are busy not letting anyone get in front of you and take your burgers whenever they arrive, you cannot pay attention to your crush. üòû\n\nThis is \"synchronous\" work, you are \"synchronized\" with the cashier/cook üë®‚Äçüç≥. You have to wait üïô and be there at the exact moment that the cashier/cook üë®‚Äçüç≥ finishes the burgers and gives them to you, or otherwise, someone else might take them.\n\n<img src=\"/img/async/parallel-burgers/parallel-burgers-04.png\" class=\"illustration\">\n\nThen your cashier/cook üë®‚Äçüç≥ finally comes back with your burgers, after a long time waiting üïô there in front of the counter.\n\n<img src=\"/img/async/parallel-burgers/parallel-burgers-05.png\" class=\"illustration\">\n\nYou take your burgers and go to the table with your crush.\n\nYou just eat them, and you are done. ‚èπ\n\n<img src=\"/img/async/parallel-burgers/parallel-burgers-06.png\" class=\"illustration\">\n\nThere was not much talk or flirting as most of the time was spent waiting üïô in front of the counter. üòû\n\n/// info\n\nBeautiful illustrations by <a href=\"https://www.instagram.com/ketrinadrawsalot\" class=\"external-link\" target=\"_blank\">Ketrina Thompson</a>. üé®\n\n///\n\n---\n\nIn this scenario of the parallel burgers, you are a computer / program ü§ñ with two processors (you and your crush), both waiting üïô and dedicating their attention ‚èØ to be \"waiting on the counter\" üïô for a long time.\n\nThe fast food store has 8 processors (cashiers/cooks). While the concurrent burgers store might have had only 2 (one cashier and one cook).\n\nBut still, the final experience is not the best. üòû\n\n---\n\nThis would be the parallel equivalent story for burgers. üçî\n\nFor a more \"real life\" example of this, imagine a bank.\n\nUp to recently, most of the banks had multiple cashiers üë®‚Äçüíºüë®‚Äçüíºüë®‚Äçüíºüë®‚Äçüíº and a big line üïôüïôüïôüïôüïôüïôüïôüïô.\n\nAll of the cashiers doing all the work with one client after the other üë®‚Äçüíº‚èØ.\n\nAnd you have to wait üïô in the line for a long time or you lose your turn.\n\nYou probably wouldn't want to take your crush üòç with you to run errands at the bank üè¶.", "source": "async.md"}
{"doc_id": "fastapi_0032", "title": "Concurrency and async / await { #concurrency-and-async-await }", "section": "Burger Conclusion { #burger-conclusion }", "content": "In this scenario of \"fast food burgers with your crush\", as there is a lot of waiting üïô, it makes a lot more sense to have a concurrent system ‚è∏üîÄ‚èØ.\n\nThis is the case for most of the web applications.\n\nMany, many users, but your server is waiting üïô for their not-so-good connection to send their requests.\n\nAnd then waiting üïô again for the responses to come back.\n\nThis \"waiting\" üïô is measured in microseconds, but still, summing it all, it's a lot of waiting in the end.\n\nThat's why it makes a lot of sense to use asynchronous ‚è∏üîÄ‚èØ code for web APIs.\n\nThis kind of asynchronicity is what made NodeJS popular (even though NodeJS is not parallel) and that's the strength of Go as a programming language.\n\nAnd that's the same level of performance you get with **FastAPI**.\n\nAnd as you can have parallelism and asynchronicity at the same time, you get higher performance than most of the tested NodeJS frameworks and on par with Go, which is a compiled language closer to C <a href=\"https://www.techempower.com/benchmarks/#section=data-r17&hw=ph&test=query&l=zijmkf-1\" class=\"external-link\" target=\"_blank\">(all thanks to Starlette)</a>.", "source": "async.md"}
{"doc_id": "fastapi_0033", "title": "Concurrency and async / await { #concurrency-and-async-await }", "section": "Is concurrency better than parallelism? { #is-concurrency-better-than-parallelism }", "content": "Nope! That's not the moral of the story.\n\nConcurrency is different than parallelism. And it is better on **specific** scenarios that involve a lot of waiting. Because of that, it generally is a lot better than parallelism for web application development. But not for everything.\n\nSo, to balance that out, imagine the following short story:\n\n> You have to clean a big, dirty house.\n\n*Yep, that's the whole story*.\n\n---\n\nThere's no waiting üïô anywhere, just a lot of work to be done, on multiple places of the house.\n\nYou could have turns as in the burgers example, first the living room, then the kitchen, but as you are not waiting üïô for anything, just cleaning and cleaning, the turns wouldn't affect anything.\n\nIt would take the same amount of time to finish with or without turns (concurrency) and you would have done the same amount of work.\n\nBut in this case, if you could bring the 8 ex-cashier/cooks/now-cleaners, and each one of them (plus you) could take a zone of the house to clean it, you could do all the work in **parallel**, with the extra help, and finish much sooner.\n\nIn this scenario, each one of the cleaners (including you) would be a processor, doing their part of the job.\n\nAnd as most of the execution time is taken by actual work (instead of waiting), and the work in a computer is done by a <abbr title=\"Central Processing Unit\">CPU</abbr>, they call these problems \"CPU bound\".\n\n---\n\nCommon examples of CPU bound operations are things that require complex math processing.\n\nFor example:\n\n* **Audio** or **image processing**.\n* **Computer vision**: an image is composed of millions of pixels, each pixel has 3 values / colors, processing that normally requires computing something on those pixels, all at the same time.\n* **Machine Learning**: it normally requires lots of \"matrix\" and \"vector\" multiplications. Think of a huge spreadsheet with numbers and multiplying all of them together at the same time.\n* **Deep Learning**: this is a sub-field of Machine Learning, so, the same applies. It's just that there is not a single spreadsheet of numbers to multiply, but a huge set of them, and in many cases, you use a special processor to build and / or use those models.", "source": "async.md"}
{"doc_id": "fastapi_0034", "title": "Concurrency and async / await { #concurrency-and-async-await }", "section": "Concurrency + Parallelism: Web + Machine Learning { #concurrency-parallelism-web-machine-learning }", "content": "With **FastAPI** you can take advantage of concurrency that is very common for web development (the same main attraction of NodeJS).\n\nBut you can also exploit the benefits of parallelism and multiprocessing (having multiple processes running in parallel) for **CPU bound** workloads like those in Machine Learning systems.\n\nThat, plus the simple fact that Python is the main language for **Data Science**, Machine Learning and especially Deep Learning, make FastAPI a very good match for Data Science / Machine Learning web APIs and applications (among many others).\n\nTo see how to achieve this parallelism in production see the section about [Deployment](deployment/index.md){.internal-link target=_blank}.", "source": "async.md"}
{"doc_id": "fastapi_0035", "title": "Concurrency and async / await { #concurrency-and-async-await }", "section": "`async` and `await` { #async-and-await }", "content": "Modern versions of Python have a very intuitive way to define asynchronous code. This makes it look just like normal \"sequential\" code and do the \"awaiting\" for you at the right moments.\n\nWhen there is an operation that will require waiting before giving the results and has support for these new Python features, you can code it like:\n\n```Python\nburgers = await get_burgers(2)\n```\n\nThe key here is the `await`. It tells Python that it has to wait ‚è∏ for `get_burgers(2)` to finish doing its thing üïô before storing the results in `burgers`. With that, Python will know that it can go and do something else üîÄ ‚èØ in the meanwhile (like receiving another request).\n\nFor `await` to work, it has to be inside a function that supports this asynchronicity. To do that, you just declare it with `async def`:\n\n```Python hl_lines=\"1\"\nasync def get_burgers(number: int):\n    # Do some asynchronous stuff to create the burgers\n    return burgers\n```\n\n...instead of `def`:\n\n```Python hl_lines=\"2\"\n# This is not asynchronous\ndef get_sequential_burgers(number: int):\n    # Do some sequential stuff to create the burgers\n    return burgers\n```\n\nWith `async def`, Python knows that, inside that function, it has to be aware of `await` expressions, and that it can \"pause\" ‚è∏ the execution of that function and go do something else üîÄ before coming back.\n\nWhen you want to call an `async def` function, you have to \"await\" it. So, this won't work:\n\n```Python\n# This won't work, because get_burgers was defined with: async def\nburgers = get_burgers(2)\n```\n\n---\n\nSo, if you are using a library that tells you that you can call it with `await`, you need to create the *path operation functions* that uses it with `async def`, like in:\n\n```Python hl_lines=\"2-3\"\n@app.get('/burgers')\nasync def read_burgers():\n    burgers = await get_burgers(2)\n    return burgers\n```", "source": "async.md"}
{"doc_id": "fastapi_0036", "title": "Concurrency and async / await { #concurrency-and-async-await }", "section": "More technical details { #more-technical-details }", "content": "You might have noticed that `await` can only be used inside of functions defined with `async def`.\n\nBut at the same time, functions defined with `async def` have to be \"awaited\". So, functions with `async def` can only be called inside of functions defined with `async def` too.\n\nSo, about the egg and the chicken, how do you call the first `async` function?\n\nIf you are working with **FastAPI** you don't have to worry about that, because that \"first\" function will be your *path operation function*, and FastAPI will know how to do the right thing.\n\nBut if you want to use `async` / `await` without FastAPI, you can do it as well.", "source": "async.md"}
{"doc_id": "fastapi_0037", "title": "Concurrency and async / await { #concurrency-and-async-await }", "section": "Write your own async code { #write-your-own-async-code }", "content": "Starlette (and **FastAPI**) are based on <a href=\"https://anyio.readthedocs.io/en/stable/\" class=\"external-link\" target=\"_blank\">AnyIO</a>, which makes it compatible with both Python's standard library <a href=\"https://docs.python.org/3/library/asyncio-task.html\" class=\"external-link\" target=\"_blank\">asyncio</a> and <a href=\"https://trio.readthedocs.io/en/stable/\" class=\"external-link\" target=\"_blank\">Trio</a>.\n\nIn particular, you can directly use <a href=\"https://anyio.readthedocs.io/en/stable/\" class=\"external-link\" target=\"_blank\">AnyIO</a> for your advanced concurrency use cases that require more advanced patterns in your own code.\n\nAnd even if you were not using FastAPI, you could also write your own async applications with <a href=\"https://anyio.readthedocs.io/en/stable/\" class=\"external-link\" target=\"_blank\">AnyIO</a> to be highly compatible and get its benefits (e.g. *structured concurrency*).\n\nI created another library on top of AnyIO, as a thin layer on top, to improve a bit the type annotations and get better **autocompletion**, **inline errors**, etc. It also has a friendly introduction and tutorial to help you **understand** and write **your own async code**: <a href=\"https://asyncer.tiangolo.com/\" class=\"external-link\" target=\"_blank\">Asyncer</a>. It would be particularly useful if you need to **combine async code with regular** (blocking/synchronous) code.", "source": "async.md"}
{"doc_id": "fastapi_0038", "title": "Concurrency and async / await { #concurrency-and-async-await }", "section": "Other forms of asynchronous code { #other-forms-of-asynchronous-code }", "content": "This style of using `async` and `await` is relatively new in the language.\n\nBut it makes working with asynchronous code a lot easier.\n\nThis same syntax (or almost identical) was also included recently in modern versions of JavaScript (in Browser and NodeJS).\n\nBut before that, handling asynchronous code was quite more complex and difficult.\n\nIn previous versions of Python, you could have used threads or <a href=\"https://www.gevent.org/\" class=\"external-link\" target=\"_blank\">Gevent</a>. But the code is way more complex to understand, debug, and think about.\n\nIn previous versions of NodeJS / Browser JavaScript, you would have used \"callbacks\". Which leads to \"callback hell\".", "source": "async.md"}
{"doc_id": "fastapi_0039", "title": "Concurrency and async / await { #concurrency-and-async-await }", "section": "Coroutines { #coroutines }", "content": "**Coroutine** is just the very fancy term for the thing returned by an `async def` function. Python knows that it is something like a function, that it can start and that it will end at some point, but that it might be paused ‚è∏ internally too, whenever there is an `await` inside of it.\n\nBut all this functionality of using asynchronous code with `async` and `await` is many times summarized as using \"coroutines\". It is comparable to the main key feature of Go, the \"Goroutines\".", "source": "async.md"}
{"doc_id": "fastapi_0040", "title": "Concurrency and async / await { #concurrency-and-async-await }", "section": "Conclusion { #conclusion }", "content": "Let's see the same phrase from above:\n\n> Modern versions of Python have support for **\"asynchronous code\"** using something called **\"coroutines\"**, with **`async` and `await`** syntax.\n\nThat should make more sense now. ‚ú®\n\nAll that is what powers FastAPI (through Starlette) and what makes it have such an impressive performance.", "source": "async.md"}
{"doc_id": "fastapi_0041", "title": "Concurrency and async / await { #concurrency-and-async-await }", "section": "Very Technical Details { #very-technical-details }", "content": "/// warning\n\nYou can probably skip this.\n\nThese are very technical details of how **FastAPI** works underneath.\n\nIf you have quite some technical knowledge (coroutines, threads, blocking, etc.) and are curious about how FastAPI handles `async def` vs normal `def`, go ahead.\n\n///", "source": "async.md"}
{"doc_id": "fastapi_0042", "title": "Concurrency and async / await { #concurrency-and-async-await }", "section": "Path operation functions { #path-operation-functions }", "content": "When you declare a *path operation function* with normal `def` instead of `async def`, it is run in an external threadpool that is then awaited, instead of being called directly (as it would block the server).\n\nIf you are coming from another async framework that does not work in the way described above and you are used to defining trivial compute-only *path operation functions* with plain `def` for a tiny performance gain (about 100 nanoseconds), please note that in **FastAPI** the effect would be quite opposite. In these cases, it's better to use `async def` unless your *path operation functions* use code that performs blocking <abbr title=\"Input/Output: disk reading or writing, network communications.\">I/O</abbr>.\n\nStill, in both situations, chances are that **FastAPI** will [still be faster](index.md#performance){.internal-link target=_blank} than (or at least comparable to) your previous framework.", "source": "async.md"}
{"doc_id": "fastapi_0043", "title": "Concurrency and async / await { #concurrency-and-async-await }", "section": "Dependencies { #dependencies }", "content": "The same applies for [dependencies](tutorial/dependencies/index.md){.internal-link target=_blank}. If a dependency is a standard `def` function instead of `async def`, it is run in the external threadpool.", "source": "async.md"}
{"doc_id": "fastapi_0044", "title": "Concurrency and async / await { #concurrency-and-async-await }", "section": "Sub-dependencies { #sub-dependencies }", "content": "You can have multiple dependencies and [sub-dependencies](tutorial/dependencies/sub-dependencies.md){.internal-link target=_blank} requiring each other (as parameters of the function definitions), some of them might be created with `async def` and some with normal `def`. It would still work, and the ones created with normal `def` would be called on an external thread (from the threadpool) instead of being \"awaited\".", "source": "async.md"}
{"doc_id": "fastapi_0045", "title": "Concurrency and async / await { #concurrency-and-async-await }", "section": "Other utility functions { #other-utility-functions }", "content": "Any other utility function that you call directly can be created with normal `def` or `async def` and FastAPI won't affect the way you call it.\n\nThis is in contrast to the functions that FastAPI calls for you: *path operation functions* and dependencies.\n\nIf your utility function is a normal function with `def`, it will be called directly (as you write it in your code), not in a threadpool, if the function is created with `async def` then you should `await` for that function when you call it in your code.\n\n---\n\nAgain, these are very technical details that would probably be useful if you came searching for them.\n\nOtherwise, you should be good with the guidelines from the section above: <a href=\"#in-a-hurry\">In a hurry?</a>.", "source": "async.md"}
{"doc_id": "fastapi_0046", "title": "Benchmarks { #benchmarks }", "section": "Benchmarks { #benchmarks }", "content": "Independent TechEmpower benchmarks show **FastAPI** applications running under Uvicorn as <a href=\"https://www.techempower.com/benchmarks/#section=test&runid=7464e520-0dc2-473d-bd34-dbdfd7e85911&hw=ph&test=query&l=zijzen-7\" class=\"external-link\" target=\"_blank\">one of the fastest Python frameworks available</a>, only below Starlette and Uvicorn themselves (used internally by FastAPI).\n\nBut when checking benchmarks and comparisons you should keep the following in mind.", "source": "benchmarks.md"}
{"doc_id": "fastapi_0047", "title": "Benchmarks { #benchmarks }", "section": "Benchmarks and speed { #benchmarks-and-speed }", "content": "When you check the benchmarks, it is common to see several tools of different types compared as equivalent.\n\nSpecifically, to see Uvicorn, Starlette and FastAPI compared together (among many other tools).\n\nThe simpler the problem solved by the tool, the better performance it will get. And most of the benchmarks don't test the additional features provided by the tool.\n\nThe hierarchy is like:\n\n* **Uvicorn**: an ASGI server\n    * **Starlette**: (uses Uvicorn) a web microframework\n        * **FastAPI**: (uses Starlette) an API microframework with several additional features for building APIs, with data validation, etc.\n\n* **Uvicorn**:\n    * Will have the best performance, as it doesn't have much extra code apart from the server itself.\n    * You wouldn't write an application in Uvicorn directly. That would mean that your code would have to include more or less, at least, all the code provided by Starlette (or **FastAPI**). And if you did that, your final application would have the same overhead as having used a framework and minimizing your app code and bugs.\n    * If you are comparing Uvicorn, compare it against Daphne, Hypercorn, uWSGI, etc. Application servers.\n* **Starlette**:\n    * Will have the next best performance, after Uvicorn. In fact, Starlette uses Uvicorn to run. So, it probably can only get \"slower\" than Uvicorn by having to execute more code.\n    * But it provides you the tools to build simple web applications, with routing based on paths, etc.\n    * If you are comparing Starlette, compare it against Sanic, Flask, Django, etc. Web frameworks (or microframeworks).\n* **FastAPI**:\n    * The same way that Starlette uses Uvicorn and cannot be faster than it, **FastAPI** uses Starlette, so it cannot be faster than it.\n    * FastAPI provides more features on top of Starlette. Features that you almost always need when building APIs, like data validation and serialization. And by using it, you get automatic documentation for free (the automatic documentation doesn't even add overhead to running applications, it is generated on startup).\n    * If you didn't use FastAPI and used Starlette directly (or another tool, like Sanic, Flask, Responder, etc) you would have to implement all the data validation and serialization yourself. So, your final application would still have the same overhead as if it was built using FastAPI. And in many cases, this data validation and serialization is the biggest amount of code written in applications.\n    * So, by using FastAPI you are saving development time, bugs, lines of code, and you would probably get the same performance (or better) you would if you didn't use it (as you would have to implement it all in your code).\n    * If you are comparing FastAPI, compare it against a web application framework (or set of tools) that provides data validation, serialization and documentation, like Flask-apispec, NestJS, Molten, etc. Frameworks with integrated automatic data validation, serialization and documentation.", "source": "benchmarks.md"}
{"doc_id": "fastapi_0048", "title": "Development - Contributing", "section": "Development - Contributing", "content": "First, you might want to see the basic ways to [help FastAPI and get help](help-fastapi.md){.internal-link target=_blank}.", "source": "contributing.md"}
{"doc_id": "fastapi_0049", "title": "Development - Contributing", "section": "Developing", "content": "If you already cloned the <a href=\"https://github.com/fastapi/fastapi\" class=\"external-link\" target=\"_blank\">fastapi repository</a> and you want to deep dive in the code, here are some guidelines to set up your environment.", "source": "contributing.md"}
{"doc_id": "fastapi_0050", "title": "Development - Contributing", "section": "Virtual environment", "content": "Follow the instructions to create and activate a [virtual environment](virtual-environments.md){.internal-link target=_blank} for the internal code of `fastapi`.", "source": "contributing.md"}
{"doc_id": "fastapi_0051", "title": "Development - Contributing", "section": "Install requirements", "content": "After activating the environment, install the required packages:\n\n//// tab | `pip`\n\n<div class=\"termy\">\n\n```console\n$ pip install -r requirements.txt\n\n---> 100%\n```\n\n</div>\n\n////\n\n//// tab | `uv`\n\nIf you have <a href=\"https://github.com/astral-sh/uv\" class=\"external-link\" target=\"_blank\">`uv`</a>:\n\n<div class=\"termy\">\n\n```console\n$ uv pip install -r requirements.txt\n\n---> 100%\n```\n\n</div>\n\n////\n\nIt will install all the dependencies and your local FastAPI in your local environment.", "source": "contributing.md"}
{"doc_id": "fastapi_0052", "title": "Development - Contributing", "section": "Using your local FastAPI", "content": "If you create a Python file that imports and uses FastAPI, and run it with the Python from your local environment, it will use your cloned local FastAPI source code.\n\nAnd if you update that local FastAPI source code when you run that Python file again, it will use the fresh version of FastAPI you just edited.\n\nThat way, you don't have to \"install\" your local version to be able to test every change.\n\n/// note | Technical Details\n\nThis only happens when you install using this included `requirements.txt` instead of running `pip install fastapi` directly.\n\nThat is because inside the `requirements.txt` file, the local version of FastAPI is marked to be installed in \"editable\" mode, with the `-e` option.\n\n///", "source": "contributing.md"}
{"doc_id": "fastapi_0053", "title": "Development - Contributing", "section": "Format the code", "content": "There is a script that you can run that will format and clean all your code:\n\n<div class=\"termy\">\n\n```console\n$ bash scripts/format.sh\n```\n\n</div>\n\nIt will also auto-sort all your imports.", "source": "contributing.md"}
{"doc_id": "fastapi_0054", "title": "Development - Contributing", "section": "Tests", "content": "There is a script that you can run locally to test all the code and generate coverage reports in HTML:\n\n<div class=\"termy\">\n\n```console\n$ bash scripts/test-cov-html.sh\n```\n\n</div>\n\nThis command generates a directory `./htmlcov/`, if you open the file `./htmlcov/index.html` in your browser, you can explore interactively the regions of code that are covered by the tests, and notice if there is any region missing.", "source": "contributing.md"}
{"doc_id": "fastapi_0055", "title": "Development - Contributing", "section": "Docs", "content": "First, make sure you set up your environment as described above, that will install all the requirements.", "source": "contributing.md"}
{"doc_id": "fastapi_0056", "title": "Development - Contributing", "section": "Docs live", "content": "During local development, there is a script that builds the site and checks for any changes, live-reloading:\n\n<div class=\"termy\">\n\n```console\n$ python ./scripts/docs.py live\n\n<span style=\"color: green;\">[INFO]</span> Serving on http://127.0.0.1:8008\n<span style=\"color: green;\">[INFO]</span> Start watching changes\n<span style=\"color: green;\">[INFO]</span> Start detecting changes\n```\n\n</div>\n\nIt will serve the documentation on `http://127.0.0.1:8008`.\n\nThat way, you can edit the documentation/source files and see the changes live.\n\n/// tip\n\nAlternatively, you can perform the same steps that scripts does manually.\n\nGo into the language directory, for the main docs in English it's at `docs/en/`:\n\n```console\n$ cd docs/en/\n```\n\nThen run `mkdocs` in that directory:\n\n```console\n$ mkdocs serve --dev-addr 127.0.0.1:8008\n```\n\n///\n\n#### Typer CLI (optional)\n\nThe instructions here show you how to use the script at `./scripts/docs.py` with the `python` program directly.\n\nBut you can also use <a href=\"https://typer.tiangolo.com/typer-cli/\" class=\"external-link\" target=\"_blank\">Typer CLI</a>, and you will get autocompletion in your terminal for the commands after installing completion.\n\nIf you install Typer CLI, you can install completion with:\n\n<div class=\"termy\">\n\n```console\n$ typer --install-completion\n\nzsh completion installed in /home/user/.bashrc.\nCompletion will take effect once you restart the terminal.\n```\n\n</div>", "source": "contributing.md"}
{"doc_id": "fastapi_0057", "title": "Development - Contributing", "section": "Docs Structure", "content": "The documentation uses <a href=\"https://www.mkdocs.org/\" class=\"external-link\" target=\"_blank\">MkDocs</a>.\n\nAnd there are extra tools/scripts in place to handle translations in `./scripts/docs.py`.\n\n/// tip\n\nYou don't need to see the code in `./scripts/docs.py`, you just use it in the command line.\n\n///\n\nAll the documentation is in Markdown format in the directory `./docs/en/`.\n\nMany of the tutorials have blocks of code.\n\nIn most of the cases, these blocks of code are actual complete applications that can be run as is.\n\nIn fact, those blocks of code are not written inside the Markdown, they are Python files in the `./docs_src/` directory.\n\nAnd those Python files are included/injected in the documentation when generating the site.", "source": "contributing.md"}
{"doc_id": "fastapi_0058", "title": "Development - Contributing", "section": "Docs for tests", "content": "Most of the tests actually run against the example source files in the documentation.\n\nThis helps to make sure that:\n\n* The documentation is up-to-date.\n* The documentation examples can be run as is.\n* Most of the features are covered by the documentation, ensured by test coverage.\n\n#### Apps and docs at the same time\n\nIf you run the examples with, e.g.:\n\n<div class=\"termy\">\n\n```console\n$ fastapi dev tutorial001.py\n\n<span style=\"color: green;\">INFO</span>:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)\n```\n\n</div>\n\nas Uvicorn by default will use the port `8000`, the documentation on port `8008` won't clash.", "source": "contributing.md"}
{"doc_id": "fastapi_0059", "title": "Development - Contributing", "section": "Translations", "content": "/// warning | Attention\n\n**Update on Translations**\n\nWe're updating the way we handle documentation translations.\n\nUntil now, we invited community members to translate pages via pull requests, which were then reviewed by at least two native speakers. While this has helped bring FastAPI to many more users, we‚Äôve also run into several challenges - some languages have only a few translated pages, others are outdated and hard to maintain over time.\nTo improve this, we‚Äôre working on automation tools ü§ñ to manage translations more efficiently. Once ready, documentation will be machine-translated and still reviewed by at least two native speakers ‚úÖ before publishing. This will allow us to keep translations up-to-date while reducing the review burden on maintainers.\n\nWhat‚Äôs changing now:\n\n* üö´ We‚Äôre no longer accepting new community-submitted translation PRs.\n\n* ‚è≥ Existing open PRs will be reviewed and can still be merged if completed within the next 3 weeks (since July 11 2025).\n\n* üåê In the future, we will only support languages where at least three active native speakers are available to review and maintain translations.\n\nThis transition will help us keep translations more consistent and timely while better supporting our contributors üôå. Thank you to everyone who has contributed so far ‚Äî your help has been invaluable! üíñ\n\n///\n\n\nHelp with translations is VERY MUCH appreciated! And it can't be done without the help from the community. üåé üöÄ\n\nHere are the steps to help with translations.\n\n#### Tips and guidelines\n\n* Check the currently <a href=\"https://github.com/fastapi/fastapi/pulls\" class=\"external-link\" target=\"_blank\">existing pull requests</a> for your language. You can filter the pull requests by the ones with the label for your language. For example, for Spanish, the label is <a href=\"https://github.com/fastapi/fastapi/pulls?q=is%3Aopen+sort%3Aupdated-desc+label%3Alang-es+label%3Aawaiting-review\" class=\"external-link\" target=\"_blank\">`lang-es`</a>.\n\n* Review those pull requests, requesting changes or approving them. For the languages I don't speak, I'll wait for several others to review the translation before merging.\n\n/// tip\n\nYou can <a href=\"https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/commenting-on-a-pull-request\" class=\"external-link\" target=\"_blank\">add comments with change suggestions</a> to existing pull requests.\n\nCheck the docs about <a href=\"https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/about-pull-request-reviews\" class=\"external-link\" target=\"_blank\">adding a pull request review</a> to approve it or request changes.\n\n///\n\n* Check if there's a <a href=\"https://github.com/fastapi/fastapi/discussions/categories/translations\" class=\"external-link\" target=\"_blank\">GitHub Discussion</a> to coordinate translations for your language. You can subscribe to it, and when there's a new pull request to review, an automatic comment will be added to the discussion.\n\n* If you translate pages, add a single pull request per page translated. That will make it much easier for others to review it.\n\n* To check the 2-letter code for the language you want to translate, you can use the table <a href=\"https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes\" class=\"external-link\" target=\"_blank\">List of ISO 639-1 codes</a>.\n\n#### Existing language\n\nLet's say you want to translate a page for a language that already has translations for some pages, like Spanish.\n\nIn the case of Spanish, the 2-letter code is `es`. So, the directory for Spanish translations is located at `docs/es/`.\n\n/// tip\n\nThe main (\"official\") language is English, located at `docs/en/`.\n\n///\n\nNow run the live server for the docs in Spanish:\n\n<div class=\"termy\">\n\n```console\n// Use the command \"live\" and pass the language code as a CLI argument\n$ python ./scripts/docs.py live es\n\n<span style=\"color: green;\">[INFO]</span> Serving on http://127.0.0.1:8008\n<span style=\"color: green;\">[INFO]</span> Start watching changes\n<span style=\"color: green;\">[INFO]</span> Start detecting changes\n```\n\n</div>\n\n/// tip\n\nAlternatively, you can perform the same steps that scripts does manually.\n\nGo into the language directory, for the Spanish translations it's at `docs/es/`:\n\n```console\n$ cd docs/es/\n```\n\nThen run `mkdocs` in that directory:\n\n```console\n$ mkdocs serve --dev-addr 127.0.0.1:8008\n```\n\n///\n\nNow you can go to <a href=\"http://127.0.0.1:8008\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8008</a> and see your changes live.\n\nYou will see that every language has all the pages. But some pages are not translated and have an info box at the top, about the missing translation.\n\nNow let's say that you want to add a translation for the section [Features](features.md){.internal-link target=_blank}.\n\n* Copy the file at:\n\n```\ndocs/en/docs/features.md\n```\n\n* Paste it in exactly the same location but for the language you want to translate, e.g.:\n\n```\ndocs/es/docs/features.md\n```\n\n/// tip\n\nNotice that the only change in the path and file name is the language code, from `en` to `es`.\n\n///\n\nIf you go to your browser you will see that now the docs show your new section (the info box at the top is gone). üéâ\n\nNow you can translate it all and see how it looks as you save the file.\n\n#### Don't Translate these Pages\n\nüö® Don't translate:\n\n* Files under `reference/`\n* `release-notes.md`\n* `fastapi-people.md`\n* `external-links.md`\n* `newsletter.md`\n* `management-tasks.md`\n* `management.md`\n* `contributing.md`\n\nSome of these files are updated very frequently and a translation would always be behind, or they include the main content from English source files, etc.\n\n#### Request a New Language\n\nLet's say that you want to request translations for a language that is not yet translated, not even some pages. For example, Latin.\n\nIf there is no discussion for that language, you can start by requesting the new language. For that, you can follow these steps:\n\n* Create a new discussion following the template.\n* Get a few native speakers to comment on the discussion and commit to help review translations for that language.\n\nOnce there are several people in the discussion, the FastAPI team can evaluate it and can make it an official translation.\n\nThen the docs will be automatically translated using AI, and the team of native speakers can review the translation, and help tweak the AI prompts.\n\nOnce there's a new translation, for example if docs are updated or there's a new section, there will be a comment in the same discussion with the link to the new translation to review.\n\n#### New Language\n\n/// note\n\nThese steps will be performed by the FastAPI team.\n\n///\n\nChecking the link from above (List of ISO 639-1 codes), you can see that the 2-letter code for Latin is `la`.\n\nNow you can create a new directory for the new language, running the following script:\n\n<div class=\"termy\">\n\n```console\n// Use the command new-lang, pass the language code as a CLI argument\n$ python ./scripts/docs.py new-lang la\n\nSuccessfully initialized: docs/la\n```\n\n</div>\n\nNow you can check in your code editor the newly created directory `docs/la/`.\n\nThat command created a file `docs/la/mkdocs.yml` with a simple config that inherits everything from the `en` version:\n\n```yaml\nINHERIT: ../en/mkdocs.yml\n```\n\n/// tip\n\nYou could also simply create that file with those contents manually.\n\n///\n\nThat command also created a dummy file `docs/la/index.md` for the main page, you can start by translating that one.\n\nYou can continue with the previous instructions for an \"Existing Language\" for that process.\n\nYou can make the first pull request with those two files, `docs/la/mkdocs.yml` and `docs/la/index.md`. üéâ\n\n#### Preview the result\n\nAs already mentioned above, you can use the `./scripts/docs.py` with the `live` command to preview the results (or `mkdocs serve`).\n\nOnce you are done, you can also test it all as it would look online, including all the other languages.\n\nTo do that, first build all the docs:\n\n<div class=\"termy\">\n\n```console\n// Use the command \"build-all\", this will take a bit\n$ python ./scripts/docs.py build-all\n\nBuilding docs for: en\nBuilding docs for: es\nSuccessfully built docs for: es\n```\n\n</div>\n\nThis builds all those independent MkDocs sites for each language, combines them, and generates the final output at `./site/`.\n\nThen you can serve that with the command `serve`:\n\n<div class=\"termy\">\n\n```console\n// Use the command \"serve\" after running \"build-all\"\n$ python ./scripts/docs.py serve\n\nWarning: this is a very simple server. For development, use mkdocs serve instead.\nThis is here only to preview a site with translations already built.\nMake sure you run the build-all command first.\nServing at: http://127.0.0.1:8008\n```\n\n</div>\n\n#### Translation specific tips and guidelines\n\n* Translate only the Markdown documents (`.md`). Do not translate the code examples at `./docs_src`.\n\n* In code blocks within the Markdown document, translate comments (`# a comment`), but leave the rest unchanged.\n\n* Do not change anything enclosed in \"``\" (inline code).\n\n* In lines starting with `///` translate only the text part after `|`. Leave the rest unchanged.\n\n* You can translate info boxes like `/// warning` with for example `/// warning | Achtung`. But do not change the word immediately after the `///`, it determines the color of the info box.\n\n* Do not change the paths in links to images, code files, Markdown documents.\n\n* However, when a Markdown document is translated, the `#hash-parts` in links to its headings may change. Update these links if possible.\n    * Search for such links in the translated document using the regex `#[^# ]`.\n    * Search in all documents already translated into your language for `your-translated-document.md`. For example VS Code has an option \"Edit\" -> \"Find in Files\".\n    * When translating a document, do not \"pre-translate\" `#hash-parts` that link to headings in untranslated documents.", "source": "contributing.md"}
{"doc_id": "fastapi_0060", "title": "Environment Variables { #environment-variables }", "section": "Environment Variables { #environment-variables }", "content": "/// tip\n\nIf you already know what \"environment variables\" are and how to use them, feel free to skip this.\n\n///\n\nAn environment variable (also known as \"**env var**\") is a variable that lives **outside** of the Python code, in the **operating system**, and could be read by your Python code (or by other programs as well).\n\nEnvironment variables could be useful for handling application **settings**, as part of the **installation** of Python, etc.", "source": "environment-variables.md"}
{"doc_id": "fastapi_0061", "title": "Environment Variables { #environment-variables }", "section": "Create and Use Env Vars { #create-and-use-env-vars }", "content": "You can **create** and use environment variables in the **shell (terminal)**, without needing Python:\n\n//// tab | Linux, macOS, Windows Bash\n\n<div class=\"termy\">\n\n```console\n// You could create an env var MY_NAME with\n$ export MY_NAME=\"Wade Wilson\"\n\n// Then you could use it with other programs, like\n$ echo \"Hello $MY_NAME\"\n\nHello Wade Wilson\n```\n\n</div>\n\n////\n\n//// tab | Windows PowerShell\n\n<div class=\"termy\">\n\n```console\n// Create an env var MY_NAME\n$ $Env:MY_NAME = \"Wade Wilson\"\n\n// Use it with other programs, like\n$ echo \"Hello $Env:MY_NAME\"\n\nHello Wade Wilson\n```\n\n</div>\n\n////", "source": "environment-variables.md"}
{"doc_id": "fastapi_0062", "title": "Environment Variables { #environment-variables }", "section": "Read env vars in Python { #read-env-vars-in-python }", "content": "You could also create environment variables **outside** of Python, in the terminal (or with any other method), and then **read them in Python**.\n\nFor example you could have a file `main.py` with:\n\n```Python hl_lines=\"3\"\nimport os\n\nname = os.getenv(\"MY_NAME\", \"World\")\nprint(f\"Hello {name} from Python\")\n```\n\n/// tip\n\nThe second argument to <a href=\"https://docs.python.org/3.8/library/os.html#os.getenv\" class=\"external-link\" target=\"_blank\">`os.getenv()`</a> is the default value to return.\n\nIf not provided, it's `None` by default, here we provide `\"World\"` as the default value to use.\n\n///\n\nThen you could call that Python program:\n\n//// tab | Linux, macOS, Windows Bash\n\n<div class=\"termy\">\n\n```console\n// Here we don't set the env var yet\n$ python main.py\n\n// As we didn't set the env var, we get the default value\n\nHello World from Python\n\n// But if we create an environment variable first\n$ export MY_NAME=\"Wade Wilson\"\n\n// And then call the program again\n$ python main.py\n\n// Now it can read the environment variable\n\nHello Wade Wilson from Python\n```\n\n</div>\n\n////\n\n//// tab | Windows PowerShell\n\n<div class=\"termy\">\n\n```console\n// Here we don't set the env var yet\n$ python main.py\n\n// As we didn't set the env var, we get the default value\n\nHello World from Python\n\n// But if we create an environment variable first\n$ $Env:MY_NAME = \"Wade Wilson\"\n\n// And then call the program again\n$ python main.py\n\n// Now it can read the environment variable\n\nHello Wade Wilson from Python\n```\n\n</div>\n\n////\n\nAs environment variables can be set outside of the code, but can be read by the code, and don't have to be stored (committed to `git`) with the rest of the files, it's common to use them for configurations or **settings**.\n\nYou can also create an environment variable only for a **specific program invocation**, that is only available to that program, and only for its duration.\n\nTo do that, create it right before the program itself, on the same line:\n\n<div class=\"termy\">\n\n```console\n// Create an env var MY_NAME in line for this program call\n$ MY_NAME=\"Wade Wilson\" python main.py\n\n// Now it can read the environment variable\n\nHello Wade Wilson from Python\n\n// The env var no longer exists afterwards\n$ python main.py\n\nHello World from Python\n```\n\n</div>\n\n/// tip\n\nYou can read more about it at <a href=\"https://12factor.net/config\" class=\"external-link\" target=\"_blank\">The Twelve-Factor App: Config</a>.\n\n///", "source": "environment-variables.md"}
{"doc_id": "fastapi_0063", "title": "Environment Variables { #environment-variables }", "section": "Types and Validation { #types-and-validation }", "content": "These environment variables can only handle **text strings**, as they are external to Python and have to be compatible with other programs and the rest of the system (and even with different operating systems, as Linux, Windows, macOS).\n\nThat means that **any value** read in Python from an environment variable **will be a `str`**, and any conversion to a different type or any validation has to be done in code.\n\nYou will learn more about using environment variables for handling **application settings** in the [Advanced User Guide - Settings and Environment Variables](./advanced/settings.md){.internal-link target=_blank}.", "source": "environment-variables.md"}
{"doc_id": "fastapi_0064", "title": "Environment Variables { #environment-variables }", "section": "`PATH` Environment Variable { #path-environment-variable }", "content": "There is a **special** environment variable called **`PATH`** that is used by the operating systems (Linux, macOS, Windows) to find programs to run.\n\nThe value of the variable `PATH` is a long string that is made of directories separated by a colon `:` on Linux and macOS, and by a semicolon `;` on Windows.\n\nFor example, the `PATH` environment variable could look like this:\n\n//// tab | Linux, macOS\n\n```plaintext\n/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin\n```\n\nThis means that the system should look for programs in the directories:\n\n* `/usr/local/bin`\n* `/usr/bin`\n* `/bin`\n* `/usr/sbin`\n* `/sbin`\n\n////\n\n//// tab | Windows\n\n```plaintext\nC:\\Program Files\\Python312\\Scripts;C:\\Program Files\\Python312;C:\\Windows\\System32\n```\n\nThis means that the system should look for programs in the directories:\n\n* `C:\\Program Files\\Python312\\Scripts`\n* `C:\\Program Files\\Python312`\n* `C:\\Windows\\System32`\n\n////\n\nWhen you type a **command** in the terminal, the operating system **looks for** the program in **each of those directories** listed in the `PATH` environment variable.\n\nFor example, when you type `python` in the terminal, the operating system looks for a program called `python` in the **first directory** in that list.\n\nIf it finds it, then it will **use it**. Otherwise it keeps looking in the **other directories**.", "source": "environment-variables.md"}
{"doc_id": "fastapi_0065", "title": "Environment Variables { #environment-variables }", "section": "Installing Python and Updating the `PATH` { #installing-python-and-updating-the-path }", "content": "When you install Python, you might be asked if you want to update the `PATH` environment variable.\n\n//// tab | Linux, macOS\n\nLet's say you install Python and it ends up in a directory `/opt/custompython/bin`.\n\nIf you say yes to update the `PATH` environment variable, then the installer will add `/opt/custompython/bin` to the `PATH` environment variable.\n\nIt could look like this:\n\n```plaintext\n/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/custompython/bin\n```\n\nThis way, when you type `python` in the terminal, the system will find the Python program in `/opt/custompython/bin` (the last directory) and use that one.\n\n////\n\n//// tab | Windows\n\nLet's say you install Python and it ends up in a directory `C:\\opt\\custompython\\bin`.\n\nIf you say yes to update the `PATH` environment variable, then the installer will add `C:\\opt\\custompython\\bin` to the `PATH` environment variable.\n\n```plaintext\nC:\\Program Files\\Python312\\Scripts;C:\\Program Files\\Python312;C:\\Windows\\System32;C:\\opt\\custompython\\bin\n```\n\nThis way, when you type `python` in the terminal, the system will find the Python program in `C:\\opt\\custompython\\bin` (the last directory) and use that one.\n\n////\n\nSo, if you type:\n\n<div class=\"termy\">\n\n```console\n$ python\n```\n\n</div>\n\n//// tab | Linux, macOS\n\nThe system will **find** the `python` program in `/opt/custompython/bin` and run it.\n\nIt would be roughly equivalent to typing:\n\n<div class=\"termy\">\n\n```console\n$ /opt/custompython/bin/python\n```\n\n</div>\n\n////\n\n//// tab | Windows\n\nThe system will **find** the `python` program in `C:\\opt\\custompython\\bin\\python` and run it.\n\nIt would be roughly equivalent to typing:\n\n<div class=\"termy\">\n\n```console\n$ C:\\opt\\custompython\\bin\\python\n```\n\n</div>\n\n////\n\nThis information will be useful when learning about [Virtual Environments](virtual-environments.md){.internal-link target=_blank}.", "source": "environment-variables.md"}
{"doc_id": "fastapi_0066", "title": "Environment Variables { #environment-variables }", "section": "Conclusion { #conclusion }", "content": "With this you should have a basic understanding of what **environment variables** are and how to use them in Python.\n\nYou can also read more about them in the <a href=\"https://en.wikipedia.org/wiki/Environment_variable\" class=\"external-link\" target=\"_blank\">Wikipedia for Environment Variable</a>.\n\nIn many cases it's not very obvious how environment variables would be useful and applicable right away. But they keep showing up in many different scenarios when you are developing, so it's good to know about them.\n\nFor example, you will need this information in the next section, about [Virtual Environments](virtual-environments.md).", "source": "environment-variables.md"}
{"doc_id": "fastapi_0067", "title": "External Links and Articles", "section": "External Links and Articles", "content": "**FastAPI** has a great community constantly growing.\n\nThere are many posts, articles, tools, and projects, related to **FastAPI**.\n\nHere's an incomplete list of some of them.\n\n/// tip\n\nIf you have an article, project, tool, or anything related to **FastAPI** that is not yet listed here, create a <a href=\"https://github.com/fastapi/fastapi/edit/master/docs/en/data/external_links.yml\" class=\"external-link\" target=\"_blank\">Pull Request adding it</a>.\n\n///\n\n{% for section_name, section_content in external_links.items() %}", "source": "external-links.md"}
{"doc_id": "fastapi_0068", "title": "External Links and Articles", "section": "{{ section_name }}", "content": "{% for lang_name, lang_content in section_content.items() %}", "source": "external-links.md"}
{"doc_id": "fastapi_0069", "title": "External Links and Articles", "section": "{{ lang_name }}", "content": "{% for item in lang_content %}\n\n* <a href=\"{{ item.link }}\" class=\"external-link\" target=\"_blank\">{{ item.title }}</a> by <a href=\"{{ item.author_link }}\" class=\"external-link\" target=\"_blank\">{{ item.author }}</a>.\n\n{% endfor %}\n{% endfor %}\n{% endfor %}", "source": "external-links.md"}
{"doc_id": "fastapi_0070", "title": "External Links and Articles", "section": "GitHub Repositories", "content": "Most starred GitHub repositories with the topic `fastapi`:\n\n{% for repo in topic_repos %}\n\n<a href={{repo.html_url}} target=\"_blank\">‚òÖ {{repo.stars}} - {{repo.name}}</a> by <a href={{repo.owner_html_url}} target=\"_blank\">@{{repo.owner_login}}</a>.\n\n{% endfor %}", "source": "external-links.md"}
{"doc_id": "fastapi_0071", "title": "FastAPI CLI { #fastapi-cli }", "section": "FastAPI CLI { #fastapi-cli }", "content": "**FastAPI CLI** is a command line program that you can use to serve your FastAPI app, manage your FastAPI project, and more.\n\nWhen you install FastAPI (e.g. with `pip install \"fastapi[standard]\"`), it includes a package called `fastapi-cli`, this package provides the `fastapi` command in the terminal.\n\nTo run your FastAPI app for development, you can use the `fastapi dev` command:\n\n<div class=\"termy\">\n\n```console\n$ <font color=\"#4E9A06\">fastapi</font> dev <u style=\"text-decoration-style:solid\">main.py</u>\n\n  <span style=\"background-color:#009485\"><font color=\"#D3D7CF\"> FastAPI </font></span>  Starting development server üöÄ\n\n             Searching for package file structure from directories with\n             <font color=\"#3465A4\">__init__.py</font> files\n             Importing from <font color=\"#75507B\">/home/user/code/</font><font color=\"#AD7FA8\">awesomeapp</font>\n\n   <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> module </font></span>  üêç main.py\n\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> code </font></span>  Importing the FastAPI app object from the module with the\n             following code:\n\n             <u style=\"text-decoration-style:solid\">from </u><u style=\"text-decoration-style:solid\"><b>main</b></u><u style=\"text-decoration-style:solid\"> import </u><u style=\"text-decoration-style:solid\"><b>app</b></u>\n\n      <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> app </font></span>  Using import string: <font color=\"#3465A4\">main:app</font>\n\n   <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> server </font></span>  Server started at <font color=\"#729FCF\"><u style=\"text-decoration-style:solid\">http://127.0.0.1:8000</u></font>\n   <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> server </font></span>  Documentation at <font color=\"#729FCF\"><u style=\"text-decoration-style:solid\">http://127.0.0.1:8000/docs</u></font>\n\n      <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> tip </font></span>  Running in development mode, for production use:\n             <b>fastapi run</b>\n\n             Logs:\n\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Will watch for changes in these directories:\n             <b>[</b><font color=\"#4E9A06\">&apos;/home/user/code/awesomeapp&apos;</font><b>]</b>\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Uvicorn running on <font color=\"#729FCF\"><u style=\"text-decoration-style:solid\">http://127.0.0.1:8000</u></font> <b>(</b>Press CTRL+C to\n             quit<b>)</b>\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Started reloader process <b>[</b><font color=\"#34E2E2\"><b>383138</b></font><b>]</b> using WatchFiles\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Started server process <b>[</b><font color=\"#34E2E2\"><b>383153</b></font><b>]</b>\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Waiting for application startup.\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Application startup complete.\n```\n\n</div>\n\nThe command line program called `fastapi` is **FastAPI CLI**.\n\nFastAPI CLI takes the path to your Python program (e.g. `main.py`) and automatically detects the `FastAPI` instance (commonly named `app`), determines the correct import process, and then serves it.\n\nFor production you would use `fastapi run` instead. üöÄ\n\nInternally, **FastAPI CLI** uses <a href=\"https://www.uvicorn.dev\" class=\"external-link\" target=\"_blank\">Uvicorn</a>, a high-performance, production-ready, ASGI server. üòé", "source": "fastapi-cli.md"}
{"doc_id": "fastapi_0072", "title": "FastAPI CLI { #fastapi-cli }", "section": "`fastapi dev` { #fastapi-dev }", "content": "Running `fastapi dev` initiates development mode.\n\nBy default, **auto-reload** is enabled, automatically reloading the server when you make changes to your code. This is resource-intensive and could be less stable than when it's disabled. You should only use it for development. It also listens on the IP address `127.0.0.1`, which is the IP for your machine to communicate with itself alone (`localhost`).", "source": "fastapi-cli.md"}
{"doc_id": "fastapi_0073", "title": "FastAPI CLI { #fastapi-cli }", "section": "`fastapi run` { #fastapi-run }", "content": "Executing `fastapi run` starts FastAPI in production mode by default.\n\nBy default, **auto-reload** is disabled. It also listens on the IP address `0.0.0.0`, which means all the available IP addresses, this way it will be publicly accessible to anyone that can communicate with the machine. This is how you would normally run it in production, for example, in a container.\n\nIn most cases you would (and should) have a \"termination proxy\" handling HTTPS for you on top, this will depend on how you deploy your application, your provider might do this for you, or you might need to set it up yourself.\n\n/// tip\n\nYou can learn more about it in the [deployment documentation](deployment/index.md){.internal-link target=_blank}.\n\n///", "source": "fastapi-cli.md"}
{"doc_id": "fastapi_0074", "title": "FastAPI People", "section": "FastAPI People", "content": "---\nhide:\n  - navigation\n---\n\n\nFastAPI has an amazing community that welcomes people from all backgrounds.", "source": "fastapi-people.md"}
{"doc_id": "fastapi_0075", "title": "FastAPI People", "section": "Creator", "content": "Hey! üëã\n\nThis is me:\n\n<div class=\"user-list user-list-center\">\n{% for user in people.maintainers %}\n\n<div class=\"user\"><a href=\"{{ contributors.tiangolo.url }}\" target=\"_blank\"><div class=\"avatar-wrapper\"><img src=\"{{ contributors.tiangolo.avatarUrl }}\"/></div><div class=\"title\">@{{ contributors.tiangolo.login }}</div></a> <div class=\"count\">Answers: {{ user.answers }}</div><div class=\"count\">Pull Requests: {{ contributors.tiangolo.count }}</div></div>\n{% endfor %}\n\n</div>\n\nI'm the creator of **FastAPI**. You can read more about that in [Help FastAPI - Get Help - Connect with the author](help-fastapi.md#connect-with-the-author){.internal-link target=_blank}.\n\n...But here I want to show you the community.\n\n---\n\n**FastAPI** receives a lot of support from the community. And I want to highlight their contributions.\n\nThese are the people that:\n\n* [Help others with questions in GitHub](help-fastapi.md#help-others-with-questions-in-github){.internal-link target=_blank}.\n* [Create Pull Requests](help-fastapi.md#create-a-pull-request){.internal-link target=_blank}.\n* Review Pull Requests, [especially important for translations](contributing.md#translations){.internal-link target=_blank}.\n* Help [manage the repository](management-tasks.md){.internal-link target=_blank} (team members).\n\nAll these tasks help maintain the repository.\n\nA round of applause to them. üëè üôá", "source": "fastapi-people.md"}
{"doc_id": "fastapi_0076", "title": "FastAPI People", "section": "Team", "content": "This is the current list of team members. üòé\n\nThey have different levels of involvement and permissions, they can perform [repository management tasks](./management-tasks.md){.internal-link target=_blank} and together we  [manage the FastAPI repository](./management.md){.internal-link target=_blank}.\n\n<div class=\"user-list user-list-center\">\n\n{% for user in members[\"members\"] %}\n\n<div class=\"user\"><a href=\"{{ user.url }}\" target=\"_blank\"><div class=\"avatar-wrapper\"><img src=\"{{ user.avatar_url }}\"/></div><div class=\"title\">@{{ user.login }}</div></a></div>\n\n{% endfor %}\n\n</div>\n\nAlthough the team members have the permissions to perform privileged tasks, all the [help from others maintaining FastAPI](./help-fastapi.md#help-maintain-fastapi){.internal-link target=_blank} is very much appreciated! üôá‚Äç‚ôÇÔ∏è", "source": "fastapi-people.md"}
{"doc_id": "fastapi_0077", "title": "FastAPI People", "section": "FastAPI Experts", "content": "These are the users that have been [helping others the most with questions in GitHub](help-fastapi.md#help-others-with-questions-in-github){.internal-link target=_blank}. üôá\n\nThey have proven to be **FastAPI Experts** by helping many others. ‚ú®\n\n/// tip\n\nYou could become an official FastAPI Expert too!\n\nJust [help others with questions in GitHub](help-fastapi.md#help-others-with-questions-in-github){.internal-link target=_blank}. ü§ì\n\n///\n\nYou can see the **FastAPI Experts** for:\n\n* [Last Month](#fastapi-experts-last-month) ü§ì\n* [3 Months](#fastapi-experts-3-months) üòé\n* [6 Months](#fastapi-experts-6-months) üßê\n* [1 Year](#fastapi-experts-1-year) üßë‚Äçüî¨\n* [**All Time**](#fastapi-experts-all-time) üßô", "source": "fastapi-people.md"}
{"doc_id": "fastapi_0078", "title": "FastAPI People", "section": "FastAPI Experts - Last Month", "content": "These are the users that have been [helping others the most with questions in GitHub](help-fastapi.md#help-others-with-questions-in-github){.internal-link target=_blank} during the last month. ü§ì\n\n<div class=\"user-list user-list-center\">\n\n{% for user in people.last_month_experts[:10] %}\n\n{% if user.login not in skip_users %}\n\n<div class=\"user\"><a href=\"{{ user.url }}\" target=\"_blank\"><div class=\"avatar-wrapper\"><img src=\"{{ user.avatarUrl }}\"/></div><div class=\"title\">@{{ user.login }}</div></a> <div class=\"count\">Questions replied: {{ user.count }}</div></div>\n\n{% endif %}\n\n{% endfor %}\n\n</div>", "source": "fastapi-people.md"}
{"doc_id": "fastapi_0079", "title": "FastAPI People", "section": "FastAPI Experts - 3 Months", "content": "These are the users that have been [helping others the most with questions in GitHub](help-fastapi.md#help-others-with-questions-in-github){.internal-link target=_blank} during the last 3 months. üòé\n\n<div class=\"user-list user-list-center\">\n\n{% for user in people.three_months_experts[:10] %}\n\n{% if user.login not in skip_users %}\n\n<div class=\"user\"><a href=\"{{ user.url }}\" target=\"_blank\"><div class=\"avatar-wrapper\"><img src=\"{{ user.avatarUrl }}\"/></div><div class=\"title\">@{{ user.login }}</div></a> <div class=\"count\">Questions replied: {{ user.count }}</div></div>\n\n{% endif %}\n\n{% endfor %}\n\n</div>", "source": "fastapi-people.md"}
{"doc_id": "fastapi_0080", "title": "FastAPI People", "section": "FastAPI Experts - 6 Months", "content": "These are the users that have been [helping others the most with questions in GitHub](help-fastapi.md#help-others-with-questions-in-github){.internal-link target=_blank} during the last 6 months. üßê\n\n<div class=\"user-list user-list-center\">\n\n{% for user in people.six_months_experts[:10] %}\n\n{% if user.login not in skip_users %}\n\n<div class=\"user\"><a href=\"{{ user.url }}\" target=\"_blank\"><div class=\"avatar-wrapper\"><img src=\"{{ user.avatarUrl }}\"/></div><div class=\"title\">@{{ user.login }}</div></a> <div class=\"count\">Questions replied: {{ user.count }}</div></div>\n\n{% endif %}\n\n{% endfor %}\n\n</div>", "source": "fastapi-people.md"}
{"doc_id": "fastapi_0081", "title": "FastAPI People", "section": "FastAPI Experts - 1 Year", "content": "These are the users that have been [helping others the most with questions in GitHub](help-fastapi.md#help-others-with-questions-in-github){.internal-link target=_blank} during the last year. üßë‚Äçüî¨\n\n<div class=\"user-list user-list-center\">\n\n{% for user in people.one_year_experts[:20] %}\n\n{% if user.login not in skip_users %}\n\n<div class=\"user\"><a href=\"{{ user.url }}\" target=\"_blank\"><div class=\"avatar-wrapper\"><img src=\"{{ user.avatarUrl }}\"/></div><div class=\"title\">@{{ user.login }}</div></a> <div class=\"count\">Questions replied: {{ user.count }}</div></div>\n\n{% endif %}\n\n{% endfor %}\n\n</div>", "source": "fastapi-people.md"}
{"doc_id": "fastapi_0082", "title": "FastAPI People", "section": "FastAPI Experts - All Time", "content": "Here are the all time **FastAPI Experts**. ü§ìü§Ø\n\nThese are the users that have [helped others the most with questions in GitHub](help-fastapi.md#help-others-with-questions-in-github){.internal-link target=_blank} through *all time*. üßô\n\n<div class=\"user-list user-list-center\">\n\n{% for user in people.experts[:50] %}\n\n{% if user.login not in skip_users %}\n\n<div class=\"user\"><a href=\"{{ user.url }}\" target=\"_blank\"><div class=\"avatar-wrapper\"><img src=\"{{ user.avatarUrl }}\"/></div><div class=\"title\">@{{ user.login }}</div></a> <div class=\"count\">Questions replied: {{ user.count }}</div></div>\n\n{% endif %}\n\n{% endfor %}\n\n</div>", "source": "fastapi-people.md"}
{"doc_id": "fastapi_0083", "title": "FastAPI People", "section": "Top Contributors", "content": "Here are the **Top Contributors**. üë∑\n\nThese users have [created the most Pull Requests](help-fastapi.md#create-a-pull-request){.internal-link target=_blank} that have been *merged*.\n\nThey have contributed source code, documentation, etc. üì¶\n\n<div class=\"user-list user-list-center\">\n\n{% for user in (contributors.values() | list)[:50] %}\n\n{% if user.login not in skip_users %}\n\n<div class=\"user\"><a href=\"{{ user.url }}\" target=\"_blank\"><div class=\"avatar-wrapper\"><img src=\"{{ user.avatarUrl }}\"/></div><div class=\"title\">@{{ user.login }}</div></a> <div class=\"count\">Pull Requests: {{ user.count }}</div></div>\n\n{% endif %}\n\n{% endfor %}\n\n</div>\n\nThere are hundreds of other contributors, you can see them all in the <a href=\"https://github.com/fastapi/fastapi/graphs/contributors\" class=\"external-link\" target=\"_blank\">FastAPI GitHub Contributors page</a>. üë∑", "source": "fastapi-people.md"}
{"doc_id": "fastapi_0084", "title": "FastAPI People", "section": "Top Translators", "content": "These are the **Top Translators**. üåê\n\nThese users have created the most Pull Requests with [translations to other languages](contributing.md#translations){.internal-link target=_blank} that have been *merged*.\n\n<div class=\"user-list user-list-center\">\n\n{% for user in (translators.values() | list)[:50] %}\n\n{% if user.login not in skip_users %}\n\n<div class=\"user\"><a href=\"{{ user.url }}\" target=\"_blank\"><div class=\"avatar-wrapper\"><img src=\"{{ user.avatarUrl }}\"/></div><div class=\"title\">@{{ user.login }}</div></a> <div class=\"count\">Translations: {{ user.count }}</div></div>\n\n{% endif %}\n\n{% endfor %}\n\n</div>", "source": "fastapi-people.md"}
{"doc_id": "fastapi_0085", "title": "FastAPI People", "section": "Top Translation Reviewers", "content": "These users are the **Top Translation Reviewers**. üïµÔ∏è\n\nI only speak a few languages (and not very well üòÖ). So, the reviewers are the ones that have the [**power to approve translations**](contributing.md#translations){.internal-link target=_blank} of the documentation. Without them, there wouldn't be documentation in several other languages.\n\n<div class=\"user-list user-list-center\">\n{% for user in (translation_reviewers.values() | list)[:50] %}\n\n{% if user.login not in skip_users %}\n\n<div class=\"user\"><a href=\"{{ user.url }}\" target=\"_blank\"><div class=\"avatar-wrapper\"><img src=\"{{ user.avatarUrl }}\"/></div><div class=\"title\">@{{ user.login }}</div></a> <div class=\"count\">Reviews: {{ user.count }}</div></div>\n\n{% endif %}\n\n{% endfor %}\n\n</div>", "source": "fastapi-people.md"}
{"doc_id": "fastapi_0086", "title": "FastAPI People", "section": "Sponsors", "content": "These are the **Sponsors**. üòé\n\nThey are supporting my work with **FastAPI** (and others), mainly through <a href=\"https://github.com/sponsors/tiangolo\" class=\"external-link\" target=\"_blank\">GitHub Sponsors</a>.\n\n{% if sponsors %}\n\n{% if sponsors.gold %}", "source": "fastapi-people.md"}
{"doc_id": "fastapi_0087", "title": "FastAPI People", "section": "Gold Sponsors", "content": "{% for sponsor in sponsors.gold -%}\n<a href=\"{{ sponsor.url }}\" target=\"_blank\" title=\"{{ sponsor.title }}\"><img src=\"{{ sponsor.img }}\" style=\"border-radius:15px\"></a>\n{% endfor %}\n{% endif %}\n\n{% if sponsors.silver %}", "source": "fastapi-people.md"}
{"doc_id": "fastapi_0088", "title": "FastAPI People", "section": "Silver Sponsors", "content": "{% for sponsor in sponsors.silver -%}\n<a href=\"{{ sponsor.url }}\" target=\"_blank\" title=\"{{ sponsor.title }}\"><img src=\"{{ sponsor.img }}\" style=\"border-radius:15px\"></a>\n{% endfor %}\n{% endif %}\n\n{% if sponsors.bronze %}", "source": "fastapi-people.md"}
{"doc_id": "fastapi_0089", "title": "FastAPI People", "section": "Bronze Sponsors", "content": "{% for sponsor in sponsors.bronze -%}\n<a href=\"{{ sponsor.url }}\" target=\"_blank\" title=\"{{ sponsor.title }}\"><img src=\"{{ sponsor.img }}\" style=\"border-radius:15px\"></a>\n{% endfor %}\n{% endif %}\n\n{% endif %}", "source": "fastapi-people.md"}
{"doc_id": "fastapi_0090", "title": "FastAPI People", "section": "Individual Sponsors", "content": "{% if github_sponsors %}\n{% for group in github_sponsors.sponsors %}\n\n<div class=\"user-list user-list-center\">\n\n{% for user in group %}\n{% if user.login not in sponsors_badge.logins %}\n\n<div class=\"user\"><a href=\"{{ user.url }}\" target=\"_blank\"><div class=\"avatar-wrapper\"><img src=\"{{ user.avatarUrl }}\"/></div><div class=\"title\">@{{ user.login }}</div></a></div>\n\n{% endif %}\n{% endfor %}\n\n</div>\n\n{% endfor %}\n{% endif %}", "source": "fastapi-people.md"}
{"doc_id": "fastapi_0091", "title": "FastAPI People", "section": "About the data - technical details", "content": "The main intention of this page is to highlight the effort of the community to help others.\n\nEspecially including efforts that are normally less visible, and in many cases more arduous, like helping others with questions and reviewing Pull Requests with translations.\n\nThe data is calculated each month, you can read the <a href=\"https://github.com/fastapi/fastapi/blob/master/scripts/\" class=\"external-link\" target=\"_blank\">source code here</a>.\n\nHere I'm also highlighting contributions from sponsors.\n\nI also reserve the right to update the algorithm, sections, thresholds, etc (just in case ü§∑).", "source": "fastapi-people.md"}
{"doc_id": "fastapi_0092", "title": "Features { #features }", "section": "Features { #features }", "content": "", "source": "features.md"}
{"doc_id": "fastapi_0093", "title": "Features { #features }", "section": "FastAPI features { #fastapi-features }", "content": "**FastAPI** gives you the following:", "source": "features.md"}
{"doc_id": "fastapi_0094", "title": "Features { #features }", "section": "Based on open standards { #based-on-open-standards }", "content": "* <a href=\"https://github.com/OAI/OpenAPI-Specification\" class=\"external-link\" target=\"_blank\"><strong>OpenAPI</strong></a> for API creation, including declarations of <abbr title=\"also known as: endpoints, routes\">path</abbr> <abbr title=\"also known as HTTP methods, as POST, GET, PUT, DELETE\">operations</abbr>, parameters, request bodies, security, etc.\n* Automatic data model documentation with <a href=\"https://json-schema.org/\" class=\"external-link\" target=\"_blank\"><strong>JSON Schema</strong></a> (as OpenAPI itself is based on JSON Schema).\n* Designed around these standards, after a meticulous study. Instead of an afterthought layer on top.\n* This also allows using automatic **client code generation** in many languages.", "source": "features.md"}
{"doc_id": "fastapi_0095", "title": "Features { #features }", "section": "Automatic docs { #automatic-docs }", "content": "Interactive API documentation and exploration web user interfaces. As the framework is based on OpenAPI, there are multiple options, 2 included by default.\n\n* <a href=\"https://github.com/swagger-api/swagger-ui\" class=\"external-link\" target=\"_blank\"><strong>Swagger UI</strong></a>, with interactive exploration, call and test your API directly from the browser.\n\n![Swagger UI interaction](https://fastapi.tiangolo.com/img/index/index-03-swagger-02.png)\n\n* Alternative API documentation with <a href=\"https://github.com/Rebilly/ReDoc\" class=\"external-link\" target=\"_blank\"><strong>ReDoc</strong></a>.\n\n![ReDoc](https://fastapi.tiangolo.com/img/index/index-06-redoc-02.png)", "source": "features.md"}
{"doc_id": "fastapi_0096", "title": "Features { #features }", "section": "Just Modern Python { #just-modern-python }", "content": "It's all based on standard **Python type** declarations (thanks to Pydantic). No new syntax to learn. Just standard modern Python.\n\nIf you need a 2 minute refresher of how to use Python types (even if you don't use FastAPI), check the short tutorial: [Python Types](python-types.md){.internal-link target=_blank}.\n\nYou write standard Python with types:\n\n```Python\nfrom datetime import date\n\nfrom pydantic import BaseModel\n\n# Declare a variable as a str\n# and get editor support inside the function\ndef main(user_id: str):\n    return user_id\n\n\n# A Pydantic model\nclass User(BaseModel):\n    id: int\n    name: str\n    joined: date\n```\n\nThat can then be used like:\n\n```Python\nmy_user: User = User(id=3, name=\"John Doe\", joined=\"2018-07-19\")\n\nsecond_user_data = {\n    \"id\": 4,\n    \"name\": \"Mary\",\n    \"joined\": \"2018-11-30\",\n}\n\nmy_second_user: User = User(**second_user_data)\n```\n\n/// info\n\n`**second_user_data` means:\n\nPass the keys and values of the `second_user_data` dict directly as key-value arguments, equivalent to: `User(id=4, name=\"Mary\", joined=\"2018-11-30\")`\n\n///", "source": "features.md"}
{"doc_id": "fastapi_0097", "title": "Features { #features }", "section": "Editor support { #editor-support }", "content": "All the framework was designed to be easy and intuitive to use, all the decisions were tested on multiple editors even before starting development, to ensure the best development experience.\n\nIn the Python developer surveys, it's clear <a href=\"https://www.jetbrains.com/research/python-developers-survey-2017/#tools-and-features\" class=\"external-link\" target=\"_blank\">that one of the most used features is \"autocompletion\"</a>.\n\nThe whole **FastAPI** framework is based to satisfy that. Autocompletion works everywhere.\n\nYou will rarely need to come back to the docs.\n\nHere's how your editor might help you:\n\n* in <a href=\"https://code.visualstudio.com/\" class=\"external-link\" target=\"_blank\">Visual Studio Code</a>:\n\n![editor support](https://fastapi.tiangolo.com/img/vscode-completion.png)\n\n* in <a href=\"https://www.jetbrains.com/pycharm/\" class=\"external-link\" target=\"_blank\">PyCharm</a>:\n\n![editor support](https://fastapi.tiangolo.com/img/pycharm-completion.png)\n\nYou will get completion in code you might even consider impossible before. As for example, the `price` key inside a JSON body (that could have been nested) that comes from a request.\n\nNo more typing the wrong key names, coming back and forth between docs, or scrolling up and down to find if you finally used `username` or `user_name`.", "source": "features.md"}
{"doc_id": "fastapi_0098", "title": "Features { #features }", "section": "Short { #short }", "content": "It has sensible **defaults** for everything, with optional configurations everywhere. All the parameters can be fine-tuned to do what you need and to define the API you need.\n\nBut by default, it all **\"just works\"**.", "source": "features.md"}
{"doc_id": "fastapi_0099", "title": "Features { #features }", "section": "Validation { #validation }", "content": "* Validation for most (or all?) Python **data types**, including:\n    * JSON objects (`dict`).\n    * JSON array (`list`) defining item types.\n    * String (`str`) fields, defining min and max lengths.\n    * Numbers (`int`, `float`) with min and max values, etc.\n\n* Validation for more exotic types, like:\n    * URL.\n    * Email.\n    * UUID.\n    * ...and others.\n\nAll the validation is handled by the well-established and robust **Pydantic**.", "source": "features.md"}
{"doc_id": "fastapi_0100", "title": "Features { #features }", "section": "Security and authentication { #security-and-authentication }", "content": "Security and authentication integrated. Without any compromise with databases or data models.\n\nAll the security schemes defined in OpenAPI, including:\n\n* HTTP Basic.\n* **OAuth2** (also with **JWT tokens**). Check the tutorial on [OAuth2 with JWT](tutorial/security/oauth2-jwt.md){.internal-link target=_blank}.\n* API keys in:\n    * Headers.\n    * Query parameters.\n    * Cookies, etc.\n\nPlus all the security features from Starlette (including **session cookies**).\n\nAll built as reusable tools and components that are easy to integrate with your systems, data stores, relational and NoSQL databases, etc.", "source": "features.md"}
{"doc_id": "fastapi_0101", "title": "Features { #features }", "section": "Dependency Injection { #dependency-injection }", "content": "FastAPI includes an extremely easy to use, but extremely powerful <abbr title='also known as \"components\", \"resources\", \"services\", \"providers\"'><strong>Dependency Injection</strong></abbr> system.\n\n* Even dependencies can have dependencies, creating a hierarchy or **\"graph\" of dependencies**.\n* All **automatically handled** by the framework.\n* All the dependencies can require data from requests and **augment the path operation** constraints and automatic documentation.\n* **Automatic validation** even for *path operation* parameters defined in dependencies.\n* Support for complex user authentication systems, **database connections**, etc.\n* **No compromise** with databases, frontends, etc. But easy integration with all of them.", "source": "features.md"}
{"doc_id": "fastapi_0102", "title": "Features { #features }", "section": "Unlimited \"plug-ins\" { #unlimited-plug-ins }", "content": "Or in other way, no need for them, import and use the code you need.\n\nAny integration is designed to be so simple to use (with dependencies) that you can create a \"plug-in\" for your application in 2 lines of code using the same structure and syntax used for your *path operations*.", "source": "features.md"}
{"doc_id": "fastapi_0103", "title": "Features { #features }", "section": "Tested { #tested }", "content": "* 100% <abbr title=\"The amount of code that is automatically tested\">test coverage</abbr>.\n* 100% <abbr title=\"Python type annotations, with this your editor and external tools can give you better support\">type annotated</abbr> code base.\n* Used in production applications.", "source": "features.md"}
{"doc_id": "fastapi_0104", "title": "Features { #features }", "section": "Starlette features { #starlette-features }", "content": "**FastAPI** is fully compatible with (and based on) <a href=\"https://www.starlette.dev/\" class=\"external-link\" target=\"_blank\"><strong>Starlette</strong></a>. So, any additional Starlette code you have, will also work.\n\n`FastAPI` is actually a sub-class of `Starlette`. So, if you already know or use Starlette, most of the functionality will work the same way.\n\nWith **FastAPI** you get all of **Starlette**'s features (as FastAPI is just Starlette on steroids):\n\n* Seriously impressive performance. It is <a href=\"https://github.com/encode/starlette#performance\" class=\"external-link\" target=\"_blank\">one of the fastest Python frameworks available, on par with **NodeJS** and **Go**</a>.\n* **WebSocket** support.\n* In-process background tasks.\n* Startup and shutdown events.\n* Test client built on HTTPX.\n* **CORS**, GZip, Static Files, Streaming responses.\n* **Session and Cookie** support.\n* 100% test coverage.\n* 100% type annotated codebase.", "source": "features.md"}
{"doc_id": "fastapi_0105", "title": "Features { #features }", "section": "Pydantic features { #pydantic-features }", "content": "**FastAPI** is fully compatible with (and based on) <a href=\"https://docs.pydantic.dev/\" class=\"external-link\" target=\"_blank\"><strong>Pydantic</strong></a>. So, any additional Pydantic code you have, will also work.\n\nIncluding external libraries also based on Pydantic, as <abbr title=\"Object-Relational Mapper\">ORM</abbr>s, <abbr title=\"Object-Document Mapper\">ODM</abbr>s for databases.\n\nThis also means that in many cases you can pass the same object you get from a request **directly to the database**, as everything is validated automatically.\n\nThe same applies the other way around, in many cases you can just pass the object you get from the database **directly to the client**.\n\nWith **FastAPI** you get all of **Pydantic**'s features (as FastAPI is based on Pydantic for all the data handling):\n\n* **No brainfuck**:\n    * No new schema definition micro-language to learn.\n    * If you know Python types you know how to use Pydantic.\n* Plays nicely with your **<abbr title=\"Integrated Development Environment: similar to a code editor\">IDE</abbr>/<abbr title=\"A program that checks for code errors\">linter</abbr>/brain**:\n    * Because pydantic data structures are just instances of classes you define; auto-completion, linting, mypy and your intuition should all work properly with your validated data.\n* Validate **complex structures**:\n    * Use of hierarchical Pydantic models, Python `typing`‚Äôs `List` and `Dict`, etc.\n    * And validators allow complex data schemas to be clearly and easily defined, checked and documented as JSON Schema.\n    * You can have deeply **nested JSON** objects and have them all validated and annotated.\n* **Extensible**:\n    * Pydantic allows custom data types to be defined or you can extend validation with methods on a model decorated with the validator decorator.\n* 100% test coverage.", "source": "features.md"}
{"doc_id": "fastapi_0106", "title": "Help FastAPI - Get Help { #help-fastapi-get-help }", "section": "Help FastAPI - Get Help { #help-fastapi-get-help }", "content": "Do you like **FastAPI**?\n\nWould you like to help FastAPI, other users, and the author?\n\nOr would you like to get help with **FastAPI**?\n\nThere are very simple ways to help (several involve just one or two clicks).\n\nAnd there are several ways to get help too.", "source": "help-fastapi.md"}
{"doc_id": "fastapi_0107", "title": "Help FastAPI - Get Help { #help-fastapi-get-help }", "section": "Subscribe to the newsletter { #subscribe-to-the-newsletter }", "content": "You can subscribe to the (infrequent) [**FastAPI and friends** newsletter](newsletter.md){.internal-link target=_blank} to stay updated about:\n\n* News about FastAPI and friends üöÄ\n* Guides üìù\n* Features ‚ú®\n* Breaking changes üö®\n* Tips and tricks ‚úÖ", "source": "help-fastapi.md"}
{"doc_id": "fastapi_0108", "title": "Help FastAPI - Get Help { #help-fastapi-get-help }", "section": "Follow FastAPI on X (Twitter) { #follow-fastapi-on-x-twitter }", "content": "<a href=\"https://x.com/fastapi\" class=\"external-link\" target=\"_blank\">Follow @fastapi on **X (Twitter)**</a> to get the latest news about **FastAPI**. üê¶", "source": "help-fastapi.md"}
{"doc_id": "fastapi_0109", "title": "Help FastAPI - Get Help { #help-fastapi-get-help }", "section": "Star **FastAPI** in GitHub { #star-fastapi-in-github }", "content": "You can \"star\" FastAPI in GitHub (clicking the star button at the top right): <a href=\"https://github.com/fastapi/fastapi\" class=\"external-link\" target=\"_blank\">https://github.com/fastapi/fastapi</a>. ‚≠êÔ∏è\n\nBy adding a star, other users will be able to find it more easily and see that it has been already useful for others.", "source": "help-fastapi.md"}
{"doc_id": "fastapi_0110", "title": "Help FastAPI - Get Help { #help-fastapi-get-help }", "section": "Watch the GitHub repository for releases { #watch-the-github-repository-for-releases }", "content": "You can \"watch\" FastAPI in GitHub (clicking the \"watch\" button at the top right): <a href=\"https://github.com/fastapi/fastapi\" class=\"external-link\" target=\"_blank\">https://github.com/fastapi/fastapi</a>. üëÄ\n\nThere you can select \"Releases only\".\n\nBy doing it, you will receive notifications (in your email) whenever there's a new release (a new version) of **FastAPI** with bug fixes and new features.", "source": "help-fastapi.md"}
{"doc_id": "fastapi_0111", "title": "Help FastAPI - Get Help { #help-fastapi-get-help }", "section": "Connect with the author { #connect-with-the-author }", "content": "You can connect with <a href=\"https://tiangolo.com\" class=\"external-link\" target=\"_blank\">me (Sebasti√°n Ram√≠rez / `tiangolo`)</a>, the author.\n\nYou can:\n\n* <a href=\"https://github.com/tiangolo\" class=\"external-link\" target=\"_blank\">Follow me on **GitHub**</a>.\n    * See other Open Source projects I have created that could help you.\n    * Follow me to see when I create a new Open Source project.\n* <a href=\"https://x.com/tiangolo\" class=\"external-link\" target=\"_blank\">Follow me on **X (Twitter)**</a> or <a href=\"https://fosstodon.org/@tiangolo\" class=\"external-link\" target=\"_blank\">Mastodon</a>.\n    * Tell me how you use FastAPI (I love to hear that).\n    * Hear when I make announcements or release new tools.\n    * You can also <a href=\"https://x.com/fastapi\" class=\"external-link\" target=\"_blank\">follow @fastapi on X (Twitter)</a> (a separate account).\n* <a href=\"https://www.linkedin.com/in/tiangolo/\" class=\"external-link\" target=\"_blank\">Follow me on **LinkedIn**</a>.\n    * Hear when I make announcements or release new tools (although I use X (Twitter) more often ü§∑‚Äç‚ôÇ).\n* Read what I write (or follow me) on <a href=\"https://dev.to/tiangolo\" class=\"external-link\" target=\"_blank\">**Dev.to**</a> or <a href=\"https://medium.com/@tiangolo\" class=\"external-link\" target=\"_blank\">**Medium**</a>.\n    * Read other ideas, articles, and read about tools I have created.\n    * Follow me to read when I publish something new.", "source": "help-fastapi.md"}
{"doc_id": "fastapi_0112", "title": "Help FastAPI - Get Help { #help-fastapi-get-help }", "section": "Tweet about **FastAPI** { #tweet-about-fastapi }", "content": "<a href=\"https://x.com/compose/tweet?text=I'm loving @fastapi because... https://github.com/fastapi/fastapi\" class=\"external-link\" target=\"_blank\">Tweet about **FastAPI**</a> and let me and others know why you like it. üéâ\n\nI love to hear about how **FastAPI** is being used, what you have liked in it, in which project/company are you using it, etc.", "source": "help-fastapi.md"}
{"doc_id": "fastapi_0113", "title": "Help FastAPI - Get Help { #help-fastapi-get-help }", "section": "Vote for FastAPI { #vote-for-fastapi }", "content": "* <a href=\"https://www.slant.co/options/34241/~fastapi-review\" class=\"external-link\" target=\"_blank\">Vote for **FastAPI** in Slant</a>.\n* <a href=\"https://alternativeto.net/software/fastapi/about/\" class=\"external-link\" target=\"_blank\">Vote for **FastAPI** in AlternativeTo</a>.\n* <a href=\"https://stackshare.io/pypi-fastapi\" class=\"external-link\" target=\"_blank\">Say you use **FastAPI** on StackShare</a>.", "source": "help-fastapi.md"}
{"doc_id": "fastapi_0114", "title": "Help FastAPI - Get Help { #help-fastapi-get-help }", "section": "Help others with questions in GitHub { #help-others-with-questions-in-github }", "content": "You can try and help others with their questions in:\n\n* <a href=\"https://github.com/fastapi/fastapi/discussions/categories/questions?discussions_q=category%3AQuestions+is%3Aunanswered\" class=\"external-link\" target=\"_blank\">GitHub Discussions</a>\n* <a href=\"https://github.com/fastapi/fastapi/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc+label%3Aquestion+-label%3Aanswered+\" class=\"external-link\" target=\"_blank\">GitHub Issues</a>\n\nIn many cases you might already know the answer for those questions. ü§ì\n\nIf you are helping a lot of people with their questions, you will become an official [FastAPI Expert](fastapi-people.md#fastapi-experts){.internal-link target=_blank}. üéâ\n\nJust remember, the most important point is: try to be kind. People come with their frustrations and in many cases don't ask in the best way, but try as best as you can to be kind. ü§ó\n\nThe idea is for the **FastAPI** community to be kind and welcoming. At the same time, don't accept bullying or disrespectful behavior towards others. We have to take care of each other.\n\n---\n\nHere's how to help others with questions (in discussions or issues):", "source": "help-fastapi.md"}
{"doc_id": "fastapi_0115", "title": "Help FastAPI - Get Help { #help-fastapi-get-help }", "section": "Understand the question { #understand-the-question }", "content": "* Check if you can understand what is the **purpose** and use case of the person asking.\n\n* Then check if the question (the vast majority are questions) is **clear**.\n\n* In many cases the question asked is about an imaginary solution from the user, but there might be a **better** one. If you can understand the problem and use case better, you might be able to suggest a better **alternative solution**.\n\n* If you can't understand the question, ask for more **details**.", "source": "help-fastapi.md"}
{"doc_id": "fastapi_0116", "title": "Help FastAPI - Get Help { #help-fastapi-get-help }", "section": "Reproduce the problem { #reproduce-the-problem }", "content": "For most of the cases and most of the questions there's something related to the person's **original code**.\n\nIn many cases they will only copy a fragment of the code, but that's not enough to **reproduce the problem**.\n\n* You can ask them to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\" class=\"external-link\" target=\"_blank\">minimal, reproducible, example</a>, that you can **copy-paste** and run locally to see the same error or behavior they are seeing, or to understand their use case better.\n\n* If you are feeling too generous, you can try to **create an example** like that yourself, just based on the description of the problem. Just keep in mind that this might take a lot of time and it might be better to ask them to clarify the problem first.", "source": "help-fastapi.md"}
{"doc_id": "fastapi_0117", "title": "Help FastAPI - Get Help { #help-fastapi-get-help }", "section": "Suggest solutions { #suggest-solutions }", "content": "* After being able to understand the question, you can give them a possible **answer**.\n\n* In many cases, it's better to understand their **underlying problem or use case**, because there might be a better way to solve it than what they are trying to do.", "source": "help-fastapi.md"}
{"doc_id": "fastapi_0118", "title": "Help FastAPI - Get Help { #help-fastapi-get-help }", "section": "Ask to close { #ask-to-close }", "content": "If they reply, there's a high chance you would have solved their problem, congrats, **you're a hero**! ü¶∏\n\n* Now, if that solved their problem, you can ask them to:\n\n    * In GitHub Discussions: mark the comment as the **answer**.\n    * In GitHub Issues: **close** the issue.", "source": "help-fastapi.md"}
{"doc_id": "fastapi_0119", "title": "Help FastAPI - Get Help { #help-fastapi-get-help }", "section": "Watch the GitHub repository { #watch-the-github-repository }", "content": "You can \"watch\" FastAPI in GitHub (clicking the \"watch\" button at the top right): <a href=\"https://github.com/fastapi/fastapi\" class=\"external-link\" target=\"_blank\">https://github.com/fastapi/fastapi</a>. üëÄ\n\nIf you select \"Watching\" instead of \"Releases only\" you will receive notifications when someone creates a new issue or question. You can also specify that you only want to be notified about new issues, or discussions, or PRs, etc.\n\nThen you can try and help them solve those questions.", "source": "help-fastapi.md"}
{"doc_id": "fastapi_0120", "title": "Help FastAPI - Get Help { #help-fastapi-get-help }", "section": "Ask Questions { #ask-questions }", "content": "You can <a href=\"https://github.com/fastapi/fastapi/discussions/new?category=questions\" class=\"external-link\" target=\"_blank\">create a new question</a> in the GitHub repository, for example to:\n\n* Ask a **question** or ask about a **problem**.\n* Suggest a new **feature**.\n\n**Note**: if you do it, then I'm going to ask you to also help others. üòâ", "source": "help-fastapi.md"}
{"doc_id": "fastapi_0121", "title": "Help FastAPI - Get Help { #help-fastapi-get-help }", "section": "Review Pull Requests { #review-pull-requests }", "content": "You can help me review pull requests from others.\n\nAgain, please try your best to be kind. ü§ó\n\n---\n\nHere's what to keep in mind and how to review a pull request:", "source": "help-fastapi.md"}
{"doc_id": "fastapi_0122", "title": "Help FastAPI - Get Help { #help-fastapi-get-help }", "section": "Understand the problem { #understand-the-problem }", "content": "* First, make sure you **understand the problem** that the pull request is trying to solve. It might have a longer discussion in a GitHub Discussion or issue.\n\n* There's also a good chance that the pull request is not actually needed because the problem can be solved in a **different way**. Then you can suggest or ask about that.", "source": "help-fastapi.md"}
{"doc_id": "fastapi_0123", "title": "Help FastAPI - Get Help { #help-fastapi-get-help }", "section": "Don't worry about style { #dont-worry-about-style }", "content": "* Don't worry too much about things like commit message styles, I will squash and merge customizing the commit manually.\n\n* Also don't worry about style rules, there are already automatized tools checking that.\n\nAnd if there's any other style or consistency need, I'll ask directly for that, or I'll add commits on top with the needed changes.", "source": "help-fastapi.md"}
{"doc_id": "fastapi_0124", "title": "Help FastAPI - Get Help { #help-fastapi-get-help }", "section": "Check the code { #check-the-code }", "content": "* Check and read the code, see if it makes sense, **run it locally** and see if it actually solves the problem.\n\n* Then **comment** saying that you did that, that's how I will know you really checked it.\n\n/// info\n\nUnfortunately, I can't simply trust PRs that just have several approvals.\n\nSeveral times it has happened that there are PRs with 3, 5 or more approvals, probably because the description is appealing, but when I check the PRs, they are actually broken, have a bug, or don't solve the problem they claim to solve. üòÖ\n\nSo, it's really important that you actually read and run the code, and let me know in the comments that you did. ü§ì\n\n///\n\n* If the PR can be simplified in a way, you can ask for that, but there's no need to be too picky, there might be a lot of subjective points of view (and I will have my own as well üôà), so it's better if you can focus on the fundamental things.", "source": "help-fastapi.md"}
{"doc_id": "fastapi_0125", "title": "Help FastAPI - Get Help { #help-fastapi-get-help }", "section": "Tests { #tests }", "content": "* Help me check that the PR has **tests**.\n\n* Check that the tests **fail** before the PR. üö®\n\n* Then check that the tests **pass** after the PR. ‚úÖ\n\n* Many PRs don't have tests, you can **remind** them to add tests, or you can even **suggest** some tests yourself. That's one of the things that consume most time and you can help a lot with that.\n\n* Then also comment what you tried, that way I'll know that you checked it. ü§ì", "source": "help-fastapi.md"}
{"doc_id": "fastapi_0126", "title": "Help FastAPI - Get Help { #help-fastapi-get-help }", "section": "Create a Pull Request { #create-a-pull-request }", "content": "You can [contribute](contributing.md){.internal-link target=_blank} to the source code with Pull Requests, for example:\n\n* To fix a typo you found on the documentation.\n* To share an article, video, or podcast you created or found about FastAPI by <a href=\"https://github.com/fastapi/fastapi/edit/master/docs/en/data/external_links.yml\" class=\"external-link\" target=\"_blank\">editing this file</a>.\n    * Make sure you add your link to the start of the corresponding section.\n* To help [translate the documentation](contributing.md#translations){.internal-link target=_blank} to your language.\n    * You can also help to review the translations created by others.\n* To propose new documentation sections.\n* To fix an existing issue/bug.\n    * Make sure to add tests.\n* To add a new feature.\n    * Make sure to add tests.\n    * Make sure to add documentation if it's relevant.", "source": "help-fastapi.md"}
{"doc_id": "fastapi_0127", "title": "Help FastAPI - Get Help { #help-fastapi-get-help }", "section": "Help Maintain FastAPI { #help-maintain-fastapi }", "content": "Help me maintain **FastAPI**! ü§ì\n\nThere's a lot of work to do, and for most of it, **YOU** can do it.\n\nThe main tasks that you can do right now are:\n\n* [Help others with questions in GitHub](#help-others-with-questions-in-github){.internal-link target=_blank} (see the section above).\n* [Review Pull Requests](#review-pull-requests){.internal-link target=_blank} (see the section above).\n\nThose two tasks are what **consume time the most**. That's the main work of maintaining FastAPI.\n\nIf you can help me with that, **you are helping me maintain FastAPI** and making sure it keeps **advancing faster and better**. üöÄ", "source": "help-fastapi.md"}
{"doc_id": "fastapi_0128", "title": "Help FastAPI - Get Help { #help-fastapi-get-help }", "section": "Join the chat { #join-the-chat }", "content": "Join the üë• <a href=\"https://discord.gg/VQjSZaeJmf\" class=\"external-link\" target=\"_blank\">Discord chat server</a> üë• and hang out with others in the FastAPI community.\n\n/// tip\n\nFor questions, ask them in <a href=\"https://github.com/fastapi/fastapi/discussions/new?category=questions\" class=\"external-link\" target=\"_blank\">GitHub Discussions</a>, there's a much better chance you will receive help by the [FastAPI Experts](fastapi-people.md#fastapi-experts){.internal-link target=_blank}.\n\nUse the chat only for other general conversations.\n\n///", "source": "help-fastapi.md"}
{"doc_id": "fastapi_0129", "title": "Help FastAPI - Get Help { #help-fastapi-get-help }", "section": "Don't use the chat for questions { #dont-use-the-chat-for-questions }", "content": "Keep in mind that as chats allow more \"free conversation\", it's easy to ask questions that are too general and more difficult to answer, so, you might not receive answers.\n\nIn GitHub, the template will guide you to write the right question so that you can more easily get a good answer, or even solve the problem yourself even before asking. And in GitHub I can make sure I always answer everything, even if it takes some time. I can't personally do that with the chat systems. üòÖ\n\nConversations in the chat systems are also not as easily searchable as in GitHub, so questions and answers might get lost in the conversation. And only the ones in GitHub count to become a [FastAPI Expert](fastapi-people.md#fastapi-experts){.internal-link target=_blank}, so you will most probably receive more attention in GitHub.\n\nOn the other side, there are thousands of users in the chat systems, so there's a high chance you'll find someone to talk to there, almost all the time. üòÑ", "source": "help-fastapi.md"}
{"doc_id": "fastapi_0130", "title": "Help FastAPI - Get Help { #help-fastapi-get-help }", "section": "Sponsor the author { #sponsor-the-author }", "content": "If your **product/company** depends on or is related to **FastAPI** and you want to reach its users, you can sponsor the author (me) through <a href=\"https://github.com/sponsors/tiangolo\" class=\"external-link\" target=\"_blank\">GitHub sponsors</a>. Depending on the tier, you could get some extra benefits, like a badge in the docs. üéÅ\n\n---\n\nThanks! üöÄ", "source": "help-fastapi.md"}
{"doc_id": "fastapi_0131", "title": "History, Design and Future { #history-design-and-future }", "section": "History, Design and Future { #history-design-and-future }", "content": "Some time ago, <a href=\"https://github.com/fastapi/fastapi/issues/3#issuecomment-454956920\" class=\"external-link\" target=\"_blank\">a **FastAPI** user asked</a>:\n\n> What‚Äôs the history of this project? It seems to have come from nowhere to awesome in a few weeks [...]\n\nHere's a little bit of that history.", "source": "history-design-future.md"}
{"doc_id": "fastapi_0132", "title": "History, Design and Future { #history-design-and-future }", "section": "Alternatives { #alternatives }", "content": "I have been creating APIs with complex requirements for several years (Machine Learning, distributed systems, asynchronous jobs, NoSQL databases, etc), leading several teams of developers.\n\nAs part of that, I needed to investigate, test and use many alternatives.\n\nThe history of **FastAPI** is in great part the history of its predecessors.\n\nAs said in the section [Alternatives](alternatives.md){.internal-link target=_blank}:\n\n<blockquote markdown=\"1\">\n\n**FastAPI** wouldn't exist if not for the previous work of others.\n\nThere have been many tools created before that have helped inspire its creation.\n\nI have been avoiding the creation of a new framework for several years. First I tried to solve all the features covered by **FastAPI** using many different frameworks, plug-ins, and tools.\n\nBut at some point, there was no other option than creating something that provided all these features, taking the best ideas from previous tools, and combining them in the best way possible, using language features that weren't even available before (Python 3.6+ type hints).\n\n</blockquote>", "source": "history-design-future.md"}
{"doc_id": "fastapi_0133", "title": "History, Design and Future { #history-design-and-future }", "section": "Investigation { #investigation }", "content": "By using all the previous alternatives I had the chance to learn from all of them, take ideas, and combine them in the best way I could find for myself and the teams of developers I have worked with.\n\nFor example, it was clear that ideally it should be based on standard Python type hints.\n\nAlso, the best approach was to use already existing standards.\n\nSo, before even starting to code **FastAPI**, I spent several months studying the specs for OpenAPI, JSON Schema, OAuth2, etc. Understanding their relationship, overlap, and differences.", "source": "history-design-future.md"}
{"doc_id": "fastapi_0134", "title": "History, Design and Future { #history-design-and-future }", "section": "Design { #design }", "content": "Then I spent some time designing the developer \"API\" I wanted to have as a user (as a developer using FastAPI).\n\nI tested several ideas in the most popular Python editors: PyCharm, VS Code, Jedi based editors.\n\nBy the last <a href=\"https://www.jetbrains.com/research/python-developers-survey-2018/#development-tools\" class=\"external-link\" target=\"_blank\">Python Developer Survey</a>, that covers about 80% of the users.\n\nIt means that **FastAPI** was specifically tested with the editors used by 80% of the Python developers. And as most of the other editors tend to work similarly, all its benefits should work for virtually all editors.\n\nThat way I could find the best ways to reduce code duplication as much as possible, to have completion everywhere, type and error checks, etc.\n\nAll in a way that provided the best development experience for all the developers.", "source": "history-design-future.md"}
{"doc_id": "fastapi_0135", "title": "History, Design and Future { #history-design-and-future }", "section": "Requirements { #requirements }", "content": "After testing several alternatives, I decided that I was going to use <a href=\"https://docs.pydantic.dev/\" class=\"external-link\" target=\"_blank\">**Pydantic**</a> for its advantages.\n\nThen I contributed to it, to make it fully compliant with JSON Schema, to support different ways to define constraint declarations, and to improve editor support (type checks, autocompletion) based on the tests in several editors.\n\nDuring the development, I also contributed to <a href=\"https://www.starlette.dev/\" class=\"external-link\" target=\"_blank\">**Starlette**</a>, the other key requirement.", "source": "history-design-future.md"}
{"doc_id": "fastapi_0136", "title": "History, Design and Future { #history-design-and-future }", "section": "Development { #development }", "content": "By the time I started creating **FastAPI** itself, most of the pieces were already in place, the design was defined, the requirements and tools were ready, and the knowledge about the standards and specifications was clear and fresh.", "source": "history-design-future.md"}
{"doc_id": "fastapi_0137", "title": "History, Design and Future { #history-design-and-future }", "section": "Future { #future }", "content": "By this point, it's already clear that **FastAPI** with its ideas is being useful for many people.\n\nIt is being chosen over previous alternatives for suiting many use cases better.\n\nMany developers and teams already depend on **FastAPI** for their projects (including me and my team).\n\nBut still, there are many improvements and features to come.\n\n**FastAPI** has a great future ahead.\n\nAnd [your help](help-fastapi.md){.internal-link target=_blank} is greatly appreciated.", "source": "history-design-future.md"}
{"doc_id": "fastapi_0138", "title": "FastAPI { #fastapi }", "section": "FastAPI { #fastapi }", "content": "<style>\n.md-content .md-typeset h1 { display: none; }\n</style>\n\n<p align=\"center\">\n  <a href=\"https://fastapi.tiangolo.com\"><img src=\"https://fastapi.tiangolo.com/img/logo-margin/logo-teal.png\" alt=\"FastAPI\"></a>\n</p>\n<p align=\"center\">\n    <em>FastAPI framework, high performance, easy to learn, fast to code, ready for production</em>\n</p>\n<p align=\"center\">\n<a href=\"https://github.com/fastapi/fastapi/actions?query=workflow%3ATest+event%3Apush+branch%3Amaster\" target=\"_blank\">\n    <img src=\"https://github.com/fastapi/fastapi/actions/workflows/test.yml/badge.svg?event=push&branch=master\" alt=\"Test\">\n</a>\n<a href=\"https://coverage-badge.samuelcolvin.workers.dev/redirect/fastapi/fastapi\" target=\"_blank\">\n    <img src=\"https://coverage-badge.samuelcolvin.workers.dev/fastapi/fastapi.svg\" alt=\"Coverage\">\n</a>\n<a href=\"https://pypi.org/project/fastapi\" target=\"_blank\">\n    <img src=\"https://img.shields.io/pypi/v/fastapi?color=%2334D058&label=pypi%20package\" alt=\"Package version\">\n</a>\n<a href=\"https://pypi.org/project/fastapi\" target=\"_blank\">\n    <img src=\"https://img.shields.io/pypi/pyversions/fastapi.svg?color=%2334D058\" alt=\"Supported Python versions\">\n</a>\n</p>\n\n---\n\n**Documentation**: <a href=\"https://fastapi.tiangolo.com\" target=\"_blank\">https://fastapi.tiangolo.com</a>\n\n**Source Code**: <a href=\"https://github.com/fastapi/fastapi\" target=\"_blank\">https://github.com/fastapi/fastapi</a>\n\n---\n\nFastAPI is a modern, fast (high-performance), web framework for building APIs with Python based on standard Python type hints.\n\nThe key features are:\n\n* **Fast**: Very high performance, on par with **NodeJS** and **Go** (thanks to Starlette and Pydantic). [One of the fastest Python frameworks available](#performance).\n* **Fast to code**: Increase the speed to develop features by about 200% to 300%. *\n* **Fewer bugs**: Reduce about 40% of human (developer) induced errors. *\n* **Intuitive**: Great editor support. <abbr title=\"also known as auto-complete, autocompletion, IntelliSense\">Completion</abbr> everywhere. Less time debugging.\n* **Easy**: Designed to be easy to use and learn. Less time reading docs.\n* **Short**: Minimize code duplication. Multiple features from each parameter declaration. Fewer bugs.\n* **Robust**: Get production-ready code. With automatic interactive documentation.\n* **Standards-based**: Based on (and fully compatible with) the open standards for APIs: <a href=\"https://github.com/OAI/OpenAPI-Specification\" class=\"external-link\" target=\"_blank\">OpenAPI</a> (previously known as Swagger) and <a href=\"https://json-schema.org/\" class=\"external-link\" target=\"_blank\">JSON Schema</a>.\n\n<small>* estimation based on tests conducted by an internal development team, building production applications.</small>", "source": "index.md"}
{"doc_id": "fastapi_0139", "title": "FastAPI { #fastapi }", "section": "Sponsors { #sponsors }", "content": "<!-- sponsors -->", "source": "index.md"}
{"doc_id": "fastapi_0140", "title": "FastAPI { #fastapi }", "section": "Keystone Sponsor", "content": "{% for sponsor in sponsors.keystone -%}\n<a href=\"{{ sponsor.url }}\" target=\"_blank\" title=\"{{ sponsor.title }}\"><img src=\"{{ sponsor.img }}\" style=\"border-radius:15px\"></a>\n{% endfor -%}", "source": "index.md"}
{"doc_id": "fastapi_0141", "title": "FastAPI { #fastapi }", "section": "Gold and Silver Sponsors", "content": "{% for sponsor in sponsors.gold -%}\n<a href=\"{{ sponsor.url }}\" target=\"_blank\" title=\"{{ sponsor.title }}\"><img src=\"{{ sponsor.img }}\" style=\"border-radius:15px\"></a>\n{% endfor -%}\n{%- for sponsor in sponsors.silver -%}\n<a href=\"{{ sponsor.url }}\" target=\"_blank\" title=\"{{ sponsor.title }}\"><img src=\"{{ sponsor.img }}\" style=\"border-radius:15px\"></a>\n{% endfor %}\n\n<!-- /sponsors -->\n\n<a href=\"https://fastapi.tiangolo.com/fastapi-people/#sponsors\" class=\"external-link\" target=\"_blank\">Other sponsors</a>", "source": "index.md"}
{"doc_id": "fastapi_0142", "title": "FastAPI { #fastapi }", "section": "Opinions { #opinions }", "content": "\"_[...] I'm using **FastAPI** a ton these days. [...] I'm actually planning to use it for all of my team's **ML services at Microsoft**. Some of them are getting integrated into the core **Windows** product and some **Office** products._\"\n\n<div style=\"text-align: right; margin-right: 10%;\">Kabir Khan - <strong>Microsoft</strong> <a href=\"https://github.com/fastapi/fastapi/pull/26\" target=\"_blank\"><small>(ref)</small></a></div>\n\n---\n\n\"_We adopted the **FastAPI** library to spawn a **REST** server that can be queried to obtain **predictions**. [for Ludwig]_\"\n\n<div style=\"text-align: right; margin-right: 10%;\">Piero Molino, Yaroslav Dudin, and Sai Sumanth Miryala - <strong>Uber</strong> <a href=\"https://eng.uber.com/ludwig-v0-2/\" target=\"_blank\"><small>(ref)</small></a></div>\n\n---\n\n\"_**Netflix** is pleased to announce the open-source release of our **crisis management** orchestration framework: **Dispatch**! [built with **FastAPI**]_\"\n\n<div style=\"text-align: right; margin-right: 10%;\">Kevin Glisson, Marc Vilanova, Forest Monsen - <strong>Netflix</strong> <a href=\"https://netflixtechblog.com/introducing-dispatch-da4b8a2a8072\" target=\"_blank\"><small>(ref)</small></a></div>\n\n---\n\n\"_I‚Äôm over the moon excited about **FastAPI**. It‚Äôs so fun!_\"\n\n<div style=\"text-align: right; margin-right: 10%;\">Brian Okken - <strong><a href=\"https://pythonbytes.fm/episodes/show/123/time-to-right-the-py-wrongs?time_in_sec=855\" target=\"_blank\">Python Bytes</a> podcast host</strong> <a href=\"https://x.com/brianokken/status/1112220079972728832\" target=\"_blank\"><small>(ref)</small></a></div>\n\n---\n\n\"_Honestly, what you've built looks super solid and polished. In many ways, it's what I wanted **Hug** to be - it's really inspiring to see someone build that._\"\n\n<div style=\"text-align: right; margin-right: 10%;\">Timothy Crosley - <strong><a href=\"https://github.com/hugapi/hug\" target=\"_blank\">Hug</a> creator</strong> <a href=\"https://news.ycombinator.com/item?id=19455465\" target=\"_blank\"><small>(ref)</small></a></div>\n\n---\n\n\"_If you're looking to learn one **modern framework** for building REST APIs, check out **FastAPI** [...] It's fast, easy to use and easy to learn [...]_\"\n\n\"_We've switched over to **FastAPI** for our **APIs** [...] I think you'll like it [...]_\"\n\n<div style=\"text-align: right; margin-right: 10%;\">Ines Montani - Matthew Honnibal - <strong><a href=\"https://explosion.ai\" target=\"_blank\">Explosion AI</a> founders - <a href=\"https://spacy.io\" target=\"_blank\">spaCy</a> creators</strong> <a href=\"https://x.com/_inesmontani/status/1144173225322143744\" target=\"_blank\"><small>(ref)</small></a> - <a href=\"https://x.com/honnibal/status/1144031421859655680\" target=\"_blank\"><small>(ref)</small></a></div>\n\n---\n\n\"_If anyone is looking to build a production Python API, I would highly recommend **FastAPI**. It is **beautifully designed**, **simple to use** and **highly scalable**, it has become a **key component** in our API first development strategy and is driving many automations and services such as our Virtual TAC Engineer._\"\n\n<div style=\"text-align: right; margin-right: 10%;\">Deon Pillsbury - <strong>Cisco</strong> <a href=\"https://www.linkedin.com/posts/deonpillsbury_cisco-cx-python-activity-6963242628536487936-trAp/\" target=\"_blank\"><small>(ref)</small></a></div>\n\n---", "source": "index.md"}
{"doc_id": "fastapi_0143", "title": "FastAPI { #fastapi }", "section": "**Typer**, the FastAPI of CLIs { #typer-the-fastapi-of-clis }", "content": "<a href=\"https://typer.tiangolo.com\" target=\"_blank\"><img src=\"https://typer.tiangolo.com/img/logo-margin/logo-margin-vector.svg\" style=\"width: 20%;\"></a>\n\nIf you are building a <abbr title=\"Command Line Interface\">CLI</abbr> app to be used in the terminal instead of a web API, check out <a href=\"https://typer.tiangolo.com/\" class=\"external-link\" target=\"_blank\">**Typer**</a>.\n\n**Typer** is FastAPI's little sibling. And it's intended to be the **FastAPI of CLIs**. ‚å®Ô∏è üöÄ", "source": "index.md"}
{"doc_id": "fastapi_0144", "title": "FastAPI { #fastapi }", "section": "Requirements { #requirements }", "content": "FastAPI stands on the shoulders of giants:\n\n* <a href=\"https://www.starlette.dev/\" class=\"external-link\" target=\"_blank\">Starlette</a> for the web parts.\n* <a href=\"https://docs.pydantic.dev/\" class=\"external-link\" target=\"_blank\">Pydantic</a> for the data parts.", "source": "index.md"}
{"doc_id": "fastapi_0145", "title": "FastAPI { #fastapi }", "section": "Installation { #installation }", "content": "Create and activate a <a href=\"https://fastapi.tiangolo.com/virtual-environments/\" class=\"external-link\" target=\"_blank\">virtual environment</a> and then install FastAPI:\n\n<div class=\"termy\">\n\n```console\n$ pip install \"fastapi[standard]\"\n\n---> 100%\n```\n\n</div>\n\n**Note**: Make sure you put `\"fastapi[standard]\"` in quotes to ensure it works in all terminals.", "source": "index.md"}
{"doc_id": "fastapi_0146", "title": "FastAPI { #fastapi }", "section": "Example { #example }", "content": "", "source": "index.md"}
{"doc_id": "fastapi_0147", "title": "FastAPI { #fastapi }", "section": "Create it { #create-it }", "content": "Create a file `main.py` with:\n\n```Python\nfrom typing import Union\n\nfrom fastapi import FastAPI\n\napp = FastAPI()\n\n\n@app.get(\"/\")\ndef read_root():\n    return {\"Hello\": \"World\"}\n\n\n@app.get(\"/items/{item_id}\")\ndef read_item(item_id: int, q: Union[str, None] = None):\n    return {\"item_id\": item_id, \"q\": q}\n```\n\n<details markdown=\"1\">\n<summary>Or use <code>async def</code>...</summary>\n\nIf your code uses `async` / `await`, use `async def`:\n\n```Python hl_lines=\"9  14\"\nfrom typing import Union\n\nfrom fastapi import FastAPI\n\napp = FastAPI()\n\n\n@app.get(\"/\")\nasync def read_root():\n    return {\"Hello\": \"World\"}\n\n\n@app.get(\"/items/{item_id}\")\nasync def read_item(item_id: int, q: Union[str, None] = None):\n    return {\"item_id\": item_id, \"q\": q}\n```\n\n**Note**:\n\nIf you don't know, check the _\"In a hurry?\"_ section about <a href=\"https://fastapi.tiangolo.com/async/#in-a-hurry\" target=\"_blank\">`async` and `await` in the docs</a>.\n\n</details>", "source": "index.md"}
{"doc_id": "fastapi_0148", "title": "FastAPI { #fastapi }", "section": "Run it { #run-it }", "content": "Run the server with:\n\n<div class=\"termy\">\n\n```console\n$ fastapi dev main.py\n\n ‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ FastAPI CLI - Development mode ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ\n ‚îÇ                                                     ‚îÇ\n ‚îÇ  Serving at: http://127.0.0.1:8000                  ‚îÇ\n ‚îÇ                                                     ‚îÇ\n ‚îÇ  API docs: http://127.0.0.1:8000/docs               ‚îÇ\n ‚îÇ                                                     ‚îÇ\n ‚îÇ  Running in development mode, for production use:   ‚îÇ\n ‚îÇ                                                     ‚îÇ\n ‚îÇ  fastapi run                                        ‚îÇ\n ‚îÇ                                                     ‚îÇ\n ‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ\n\nINFO:     Will watch for changes in these directories: ['/home/user/code/awesomeapp']\nINFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)\nINFO:     Started reloader process [2248755] using WatchFiles\nINFO:     Started server process [2248757]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\n```\n\n</div>\n\n<details markdown=\"1\">\n<summary>About the command <code>fastapi dev main.py</code>...</summary>\n\nThe command `fastapi dev` reads your `main.py` file, detects the **FastAPI** app in it, and starts a server using <a href=\"https://www.uvicorn.dev\" class=\"external-link\" target=\"_blank\">Uvicorn</a>.\n\nBy default, `fastapi dev` will start with auto-reload enabled for local development.\n\nYou can read more about it in the <a href=\"https://fastapi.tiangolo.com/fastapi-cli/\" target=\"_blank\">FastAPI CLI docs</a>.\n\n</details>", "source": "index.md"}
{"doc_id": "fastapi_0149", "title": "FastAPI { #fastapi }", "section": "Check it { #check-it }", "content": "Open your browser at <a href=\"http://127.0.0.1:8000/items/5?q=somequery\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/items/5?q=somequery</a>.\n\nYou will see the JSON response as:\n\n```JSON\n{\"item_id\": 5, \"q\": \"somequery\"}\n```\n\nYou already created an API that:\n\n* Receives HTTP requests in the _paths_ `/` and `/items/{item_id}`.\n* Both _paths_ take `GET` <em>operations</em> (also known as HTTP _methods_).\n* The _path_ `/items/{item_id}` has a _path parameter_ `item_id` that should be an `int`.\n* The _path_ `/items/{item_id}` has an optional `str` _query parameter_ `q`.", "source": "index.md"}
{"doc_id": "fastapi_0150", "title": "FastAPI { #fastapi }", "section": "Interactive API docs { #interactive-api-docs }", "content": "Now go to <a href=\"http://127.0.0.1:8000/docs\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/docs</a>.\n\nYou will see the automatic interactive API documentation (provided by <a href=\"https://github.com/swagger-api/swagger-ui\" class=\"external-link\" target=\"_blank\">Swagger UI</a>):\n\n![Swagger UI](https://fastapi.tiangolo.com/img/index/index-01-swagger-ui-simple.png)", "source": "index.md"}
{"doc_id": "fastapi_0151", "title": "FastAPI { #fastapi }", "section": "Alternative API docs { #alternative-api-docs }", "content": "And now, go to <a href=\"http://127.0.0.1:8000/redoc\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/redoc</a>.\n\nYou will see the alternative automatic documentation (provided by <a href=\"https://github.com/Rebilly/ReDoc\" class=\"external-link\" target=\"_blank\">ReDoc</a>):\n\n![ReDoc](https://fastapi.tiangolo.com/img/index/index-02-redoc-simple.png)", "source": "index.md"}
{"doc_id": "fastapi_0152", "title": "FastAPI { #fastapi }", "section": "Example upgrade { #example-upgrade }", "content": "Now modify the file `main.py` to receive a body from a `PUT` request.\n\nDeclare the body using standard Python types, thanks to Pydantic.\n\n```Python hl_lines=\"4  9-12  25-27\"\nfrom typing import Union\n\nfrom fastapi import FastAPI\nfrom pydantic import BaseModel\n\napp = FastAPI()\n\n\nclass Item(BaseModel):\n    name: str\n    price: float\n    is_offer: Union[bool, None] = None\n\n\n@app.get(\"/\")\ndef read_root():\n    return {\"Hello\": \"World\"}\n\n\n@app.get(\"/items/{item_id}\")\ndef read_item(item_id: int, q: Union[str, None] = None):\n    return {\"item_id\": item_id, \"q\": q}\n\n\n@app.put(\"/items/{item_id}\")\ndef update_item(item_id: int, item: Item):\n    return {\"item_name\": item.name, \"item_id\": item_id}\n```\n\nThe `fastapi dev` server should reload automatically.", "source": "index.md"}
{"doc_id": "fastapi_0153", "title": "FastAPI { #fastapi }", "section": "Interactive API docs upgrade { #interactive-api-docs-upgrade }", "content": "Now go to <a href=\"http://127.0.0.1:8000/docs\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/docs</a>.\n\n* The interactive API documentation will be automatically updated, including the new body:\n\n![Swagger UI](https://fastapi.tiangolo.com/img/index/index-03-swagger-02.png)\n\n* Click on the button \"Try it out\", it allows you to fill the parameters and directly interact with the API:\n\n![Swagger UI interaction](https://fastapi.tiangolo.com/img/index/index-04-swagger-03.png)\n\n* Then click on the \"Execute\" button, the user interface will communicate with your API, send the parameters, get the results and show them on the screen:\n\n![Swagger UI interaction](https://fastapi.tiangolo.com/img/index/index-05-swagger-04.png)", "source": "index.md"}
{"doc_id": "fastapi_0154", "title": "FastAPI { #fastapi }", "section": "Alternative API docs upgrade { #alternative-api-docs-upgrade }", "content": "And now, go to <a href=\"http://127.0.0.1:8000/redoc\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/redoc</a>.\n\n* The alternative documentation will also reflect the new query parameter and body:\n\n![ReDoc](https://fastapi.tiangolo.com/img/index/index-06-redoc-02.png)", "source": "index.md"}
{"doc_id": "fastapi_0155", "title": "FastAPI { #fastapi }", "section": "Recap { #recap }", "content": "In summary, you declare **once** the types of parameters, body, etc. as function parameters.\n\nYou do that with standard modern Python types.\n\nYou don't have to learn a new syntax, the methods or classes of a specific library, etc.\n\nJust standard **Python**.\n\nFor example, for an `int`:\n\n```Python\nitem_id: int\n```\n\nor for a more complex `Item` model:\n\n```Python\nitem: Item\n```\n\n...and with that single declaration you get:\n\n* Editor support, including:\n    * Completion.\n    * Type checks.\n* Validation of data:\n    * Automatic and clear errors when the data is invalid.\n    * Validation even for deeply nested JSON objects.\n* <abbr title=\"also known as: serialization, parsing, marshalling\">Conversion</abbr> of input data: coming from the network to Python data and types. Reading from:\n    * JSON.\n    * Path parameters.\n    * Query parameters.\n    * Cookies.\n    * Headers.\n    * Forms.\n    * Files.\n* <abbr title=\"also known as: serialization, parsing, marshalling\">Conversion</abbr> of output data: converting from Python data and types to network data (as JSON):\n    * Convert Python types (`str`, `int`, `float`, `bool`, `list`, etc).\n    * `datetime` objects.\n    * `UUID` objects.\n    * Database models.\n    * ...and many more.\n* Automatic interactive API documentation, including 2 alternative user interfaces:\n    * Swagger UI.\n    * ReDoc.\n\n---\n\nComing back to the previous code example, **FastAPI** will:\n\n* Validate that there is an `item_id` in the path for `GET` and `PUT` requests.\n* Validate that the `item_id` is of type `int` for `GET` and `PUT` requests.\n    * If it is not, the client will see a useful, clear error.\n* Check if there is an optional query parameter named `q` (as in `http://127.0.0.1:8000/items/foo?q=somequery`) for `GET` requests.\n    * As the `q` parameter is declared with `= None`, it is optional.\n    * Without the `None` it would be required (as is the body in the case with `PUT`).\n* For `PUT` requests to `/items/{item_id}`, read the body as JSON:\n    * Check that it has a required attribute `name` that should be a `str`.\n    * Check that it has a required attribute `price` that has to be a `float`.\n    * Check that it has an optional attribute `is_offer`, that should be a `bool`, if present.\n    * All this would also work for deeply nested JSON objects.\n* Convert from and to JSON automatically.\n* Document everything with OpenAPI, that can be used by:\n    * Interactive documentation systems.\n    * Automatic client code generation systems, for many languages.\n* Provide 2 interactive documentation web interfaces directly.\n\n---\n\nWe just scratched the surface, but you already get the idea of how it all works.\n\nTry changing the line with:\n\n```Python\n    return {\"item_name\": item.name, \"item_id\": item_id}\n```\n\n...from:\n\n```Python\n        ... \"item_name\": item.name ...\n```\n\n...to:\n\n```Python\n        ... \"item_price\": item.price ...\n```\n\n...and see how your editor will auto-complete the attributes and know their types:\n\n![editor support](https://fastapi.tiangolo.com/img/vscode-completion.png)\n\nFor a more complete example including more features, see the <a href=\"https://fastapi.tiangolo.com/tutorial/\">Tutorial - User Guide</a>.\n\n**Spoiler alert**: the tutorial - user guide includes:\n\n* Declaration of **parameters** from other different places as: **headers**, **cookies**, **form fields** and **files**.\n* How to set **validation constraints** as `maximum_length` or `regex`.\n* A very powerful and easy to use **<abbr title=\"also known as components, resources, providers, services, injectables\">Dependency Injection</abbr>** system.\n* Security and authentication, including support for **OAuth2** with **JWT tokens** and **HTTP Basic** auth.\n* More advanced (but equally easy) techniques for declaring **deeply nested JSON models** (thanks to Pydantic).\n* **GraphQL** integration with <a href=\"https://strawberry.rocks\" class=\"external-link\" target=\"_blank\">Strawberry</a> and other libraries.\n* Many extra features (thanks to Starlette) as:\n    * **WebSockets**\n    * extremely easy tests based on HTTPX and `pytest`\n    * **CORS**\n    * **Cookie Sessions**\n    * ...and more.", "source": "index.md"}
{"doc_id": "fastapi_0156", "title": "FastAPI { #fastapi }", "section": "Deploy your app (optional) { #deploy-your-app-optional }", "content": "You can optionally deploy your FastAPI app to <a href=\"https://fastapicloud.com\" class=\"external-link\" target=\"_blank\">FastAPI Cloud</a>, go and join the waiting list if you haven't. üöÄ\n\nIf you already have a **FastAPI Cloud** account (we invited you from the waiting list üòâ), you can deploy your application with one command.\n\nBefore deploying, make sure you are logged in:\n\n<div class=\"termy\">\n\n```console\n$ fastapi login\n\nYou are logged in to FastAPI Cloud üöÄ\n```\n\n</div>\n\nThen deploy your app:\n\n<div class=\"termy\">\n\n```console\n$ fastapi deploy\n\nDeploying to FastAPI Cloud...\n\n‚úÖ Deployment successful!\n\nüêî Ready the chicken! Your app is ready at https://myapp.fastapicloud.dev\n```\n\n</div>\n\nThat's it! Now you can access your app at that URL. ‚ú®\n\n#### About FastAPI Cloud { #about-fastapi-cloud }\n\n**<a href=\"https://fastapicloud.com\" class=\"external-link\" target=\"_blank\">FastAPI Cloud</a>** is built by the same author and team behind **FastAPI**.\n\nIt streamlines the process of **building**, **deploying**, and **accessing** an API with minimal effort.\n\nIt brings the same **developer experience** of building apps with FastAPI to **deploying** them to the cloud. üéâ\n\nFastAPI Cloud is the primary sponsor and funding provider for the *FastAPI and friends* open source projects. ‚ú®\n\n#### Deploy to other cloud providers { #deploy-to-other-cloud-providers }\n\nFastAPI is open source and based on standards. You can deploy FastAPI apps to any cloud provider you choose.\n\nFollow your cloud provider's guides to deploy FastAPI apps with them. ü§ì", "source": "index.md"}
{"doc_id": "fastapi_0157", "title": "FastAPI { #fastapi }", "section": "Performance { #performance }", "content": "Independent TechEmpower benchmarks show **FastAPI** applications running under Uvicorn as <a href=\"https://www.techempower.com/benchmarks/#section=test&runid=7464e520-0dc2-473d-bd34-dbdfd7e85911&hw=ph&test=query&l=zijzen-7\" class=\"external-link\" target=\"_blank\">one of the fastest Python frameworks available</a>, only below Starlette and Uvicorn themselves (used internally by FastAPI). (*)\n\nTo understand more about it, see the section <a href=\"https://fastapi.tiangolo.com/benchmarks/\" class=\"internal-link\" target=\"_blank\">Benchmarks</a>.", "source": "index.md"}
{"doc_id": "fastapi_0158", "title": "FastAPI { #fastapi }", "section": "Dependencies { #dependencies }", "content": "FastAPI depends on Pydantic and Starlette.", "source": "index.md"}
{"doc_id": "fastapi_0159", "title": "FastAPI { #fastapi }", "section": "`standard` Dependencies { #standard-dependencies }", "content": "When you install FastAPI with `pip install \"fastapi[standard]\"` it comes with the `standard` group of optional dependencies:\n\nUsed by Pydantic:\n\n* <a href=\"https://github.com/JoshData/python-email-validator\" target=\"_blank\"><code>email-validator</code></a> - for email validation.\n\nUsed by Starlette:\n\n* <a href=\"https://www.python-httpx.org\" target=\"_blank\"><code>httpx</code></a> - Required if you want to use the `TestClient`.\n* <a href=\"https://jinja.palletsprojects.com\" target=\"_blank\"><code>jinja2</code></a> - Required if you want to use the default template configuration.\n* <a href=\"https://github.com/Kludex/python-multipart\" target=\"_blank\"><code>python-multipart</code></a> - Required if you want to support form <abbr title=\"converting the string that comes from an HTTP request into Python data\">\"parsing\"</abbr>, with `request.form()`.\n\nUsed by FastAPI:\n\n* <a href=\"https://www.uvicorn.dev\" target=\"_blank\"><code>uvicorn</code></a> - for the server that loads and serves your application. This includes `uvicorn[standard]`, which includes some dependencies (e.g. `uvloop`) needed for high performance serving.\n* `fastapi-cli[standard]` - to provide the `fastapi` command.\n    * This includes `fastapi-cloud-cli`, which allows you to deploy your FastAPI application to <a href=\"https://fastapicloud.com\" class=\"external-link\" target=\"_blank\">FastAPI Cloud</a>.", "source": "index.md"}
{"doc_id": "fastapi_0160", "title": "FastAPI { #fastapi }", "section": "Without `standard` Dependencies { #without-standard-dependencies }", "content": "If you don't want to include the `standard` optional dependencies, you can install with `pip install fastapi` instead of `pip install \"fastapi[standard]\"`.", "source": "index.md"}
{"doc_id": "fastapi_0161", "title": "FastAPI { #fastapi }", "section": "Without `fastapi-cloud-cli` { #without-fastapi-cloud-cli }", "content": "If you want to install FastAPI with the standard dependencies but without the `fastapi-cloud-cli`, you can install with `pip install \"fastapi[standard-no-fastapi-cloud-cli]\"`.", "source": "index.md"}
{"doc_id": "fastapi_0162", "title": "FastAPI { #fastapi }", "section": "Additional Optional Dependencies { #additional-optional-dependencies }", "content": "There are some additional dependencies you might want to install.\n\nAdditional optional Pydantic dependencies:\n\n* <a href=\"https://docs.pydantic.dev/latest/usage/pydantic_settings/\" target=\"_blank\"><code>pydantic-settings</code></a> - for settings management.\n* <a href=\"https://docs.pydantic.dev/latest/usage/types/extra_types/extra_types/\" target=\"_blank\"><code>pydantic-extra-types</code></a> - for extra types to be used with Pydantic.\n\nAdditional optional FastAPI dependencies:\n\n* <a href=\"https://github.com/ijl/orjson\" target=\"_blank\"><code>orjson</code></a> - Required if you want to use `ORJSONResponse`.\n* <a href=\"https://github.com/esnme/ultrajson\" target=\"_blank\"><code>ujson</code></a> - Required if you want to use `UJSONResponse`.", "source": "index.md"}
{"doc_id": "fastapi_0163", "title": "FastAPI { #fastapi }", "section": "License { #license }", "content": "This project is licensed under the terms of the MIT license.", "source": "index.md"}
{"doc_id": "fastapi_0164", "title": "Repository Management Tasks", "section": "Repository Management Tasks", "content": "These are the tasks that can be performed to manage the FastAPI repository by [team members](./fastapi-people.md#team){.internal-link target=_blank}.\n\n/// tip\n\nThis section is useful only to a handful of people, team members with permissions to manage the repository. You can probably skip it. üòâ\n\n///\n\n...so, you are a [team member of FastAPI](./fastapi-people.md#team){.internal-link target=_blank}? Wow, you are so cool! üòé\n\nYou can help with everything on [Help FastAPI - Get Help](./help-fastapi.md){.internal-link target=_blank} the same ways as external contributors. But additionally, there are some tasks that only you (as part of the team) can perform.\n\nHere are the general instructions for the tasks you can perform.\n\nThanks a lot for your help. üôá", "source": "management-tasks.md"}
{"doc_id": "fastapi_0165", "title": "Repository Management Tasks", "section": "Be Nice", "content": "First of all, be nice. üòä\n\nYou probably are super nice if you were added to the team, but it's worth mentioning it. ü§ì", "source": "management-tasks.md"}
{"doc_id": "fastapi_0166", "title": "Repository Management Tasks", "section": "When Things are Difficult", "content": "When things are great, everything is easier, so that doesn't need much instructions. But when things are difficult, here are some guidelines.\n\nTry to find the good side. In general, if people are not being unfriendly, try to thank their effort and interest, even if you disagree with the main subject (discussion, PR), just thank them for being interested in the project, or for having dedicated some time to try to do something.\n\nIt's difficult to convey emotion in text, use emojis to help. üòÖ\n\nIn discussions and PRs, in many cases, people bring their frustration and show it without filter, in many cases exaggerating, complaining, being entitled, etc. That's really not nice, and when it happens, it lowers our priority to solve their problems. But still, try to breath, and be gentle with your answers.\n\nTry to avoid using bitter sarcasm or potentially passive-aggressive comments. If something is wrong, it's better to be direct (try to be gentle) than sarcastic.\n\nTry to be as specific and objective as possible, avoid generalizations.\n\nFor conversations that are more difficult, for example to reject a PR, you can ask me (@tiangolo) to handle it directly.", "source": "management-tasks.md"}
{"doc_id": "fastapi_0167", "title": "Repository Management Tasks", "section": "Edit PR Titles", "content": "* Edit the PR title to start with an emoji from <a href=\"https://gitmoji.dev/\" class=\"external-link\" target=\"_blank\">gitmoji</a>.\n    * Use the emoji character, not the GitHub code. So, use `üêõ` instead of `:bug:`. This is so that it shows up correctly outside of GitHub, for example in the release notes.\n    * For translations use the `üåê` emoji (\"globe with meridians\").\n* Start the title with a verb. For example `Add`, `Refactor`, `Fix`, etc. This way the title will say the action that the PR does. Like `Add support for teleporting`, instead of `Teleporting wasn't working, so this PR fixes it`.\n* Edit the text of the PR title to start in \"imperative\", like giving an order. So, instead of `Adding support for teleporting` use `Add support for teleporting`.\n* Try to make the title descriptive about what it achieves. If it's a feature, try to describe it, for example `Add support for teleporting` instead of `Create TeleportAdapter class`.\n* Do not finish the title with a period (`.`).\n* When the PR is for a translation, start with the `üåê` and then `Add {language} translation for` and then the translated file path. For example:\n\n```Markdown\nüåê Add Spanish translation for `docs/es/docs/teleporting.md`\n```\n\nOnce the PR is merged, a GitHub Action (<a href=\"https://github.com/tiangolo/latest-changes\" class=\"external-link\" target=\"_blank\">latest-changes</a>) will use the PR title to update the latest changes automatically.\n\nSo, having a nice PR title will not only look nice in GitHub, but also in the release notes. üìù", "source": "management-tasks.md"}
{"doc_id": "fastapi_0168", "title": "Repository Management Tasks", "section": "Add Labels to PRs", "content": "The same GitHub Action <a href=\"https://github.com/tiangolo/latest-changes\" class=\"external-link\" target=\"_blank\">latest-changes</a> uses one label in the PR to decide the section in the release notes to put this PR in.\n\nMake sure you use a supported label from the <a href=\"https://github.com/tiangolo/latest-changes#using-labels\" class=\"external-link\" target=\"_blank\">latest-changes list of labels</a>:\n\n* `breaking`: Breaking Changes\n    * Existing code will break if they update the version without changing their code. This rarely happens, so this label is not frequently used.\n* `security`: Security Fixes\n    * This is for security fixes, like vulnerabilities. It would almost never be used.\n* `feature`: Features\n    * New features, adding support for things that didn't exist before.\n* `bug`: Fixes\n    * Something that was supported didn't work, and this fixes it. There are many PRs that claim to be bug fixes because the user is doing something in an unexpected way that is not supported, but they considered it what should be supported by default. Many of these are actually features or refactors. But in some cases there's an actual bug.\n* `refactor`: Refactors\n    * This is normally for changes to the internal code that don't change the behavior. Normally it improves maintainability, or enables future features, etc.\n* `upgrade`: Upgrades\n    * This is for upgrades to direct dependencies from the project, or extra optional dependencies, normally in `pyproject.toml`. So, things that would affect final users, they would end up receiving the upgrade in their code base once they update. But this is not for upgrades to internal dependencies used for development, testing, docs, etc. Those internal dependencies, normally in `requirements.txt` files or GitHub Action versions should be marked as `internal`, not `upgrade`.\n* `docs`: Docs\n    * Changes in docs. This includes updating the docs, fixing typos. But it doesn't include changes to translations.\n    * You can normally quickly detect it by going to the \"Files changed\" tab in the PR and checking if the updated file(s) starts with `docs/en/docs`. The original version of the docs is always in English, so in `docs/en/docs`.\n* `lang-all`: Translations\n    * Use this for translations. You can normally quickly detect it by going to the \"Files changed\" tab in the PR and checking if the updated file(s) starts with `docs/{some lang}/docs` but not `docs/en/docs`. For example, `docs/es/docs`.\n* `internal`: Internal\n    * Use this for changes that only affect how the repo is managed. For example upgrades to internal dependencies, changes in GitHub Actions or scripts, etc.\n\n/// tip\n\nSome tools like Dependabot, will add some labels, like `dependencies`, but have in mind that this label is not used by the `latest-changes` GitHub Action, so it won't be used in the release notes. Please make sure one of the labels above is added.\n\n///", "source": "management-tasks.md"}
{"doc_id": "fastapi_0169", "title": "Repository Management Tasks", "section": "Add Labels to Translation PRs", "content": "When there's a PR for a translation, apart from adding the `lang-all` label, also add a label for the language.\n\nThere will be a label for each language using the language code, like `lang-{lang code}`, for example, `lang-es` for Spanish, `lang-fr` for French, etc.\n\n* Add the specific language label.\n* Add the label `awaiting-review`.\n\nThe label `awaiting-review` is special, only used for translations. A GitHub Action will detect it, then it will read the language label, and it will update the GitHub Discussions managing the translations for that language to notify people that there's a new translation to review.\n\nOnce a native speaker comes, reviews the PR, and approves it, the GitHub Action will come and remove the `awaiting-review` label, and add the `approved-1` label.\n\nThis way, we can notice when there are new translations ready, because they have the `approved-1` label.", "source": "management-tasks.md"}
{"doc_id": "fastapi_0170", "title": "Repository Management Tasks", "section": "Merge Translation PRs", "content": "For Spanish, as I'm a native speaker and it's a language close to me, I will give it a final review myself and in most cases tweak the PR a bit before merging it.\n\nFor the other languages, confirm that:\n\n* The title is correct following the instructions above.\n* It has the labels `lang-all` and `lang-{lang code}`.\n* The PR changes only one Markdown file adding a translation.\n    * Or in some cases, at most two files, if they are small, for the same language, and people reviewed them.\n    * If it's the first translation for that language, it will have additional `mkdocs.yml` files, for those cases follow the instructions below.\n* The PR doesn't add any additional or extraneous files.\n* The translation seems to have a similar structure as the original English file.\n* The translation doesn't seem to change the original content, for example with obvious additional documentation sections.\n* The translation doesn't use different Markdown structures, for example adding HTML tags when the original didn't have them.\n* The \"admonition\" sections, like `tip`, `info`, etc. are not changed or translated. For example:\n\n```\n/// tip\n\nThis is a tip.\n\n///\n\n```\n\nlooks like this:\n\n/// tip\n\nThis is a tip.\n\n///\n\n...it could be translated as:\n\n```\n/// tip\n\nEsto es un consejo.\n\n///\n\n```\n\n...but needs to keep the exact `tip` keyword. If it was translated to `consejo`, like:\n\n```\n/// consejo\n\nEsto es un consejo.\n\n///\n\n```\n\nit would change the style to the default one, it would look like:\n\n/// consejo\n\nEsto es un consejo.\n\n///\n\nThose don't have to be translated, but if they are, they need to be written as:\n\n```\n/// tip | consejo\n\nEsto es un consejo.\n\n///\n\n```\n\nWhich looks like:\n\n/// tip | consejo\n\nEsto es un consejo.\n\n///", "source": "management-tasks.md"}
{"doc_id": "fastapi_0171", "title": "Repository Management Tasks", "section": "First Translation PR", "content": "When there's a first translation for a language, it will have a `docs/{lang code}/docs/index.md` translated file and a `docs/{lang code}/mkdocs.yml`.\n\nFor example, for Bosnian, it would be:\n\n* `docs/bs/docs/index.md`\n* `docs/bs/mkdocs.yml`\n\nThe `mkdocs.yml` file will have only the following content:\n\n```YAML\nINHERIT: ../en/mkdocs.yml\n```\n\nThe language code would normally be in the <a href=\"https://en.wikipedia.org/wiki/List_of_ISO_639_language_codes\" class=\"external-link\" target=\"_blank\">ISO 639-1 list of language codes</a>.\n\nIn any case, the language code should be in the file <a href=\"https://github.com/fastapi/fastapi/blob/master/docs/language_names.yml\" class=\"external-link\" target=\"_blank\">docs/language_names.yml</a>.\n\nThere won't be yet a label for the language code, for example, if it was Bosnian, there wouldn't be a `lang-bs`. Before creating the label and adding it to the PR, create the GitHub Discussion:\n\n* Go to the <a href=\"https://github.com/fastapi/fastapi/discussions/categories/translations\" class=\"external-link\" target=\"_blank\">Translations GitHub Discussions</a>\n* Create a new discussion with the title `Bosnian Translations` (or the language name in English)\n* A description of:\n\n```Markdown", "source": "management-tasks.md"}
{"doc_id": "fastapi_0172", "title": "Repository Management Tasks", "section": "Bosnian translations", "content": "This is the issue to track translations of the docs to Bosnian. üöÄ\n\nHere are the [PRs to review with the label `lang-bs`](https://github.com/fastapi/fastapi/pulls?q=is%3Apr+is%3Aopen+sort%3Aupdated-desc+label%3Alang-bs+label%3A%22awaiting-review%22). ü§ì\n```\n\nUpdate \"Bosnian\" with the new language.\n\nAnd update the search link to point to the new language label that will be created, like `lang-bs`.\n\nCreate and add the label to that new Discussion just created, like `lang-bs`.\n\nThen go back to the PR, and add the label, like `lang-bs`, and `lang-all` and `awaiting-review`.\n\nNow the GitHub action will automatically detect the label `lang-bs` and will post in that Discussion that this PR is waiting to be reviewed.", "source": "management-tasks.md"}
{"doc_id": "fastapi_0173", "title": "Repository Management Tasks", "section": "Review PRs", "content": "If a PR doesn't explain what it does or why, ask for more information.\n\nA PR should have a specific use case that it is solving.\n\n* If the PR is for a feature, it should have docs.\n    * Unless it's a feature we want to discourage, like support for a corner case that we don't want users to use.\n* The docs should include a source example file, not write Python directly in Markdown.\n* If the source example(s) file can have different syntax for Python 3.8, 3.9, 3.10, there should be different versions of the file, and they should be shown in tabs in the docs.\n* There should be tests testing the source example.\n* Before the PR is applied, the new tests should fail.\n* After applying the PR, the new tests should pass.\n* Coverage should stay at 100%.\n* If you see the PR makes sense, or we discussed it and considered it should be accepted, you can add commits on top of the PR to tweak it, to add docs, tests, format, refactor, remove extra files, etc.\n* Feel free to comment in the PR to ask for more information, to suggest changes, etc.\n* Once you think the PR is ready, move it in the internal GitHub project for me to review it.", "source": "management-tasks.md"}
{"doc_id": "fastapi_0174", "title": "Repository Management Tasks", "section": "FastAPI People PRs", "content": "Every month, a GitHub Action updates the FastAPI People data. Those PRs look like this one: <a href=\"https://github.com/fastapi/fastapi/pull/11669\" class=\"external-link\" target=\"_blank\">üë• Update FastAPI People</a>.\n\nIf the tests are passing, you can merge it right away.", "source": "management-tasks.md"}
{"doc_id": "fastapi_0175", "title": "Repository Management Tasks", "section": "External Links PRs", "content": "When people add external links they edit this file <a href=\"https://github.com/fastapi/fastapi/blob/master/docs/en/data/external_links.yml\" class=\"external-link\" target=\"_blank\">external_links.yml</a>.\n\n* Make sure the new link is in the correct category (e.g. \"Podcasts\") and language (e.g. \"Japanese\").\n* A new link should be at the top of its list.\n* The link URL should work (it should not return a 404).\n* The content of the link should be about FastAPI.\n* The new addition should have these fields:\n    * `author`: The name of the author.\n    * `link`: The URL with the content.\n    * `title`: The title of the link (the title of the article, podcast, etc).\n\nAfter checking all these things and ensuring the PR has the right labels, you can merge it.", "source": "management-tasks.md"}
{"doc_id": "fastapi_0176", "title": "Repository Management Tasks", "section": "Dependabot PRs", "content": "Dependabot will create PRs to update dependencies for several things, and those PRs all look similar, but some are way more delicate than others.\n\n* If the PR is for a direct dependency, so, Dependabot is modifying `pyproject.toml`, **don't merge it**. üò± Let me check it first. There's a good chance that some additional tweaks or updates are needed.\n* If the PR updates one of the internal dependencies, for example it's modifying `requirements.txt` files, or GitHub Action versions, if the tests are passing, the release notes (shown in a summary in the PR) don't show any obvious potential breaking change, you can merge it. üòé", "source": "management-tasks.md"}
{"doc_id": "fastapi_0177", "title": "Repository Management Tasks", "section": "Mark GitHub Discussions Answers", "content": "When a question in GitHub Discussions has been answered, mark the answer by clicking \"Mark as answer\".\n\nYou can filter discussions by <a href=\"https://github.com/tiangolo/fastapi/discussions/categories/questions?discussions_q=category:Questions+is:open+is:unanswered\" class=\"external-link\" target=\"_blank\">`Questions` that are `Unanswered`</a>.", "source": "management-tasks.md"}
{"doc_id": "fastapi_0178", "title": "Repository Management", "section": "Repository Management", "content": "Here's a short description of how the FastAPI repository is managed and maintained.", "source": "management.md"}
{"doc_id": "fastapi_0179", "title": "Repository Management", "section": "Owner", "content": "I, <a href=\"https://github.com/tiangolo\" target=\"_blank\">@tiangolo</a>, am the creator and owner of the FastAPI repository. ü§ì\n\nI normally give the final review to each PR before merging them. I make the final decisions on the project, I'm the <a href=\"https://en.wikipedia.org/wiki/Benevolent_dictator_for_life\" class=\"external-link\" target=\"_blank\"><abbr title=\"Benevolent Dictator For Life\">BDFL</abbr></a>. üòÖ", "source": "management.md"}
{"doc_id": "fastapi_0180", "title": "Repository Management", "section": "Team", "content": "There's a team of people that help manage and maintain the project. üòé\n\nThey have different levels of permissions and [specific instructions](./management-tasks.md){.internal-link target=_blank}.\n\nSome of the tasks they can perform include:\n\n* Adding labels to PRs.\n* Editing PR titles.\n* Adding commits on top of PRs to tweak them.\n* Mark answers in GitHub Discussions questions, etc.\n* Merge some specific types of PRs.\n\nYou can see the current team members in [FastAPI People - Team](./fastapi-people.md#team){.internal-link target=_blank}.\n\nJoining the team is by invitation only, and I could update or remove permissions, instructions, or membership.", "source": "management.md"}
{"doc_id": "fastapi_0181", "title": "Repository Management", "section": "FastAPI Experts", "content": "The people that help others the most in GitHub Discussions can become [**FastAPI Experts**](./fastapi-people.md#fastapi-experts){.internal-link target=_blank}.\n\nThis is normally the best way to contribute to the project.", "source": "management.md"}
{"doc_id": "fastapi_0182", "title": "Repository Management", "section": "External Contributions", "content": "External contributions are very welcome and appreciated, including answering questions, submitting PRs, etc. üôá‚Äç‚ôÇÔ∏è\n\nThere are many ways to [help maintain FastAPI](./help-fastapi.md#help-maintain-fastapi){.internal-link target=_blank}.", "source": "management.md"}
{"doc_id": "fastapi_0183", "title": "FastAPI and friends newsletter", "section": "FastAPI and friends newsletter", "content": "<iframe data-w-type=\"embedded\" frameborder=\"0\" scrolling=\"no\" marginheight=\"0\" marginwidth=\"0\" src=\"https://xr4n4.mjt.lu/wgt/xr4n4/hj5/form?c=40a44fa4\" width=\"100%\" style=\"height: 800px;\"></iframe>\n\n<script type=\"text/javascript\" src=\"https://app.mailjet.com/pas-nc-embedded-v1.js\"></script>", "source": "newsletter.md"}
{"doc_id": "fastapi_0184", "title": "Full Stack FastAPI Template { #full-stack-fastapi-template }", "section": "Full Stack FastAPI Template { #full-stack-fastapi-template }", "content": "Templates, while typically come with a specific setup, are designed to be flexible and customizable. This allows you to modify and adapt them to your project's requirements, making them an excellent starting point. üèÅ\n\nYou can use this template to get started, as it includes a lot of the initial set up, security, database and some API endpoints already done for you.\n\nGitHub Repository: <a href=\"https://github.com/tiangolo/full-stack-fastapi-template\" class=\"external-link\" target=\"_blank\">Full Stack FastAPI Template</a>", "source": "project-generation.md"}
{"doc_id": "fastapi_0185", "title": "Full Stack FastAPI Template { #full-stack-fastapi-template }", "section": "Full Stack FastAPI Template - Technology Stack and Features { #full-stack-fastapi-template-technology-stack-and-features }", "content": "- ‚ö° [**FastAPI**](https://fastapi.tiangolo.com) for the Python backend API.\n    - üß∞ [SQLModel](https://sqlmodel.tiangolo.com) for the Python SQL database interactions (ORM).\n    - üîç [Pydantic](https://docs.pydantic.dev), used by FastAPI, for the data validation and settings management.\n    - üíæ [PostgreSQL](https://www.postgresql.org) as the SQL database.\n- üöÄ [React](https://react.dev) for the frontend.\n    - üíÉ Using TypeScript, hooks, [Vite](https://vitejs.dev), and other parts of a modern frontend stack.\n    - üé® [Chakra UI](https://chakra-ui.com) for the frontend components.\n    - ü§ñ An automatically generated frontend client.\n    - üß™ [Playwright](https://playwright.dev) for End-to-End testing.\n    - ü¶á Dark mode support.\n- üêã [Docker Compose](https://www.docker.com) for development and production.\n- üîí Secure password hashing by default.\n- üîë JWT token authentication.\n- üì´ Email based password recovery.\n- ‚úÖ Tests with [Pytest](https://pytest.org).\n- üìû [Traefik](https://traefik.io) as a reverse proxy / load balancer.\n- üö¢ Deployment instructions using Docker Compose, including how to set up a frontend Traefik proxy to handle automatic HTTPS certificates.\n- üè≠ CI (continuous integration) and CD (continuous deployment) based on GitHub Actions.", "source": "project-generation.md"}
{"doc_id": "fastapi_0186", "title": "Python Types Intro { #python-types-intro }", "section": "Python Types Intro { #python-types-intro }", "content": "Python has support for optional \"type hints\" (also called \"type annotations\").\n\nThese **\"type hints\"** or annotations are a special syntax that allow declaring the <abbr title=\"for example: str, int, float, bool\">type</abbr> of a variable.\n\nBy declaring types for your variables, editors and tools can give you better support.\n\nThis is just a **quick tutorial / refresher** about Python type hints. It covers only the minimum necessary to use them with **FastAPI**... which is actually very little.\n\n**FastAPI** is all based on these type hints, they give it many advantages and benefits.\n\nBut even if you never use **FastAPI**, you would benefit from learning a bit about them.\n\n/// note\n\nIf you are a Python expert, and you already know everything about type hints, skip to the next chapter.\n\n///", "source": "python-types.md"}
{"doc_id": "fastapi_0187", "title": "Python Types Intro { #python-types-intro }", "section": "Motivation { #motivation }", "content": "Let's start with a simple example:\n\n{* ../../docs_src/python_types/tutorial001.py *}\n\nCalling this program outputs:\n\n```\nJohn Doe\n```\n\nThe function does the following:\n\n* Takes a `first_name` and `last_name`.\n* Converts the first letter of each one to upper case with `title()`.\n* <abbr title=\"Puts them together, as one. With the contents of one after the other.\">Concatenates</abbr> them with a space in the middle.\n\n{* ../../docs_src/python_types/tutorial001.py hl[2] *}", "source": "python-types.md"}
{"doc_id": "fastapi_0188", "title": "Python Types Intro { #python-types-intro }", "section": "Edit it { #edit-it }", "content": "It's a very simple program.\n\nBut now imagine that you were writing it from scratch.\n\nAt some point you would have started the definition of the function, you had the parameters ready...\n\nBut then you have to call \"that method that converts the first letter to upper case\".\n\nWas it `upper`? Was it `uppercase`? `first_uppercase`? `capitalize`?\n\nThen, you try with the old programmer's friend, editor autocompletion.\n\nYou type the first parameter of the function, `first_name`, then a dot (`.`) and then hit `Ctrl+Space` to trigger the completion.\n\nBut, sadly, you get nothing useful:\n\n<img src=\"/img/python-types/image01.png\">", "source": "python-types.md"}
{"doc_id": "fastapi_0189", "title": "Python Types Intro { #python-types-intro }", "section": "Add types { #add-types }", "content": "Let's modify a single line from the previous version.\n\nWe will change exactly this fragment, the parameters of the function, from:\n\n```Python\n    first_name, last_name\n```\n\nto:\n\n```Python\n    first_name: str, last_name: str\n```\n\nThat's it.\n\nThose are the \"type hints\":\n\n{* ../../docs_src/python_types/tutorial002.py hl[1] *}\n\nThat is not the same as declaring default values like would be with:\n\n```Python\n    first_name=\"john\", last_name=\"doe\"\n```\n\nIt's a different thing.\n\nWe are using colons (`:`), not equals (`=`).\n\nAnd adding type hints normally doesn't change what happens from what would happen without them.\n\nBut now, imagine you are again in the middle of creating that function, but with type hints.\n\nAt the same point, you try to trigger the autocomplete with `Ctrl+Space` and you see:\n\n<img src=\"/img/python-types/image02.png\">\n\nWith that, you can scroll, seeing the options, until you find the one that \"rings a bell\":\n\n<img src=\"/img/python-types/image03.png\">", "source": "python-types.md"}
{"doc_id": "fastapi_0190", "title": "Python Types Intro { #python-types-intro }", "section": "More motivation { #more-motivation }", "content": "Check this function, it already has type hints:\n\n{* ../../docs_src/python_types/tutorial003.py hl[1] *}\n\nBecause the editor knows the types of the variables, you don't only get completion, you also get error checks:\n\n<img src=\"/img/python-types/image04.png\">\n\nNow you know that you have to fix it, convert `age` to a string with `str(age)`:\n\n{* ../../docs_src/python_types/tutorial004.py hl[2] *}", "source": "python-types.md"}
{"doc_id": "fastapi_0191", "title": "Python Types Intro { #python-types-intro }", "section": "Declaring types { #declaring-types }", "content": "You just saw the main place to declare type hints. As function parameters.\n\nThis is also the main place you would use them with **FastAPI**.", "source": "python-types.md"}
{"doc_id": "fastapi_0192", "title": "Python Types Intro { #python-types-intro }", "section": "Simple types { #simple-types }", "content": "You can declare all the standard Python types, not only `str`.\n\nYou can use, for example:\n\n* `int`\n* `float`\n* `bool`\n* `bytes`\n\n{* ../../docs_src/python_types/tutorial005.py hl[1] *}", "source": "python-types.md"}
{"doc_id": "fastapi_0193", "title": "Python Types Intro { #python-types-intro }", "section": "Generic types with type parameters { #generic-types-with-type-parameters }", "content": "There are some data structures that can contain other values, like `dict`, `list`, `set` and `tuple`. And the internal values can have their own type too.\n\nThese types that have internal types are called \"**generic**\" types. And it's possible to declare them, even with their internal types.\n\nTo declare those types and the internal types, you can use the standard Python module `typing`. It exists specifically to support these type hints.\n\n#### Newer versions of Python { #newer-versions-of-python }\n\nThe syntax using `typing` is **compatible** with all versions, from Python 3.6 to the latest ones, including Python 3.9, Python 3.10, etc.\n\nAs Python advances, **newer versions** come with improved support for these type annotations and in many cases you won't even need to import and use the `typing` module to declare the type annotations.\n\nIf you can choose a more recent version of Python for your project, you will be able to take advantage of that extra simplicity.\n\nIn all the docs there are examples compatible with each version of Python (when there's a difference).\n\nFor example \"**Python 3.6+**\" means it's compatible with Python 3.6 or above (including 3.7, 3.8, 3.9, 3.10, etc). And \"**Python 3.9+**\" means it's compatible with Python 3.9 or above (including 3.10, etc).\n\nIf you can use the **latest versions of Python**, use the examples for the latest version, those will have the **best and simplest syntax**, for example, \"**Python 3.10+**\".\n\n#### List { #list }\n\nFor example, let's define a variable to be a `list` of `str`.\n\n//// tab | Python 3.9+\n\nDeclare the variable, with the same colon (`:`) syntax.\n\nAs the type, put `list`.\n\nAs the list is a type that contains some internal types, you put them in square brackets:\n\n```Python hl_lines=\"1\"\n{!> ../../docs_src/python_types/tutorial006_py39.py!}\n```\n\n////\n\n//// tab | Python 3.8+\n\nFrom `typing`, import `List` (with a capital `L`):\n\n```Python hl_lines=\"1\"\n{!> ../../docs_src/python_types/tutorial006.py!}\n```\n\nDeclare the variable, with the same colon (`:`) syntax.\n\nAs the type, put the `List` that you imported from `typing`.\n\nAs the list is a type that contains some internal types, you put them in square brackets:\n\n```Python hl_lines=\"4\"\n{!> ../../docs_src/python_types/tutorial006.py!}\n```\n\n////\n\n/// info\n\nThose internal types in the square brackets are called \"type parameters\".\n\nIn this case, `str` is the type parameter passed to `List` (or `list` in Python 3.9 and above).\n\n///\n\nThat means: \"the variable `items` is a `list`, and each of the items in this list is a `str`\".\n\n/// tip\n\nIf you use Python 3.9 or above, you don't have to import `List` from `typing`, you can use the same regular `list` type instead.\n\n///\n\nBy doing that, your editor can provide support even while processing items from the list:\n\n<img src=\"/img/python-types/image05.png\">\n\nWithout types, that's almost impossible to achieve.\n\nNotice that the variable `item` is one of the elements in the list `items`.\n\nAnd still, the editor knows it is a `str`, and provides support for that.\n\n#### Tuple and Set { #tuple-and-set }\n\nYou would do the same to declare `tuple`s and `set`s:\n\n//// tab | Python 3.9+\n\n```Python hl_lines=\"1\"\n{!> ../../docs_src/python_types/tutorial007_py39.py!}\n```\n\n////\n\n//// tab | Python 3.8+\n\n```Python hl_lines=\"1  4\"\n{!> ../../docs_src/python_types/tutorial007.py!}\n```\n\n////\n\nThis means:\n\n* The variable `items_t` is a `tuple` with 3 items, an `int`, another `int`, and a `str`.\n* The variable `items_s` is a `set`, and each of its items is of type `bytes`.\n\n#### Dict { #dict }\n\nTo define a `dict`, you pass 2 type parameters, separated by commas.\n\nThe first type parameter is for the keys of the `dict`.\n\nThe second type parameter is for the values of the `dict`:\n\n//// tab | Python 3.9+\n\n```Python hl_lines=\"1\"\n{!> ../../docs_src/python_types/tutorial008_py39.py!}\n```\n\n////\n\n//// tab | Python 3.8+\n\n```Python hl_lines=\"1  4\"\n{!> ../../docs_src/python_types/tutorial008.py!}\n```\n\n////\n\nThis means:\n\n* The variable `prices` is a `dict`:\n    * The keys of this `dict` are of type `str` (let's say, the name of each item).\n    * The values of this `dict` are of type `float` (let's say, the price of each item).\n\n#### Union { #union }\n\nYou can declare that a variable can be any of **several types**, for example, an `int` or a `str`.\n\nIn Python 3.6 and above (including Python 3.10) you can use the `Union` type from `typing` and put inside the square brackets the possible types to accept.\n\nIn Python 3.10 there's also a **new syntax** where you can put the possible types separated by a <abbr title='also called \"bitwise or operator\", but that meaning is not relevant here'>vertical bar (`|`)</abbr>.\n\n//// tab | Python 3.10+\n\n```Python hl_lines=\"1\"\n{!> ../../docs_src/python_types/tutorial008b_py310.py!}\n```\n\n////\n\n//// tab | Python 3.8+\n\n```Python hl_lines=\"1  4\"\n{!> ../../docs_src/python_types/tutorial008b.py!}\n```\n\n////\n\nIn both cases this means that `item` could be an `int` or a `str`.\n\n#### Possibly `None` { #possibly-none }\n\nYou can declare that a value could have a type, like `str`, but that it could also be `None`.\n\nIn Python 3.6 and above (including Python 3.10) you can declare it by importing and using `Optional` from the `typing` module.\n\n```Python hl_lines=\"1  4\"\n{!../../docs_src/python_types/tutorial009.py!}\n```\n\nUsing `Optional[str]` instead of just `str` will let the editor help you detect errors where you could be assuming that a value is always a `str`, when it could actually be `None` too.\n\n`Optional[Something]` is actually a shortcut for `Union[Something, None]`, they are equivalent.\n\nThis also means that in Python 3.10, you can use `Something | None`:\n\n//// tab | Python 3.10+\n\n```Python hl_lines=\"1\"\n{!> ../../docs_src/python_types/tutorial009_py310.py!}\n```\n\n////\n\n//// tab | Python 3.8+\n\n```Python hl_lines=\"1  4\"\n{!> ../../docs_src/python_types/tutorial009.py!}\n```\n\n////\n\n//// tab | Python 3.8+ alternative\n\n```Python hl_lines=\"1  4\"\n{!> ../../docs_src/python_types/tutorial009b.py!}\n```\n\n////\n\n#### Using `Union` or `Optional` { #using-union-or-optional }\n\nIf you are using a Python version below 3.10, here's a tip from my very **subjective** point of view:\n\n* üö® Avoid using `Optional[SomeType]`\n* Instead ‚ú® **use `Union[SomeType, None]`** ‚ú®.\n\nBoth are equivalent and underneath they are the same, but I would recommend `Union` instead of `Optional` because the word \"**optional**\" would seem to imply that the value is optional, and it actually means \"it can be `None`\", even if it's not optional and is still required.\n\nI think `Union[SomeType, None]` is more explicit about what it means.\n\nIt's just about the words and names. But those words can affect how you and your teammates think about the code.\n\nAs an example, let's take this function:\n\n{* ../../docs_src/python_types/tutorial009c.py hl[1,4] *}\n\nThe parameter `name` is defined as `Optional[str]`, but it is **not optional**, you cannot call the function without the parameter:\n\n```Python\nsay_hi()  # Oh, no, this throws an error! üò±\n```\n\nThe `name` parameter is **still required** (not *optional*) because it doesn't have a default value. Still, `name` accepts `None` as the value:\n\n```Python\nsay_hi(name=None)  # This works, None is valid üéâ\n```\n\nThe good news is, once you are on Python 3.10 you won't have to worry about that, as you will be able to simply use `|` to define unions of types:\n\n{* ../../docs_src/python_types/tutorial009c_py310.py hl[1,4] *}\n\nAnd then you won't have to worry about names like `Optional` and `Union`. üòé\n\n#### Generic types { #generic-types }\n\nThese types that take type parameters in square brackets are called **Generic types** or **Generics**, for example:\n\n//// tab | Python 3.10+\n\nYou can use the same builtin types as generics (with square brackets and types inside):\n\n* `list`\n* `tuple`\n* `set`\n* `dict`\n\nAnd the same as with Python 3.8, from the `typing` module:\n\n* `Union`\n* `Optional` (the same as with Python 3.8)\n* ...and others.\n\nIn Python 3.10, as an alternative to using the generics `Union` and `Optional`, you can use the <abbr title='also called \"bitwise or operator\", but that meaning is not relevant here'>vertical bar (`|`)</abbr> to declare unions of types, that's a lot better and simpler.\n\n////\n\n//// tab | Python 3.9+\n\nYou can use the same builtin types as generics (with square brackets and types inside):\n\n* `list`\n* `tuple`\n* `set`\n* `dict`\n\nAnd the same as with Python 3.8, from the `typing` module:\n\n* `Union`\n* `Optional`\n* ...and others.\n\n////\n\n//// tab | Python 3.8+\n\n* `List`\n* `Tuple`\n* `Set`\n* `Dict`\n* `Union`\n* `Optional`\n* ...and others.\n\n////", "source": "python-types.md"}
{"doc_id": "fastapi_0194", "title": "Python Types Intro { #python-types-intro }", "section": "Classes as types { #classes-as-types }", "content": "You can also declare a class as the type of a variable.\n\nLet's say you have a class `Person`, with a name:\n\n{* ../../docs_src/python_types/tutorial010.py hl[1:3] *}\n\nThen you can declare a variable to be of type `Person`:\n\n{* ../../docs_src/python_types/tutorial010.py hl[6] *}\n\nAnd then, again, you get all the editor support:\n\n<img src=\"/img/python-types/image06.png\">\n\nNotice that this means \"`one_person` is an **instance** of the class `Person`\".\n\nIt doesn't mean \"`one_person` is the **class** called `Person`\".", "source": "python-types.md"}
{"doc_id": "fastapi_0195", "title": "Python Types Intro { #python-types-intro }", "section": "Pydantic models { #pydantic-models }", "content": "<a href=\"https://docs.pydantic.dev/\" class=\"external-link\" target=\"_blank\">Pydantic</a> is a Python library to perform data validation.\n\nYou declare the \"shape\" of the data as classes with attributes.\n\nAnd each attribute has a type.\n\nThen you create an instance of that class with some values and it will validate the values, convert them to the appropriate type (if that's the case) and give you an object with all the data.\n\nAnd you get all the editor support with that resulting object.\n\nAn example from the official Pydantic docs:\n\n//// tab | Python 3.10+\n\n```Python\n{!> ../../docs_src/python_types/tutorial011_py310.py!}\n```\n\n////\n\n//// tab | Python 3.9+\n\n```Python\n{!> ../../docs_src/python_types/tutorial011_py39.py!}\n```\n\n////\n\n//// tab | Python 3.8+\n\n```Python\n{!> ../../docs_src/python_types/tutorial011.py!}\n```\n\n////\n\n/// info\n\nTo learn more about <a href=\"https://docs.pydantic.dev/\" class=\"external-link\" target=\"_blank\">Pydantic, check its docs</a>.\n\n///\n\n**FastAPI** is all based on Pydantic.\n\nYou will see a lot more of all this in practice in the [Tutorial - User Guide](tutorial/index.md){.internal-link target=_blank}.\n\n/// tip\n\nPydantic has a special behavior when you use `Optional` or `Union[Something, None]` without a default value, you can read more about it in the Pydantic docs about <a href=\"https://docs.pydantic.dev/2.3/usage/models/#required-fields\" class=\"external-link\" target=\"_blank\">Required Optional fields</a>.\n\n///", "source": "python-types.md"}
{"doc_id": "fastapi_0196", "title": "Python Types Intro { #python-types-intro }", "section": "Type Hints with Metadata Annotations { #type-hints-with-metadata-annotations }", "content": "Python also has a feature that allows putting **additional <abbr title=\"Data about the data, in this case, information about the type, e.g. a description.\">metadata</abbr>** in these type hints using `Annotated`.\n\n//// tab | Python 3.9+\n\nIn Python 3.9, `Annotated` is part of the standard library, so you can import it from `typing`.\n\n```Python hl_lines=\"1  4\"\n{!> ../../docs_src/python_types/tutorial013_py39.py!}\n```\n\n////\n\n//// tab | Python 3.8+\n\nIn versions below Python 3.9, you import `Annotated` from `typing_extensions`.\n\nIt will already be installed with **FastAPI**.\n\n```Python hl_lines=\"1  4\"\n{!> ../../docs_src/python_types/tutorial013.py!}\n```\n\n////\n\nPython itself doesn't do anything with this `Annotated`. And for editors and other tools, the type is still `str`.\n\nBut you can use this space in `Annotated` to provide **FastAPI** with additional metadata about how you want your application to behave.\n\nThe important thing to remember is that **the first *type parameter*** you pass to `Annotated` is the **actual type**. The rest, is just metadata for other tools.\n\nFor now, you just need to know that `Annotated` exists, and that it's standard Python. üòé\n\nLater you will see how **powerful** it can be.\n\n/// tip\n\nThe fact that this is **standard Python** means that you will still get the **best possible developer experience** in your editor, with the tools you use to analyze and refactor your code, etc. ‚ú®\n\nAnd also that your code will be very compatible with many other Python tools and libraries. üöÄ\n\n///", "source": "python-types.md"}
{"doc_id": "fastapi_0197", "title": "Python Types Intro { #python-types-intro }", "section": "Type hints in **FastAPI** { #type-hints-in-fastapi }", "content": "**FastAPI** takes advantage of these type hints to do several things.\n\nWith **FastAPI** you declare parameters with type hints and you get:\n\n* **Editor support**.\n* **Type checks**.\n\n...and **FastAPI** uses the same declarations to:\n\n* **Define requirements**: from request path parameters, query parameters, headers, bodies, dependencies, etc.\n* **Convert data**: from the request to the required type.\n* **Validate data**: coming from each request:\n    * Generating **automatic errors** returned to the client when the data is invalid.\n* **Document** the API using OpenAPI:\n    * which is then used by the automatic interactive documentation user interfaces.\n\nThis might all sound abstract. Don't worry. You'll see all this in action in the [Tutorial - User Guide](tutorial/index.md){.internal-link target=_blank}.\n\nThe important thing is that by using standard Python types, in a single place (instead of adding more classes, decorators, etc), **FastAPI** will do a lot of the work for you.\n\n/// info\n\nIf you already went through all the tutorial and came back to see more about types, a good resource is <a href=\"https://mypy.readthedocs.io/en/latest/cheat_sheet_py3.html\" class=\"external-link\" target=\"_blank\">the \"cheat sheet\" from `mypy`</a>.\n\n///", "source": "python-types.md"}
{"doc_id": "fastapi_0198", "title": "Release Notes", "section": "Release Notes", "content": "---\nhide:\n  - navigation\n---", "source": "release-notes.md"}
{"doc_id": "fastapi_0199", "title": "Release Notes", "section": "Latest Changes", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0200", "title": "Release Notes", "section": "0.123.4", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0201", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix OpenAPI schema support for computed fields when using `separate_input_output_schemas=False`. PR [#13207](https://github.com/fastapi/fastapi/pull/13207) by [@vgrafe](https://github.com/vgrafe).", "source": "release-notes.md"}
{"doc_id": "fastapi_0202", "title": "Release Notes", "section": "Docs", "content": "* üìù Fix docstring of `servers` parameter. PR [#14405](https://github.com/fastapi/fastapi/pull/14405) by [@YuriiMotov](https://github.com/YuriiMotov).", "source": "release-notes.md"}
{"doc_id": "fastapi_0203", "title": "Release Notes", "section": "0.123.3", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0204", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix Query\\Header\\Cookie parameter model alias. PR [#14360](https://github.com/fastapi/fastapi/pull/14360) by [@YuriiMotov](https://github.com/YuriiMotov).\n* üêõ Fix optional sequence handling in `serialize sequence value` with Pydantic V2. PR [#14297](https://github.com/fastapi/fastapi/pull/14297) by [@YuriiMotov](https://github.com/YuriiMotov).", "source": "release-notes.md"}
{"doc_id": "fastapi_0205", "title": "Release Notes", "section": "0.123.2", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0206", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix unformatted `{type_}` in FastAPIError. PR [#14416](https://github.com/fastapi/fastapi/pull/14416) by [@Just-Helpful](https://github.com/Just-Helpful).\n* üêõ Fix parsing extra non-body parameter list. PR [#14356](https://github.com/fastapi/fastapi/pull/14356) by [@YuriiMotov](https://github.com/YuriiMotov).\n* üêõ Fix parsing extra `Form` parameter list. PR [#14303](https://github.com/fastapi/fastapi/pull/14303) by [@YuriiMotov](https://github.com/YuriiMotov).\n* üêõ Fix support for form values with empty strings interpreted as missing (`None` if that's the default), for compatibility with HTML forms. PR [#13537](https://github.com/fastapi/fastapi/pull/13537) by [@MarinPostma](https://github.com/MarinPostma).", "source": "release-notes.md"}
{"doc_id": "fastapi_0207", "title": "Release Notes", "section": "Docs", "content": "* üìù Add tip on how to install `pip` in case of `No module named pip` error in `virtual-environments.md`. PR [#14211](https://github.com/fastapi/fastapi/pull/14211) by [@zadevhub](https://github.com/zadevhub).\n* üìù Update Primary Key notes for the SQL databases tutorial to avoid confusion. PR [#14120](https://github.com/fastapi/fastapi/pull/14120) by [@FlaviusRaducu](https://github.com/FlaviusRaducu).\n* üìù Clarify estimation note in documentation. PR [#14070](https://github.com/fastapi/fastapi/pull/14070) by [@SaisakthiM](https://github.com/SaisakthiM).", "source": "release-notes.md"}
{"doc_id": "fastapi_0208", "title": "Release Notes", "section": "0.123.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0209", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Avoid accessing non-existing \"$ref\" key for Pydantic v2 compat remapping. PR [#14361](https://github.com/fastapi/fastapi/pull/14361) by [@svlandeg](https://github.com/svlandeg).\n* üêõ Fix `TypeError` when encoding a decimal with a `NaN` or `Infinity` value. PR [#12935](https://github.com/fastapi/fastapi/pull/12935) by [@kentwelcome](https://github.com/kentwelcome).", "source": "release-notes.md"}
{"doc_id": "fastapi_0210", "title": "Release Notes", "section": "Internal", "content": "* üêõ Fix Windows UnicodeEncodeError in CLI test. PR [#14295](https://github.com/fastapi/fastapi/pull/14295) by [@hemanth-thirthahalli](https://github.com/hemanth-thirthahalli).\n* üîß Update sponsors: add Greptile. PR [#14429](https://github.com/fastapi/fastapi/pull/14429) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI GitHub topic repositories. PR [#14426](https://github.com/fastapi/fastapi/pull/14426) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump markdown-include-variants from 0.0.6 to 0.0.7. PR [#14423](https://github.com/fastapi/fastapi/pull/14423) by [@YuriiMotov](https://github.com/YuriiMotov).\n* üë• Update FastAPI People - Sponsors. PR [#14422](https://github.com/fastapi/fastapi/pull/14422) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People - Contributors and Translators. PR [#14420](https://github.com/fastapi/fastapi/pull/14420) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0211", "title": "Release Notes", "section": "0.123.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0212", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Cache dependencies that don't use scopes and don't have sub-dependencies with scopes. PR [#14419](https://github.com/fastapi/fastapi/pull/14419) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0213", "title": "Release Notes", "section": "0.122.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0214", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix hierarchical security scope propagation. PR [#5624](https://github.com/fastapi/fastapi/pull/5624) by [@kristjanvalur](https://github.com/kristjanvalur).", "source": "release-notes.md"}
{"doc_id": "fastapi_0215", "title": "Release Notes", "section": "Docs", "content": "* üíÖ Update CSS to explicitly use emoji font. PR [#14415](https://github.com/fastapi/fastapi/pull/14415) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0216", "title": "Release Notes", "section": "Internal", "content": "* ‚¨Ü Bump markdown-include-variants from 0.0.5 to 0.0.6. PR [#14418](https://github.com/fastapi/fastapi/pull/14418) by [@YuriiMotov](https://github.com/YuriiMotov).", "source": "release-notes.md"}
{"doc_id": "fastapi_0217", "title": "Release Notes", "section": "0.122.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0218", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Use `401` status code in security classes when credentials are missing. PR [#13786](https://github.com/fastapi/fastapi/pull/13786) by [@YuriiMotov](https://github.com/YuriiMotov).\n    * If your code depended on these classes raising the old (less correct) `403` status code, check the new docs about how to override the classes, to use the same old behavior: [Use Old 403 Authentication Error Status Codes](https://fastapi.tiangolo.com/how-to/authentication-error-status-code/).", "source": "release-notes.md"}
{"doc_id": "fastapi_0219", "title": "Release Notes", "section": "Internal", "content": "* üîß Configure labeler to exclude files that start from underscore for `lang-all` label. PR [#14213](https://github.com/fastapi/fastapi/pull/14213) by [@YuriiMotov](https://github.com/YuriiMotov).\n* üë∑ Add pre-commit config with local script for permalinks. PR [#14398](https://github.com/fastapi/fastapi/pull/14398) by [@tiangolo](https://github.com/tiangolo).\n* üíÑ Use font Fira Code to fix display of Rich panels in docs in Windows. PR [#14387](https://github.com/fastapi/fastapi/pull/14387) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Add custom pre-commit CI. PR [#14397](https://github.com/fastapi/fastapi/pull/14397) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump actions/checkout from 5 to 6. PR [#14381](https://github.com/fastapi/fastapi/pull/14381) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üë∑ Upgrade `latest-changes` GitHub Action and pin `actions/checkout@v5`. PR [#14403](https://github.com/fastapi/fastapi/pull/14403) by [@svlandeg](https://github.com/svlandeg).\n* üõ†Ô∏è Add `add-permalinks` and `add-permalinks-page` to `scripts/docs.py`. PR [#14033](https://github.com/fastapi/fastapi/pull/14033) by [@YuriiMotov](https://github.com/YuriiMotov).\n* üîß Upgrade Material for MkDocs and remove insiders. PR [#14375](https://github.com/fastapi/fastapi/pull/14375) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0220", "title": "Release Notes", "section": "0.121.3", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0221", "title": "Release Notes", "section": "Refactors", "content": "* ‚ôªÔ∏è Make the result of `Depends()` and `Security()` hashable, as a workaround for other tools interacting with these internal parts. PR [#14372](https://github.com/fastapi/fastapi/pull/14372) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0222", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨ÜÔ∏è Bump Starlette to <`0.51.0`. PR [#14282](https://github.com/fastapi/fastapi/pull/14282) by [@musicinmybrain](https://github.com/musicinmybrain).", "source": "release-notes.md"}
{"doc_id": "fastapi_0223", "title": "Release Notes", "section": "Docs", "content": "* üìù Add missing hash part. PR [#14369](https://github.com/fastapi/fastapi/pull/14369) by [@nilslindemann](https://github.com/nilslindemann).\n* üìù Fix typos in code comments. PR [#14364](https://github.com/fastapi/fastapi/pull/14364) by [@Edge-Seven](https://github.com/Edge-Seven).\n* üìù Add docs for using FastAPI Cloud. PR [#14359](https://github.com/fastapi/fastapi/pull/14359) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0224", "title": "Release Notes", "section": "0.121.2", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0225", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix handling of JSON Schema attributes named \"$ref\". PR [#14349](https://github.com/fastapi/fastapi/pull/14349) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0226", "title": "Release Notes", "section": "Docs", "content": "* üìù Add EuroPython talk & podcast episode with Sebasti√°n Ram√≠rez. PR [#14260](https://github.com/fastapi/fastapi/pull/14260) by [@clytaemnestra](https://github.com/clytaemnestra).\n* ‚úèÔ∏è Fix links and add missing permalink in docs. PR [#14217](https://github.com/fastapi/fastapi/pull/14217) by [@YuriiMotov](https://github.com/YuriiMotov).", "source": "release-notes.md"}
{"doc_id": "fastapi_0227", "title": "Release Notes", "section": "Translations", "content": "* üåê Update Portuguese translations with LLM prompt. PR [#14228](https://github.com/fastapi/fastapi/pull/14228) by [@ceb10n](https://github.com/ceb10n).\n* üî® Add Portuguese translations LLM prompt. PR [#14208](https://github.com/fastapi/fastapi/pull/14208) by [@ceb10n](https://github.com/ceb10n).\n* üåê Sync Russian docs. PR [#14331](https://github.com/fastapi/fastapi/pull/14331) by [@YuriiMotov](https://github.com/YuriiMotov).\n* üåê Sync German docs. PR [#14317](https://github.com/fastapi/fastapi/pull/14317) by [@nilslindemann](https://github.com/nilslindemann).", "source": "release-notes.md"}
{"doc_id": "fastapi_0228", "title": "Release Notes", "section": "0.121.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0229", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix `Depends(func, scope='function')` for top level (parameterless) dependencies. PR [#14301](https://github.com/fastapi/fastapi/pull/14301) by [@luzzodev](https://github.com/luzzodev).", "source": "release-notes.md"}
{"doc_id": "fastapi_0230", "title": "Release Notes", "section": "Docs", "content": "* üìù Upate docs for advanced dependencies with `yield`, noting the changes in 0.121.0, adding `scope`. PR [#14287](https://github.com/fastapi/fastapi/pull/14287) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0231", "title": "Release Notes", "section": "Internal", "content": "* ‚¨Ü Bump ruff from 0.13.2 to 0.14.3. PR [#14276](https://github.com/fastapi/fastapi/pull/14276) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#14289](https://github.com/fastapi/fastapi/pull/14289) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).", "source": "release-notes.md"}
{"doc_id": "fastapi_0232", "title": "Release Notes", "section": "0.121.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0233", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add support for dependencies with scopes, support `scope=\"request\"` for dependencies with `yield` that exit before the response is sent. PR [#14262](https://github.com/fastapi/fastapi/pull/14262) by [@tiangolo](https://github.com/tiangolo).\n    * New docs: [Dependencies with `yield` - Early exit and `scope`](https://fastapi.tiangolo.com/tutorial/dependencies/dependencies-with-yield/#early-exit-and-scope).", "source": "release-notes.md"}
{"doc_id": "fastapi_0234", "title": "Release Notes", "section": "Internal", "content": "* üë• Update FastAPI People - Contributors and Translators. PR [#14273](https://github.com/fastapi/fastapi/pull/14273) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People - Sponsors. PR [#14274](https://github.com/fastapi/fastapi/pull/14274) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI GitHub topic repositories. PR [#14280](https://github.com/fastapi/fastapi/pull/14280) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump mkdocs-macros-plugin from 1.4.0 to 1.4.1. PR [#14277](https://github.com/fastapi/fastapi/pull/14277) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump mkdocstrings[python] from 0.26.1 to 0.30.1. PR [#14279](https://github.com/fastapi/fastapi/pull/14279) by [@dependabot[bot]](https://github.com/apps/dependabot).", "source": "release-notes.md"}
{"doc_id": "fastapi_0235", "title": "Release Notes", "section": "0.120.4", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0236", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix security schemes in OpenAPI when added at the top level app. PR [#14266](https://github.com/fastapi/fastapi/pull/14266) by [@YuriiMotov](https://github.com/YuriiMotov).", "source": "release-notes.md"}
{"doc_id": "fastapi_0237", "title": "Release Notes", "section": "0.120.3", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0238", "title": "Release Notes", "section": "Refactors", "content": "* ‚ôªÔ∏è Reduce internal cyclic recursion in dependencies, from 2 functions calling each other to 1 calling itself. PR [#14256](https://github.com/fastapi/fastapi/pull/14256) by [@tiangolo](https://github.com/tiangolo).\n* ‚ôªÔ∏è Refactor internals of dependencies, simplify code and remove `get_param_sub_dependant`. PR [#14255](https://github.com/fastapi/fastapi/pull/14255) by [@tiangolo](https://github.com/tiangolo).\n* ‚ôªÔ∏è Refactor internals of dependencies, simplify using dataclasses. PR [#14254](https://github.com/fastapi/fastapi/pull/14254) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0239", "title": "Release Notes", "section": "Docs", "content": "* üìù Update note for untranslated pages. PR [#14257](https://github.com/fastapi/fastapi/pull/14257) by [@YuriiMotov](https://github.com/YuriiMotov).", "source": "release-notes.md"}
{"doc_id": "fastapi_0240", "title": "Release Notes", "section": "0.120.2", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0241", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix separation of schemas with nested models introduced in 0.119.0. PR [#14246](https://github.com/fastapi/fastapi/pull/14246) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0242", "title": "Release Notes", "section": "Internal", "content": "* üîß Add sponsor: SerpApi. PR [#14248](https://github.com/fastapi/fastapi/pull/14248) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump actions/download-artifact from 5 to 6. PR [#14236](https://github.com/fastapi/fastapi/pull/14236) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#14237](https://github.com/fastapi/fastapi/pull/14237) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* ‚¨Ü Bump actions/upload-artifact from 4 to 5. PR [#14235](https://github.com/fastapi/fastapi/pull/14235) by [@dependabot[bot]](https://github.com/apps/dependabot).", "source": "release-notes.md"}
{"doc_id": "fastapi_0243", "title": "Release Notes", "section": "0.120.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0244", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨ÜÔ∏è Bump Starlette to <`0.50.0`. PR [#14234](https://github.com/fastapi/fastapi/pull/14234) by [@YuriiMotov](https://github.com/YuriiMotov).", "source": "release-notes.md"}
{"doc_id": "fastapi_0245", "title": "Release Notes", "section": "Internal", "content": "* üîß Add `license` and `license-files` to `pyproject.toml`, remove `License` from `classifiers`. PR [#14230](https://github.com/fastapi/fastapi/pull/14230) by [@YuriiMotov](https://github.com/YuriiMotov).", "source": "release-notes.md"}
{"doc_id": "fastapi_0246", "title": "Release Notes", "section": "0.120.0", "content": "There are no major nor breaking changes in this release. ‚òïÔ∏è\n\nThe internal reference documentation now uses `annotated_doc.Doc` instead of `typing_extensions.Doc`, this adds a new (very small) dependency on [`annotated-doc`](https://github.com/fastapi/annotated-doc), a package made just to provide that `Doc` documentation utility class.\n\nI would expect `typing_extensions.Doc` to be deprecated and then removed at some point from `typing_extensions`, for that reason there's the new `annotated-doc` micro-package. If you are curious about this, you can read more in the repo for [`annotated-doc`](https://github.com/fastapi/annotated-doc).\n\nThis new version `0.120.0` only contains that transition to the new home package for that utility class `Doc`.", "source": "release-notes.md"}
{"doc_id": "fastapi_0247", "title": "Release Notes", "section": "Translations", "content": "* üåê Sync German docs. PR [#14188](https://github.com/fastapi/fastapi/pull/14188) by [@nilslindemann](https://github.com/nilslindemann).", "source": "release-notes.md"}
{"doc_id": "fastapi_0248", "title": "Release Notes", "section": "Internal", "content": "* ‚ûï Migrate internal reference documentation from `typing_extensions.Doc` to `annotated_doc.Doc`. PR [#14222](https://github.com/fastapi/fastapi/pull/14222) by [@tiangolo](https://github.com/tiangolo).\n* üõ†Ô∏è Update German LLM prompt and test file. PR [#14189](https://github.com/fastapi/fastapi/pull/14189) by [@nilslindemann](https://github.com/nilslindemann).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#14181](https://github.com/fastapi/fastapi/pull/14181) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).", "source": "release-notes.md"}
{"doc_id": "fastapi_0249", "title": "Release Notes", "section": "0.119.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0250", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix internal Pydantic v1 compatibility (warnings) for Python 3.14 and Pydantic 2.12.1. PR [#14186](https://github.com/fastapi/fastapi/pull/14186) by [@svlandeg](https://github.com/svlandeg).", "source": "release-notes.md"}
{"doc_id": "fastapi_0251", "title": "Release Notes", "section": "Docs", "content": "* üìù Replace `starlette.io` by `starlette.dev` and `uvicorn.org` by `uvicorn.dev`. PR [#14176](https://github.com/fastapi/fastapi/pull/14176) by [@Kludex](https://github.com/Kludex).", "source": "release-notes.md"}
{"doc_id": "fastapi_0252", "title": "Release Notes", "section": "Internal", "content": "* üîß Add sponsor Requestly. PR [#14205](https://github.com/fastapi/fastapi/pull/14205) by [@tiangolo](https://github.com/tiangolo).\n* üîß Configure reminder for `waiting` label in `issue-manager`. PR [#14156](https://github.com/fastapi/fastapi/pull/14156) by [@YuriiMotov](https://github.com/YuriiMotov).", "source": "release-notes.md"}
{"doc_id": "fastapi_0253", "title": "Release Notes", "section": "0.119.0", "content": "FastAPI now (temporarily) supports both Pydantic v2 models and `pydantic.v1` models at the same time in the same app, to make it easier for any FastAPI apps still using Pydantic v1 to gradually but quickly **migrate to Pydantic v2**.\n\n```Python\nfrom fastapi import FastAPI\nfrom pydantic import BaseModel as BaseModelV2\nfrom pydantic.v1 import BaseModel\n\n\nclass Item(BaseModel):\n    name: str\n    description: str | None = None\n\n\nclass ItemV2(BaseModelV2):\n    title: str\n    summary: str | None = None\n\n\napp = FastAPI()\n\n\n@app.post(\"/items/\", response_model=ItemV2)\ndef create_item(item: Item):\n    return {\"title\": item.name, \"summary\": item.description}\n```\n\nAdding this feature was a big effort with the main objective of making it easier for the few applications still stuck in Pydantic v1 to migrate to Pydantic v2.\n\nAnd with this, support for **Pydantic v1 is now deprecated** and will be **removed** from FastAPI in a future version soon.\n\n**Note**: have in mind that the Pydantic team already stopped supporting Pydantic v1 for recent versions of Python, starting with Python 3.14.\n\nYou can read in the docs more about how to [Migrate from Pydantic v1 to Pydantic v2](https://fastapi.tiangolo.com/how-to/migrate-from-pydantic-v1-to-pydantic-v2/).", "source": "release-notes.md"}
{"doc_id": "fastapi_0254", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add support for `from pydantic.v1 import BaseModel`, mixed Pydantic v1 and v2 models in the same app. PR [#14168](https://github.com/fastapi/fastapi/pull/14168) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0255", "title": "Release Notes", "section": "0.118.3", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0256", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨ÜÔ∏è Add support for Python 3.14. PR [#14165](https://github.com/fastapi/fastapi/pull/14165) by [@svlandeg](https://github.com/svlandeg).", "source": "release-notes.md"}
{"doc_id": "fastapi_0257", "title": "Release Notes", "section": "0.118.2", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0258", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix tagged discriminated union not recognized as body field. PR [#12942](https://github.com/fastapi/fastapi/pull/12942) by [@frankie567](https://github.com/frankie567).", "source": "release-notes.md"}
{"doc_id": "fastapi_0259", "title": "Release Notes", "section": "Internal", "content": "* ‚¨Ü Bump astral-sh/setup-uv from 6 to 7. PR [#14167](https://github.com/fastapi/fastapi/pull/14167) by [@dependabot[bot]](https://github.com/apps/dependabot).", "source": "release-notes.md"}
{"doc_id": "fastapi_0260", "title": "Release Notes", "section": "0.118.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0261", "title": "Release Notes", "section": "Upgrades", "content": "* üëΩÔ∏è Ensure compatibility with Pydantic 2.12.0. PR [#14036](https://github.com/fastapi/fastapi/pull/14036) by [@cjwatson](https://github.com/cjwatson).", "source": "release-notes.md"}
{"doc_id": "fastapi_0262", "title": "Release Notes", "section": "Docs", "content": "* üìù Add External Link: Getting started with logging in FastAPI. PR [#14152](https://github.com/fastapi/fastapi/pull/14152) by [@itssimon](https://github.com/itssimon).", "source": "release-notes.md"}
{"doc_id": "fastapi_0263", "title": "Release Notes", "section": "Translations", "content": "* üî® Add Russian translations LLM prompt. PR [#13936](https://github.com/fastapi/fastapi/pull/13936) by [@tiangolo](https://github.com/tiangolo).\n* üåê Sync German docs. PR [#14149](https://github.com/fastapi/fastapi/pull/14149) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add Russian translations for missing pages (LLM-generated). PR [#14135](https://github.com/fastapi/fastapi/pull/14135) by [@YuriiMotov](https://github.com/YuriiMotov).\n* üåê Update Russian translations for existing pages (LLM-generated). PR [#14123](https://github.com/fastapi/fastapi/pull/14123) by [@YuriiMotov](https://github.com/YuriiMotov).\n* üåê Remove configuration files for inactive translations. PR [#14130](https://github.com/fastapi/fastapi/pull/14130) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0264", "title": "Release Notes", "section": "Internal", "content": "* üî® Move local coverage logic to its own script. PR [#14166](https://github.com/fastapi/fastapi/pull/14166) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#14161](https://github.com/fastapi/fastapi/pull/14161) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* ‚¨Ü Bump griffe-typingdoc from 0.2.8 to 0.2.9. PR [#14144](https://github.com/fastapi/fastapi/pull/14144) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump mkdocs-macros-plugin from 1.3.9 to 1.4.0. PR [#14145](https://github.com/fastapi/fastapi/pull/14145) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump markdown-include-variants from 0.0.4 to 0.0.5. PR [#14146](https://github.com/fastapi/fastapi/pull/14146) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#14126](https://github.com/fastapi/fastapi/pull/14126) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* üë• Update FastAPI GitHub topic repositories. PR [#14150](https://github.com/fastapi/fastapi/pull/14150) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People - Sponsors. PR [#14139](https://github.com/fastapi/fastapi/pull/14139) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People - Contributors and Translators. PR [#14138](https://github.com/fastapi/fastapi/pull/14138) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump ruff from 0.12.7 to 0.13.2. PR [#14147](https://github.com/fastapi/fastapi/pull/14147) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump sqlmodel from 0.0.24 to 0.0.25. PR [#14143](https://github.com/fastapi/fastapi/pull/14143) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump tiangolo/issue-manager from 0.5.1 to 0.6.0. PR [#14148](https://github.com/fastapi/fastapi/pull/14148) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üë∑ Update docs previews comment, single comment, add failure status. PR [#14129](https://github.com/fastapi/fastapi/pull/14129) by [@tiangolo](https://github.com/tiangolo).\n* üî® Modify `mkdocs_hooks.py` to add `title` to page's metadata (remove permalinks in social cards). PR [#14125](https://github.com/fastapi/fastapi/pull/14125) by [@YuriiMotov](https://github.com/YuriiMotov).", "source": "release-notes.md"}
{"doc_id": "fastapi_0265", "title": "Release Notes", "section": "0.118.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0266", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix support for `StreamingResponse`s with dependencies with `yield` or `UploadFile`s, close after the response is done. PR [#14099](https://github.com/fastapi/fastapi/pull/14099) by [@tiangolo](https://github.com/tiangolo).\n\nBefore FastAPI 0.118.0, if you used a dependency with `yield`, it would run the exit code after the *path operation function* returned but right before sending the response.\n\nThis change also meant that if you returned a `StreamingResponse`, the exit code of the dependency with `yield` would have been already run.\n\nFor example, if you had a database session in a dependency with `yield`, the `StreamingResponse` would not be able to use that session while streaming data because the session would have already been closed in the exit code after `yield`.\n\nThis behavior was reverted in 0.118.0, to make the exit code after `yield` be executed after the response is sent.\n\nYou can read more about it in the docs for [Advanced Dependencies - Dependencies with `yield`, `HTTPException`, `except` and Background Tasks](https://fastapi.tiangolo.com/advanced/advanced-dependencies#dependencies-with-yield-httpexception-except-and-background-tasks). Including what you could do if you wanted to close a database session earlier, before returning the response to the client.", "source": "release-notes.md"}
{"doc_id": "fastapi_0267", "title": "Release Notes", "section": "Docs", "content": "* üìù Update `tutorial/security/oauth2-jwt/` to use `pwdlib` with Argon2 instead of `passlib`. PR [#13917](https://github.com/fastapi/fastapi/pull/13917) by [@Neizvestnyj](https://github.com/Neizvestnyj).\n* ‚úèÔ∏è Fix typos in OAuth2 password request forms. PR [#14112](https://github.com/fastapi/fastapi/pull/14112) by [@alv2017](https://github.com/alv2017).\n* üìù Update contributing guidelines for installing requirements. PR [#14095](https://github.com/fastapi/fastapi/pull/14095) by [@alejsdev](https://github.com/alejsdev).", "source": "release-notes.md"}
{"doc_id": "fastapi_0268", "title": "Release Notes", "section": "Translations", "content": "* üåê Sync German docs. PR [#14098](https://github.com/fastapi/fastapi/pull/14098) by [@nilslindemann](https://github.com/nilslindemann).", "source": "release-notes.md"}
{"doc_id": "fastapi_0269", "title": "Release Notes", "section": "Internal", "content": "* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#14103](https://github.com/fastapi/fastapi/pull/14103) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* ‚ôªÔ∏è Refactor sponsor image handling. PR [#14102](https://github.com/fastapi/fastapi/pull/14102) by [@alejsdev](https://github.com/alejsdev).\n* üêõ Fix sponsor display issue by hiding element on image error. PR [#14097](https://github.com/fastapi/fastapi/pull/14097) by [@alejsdev](https://github.com/alejsdev).\n* üêõ Hide sponsor badge when sponsor image is not displayed. PR [#14096](https://github.com/fastapi/fastapi/pull/14096) by [@alejsdev](https://github.com/alejsdev).", "source": "release-notes.md"}
{"doc_id": "fastapi_0270", "title": "Release Notes", "section": "0.117.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0271", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix validation error when `File` is declared after `Form` parameter. PR [#11194](https://github.com/fastapi/fastapi/pull/11194) by [@thomasleveil](https://github.com/thomasleveil).", "source": "release-notes.md"}
{"doc_id": "fastapi_0272", "title": "Release Notes", "section": "0.117.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0273", "title": "Release Notes", "section": "Features", "content": "* ‚ú®  Allow `None` as return type for bodiless responses. PR [#9425](https://github.com/fastapi/fastapi/pull/9425) by [@hofrob](https://github.com/hofrob).\n* ‚ú® Allow array values for OpenAPI schema `type` field. PR [#13639](https://github.com/fastapi/fastapi/pull/13639) by [@sammasak](https://github.com/sammasak).\n* ‚ú® Add OpenAPI `external_docs` parameter to `FastAPI`. PR [#13713](https://github.com/fastapi/fastapi/pull/13713) by [@cmtoro](https://github.com/cmtoro).", "source": "release-notes.md"}
{"doc_id": "fastapi_0274", "title": "Release Notes", "section": "Fixes", "content": "* ‚ö°Ô∏è Fix `default_factory` for response model field with Pydantic V1. PR [#9704](https://github.com/fastapi/fastapi/pull/9704) by [@vvanglro](https://github.com/vvanglro).\n* üêõ Fix inconsistent processing of model docstring formfeed char with Pydantic V1. PR [#6039](https://github.com/fastapi/fastapi/pull/6039) by [@MaxwellPayne](https://github.com/MaxwellPayne).\n* üêõ Fix `jsonable_encoder` alters `json_encoders` of Pydantic v1 objects. PR [#4972](https://github.com/fastapi/fastapi/pull/4972) by [@aboubacs](https://github.com/aboubacs).\n* üêõ Reenable `allow_arbitrary_types` when only 1 argument is used on the API endpoint. PR [#13694](https://github.com/fastapi/fastapi/pull/13694) by [@rmawatson](https://github.com/rmawatson).\n* üêõ Fix `inspect.getcoroutinefunction()` can break testing with `unittest.mock.patch()`. PR [#14022](https://github.com/fastapi/fastapi/pull/14022) by [@secrett2633](https://github.com/secrett2633).", "source": "release-notes.md"}
{"doc_id": "fastapi_0275", "title": "Release Notes", "section": "Refactors", "content": "* ‚ôªÔ∏è Create `dependency-cache` dict in `solve_dependencies` only if `None` (don't re-create if empty). PR [#13689](https://github.com/fastapi/fastapi/pull/13689) by [@bokshitsky](https://github.com/bokshitsky).\n* ‚úÖ Enable test case for duplicated headers in `test_tutorial/test_header_params/test_tutorial003.py`. PR [#13864](https://github.com/fastapi/fastapi/pull/13864) by [@Amogha-ark](https://github.com/Amogha-ark).\n* üìå Pin `httpx` to `>=0.23.0,<1.0.0`. PR [#14086](https://github.com/fastapi/fastapi/pull/14086) by [@YuriiMotov](https://github.com/YuriiMotov).", "source": "release-notes.md"}
{"doc_id": "fastapi_0276", "title": "Release Notes", "section": "Docs", "content": "* üìù Add note about Cookies and JavaScript on `tutorial/cookie-params.md`. PR [#13510](https://github.com/fastapi/fastapi/pull/13510) by [@Kludex](https://github.com/Kludex).\n* üìù Remove outdated formatting from `path-params-numeric-validations.md` for languages `en`, `es` and `uk`.. PR [#14059](https://github.com/fastapi/fastapi/pull/14059) by [@svlandeg](https://github.com/svlandeg).\n* üìù Fix and Improve English Documentation. PR [#14048](https://github.com/fastapi/fastapi/pull/14048) by [@nilslindemann](https://github.com/nilslindemann).", "source": "release-notes.md"}
{"doc_id": "fastapi_0277", "title": "Release Notes", "section": "Translations", "content": "* üìù Update prompts and German translation. PR [#14015](https://github.com/fastapi/fastapi/pull/14015) by [@nilslindemann](https://github.com/nilslindemann).", "source": "release-notes.md"}
{"doc_id": "fastapi_0278", "title": "Release Notes", "section": "Internal", "content": "* ‚úÖ Simplify tests for response_model. PR [#14062](https://github.com/fastapi/fastapi/pull/14062) by [@dynamicy](https://github.com/dynamicy).\n* üö® Install pydantic.mypy plugin. PR [#14081](https://github.com/fastapi/fastapi/pull/14081) by [@svlandeg](https://github.com/svlandeg).\n* ‚úÖ Add LLM test file. PR [#14049](https://github.com/fastapi/fastapi/pull/14049) by [@nilslindemann](https://github.com/nilslindemann).\n* üî® Update translations script. PR [#13968](https://github.com/fastapi/fastapi/pull/13968) by [@YuriiMotov](https://github.com/YuriiMotov).\n* üõ†Ô∏è Update `docs.py generate-readme` command to remove permalinks from headers. PR [#14055](https://github.com/fastapi/fastapi/pull/14055) by [@YuriiMotov](https://github.com/YuriiMotov).\n* ‚¨ÜÔ∏è Update mypy to 1.14.1. PR [#12970](https://github.com/fastapi/fastapi/pull/12970) by [@tamird](https://github.com/tamird).", "source": "release-notes.md"}
{"doc_id": "fastapi_0279", "title": "Release Notes", "section": "0.116.2", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0280", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨ÜÔ∏è Upgrade Starlette supported version range to >=0.40.0,<0.49.0. PR [#14077](https://github.com/fastapi/fastapi/pull/14077) by [@musicinmybrain](https://github.com/musicinmybrain).", "source": "release-notes.md"}
{"doc_id": "fastapi_0281", "title": "Release Notes", "section": "Docs", "content": "* üìù Add documentation for Behind a Proxy - Proxy Forwarded Headers, using `--forwarded-allow-ips=\"*\"`. PR [#14028](https://github.com/fastapi/fastapi/pull/14028) by [@tiangolo](https://github.com/tiangolo).\n* üìù Add deprecation info block about `dict()` in `docs/tutorial/body.md`. PR [#13906](https://github.com/fastapi/fastapi/pull/13906) by [@jomkv](https://github.com/jomkv).\n* üìù Fix Twitter to be X (Twitter) everywhere in documentation. PR [#13809](https://github.com/fastapi/fastapi/pull/13809) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* üêõ Prevent scroll-to-top on restart/fast buttons in `termynal.js`. PR [#13714](https://github.com/fastapi/fastapi/pull/13714) by [@Ashish-Pandey62](https://github.com/Ashish-Pandey62).\n* üìù Update testing events documentation. PR [#13259](https://github.com/fastapi/fastapi/pull/13259) by [@z0z0r4](https://github.com/z0z0r4).\n* üìù Remove obsolete `url` field in error responses in docs. PR [#13655](https://github.com/fastapi/fastapi/pull/13655) by [@Taoup](https://github.com/Taoup).\n* üìù Bring the `scope` claim in line with the standard in `docs_src/security/tutorial005.py`. PR [#11189](https://github.com/fastapi/fastapi/pull/11189) by [@DurandA](https://github.com/DurandA).\n* üìù Update TrustedHostMiddleware Documentation. PR [#11441](https://github.com/fastapi/fastapi/pull/11441) by [@soulee-dev](https://github.com/soulee-dev).\n* üìù Remove links to site callbackhell.com that doesn't exist anymore. PR [#14006](https://github.com/fastapi/fastapi/pull/14006) by [@dennybiasiolli](https://github.com/dennybiasiolli).\n* üìù Add permalinks to headers in English docs. PR [#13993](https://github.com/fastapi/fastapi/pull/13993) by [@YuriiMotov](https://github.com/YuriiMotov).\n* üìù Update `docs/en/docs/advanced/generate-clients.md`. PR [#13793](https://github.com/fastapi/fastapi/pull/13793) by [@mrlubos](https://github.com/mrlubos).\n* üìù Add discussion template for new language translation requests. PR [#13535](https://github.com/fastapi/fastapi/pull/13535) by [@alejsdev](https://github.com/alejsdev).", "source": "release-notes.md"}
{"doc_id": "fastapi_0282", "title": "Release Notes", "section": "Translations", "content": "* üìù Fix code include for Pydantic models example in `docs/zh/docs/python-types.md`. PR [#13997](https://github.com/fastapi/fastapi/pull/13997) by [@anfreshman](https://github.com/anfreshman).\n*  üåê Update Portuguese Translation for `docs/pt/docs/async.md`. PR [#13863](https://github.com/fastapi/fastapi/pull/13863) by [@EdmilsonRodrigues](https://github.com/EdmilsonRodrigues).\n* üìù Fix highlight line in `docs/ja/docs/tutorial/body.md`. PR [#13927](https://github.com/fastapi/fastapi/pull/13927) by [@KoyoMiyazaki](https://github.com/KoyoMiyazaki).\n* üåê Add Persian translation for `docs/fa/docs/environment-variables.md`. PR [#13923](https://github.com/fastapi/fastapi/pull/13923) by [@Mohammad222PR](https://github.com/Mohammad222PR).\n* üåê Add Persian translation for `docs/fa/docs/python-types.md`. PR [#13524](https://github.com/fastapi/fastapi/pull/13524) by [@Mohammad222PR](https://github.com/Mohammad222PR).\n* üåê Update Portuguese Translation for `docs/pt/docs/project-generation.md`. PR [#13875](https://github.com/fastapi/fastapi/pull/13875) by [@EdmilsonRodrigues](https://github.com/EdmilsonRodrigues).\n* üåê Add Persian translation for `docs/fa/docs/async.md`. PR [#13541](https://github.com/fastapi/fastapi/pull/13541) by [@Mohammad222PR](https://github.com/Mohammad222PR).\n* üåê Add Bangali translation for `docs/bn/about/index.md`. PR [#13882](https://github.com/fastapi/fastapi/pull/13882) by [@sajjadrahman56](https://github.com/sajjadrahman56).", "source": "release-notes.md"}
{"doc_id": "fastapi_0283", "title": "Release Notes", "section": "Internal", "content": "* ‚¨Ü Bump pyjwt from 2.8.0 to 2.9.0. PR [#13960](https://github.com/fastapi/fastapi/pull/13960) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#14080](https://github.com/fastapi/fastapi/pull/14080) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* ‚¨Ü Bump actions/setup-python from 5 to 6. PR [#14042](https://github.com/fastapi/fastapi/pull/14042) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump actions/labeler from 5 to 6. PR [#14046](https://github.com/fastapi/fastapi/pull/14046) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#14056](https://github.com/fastapi/fastapi/pull/14056) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#14035](https://github.com/fastapi/fastapi/pull/14035) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* ‚¨Ü Bump pypa/gh-action-pypi-publish from 1.12.4 to 1.13.0. PR [#14041](https://github.com/fastapi/fastapi/pull/14041) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üë• Update FastAPI People - Contributors and Translators. PR [#14029](https://github.com/fastapi/fastapi/pull/14029) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People - Sponsors. PR [#14030](https://github.com/fastapi/fastapi/pull/14030) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI GitHub topic repositories. PR [#14031](https://github.com/fastapi/fastapi/pull/14031) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People - Experts. PR [#14034](https://github.com/fastapi/fastapi/pull/14034) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Detect and label merge conflicts on PRs automatically. PR [#14045](https://github.com/fastapi/fastapi/pull/14045) by [@svlandeg](https://github.com/svlandeg).\n* üîß Update sponsors: remove Platform.sh. PR [#14027](https://github.com/fastapi/fastapi/pull/14027) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors: remove Mobb. PR [#14026](https://github.com/fastapi/fastapi/pull/14026) by [@tiangolo](https://github.com/tiangolo).\n* üõ†Ô∏è Update `mkdocs_hooks` to handle headers with permalinks when building docs. PR [#14025](https://github.com/fastapi/fastapi/pull/14025) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#14016](https://github.com/fastapi/fastapi/pull/14016) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* ‚¨Ü Bump `mkdocs-macros-plugin` from 1.3.7 to 1.3.9. PR [#14003](https://github.com/fastapi/fastapi/pull/14003) by [@YuriiMotov](https://github.com/YuriiMotov).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#13999](https://github.com/fastapi/fastapi/pull/13999) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#13983](https://github.com/fastapi/fastapi/pull/13983) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* ‚¨Ü Bump actions/checkout from 4 to 5. PR [#13986](https://github.com/fastapi/fastapi/pull/13986) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üîß Update Speakeasy sponsor graphic. PR [#13971](https://github.com/fastapi/fastapi/pull/13971) by [@chailandau](https://github.com/chailandau).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#13969](https://github.com/fastapi/fastapi/pull/13969) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* ‚¨Ü Bump actions/download-artifact from 4 to 5. PR [#13975](https://github.com/fastapi/fastapi/pull/13975) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üë• Update FastAPI People - Experts. PR [#13963](https://github.com/fastapi/fastapi/pull/13963) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump ruff from 0.11.2 to 0.12.7. PR [#13957](https://github.com/fastapi/fastapi/pull/13957) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump cairosvg from 2.7.1 to 2.8.2. PR [#13959](https://github.com/fastapi/fastapi/pull/13959) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump pydantic-ai from 0.0.30 to 0.4.10. PR [#13958](https://github.com/fastapi/fastapi/pull/13958) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üë• Update FastAPI GitHub topic repositories. PR [#13962](https://github.com/fastapi/fastapi/pull/13962) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump mkdocs-material from 9.6.15 to 9.6.16. PR [#13961](https://github.com/fastapi/fastapi/pull/13961) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump tiangolo/latest-changes from 0.3.2 to 0.4.0. PR [#13952](https://github.com/fastapi/fastapi/pull/13952) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üë• Update FastAPI People - Sponsors. PR [#13956](https://github.com/fastapi/fastapi/pull/13956) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People - Contributors and Translators. PR [#13955](https://github.com/fastapi/fastapi/pull/13955) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors: Databento link and sponsors_badge data. PR [#13954](https://github.com/fastapi/fastapi/pull/13954) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors: Add Railway. PR [#13953](https://github.com/fastapi/fastapi/pull/13953) by [@tiangolo](https://github.com/tiangolo).\n* ‚öíÔ∏è Update translate script, update prompt to minimize generated diff. PR [#13947](https://github.com/fastapi/fastapi/pull/13947) by [@YuriiMotov](https://github.com/YuriiMotov).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#13943](https://github.com/fastapi/fastapi/pull/13943) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* ‚öíÔ∏è Tweak translate script and CI. PR [#13939](https://github.com/fastapi/fastapi/pull/13939) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Add CI to translate with LLMs. PR [#13937](https://github.com/fastapi/fastapi/pull/13937) by [@tiangolo](https://github.com/tiangolo).\n* ‚öíÔ∏è Update translate script, show and update outdated translations. PR [#13933](https://github.com/fastapi/fastapi/pull/13933) by [@tiangolo](https://github.com/tiangolo).\n* üî® Refactor translate script with extra feedback (prints). PR [#13932](https://github.com/fastapi/fastapi/pull/13932) by [@tiangolo](https://github.com/tiangolo).\n* üî® Update translations script to remove old (removed) files. PR [#13928](https://github.com/fastapi/fastapi/pull/13928) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#13894](https://github.com/fastapi/fastapi/pull/13894) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* ‚¨Ü Update httpx requirement to >=0.23.0,<0.29.0. PR [#13114](https://github.com/fastapi/fastapi/pull/13114) by [@yan12125](https://github.com/yan12125).\n* üîß Update sponsors: Add Mobb. PR [#13916](https://github.com/fastapi/fastapi/pull/13916) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People - Experts. PR [#13889](https://github.com/fastapi/fastapi/pull/13889) by [@tiangolo](https://github.com/tiangolo).\n* üî® Update FastAPI People sleep interval, use external settings. PR [#13888](https://github.com/fastapi/fastapi/pull/13888) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0284", "title": "Release Notes", "section": "0.116.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0285", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨ÜÔ∏è Upgrade Starlette supported version range to `>=0.40.0,<0.48.0`. PR [#13884](https://github.com/fastapi/fastapi/pull/13884) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0286", "title": "Release Notes", "section": "Docs", "content": "* üìù Add notification about impending changes in Translations to `docs/en/docs/contributing.md`. PR [#13886](https://github.com/fastapi/fastapi/pull/13886) by [@YuriiMotov](https://github.com/YuriiMotov).", "source": "release-notes.md"}
{"doc_id": "fastapi_0287", "title": "Release Notes", "section": "Internal", "content": "* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#13871](https://github.com/fastapi/fastapi/pull/13871) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).", "source": "release-notes.md"}
{"doc_id": "fastapi_0288", "title": "Release Notes", "section": "0.116.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0289", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add support for deploying to FastAPI Cloud with `fastapi deploy`. PR [#13870](https://github.com/fastapi/fastapi/pull/13870) by [@tiangolo](https://github.com/tiangolo).\n\nInstalling `fastapi[standard]` now includes `fastapi-cloud-cli`.\n\nThis will allow you to deploy to [FastAPI Cloud](https://fastapicloud.com) with the `fastapi deploy` command.\n\nIf you want to install `fastapi` with the standard dependencies but without `fastapi-cloud-cli`, you can install instead `fastapi[standard-no-fastapi-cloud-cli]`.", "source": "release-notes.md"}
{"doc_id": "fastapi_0290", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Russian translation for `docs/ru/docs/advanced/response-directly.md`. PR [#13801](https://github.com/fastapi/fastapi/pull/13801) by [@NavesSapnis](https://github.com/NavesSapnis).\n* üåê Add Russian translation for `docs/ru/docs/advanced/additional-status-codes.md`. PR [#13799](https://github.com/fastapi/fastapi/pull/13799) by [@NavesSapnis](https://github.com/NavesSapnis).\n* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/body-updates.md`. PR [#13804](https://github.com/fastapi/fastapi/pull/13804) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).", "source": "release-notes.md"}
{"doc_id": "fastapi_0291", "title": "Release Notes", "section": "Internal", "content": "* ‚¨Ü Bump pillow from 11.1.0 to 11.3.0. PR [#13852](https://github.com/fastapi/fastapi/pull/13852) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üë• Update FastAPI People - Sponsors. PR [#13846](https://github.com/fastapi/fastapi/pull/13846) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI GitHub topic repositories. PR [#13848](https://github.com/fastapi/fastapi/pull/13848) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump mkdocs-material from 9.6.1 to 9.6.15. PR [#13849](https://github.com/fastapi/fastapi/pull/13849) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#13843](https://github.com/fastapi/fastapi/pull/13843) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* üë• Update FastAPI People - Contributors and Translators. PR [#13845](https://github.com/fastapi/fastapi/pull/13845) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0292", "title": "Release Notes", "section": "0.115.14", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0293", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix support for unions when using `Form`. PR [#13827](https://github.com/fastapi/fastapi/pull/13827) by [@patrick91](https://github.com/patrick91).", "source": "release-notes.md"}
{"doc_id": "fastapi_0294", "title": "Release Notes", "section": "Docs", "content": "* ‚úèÔ∏è Fix grammar mistake in `docs/en/docs/advanced/response-directly.md`. PR [#13800](https://github.com/fastapi/fastapi/pull/13800) by [@NavesSapnis](https://github.com/NavesSapnis).\n* üìù Update Speakeasy URL to Speakeasy Sandbox. PR [#13697](https://github.com/fastapi/fastapi/pull/13697) by [@ndimares](https://github.com/ndimares).", "source": "release-notes.md"}
{"doc_id": "fastapi_0295", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/response-model.md`. PR [#13792](https://github.com/fastapi/fastapi/pull/13792) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/security/index.md`. PR [#13805](https://github.com/fastapi/fastapi/pull/13805) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* ‚úèÔ∏è Fix typo in `docs/ja/docs/tutorial/encoder.md`. PR [#13815](https://github.com/fastapi/fastapi/pull/13815) by [@ruzia](https://github.com/ruzia).\n* ‚úèÔ∏è Fix typo in `docs/ja/docs/tutorial/handling-errors.md`. PR [#13814](https://github.com/fastapi/fastapi/pull/13814) by [@ruzia](https://github.com/ruzia).\n* ‚úèÔ∏è Fix typo in `docs/ja/docs/tutorial/body-fields.md`. PR [#13802](https://github.com/fastapi/fastapi/pull/13802) by [@ruzia](https://github.com/ruzia).\n* üåê Add Russian translation for `docs/ru/docs/advanced/index.md`. PR [#13797](https://github.com/fastapi/fastapi/pull/13797) by [@NavesSapnis](https://github.com/NavesSapnis).", "source": "release-notes.md"}
{"doc_id": "fastapi_0296", "title": "Release Notes", "section": "Internal", "content": "* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#13823](https://github.com/fastapi/fastapi/pull/13823) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).", "source": "release-notes.md"}
{"doc_id": "fastapi_0297", "title": "Release Notes", "section": "0.115.13", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0298", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix truncating the model's description with form feed (`\\f`) character for Pydantic V2. PR [#13698](https://github.com/fastapi/fastapi/pull/13698) by [@YuriiMotov](https://github.com/YuriiMotov).", "source": "release-notes.md"}
{"doc_id": "fastapi_0299", "title": "Release Notes", "section": "Refactors", "content": "* ‚ú® Add `refreshUrl` parameter in `OAuth2PasswordBearer`. PR [#11460](https://github.com/fastapi/fastapi/pull/11460) by [@snosratiershad](https://github.com/snosratiershad).\n* üö∏ Set format to password for fields `password` and `client_secret` in `OAuth2PasswordRequestForm`, make docs show password fields for passwords. PR [#11032](https://github.com/fastapi/fastapi/pull/11032) by [@Thodoris1999](https://github.com/Thodoris1999).\n* ‚úÖ Simplify tests for `settings`. PR [#13505](https://github.com/fastapi/fastapi/pull/13505) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* ‚úÖ Simplify tests for `validate_response_recursive`. PR [#13507](https://github.com/fastapi/fastapi/pull/13507) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).", "source": "release-notes.md"}
{"doc_id": "fastapi_0300", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨ÜÔ∏è Update ReDoc to version 2.x. PR [#9700](https://github.com/fastapi/fastapi/pull/9700) by [@joakimnordling](https://github.com/joakimnordling).", "source": "release-notes.md"}
{"doc_id": "fastapi_0301", "title": "Release Notes", "section": "Docs", "content": "* üìù Add annotations to HTTP middleware example. PR [#11530](https://github.com/fastapi/fastapi/pull/11530) by [@Kilo59](https://github.com/Kilo59).\n* üìù Clarify in CORS docs that wildcards and credentials are mutually exclusive. PR [#9829](https://github.com/fastapi/fastapi/pull/9829) by [@dfioravanti](https://github.com/dfioravanti).\n* ‚úèÔ∏è Fix typo in docstring. PR [#13532](https://github.com/fastapi/fastapi/pull/13532) by [@comp64](https://github.com/comp64).\n* üìù Clarify guidance on using `async def` without `await`. PR [#13642](https://github.com/fastapi/fastapi/pull/13642) by [@swastikpradhan1999](https://github.com/swastikpradhan1999).\n* üìù Update exclude-parameters-from-openapi documentation links. PR [#13600](https://github.com/fastapi/fastapi/pull/13600) by [@timonrieger](https://github.com/timonrieger).\n* üìù Clarify the middleware execution order in docs. PR [#13699](https://github.com/fastapi/fastapi/pull/13699) by [@YuriiMotov](https://github.com/YuriiMotov).\n* üç± Update Drawio diagrams SVGs, single file per diagram, sans-serif font. PR [#13706](https://github.com/fastapi/fastapi/pull/13706) by [@tiangolo](https://github.com/tiangolo).\n* üìù Update docs for \"Help FastAPI\", simplify and reduce \"sponsor\" section. PR [#13670](https://github.com/fastapi/fastapi/pull/13670) by [@tiangolo](https://github.com/tiangolo).\n* üìù Remove unnecessary bullet from docs. PR [#13641](https://github.com/fastapi/fastapi/pull/13641) by [@Adamowoc](https://github.com/Adamowoc).\n* ‚úèÔ∏è Fix syntax error in `docs/en/docs/tutorial/handling-errors.md`. PR [#13623](https://github.com/fastapi/fastapi/pull/13623) by [@gsheni](https://github.com/gsheni).\n* üìù Fix typo in documentation. PR [#13599](https://github.com/fastapi/fastapi/pull/13599) by [@Taoup](https://github.com/Taoup).\n* üìù Fix liblab client generation doc link. PR [#13571](https://github.com/fastapi/fastapi/pull/13571) by [@EFord36](https://github.com/EFord36).\n* ‚úèÔ∏è Fix talk information typo. PR [#13544](https://github.com/fastapi/fastapi/pull/13544) by [@blueswen](https://github.com/blueswen).\n* üìù Add External Link: Taiwanese talk on FastAPI with observability . PR [#13527](https://github.com/fastapi/fastapi/pull/13527) by [@blueswen](https://github.com/blueswen).", "source": "release-notes.md"}
{"doc_id": "fastapi_0302", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Russian Translation for `docs/ru/docs/advanced/response-change-status-code.md`. PR [#13791](https://github.com/fastapi/fastapi/pull/13791) by [@NavesSapnis](https://github.com/NavesSapnis).\n* üåê Add Persian translation for `docs/fa/docs/learn/index.md`. PR [#13518](https://github.com/fastapi/fastapi/pull/13518) by [@Mohammad222PR](https://github.com/Mohammad222PR).\n* üåê Add Korean translation for `docs/ko/docs/advanced/sub-applications.md`. PR [#4543](https://github.com/fastapi/fastapi/pull/4543) by [@NinaHwang](https://github.com/NinaHwang).\n* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/schema-extra-example.md`. PR [#13769](https://github.com/fastapi/fastapi/pull/13769) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* ‚úèÔ∏è Remove redundant words in docs/zh/docs/python-types.md. PR [#13774](https://github.com/fastapi/fastapi/pull/13774) by [@CharleeWa](https://github.com/CharleeWa).\n* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/query-param-models.md`. PR [#13748](https://github.com/fastapi/fastapi/pull/13748) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* üåê Add Bengali translation for `docs/bn/docs/environment-variables.md`. PR [#13629](https://github.com/fastapi/fastapi/pull/13629) by [@SakibSibly](https://github.com/SakibSibly).\n* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/query-params-str-validations.md` page. PR [#13546](https://github.com/fastapi/fastapi/pull/13546) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/cookie-param-models.md`. PR [#13616](https://github.com/fastapi/fastapi/pull/13616) by [@EgorOnishchuk](https://github.com/EgorOnishchuk).\n* üåê Add Korean translation for `docs/ko/docs/tutorial/extra-models.md`. PR [#13063](https://github.com/fastapi/fastapi/pull/13063) by [@timothy-jeong](https://github.com/timothy-jeong).\n* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/path-params-numeric-validations.md` page. PR [#13548](https://github.com/fastapi/fastapi/pull/13548) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/middleware.md` page. PR [#13520](https://github.com/fastapi/fastapi/pull/13520) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/background-tasks.md` page. PR [#13502](https://github.com/fastapi/fastapi/pull/13502) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/cors.md` page. PR [#13519](https://github.com/fastapi/fastapi/pull/13519) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* üåê Update Korean translation for `docs/ko/docs/advanced/events.md`. PR [#13487](https://github.com/fastapi/fastapi/pull/13487) by [@bom1215](https://github.com/bom1215).\n* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/handling-errors.md` page. PR [#13420](https://github.com/fastapi/fastapi/pull/13420) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/request-form-models.md`. PR [#13552](https://github.com/fastapi/fastapi/pull/13552) by [@EgorOnishchuk](https://github.com/EgorOnishchuk).\n* üìù Fix internal anchor link in Spanish deployment docs. PR [#13737](https://github.com/fastapi/fastapi/pull/13737) by [@fabianfalon](https://github.com/fabianfalon).\n* üåê Update Korean translation for `docs/ko/docs/virtual-environments.md`. PR [#13630](https://github.com/fastapi/fastapi/pull/13630) by [@sungchan1](https://github.com/sungchan1).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/header-param-models.md`. PR [#13526](https://github.com/fastapi/fastapi/pull/13526) by [@minaton-ru](https://github.com/minaton-ru).\n* üåê Update Chinese translation for `docs/zh/docs/tutorial/index.md`. PR [#13374](https://github.com/fastapi/fastapi/pull/13374) by [@Zhongheng-Cheng](https://github.com/Zhongheng-Cheng).\n* üåê Update Chinese translation for `docs/zh/docs/deployment/manually.md`. PR [#13324](https://github.com/fastapi/fastapi/pull/13324) by [@Zhongheng-Cheng](https://github.com/Zhongheng-Cheng).\n* üåê Update Chinese translation for `docs/zh/docs/deployment/server-workers.md`. PR [#13292](https://github.com/fastapi/fastapi/pull/13292) by [@Zhongheng-Cheng](https://github.com/Zhongheng-Cheng).\n* üåê Update Chinese translation for `docs/zh/docs/tutorial/first-steps.md`. PR [#13348](https://github.com/fastapi/fastapi/pull/13348) by [@Zhongheng-Cheng](https://github.com/Zhongheng-Cheng).", "source": "release-notes.md"}
{"doc_id": "fastapi_0303", "title": "Release Notes", "section": "Internal", "content": "* üî® Resolve Pydantic deprecation warnings in internal script. PR [#13696](https://github.com/fastapi/fastapi/pull/13696) by [@emmanuel-ferdman](https://github.com/emmanuel-ferdman).\n* üîß Update sponsors: remove Porter. PR [#13783](https://github.com/fastapi/fastapi/pull/13783) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#13781](https://github.com/fastapi/fastapi/pull/13781) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#13757](https://github.com/fastapi/fastapi/pull/13757) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* ‚¨Ü Bump griffe-typingdoc from 0.2.7 to 0.2.8. PR [#13751](https://github.com/fastapi/fastapi/pull/13751) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üç± Update sponsors: Dribia badge size. PR [#13773](https://github.com/fastapi/fastapi/pull/13773) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors: add Dribia. PR [#13771](https://github.com/fastapi/fastapi/pull/13771) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump typer from 0.15.3 to 0.16.0. PR [#13752](https://github.com/fastapi/fastapi/pull/13752) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üë• Update FastAPI GitHub topic repositories. PR [#13754](https://github.com/fastapi/fastapi/pull/13754) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People - Sponsors. PR [#13750](https://github.com/fastapi/fastapi/pull/13750) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People - Contributors and Translators. PR [#13749](https://github.com/fastapi/fastapi/pull/13749) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#13736](https://github.com/fastapi/fastapi/pull/13736) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* üîß Update sponsors: Add InterviewPal. PR [#13728](https://github.com/fastapi/fastapi/pull/13728) by [@tiangolo](https://github.com/tiangolo).\n* üîß Remove Google Analytics. PR [#13727](https://github.com/fastapi/fastapi/pull/13727) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors: remove MongoDB. PR [#13725](https://github.com/fastapi/fastapi/pull/13725) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#13711](https://github.com/fastapi/fastapi/pull/13711) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* üîß Update sponsors: add Subtotal. PR [#13701](https://github.com/fastapi/fastapi/pull/13701) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors: remove deepset / Haystack. PR [#13700](https://github.com/fastapi/fastapi/pull/13700) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#13688](https://github.com/fastapi/fastapi/pull/13688) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* üë• Update FastAPI People - Experts. PR [#13671](https://github.com/fastapi/fastapi/pull/13671) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump typer from 0.12.5 to 0.15.3. PR [#13666](https://github.com/fastapi/fastapi/pull/13666) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump sqlmodel from 0.0.23 to 0.0.24. PR [#13665](https://github.com/fastapi/fastapi/pull/13665) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üîß Update Sponsors: Zuplo logo and alt text. PR [#13645](https://github.com/fastapi/fastapi/pull/13645) by [@martyndavies](https://github.com/martyndavies).\n* üë• Update FastAPI GitHub topic repositories. PR [#13667](https://github.com/fastapi/fastapi/pull/13667) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update links for LinkedIn and bottom. PR [#13669](https://github.com/fastapi/fastapi/pull/13669) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors: remove Bump.sh and Coherence. PR [#13668](https://github.com/fastapi/fastapi/pull/13668) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People - Sponsors. PR [#13664](https://github.com/fastapi/fastapi/pull/13664) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People - Contributors and Translators. PR [#13662](https://github.com/fastapi/fastapi/pull/13662) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#13656](https://github.com/fastapi/fastapi/pull/13656) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* ‚úÖ Use `inline-snapshot` to support different Pydantic versions in the test suite. PR [#12534](https://github.com/fastapi/fastapi/pull/12534) by [@15r10nk](https://github.com/15r10nk).\n* ‚¨Ü Bump astral-sh/setup-uv from 5 to 6. PR [#13648](https://github.com/fastapi/fastapi/pull/13648) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#13634](https://github.com/fastapi/fastapi/pull/13634) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#13619](https://github.com/fastapi/fastapi/pull/13619) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#13594](https://github.com/fastapi/fastapi/pull/13594) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* üë• Update FastAPI People - Experts. PR [#13568](https://github.com/fastapi/fastapi/pull/13568) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI GitHub topic repositories. PR [#13565](https://github.com/fastapi/fastapi/pull/13565) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People - Sponsors. PR [#13559](https://github.com/fastapi/fastapi/pull/13559) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People - Contributors and Translators. PR [#13558](https://github.com/fastapi/fastapi/pull/13558) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump dirty-equals from 0.8.0 to 0.9.0. PR [#13561](https://github.com/fastapi/fastapi/pull/13561) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üîß Clean up `docs/en/mkdocs.yml` configuration file. PR [#13542](https://github.com/fastapi/fastapi/pull/13542) by [@svlandeg](https://github.com/svlandeg).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#12986](https://github.com/fastapi/fastapi/pull/12986) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).", "source": "release-notes.md"}
{"doc_id": "fastapi_0304", "title": "Release Notes", "section": "0.115.12", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0305", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix `convert_underscores=False` for header Pydantic models. PR [#13515](https://github.com/fastapi/fastapi/pull/13515) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0306", "title": "Release Notes", "section": "Docs", "content": "* üìù Update `docs/en/docs/tutorial/middleware.md`. PR [#13444](https://github.com/fastapi/fastapi/pull/13444) by [@Rishat-F](https://github.com/Rishat-F).\n* üë• Update FastAPI People - Experts. PR [#13493](https://github.com/fastapi/fastapi/pull/13493) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0307", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/metadata.md` page. PR [#13459](https://github.com/fastapi/fastapi/pull/13459) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/response-status-code.md` page. PR [#13462](https://github.com/fastapi/fastapi/pull/13462) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/cookie-param-models.md` page. PR [#13460](https://github.com/fastapi/fastapi/pull/13460) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/header-param-models.md` page. PR [#13461](https://github.com/fastapi/fastapi/pull/13461) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* üåê Add Japanese translation for `docs/ja/docs/virtual-environments.md`. PR [#13304](https://github.com/fastapi/fastapi/pull/13304) by [@k94-ishi](https://github.com/k94-ishi).\n* üåê Add Korean translation for `docs/ko/docs/tutorial/security/oauth2-jwt.md`. PR [#13333](https://github.com/fastapi/fastapi/pull/13333) by [@yes0ng](https://github.com/yes0ng).\n* üåê Add Vietnamese translation for `docs/vi/docs/deployment/cloud.md`. PR [#13407](https://github.com/fastapi/fastapi/pull/13407) by [@ptt3199](https://github.com/ptt3199).", "source": "release-notes.md"}
{"doc_id": "fastapi_0308", "title": "Release Notes", "section": "Internal", "content": "* ‚¨Ü Bump pydantic-ai from 0.0.15 to 0.0.30. PR [#13438](https://github.com/fastapi/fastapi/pull/13438) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump sqlmodel from 0.0.22 to 0.0.23. PR [#13437](https://github.com/fastapi/fastapi/pull/13437) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump black from 24.10.0 to 25.1.0. PR [#13436](https://github.com/fastapi/fastapi/pull/13436) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump ruff to 0.9.4. PR [#13299](https://github.com/fastapi/fastapi/pull/13299) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üîß Update sponsors: pause TestDriven. PR [#13446](https://github.com/fastapi/fastapi/pull/13446) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0309", "title": "Release Notes", "section": "0.115.11", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0310", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Add docs examples and tests (support) for `Annotated` custom validations, like `AfterValidator`, revert [#13440](https://github.com/fastapi/fastapi/pull/13440). PR [#13442](https://github.com/fastapi/fastapi/pull/13442) by [@tiangolo](https://github.com/tiangolo).\n    * New docs: [Query Parameters and String Validations - Custom Validation](https://fastapi.tiangolo.com/tutorial/query-params-str-validations/#custom-validation).", "source": "release-notes.md"}
{"doc_id": "fastapi_0311", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Russian translation for  `docs/ru/docs/tutorial/middleware.md`. PR [#13412](https://github.com/fastapi/fastapi/pull/13412) by [@alv2017](https://github.com/alv2017).", "source": "release-notes.md"}
{"doc_id": "fastapi_0312", "title": "Release Notes", "section": "Internal", "content": "* üë• Update FastAPI GitHub topic repositories. PR [#13439](https://github.com/fastapi/fastapi/pull/13439) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People - Contributors and Translators. PR [#13432](https://github.com/fastapi/fastapi/pull/13432) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People - Sponsors. PR [#13433](https://github.com/fastapi/fastapi/pull/13433) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0313", "title": "Release Notes", "section": "0.115.10", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0314", "title": "Release Notes", "section": "Fixes", "content": "* ‚ôªÔ∏è Update internal annotation usage for compatibility with Pydantic 2.11. PR [#13314](https://github.com/fastapi/fastapi/pull/13314) by [@Viicos](https://github.com/Viicos).", "source": "release-notes.md"}
{"doc_id": "fastapi_0315", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨ÜÔ∏è Bump Starlette to allow up to 0.46.0: `>=0.40.0,<0.47.0`. PR [#13426](https://github.com/fastapi/fastapi/pull/13426) by [@musicinmybrain](https://github.com/musicinmybrain).", "source": "release-notes.md"}
{"doc_id": "fastapi_0316", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/debugging.md`. PR [#13370](https://github.com/fastapi/fastapi/pull/13370) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/query-params.md`. PR [#13362](https://github.com/fastapi/fastapi/pull/13362) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/path-params.md`. PR [#13354](https://github.com/fastapi/fastapi/pull/13354) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* üåê Add Japanese translation for `docs/ja/docs/tutorial/cookie-param-models.md`. PR [#13330](https://github.com/fastapi/fastapi/pull/13330) by [@k94-ishi](https://github.com/k94-ishi).\n* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/body-multiple-params.md`. PR [#13408](https://github.com/fastapi/fastapi/pull/13408) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* üåê Add Japanese translation for `docs/ja/docs/tutorial/query-param-models.md`. PR [#13323](https://github.com/fastapi/fastapi/pull/13323) by [@k94-ishi](https://github.com/k94-ishi).\n* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/body-nested-models.md`. PR [#13409](https://github.com/fastapi/fastapi/pull/13409) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* üåê Add Vietnamese translation for `docs/vi/docs/deployment/versions.md`. PR [#13406](https://github.com/fastapi/fastapi/pull/13406) by [@ptt3199](https://github.com/ptt3199).\n* üåê Add Vietnamese translation for `docs/vi/docs/deployment/index.md`. PR [#13405](https://github.com/fastapi/fastapi/pull/13405) by [@ptt3199](https://github.com/ptt3199).\n* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/request-forms.md`. PR [#13383](https://github.com/fastapi/fastapi/pull/13383) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/testing.md`. PR [#13371](https://github.com/fastapi/fastapi/pull/13371) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).", "source": "release-notes.md"}
{"doc_id": "fastapi_0317", "title": "Release Notes", "section": "0.115.9", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0318", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Ensure that `HTTPDigest` only raises an exception when `auto_error is True`. PR [#2939](https://github.com/fastapi/fastapi/pull/2939) by [@arthurio](https://github.com/arthurio).", "source": "release-notes.md"}
{"doc_id": "fastapi_0319", "title": "Release Notes", "section": "Refactors", "content": "* ‚úÖ Simplify tests for `query_params_str_validations`. PR [#13218](https://github.com/fastapi/fastapi/pull/13218) by [@alv2017](https://github.com/alv2017).\n* ‚úÖ Simplify tests for `app_testing`. PR [#13220](https://github.com/fastapi/fastapi/pull/13220) by [@alv2017](https://github.com/alv2017).\n* ‚úÖ Simplify tests for `dependency_testing`. PR [#13223](https://github.com/fastapi/fastapi/pull/13223) by [@alv2017](https://github.com/alv2017).", "source": "release-notes.md"}
{"doc_id": "fastapi_0320", "title": "Release Notes", "section": "Docs", "content": "* üç± Update sponsors: CodeRabbit logo. PR [#13424](https://github.com/fastapi/fastapi/pull/13424) by [@tiangolo](https://github.com/tiangolo).\n* ü©∫ Unify the badges across all tutorial translations. PR [#13329](https://github.com/fastapi/fastapi/pull/13329) by [@svlandeg](https://github.com/svlandeg).\n* üìù Fix typos in virtual environments documentation. PR [#13396](https://github.com/fastapi/fastapi/pull/13396) by [@bullet-ant](https://github.com/bullet-ant).\n* üêõ Fix issue with Swagger theme change example in the official tutorial. PR [#13289](https://github.com/fastapi/fastapi/pull/13289) by [@Zerohertz](https://github.com/Zerohertz).\n* üìù Add more precise description of HTTP status code range in docs. PR [#13347](https://github.com/fastapi/fastapi/pull/13347) by [@DanielYang59](https://github.com/DanielYang59).\n* üî• Remove manual type annotations in JWT tutorial to avoid typing expectations (JWT doesn't provide more types). PR [#13378](https://github.com/fastapi/fastapi/pull/13378) by [@tiangolo](https://github.com/tiangolo).\n* üìù Update docs for Query Params and String Validations, remove obsolete Ellipsis docs (`...`). PR [#13377](https://github.com/fastapi/fastapi/pull/13377) by [@tiangolo](https://github.com/tiangolo).\n* ‚úèÔ∏è Remove duplicate title in docs `body-multiple-params`. PR [#13345](https://github.com/fastapi/fastapi/pull/13345) by [@DanielYang59](https://github.com/DanielYang59).\n* üìù Fix test badge. PR [#13313](https://github.com/fastapi/fastapi/pull/13313) by [@esadek](https://github.com/esadek).", "source": "release-notes.md"}
{"doc_id": "fastapi_0321", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/header-params.md`. PR [#13381](https://github.com/fastapi/fastapi/pull/13381) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/request-files.md`. PR [#13395](https://github.com/fastapi/fastapi/pull/13395) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/request-form-models.md`. PR [#13384](https://github.com/fastapi/fastapi/pull/13384) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/request-forms-and-files.md`. PR [#13386](https://github.com/fastapi/fastapi/pull/13386) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* üåê Update Korean translation for `docs/ko/docs/help-fastapi.md`. PR [#13262](https://github.com/fastapi/fastapi/pull/13262) by [@Zerohertz](https://github.com/Zerohertz).\n* üåê Add Korean translation for `docs/ko/docs/advanced/custom-response.md`. PR [#13265](https://github.com/fastapi/fastapi/pull/13265) by [@11kkw](https://github.com/11kkw).\n* üåê Update Korean translation for `docs/ko/docs/tutorial/security/simple-oauth2.md`. PR [#13335](https://github.com/fastapi/fastapi/pull/13335) by [@yes0ng](https://github.com/yes0ng).\n* üåê Add Russian translation for `docs/ru/docs/advanced/response-cookies.md`. PR [#13327](https://github.com/fastapi/fastapi/pull/13327) by [@Stepakinoyan](https://github.com/Stepakinoyan).\n* üåê  Add Vietnamese translation for `docs/vi/docs/tutorial/static-files.md`. PR [#11291](https://github.com/fastapi/fastapi/pull/11291) by [@ptt3199](https://github.com/ptt3199).\n* üåê Add Korean translation for `docs/ko/docs/tutorial/dependencies/dependencies-with-yield.md`. PR [#13257](https://github.com/fastapi/fastapi/pull/13257) by [@11kkw](https://github.com/11kkw).\n* üåê Add Vietnamese translation for `docs/vi/docs/virtual-environments.md`. PR [#13282](https://github.com/fastapi/fastapi/pull/13282) by [@ptt3199](https://github.com/ptt3199).\n* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/static-files.md`. PR [#13285](https://github.com/fastapi/fastapi/pull/13285) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* üåê Add Vietnamese translation for `docs/vi/docs/environment-variables.md`. PR [#13287](https://github.com/fastapi/fastapi/pull/13287) by [@ptt3199](https://github.com/ptt3199).\n* üåê Add Vietnamese translation for `docs/vi/docs/fastapi-cli.md`. PR [#13294](https://github.com/fastapi/fastapi/pull/13294) by [@ptt3199](https://github.com/ptt3199).\n* üåê Add Ukrainian translation for `docs/uk/docs/features.md`. PR [#13308](https://github.com/fastapi/fastapi/pull/13308) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* üåê Add Ukrainian translation for `docs/uk/docs/learn/index.md`. PR [#13306](https://github.com/fastapi/fastapi/pull/13306) by [@valentinDruzhinin](https://github.com/valentinDruzhinin).\n* üåê Update Portuguese Translation for `docs/pt/docs/deployment/https.md`. PR [#13317](https://github.com/fastapi/fastapi/pull/13317) by [@Joao-Pedro-P-Holanda](https://github.com/Joao-Pedro-P-Holanda).\n* üåê Update Portuguese Translation for `docs/pt/docs/index.md`. PR [#13328](https://github.com/fastapi/fastapi/pull/13328) by [@ceb10n](https://github.com/ceb10n).\n* üåê Add Russian translation for `docs/ru/docs/advanced/websockets.md`. PR [#13279](https://github.com/fastapi/fastapi/pull/13279) by [@Rishat-F](https://github.com/Rishat-F).", "source": "release-notes.md"}
{"doc_id": "fastapi_0322", "title": "Release Notes", "section": "Internal", "content": "* ‚úÖ Fix a minor bug in the test `tests/test_modules_same_name_body/test_main.py`. PR [#13411](https://github.com/fastapi/fastapi/pull/13411) by [@alv2017](https://github.com/alv2017).\n* üë∑ Use `wrangler-action` v3. PR [#13415](https://github.com/fastapi/fastapi/pull/13415) by [@joakimnordling](https://github.com/joakimnordling).\n* üîß Update sponsors: add CodeRabbit. PR [#13402](https://github.com/fastapi/fastapi/pull/13402) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update team: Add Ludovico. PR [#13390](https://github.com/fastapi/fastapi/pull/13390) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors: Add LambdaTest. PR [#13389](https://github.com/fastapi/fastapi/pull/13389) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump cloudflare/wrangler-action from 3.13 to 3.14. PR [#13350](https://github.com/fastapi/fastapi/pull/13350) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump mkdocs-material from 9.5.18 to 9.6.1. PR [#13301](https://github.com/fastapi/fastapi/pull/13301) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump pillow from 11.0.0 to 11.1.0. PR [#13300](https://github.com/fastapi/fastapi/pull/13300) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üë• Update FastAPI People - Sponsors. PR [#13295](https://github.com/fastapi/fastapi/pull/13295) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People - Experts. PR [#13303](https://github.com/fastapi/fastapi/pull/13303) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI GitHub topic repositories. PR [#13302](https://github.com/fastapi/fastapi/pull/13302) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People - Contributors and Translators. PR [#13293](https://github.com/fastapi/fastapi/pull/13293) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump inline-snapshot from 0.18.1 to 0.19.3. PR [#13298](https://github.com/fastapi/fastapi/pull/13298) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üîß Update sponsors, add Permit. PR [#13288](https://github.com/fastapi/fastapi/pull/13288) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0323", "title": "Release Notes", "section": "0.115.8", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0324", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix `OAuth2PasswordRequestForm` and `OAuth2PasswordRequestFormStrict` fixed `grant_type` \"password\" RegEx. PR [#9783](https://github.com/fastapi/fastapi/pull/9783) by [@skarfie123](https://github.com/skarfie123).", "source": "release-notes.md"}
{"doc_id": "fastapi_0325", "title": "Release Notes", "section": "Refactors", "content": "* ‚úÖ Simplify tests for body_multiple_params . PR [#13237](https://github.com/fastapi/fastapi/pull/13237) by [@alejsdev](https://github.com/alejsdev).\n* ‚ôªÔ∏è Move duplicated code portion to a static method in the `APIKeyBase` super class. PR [#3142](https://github.com/fastapi/fastapi/pull/3142) by [@ShahriyarR](https://github.com/ShahriyarR).\n* ‚úÖ Simplify tests for request_files. PR [#13182](https://github.com/fastapi/fastapi/pull/13182) by [@alejsdev](https://github.com/alejsdev).", "source": "release-notes.md"}
{"doc_id": "fastapi_0326", "title": "Release Notes", "section": "Docs", "content": "* üìù Change the word \"unwrap\" to \"unpack\" in `docs/en/docs/tutorial/extra-models.md`. PR [#13061](https://github.com/fastapi/fastapi/pull/13061) by [@timothy-jeong](https://github.com/timothy-jeong).\n* üìù Update Request Body's `tutorial002` to deal with `tax=0` case. PR [#13230](https://github.com/fastapi/fastapi/pull/13230) by [@togogh](https://github.com/togogh).\n* üë• Update FastAPI People - Experts. PR [#13269](https://github.com/fastapi/fastapi/pull/13269) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0327", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Japanese translation for `docs/ja/docs/environment-variables.md`. PR [#13226](https://github.com/fastapi/fastapi/pull/13226) by [@k94-ishi](https://github.com/k94-ishi).\n* üåê Add Russian translation for `docs/ru/docs/advanced/async-tests.md`. PR [#13227](https://github.com/fastapi/fastapi/pull/13227) by [@Rishat-F](https://github.com/Rishat-F).\n* üåê Update Russian translation for `docs/ru/docs/tutorial/dependencies/dependencies-in-path-operation-decorators.md`. PR [#13252](https://github.com/fastapi/fastapi/pull/13252) by [@Rishat-F](https://github.com/Rishat-F).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/bigger-applications.md`. PR [#13154](https://github.com/fastapi/fastapi/pull/13154) by [@alv2017](https://github.com/alv2017).", "source": "release-notes.md"}
{"doc_id": "fastapi_0328", "title": "Release Notes", "section": "Internal", "content": "* ‚¨ÜÔ∏è Add support for Python 3.13. PR [#13274](https://github.com/fastapi/fastapi/pull/13274) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨ÜÔ∏è Upgrade AnyIO max version for tests, new range: `>=3.2.1,<5.0.0`. PR [#13273](https://github.com/fastapi/fastapi/pull/13273) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update Sponsors badges. PR [#13271](https://github.com/fastapi/fastapi/pull/13271) by [@tiangolo](https://github.com/tiangolo).\n* ‚ôªÔ∏è Fix `notify_translations.py` empty env var handling for PR label events vs workflow_dispatch. PR [#13272](https://github.com/fastapi/fastapi/pull/13272) by [@tiangolo](https://github.com/tiangolo).\n* ‚ôªÔ∏è Refactor and move `scripts/notify_translations.py`, no need for a custom GitHub Action. PR [#13270](https://github.com/fastapi/fastapi/pull/13270) by [@tiangolo](https://github.com/tiangolo).\n* üî® Update FastAPI People Experts script, refactor and optimize data fetching to handle rate limits. PR [#13267](https://github.com/fastapi/fastapi/pull/13267) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump pypa/gh-action-pypi-publish from 1.12.3 to 1.12.4. PR [#13251](https://github.com/fastapi/fastapi/pull/13251) by [@dependabot[bot]](https://github.com/apps/dependabot).", "source": "release-notes.md"}
{"doc_id": "fastapi_0329", "title": "Release Notes", "section": "0.115.7", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0330", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨ÜÔ∏è Upgrade `python-multipart` to >=0.0.18. PR [#13219](https://github.com/fastapi/fastapi/pull/13219) by [@DanielKusyDev](https://github.com/DanielKusyDev).\n* ‚¨ÜÔ∏è Bump Starlette to allow up to 0.45.0: `>=0.40.0,<0.46.0`. PR [#13117](https://github.com/fastapi/fastapi/pull/13117) by [@Kludex](https://github.com/Kludex).\n* ‚¨ÜÔ∏è Upgrade `jinja2` to >=3.1.5. PR [#13194](https://github.com/fastapi/fastapi/pull/13194) by [@DanielKusyDev](https://github.com/DanielKusyDev).", "source": "release-notes.md"}
{"doc_id": "fastapi_0331", "title": "Release Notes", "section": "Refactors", "content": "* ‚úÖ Simplify tests for websockets. PR [#13202](https://github.com/fastapi/fastapi/pull/13202) by [@alejsdev](https://github.com/alejsdev).\n* ‚úÖ Simplify tests for request_form_models . PR [#13183](https://github.com/fastapi/fastapi/pull/13183) by [@alejsdev](https://github.com/alejsdev).\n* ‚úÖ Simplify tests for separate_openapi_schemas. PR [#13201](https://github.com/fastapi/fastapi/pull/13201) by [@alejsdev](https://github.com/alejsdev).\n* ‚úÖ Simplify tests for security. PR [#13200](https://github.com/fastapi/fastapi/pull/13200) by [@alejsdev](https://github.com/alejsdev).\n* ‚úÖ Simplify tests for schema_extra_example. PR [#13197](https://github.com/fastapi/fastapi/pull/13197) by [@alejsdev](https://github.com/alejsdev).\n* ‚úÖ Simplify tests for request_model. PR [#13195](https://github.com/fastapi/fastapi/pull/13195) by [@alejsdev](https://github.com/alejsdev).\n* ‚úÖ Simplify tests for request_forms_and_files. PR [#13185](https://github.com/fastapi/fastapi/pull/13185) by [@alejsdev](https://github.com/alejsdev).\n* ‚úÖ Simplify tests for request_forms. PR [#13184](https://github.com/fastapi/fastapi/pull/13184) by [@alejsdev](https://github.com/alejsdev).\n* ‚úÖ Simplify tests for path_query_params. PR [#13181](https://github.com/fastapi/fastapi/pull/13181) by [@alejsdev](https://github.com/alejsdev).\n* ‚úÖ Simplify tests for path_operation_configurations. PR [#13180](https://github.com/fastapi/fastapi/pull/13180) by [@alejsdev](https://github.com/alejsdev).\n* ‚úÖ Simplify tests for header_params. PR [#13179](https://github.com/fastapi/fastapi/pull/13179) by [@alejsdev](https://github.com/alejsdev).\n* ‚úÖ Simplify tests for extra_models. PR [#13178](https://github.com/fastapi/fastapi/pull/13178) by [@alejsdev](https://github.com/alejsdev).\n* ‚úÖ Simplify tests for extra_data_types. PR [#13177](https://github.com/fastapi/fastapi/pull/13177) by [@alejsdev](https://github.com/alejsdev).\n* ‚úÖ Simplify tests for cookie_params. PR [#13176](https://github.com/fastapi/fastapi/pull/13176) by [@alejsdev](https://github.com/alejsdev).\n* ‚úÖ Simplify tests for dependencies. PR [#13174](https://github.com/fastapi/fastapi/pull/13174) by [@alejsdev](https://github.com/alejsdev).\n* ‚úÖ Simplify tests for body_updates. PR [#13172](https://github.com/fastapi/fastapi/pull/13172) by [@alejsdev](https://github.com/alejsdev).\n* ‚úÖ Simplify tests for body_nested_models. PR [#13171](https://github.com/fastapi/fastapi/pull/13171) by [@alejsdev](https://github.com/alejsdev).\n* ‚úÖ Simplify tests for body_multiple_params. PR [#13170](https://github.com/fastapi/fastapi/pull/13170) by [@alejsdev](https://github.com/alejsdev).\n* ‚úÖ Simplify tests for body_fields. PR [#13169](https://github.com/fastapi/fastapi/pull/13169) by [@alejsdev](https://github.com/alejsdev).\n* ‚úÖ Simplify tests for body. PR [#13168](https://github.com/fastapi/fastapi/pull/13168) by [@alejsdev](https://github.com/alejsdev).\n* ‚úÖ Simplify tests for bigger_applications. PR [#13167](https://github.com/fastapi/fastapi/pull/13167) by [@alejsdev](https://github.com/alejsdev).\n* ‚úÖ Simplify tests for background_tasks. PR [#13166](https://github.com/fastapi/fastapi/pull/13166) by [@alejsdev](https://github.com/alejsdev).\n* ‚úÖ Simplify tests for additional_status_codes. PR [#13149](https://github.com/fastapi/fastapi/pull/13149) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0332", "title": "Release Notes", "section": "Docs", "content": "* ‚úèÔ∏è Update Strawberry integration docs. PR [#13155](https://github.com/fastapi/fastapi/pull/13155) by [@kinuax](https://github.com/kinuax).\n* üî• Remove unused Peewee tutorial files. PR [#13158](https://github.com/fastapi/fastapi/pull/13158) by [@alejsdev](https://github.com/alejsdev).\n* üìù Update image in body-nested-model docs. PR [#11063](https://github.com/fastapi/fastapi/pull/11063) by [@untilhamza](https://github.com/untilhamza).\n* üìù Update `fastapi-cli` UI examples in docs. PR [#13107](https://github.com/fastapi/fastapi/pull/13107) by [@Zhongheng-Cheng](https://github.com/Zhongheng-Cheng).\n* üë∑ Add new GitHub Action to update contributors, translators, and translation reviewers. PR [#13136](https://github.com/fastapi/fastapi/pull/13136) by [@tiangolo](https://github.com/tiangolo).\n* ‚úèÔ∏è Fix typo in `docs/en/docs/virtual-environments.md`. PR [#13124](https://github.com/fastapi/fastapi/pull/13124) by [@tiangolo](https://github.com/tiangolo).\n* ‚úèÔ∏è Fix error in `docs/en/docs/contributing.md`. PR [#12899](https://github.com/fastapi/fastapi/pull/12899) by [@kingsubin](https://github.com/kingsubin).\n* üìù Minor corrections in `docs/en/docs/tutorial/sql-databases.md`. PR [#13081](https://github.com/fastapi/fastapi/pull/13081) by [@alv2017](https://github.com/alv2017).\n* üìù Update includes in `docs/ru/docs/tutorial/query-param-models.md`. PR [#12994](https://github.com/fastapi/fastapi/pull/12994) by [@alejsdev](https://github.com/alejsdev).\n* ‚úèÔ∏è Fix typo in README installation instructions. PR [#13011](https://github.com/fastapi/fastapi/pull/13011) by [@dave-hay](https://github.com/dave-hay).\n* üìù Update docs for `fastapi-cli`. PR [#13031](https://github.com/fastapi/fastapi/pull/13031) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0333", "title": "Release Notes", "section": "Translations", "content": "* üåê Update Portuguese Translation for `docs/pt/docs/tutorial/request-forms.md`. PR [#13216](https://github.com/fastapi/fastapi/pull/13216) by [@Joao-Pedro-P-Holanda](https://github.com/Joao-Pedro-P-Holanda).\n* üåê Update Portuguese translation for `docs/pt/docs/advanced/settings.md`. PR [#13209](https://github.com/fastapi/fastapi/pull/13209) by [@ceb10n](https://github.com/ceb10n).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/security/oauth2-jwt.md`. PR [#13205](https://github.com/fastapi/fastapi/pull/13205) by [@ceb10n](https://github.com/ceb10n).\n* üåê Add Indonesian translation for `docs/id/docs/index.md`. PR [#13191](https://github.com/fastapi/fastapi/pull/13191) by [@gerry-sabar](https://github.com/gerry-sabar).\n* üåê Add Indonesian translation for `docs/id/docs/tutorial/static-files.md`. PR [#13092](https://github.com/fastapi/fastapi/pull/13092) by [@guspan-tanadi](https://github.com/guspan-tanadi).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/security/get-current-user.md`. PR [#13188](https://github.com/fastapi/fastapi/pull/13188) by [@ceb10n](https://github.com/ceb10n).\n* üåê Remove Wrong Portuguese translations location for `docs/pt/docs/advanced/benchmarks.md`. PR [#13187](https://github.com/fastapi/fastapi/pull/13187) by [@ceb10n](https://github.com/ceb10n).\n* üåê Update Portuguese translations. PR [#13156](https://github.com/fastapi/fastapi/pull/13156) by [@nillvitor](https://github.com/nillvitor).\n* üåê Update Russian translation for `docs/ru/docs/tutorial/security/first-steps.md`. PR [#13159](https://github.com/fastapi/fastapi/pull/13159) by [@Yarous](https://github.com/Yarous).\n* ‚úèÔ∏è Delete unnecessary backspace in `docs/ja/docs/tutorial/path-params-numeric-validations.md`. PR [#12238](https://github.com/fastapi/fastapi/pull/12238) by [@FakeDocument](https://github.com/FakeDocument).\n* üåê Update Chinese translation for `docs/zh/docs/fastapi-cli.md`. PR [#13102](https://github.com/fastapi/fastapi/pull/13102) by [@Zhongheng-Cheng](https://github.com/Zhongheng-Cheng).\n* üåê Add new Spanish translations for all docs with new LLM-assisted system using PydanticAI. PR [#13122](https://github.com/fastapi/fastapi/pull/13122) by [@tiangolo](https://github.com/tiangolo).\n* üåê Update existing Spanish translations using the new LLM-assisted system using PydanticAI. PR [#13118](https://github.com/fastapi/fastapi/pull/13118) by [@tiangolo](https://github.com/tiangolo).\n* üåê Update Chinese translation for `docs/zh/docs/advanced/security/oauth2-scopes.md`. PR [#13110](https://github.com/fastapi/fastapi/pull/13110) by [@ChenPu2002](https://github.com/ChenPu2002).\n* üåê Add Indonesian translation for `docs/id/docs/tutorial/path-params.md`. PR [#13086](https://github.com/fastapi/fastapi/pull/13086) by [@gerry-sabar](https://github.com/gerry-sabar).\n* üåê Add Korean translation for `docs/ko/docs/tutorial/sql-databases.md`. PR [#13093](https://github.com/fastapi/fastapi/pull/13093) by [@GeumBinLee](https://github.com/GeumBinLee).\n* üåê Update Chinese translation for `docs/zh/docs/async.md`. PR [#13095](https://github.com/fastapi/fastapi/pull/13095) by [@Zhongheng-Cheng](https://github.com/Zhongheng-Cheng).\n* üåê Add Chinese translation for `docs/zh/docs/advanced/openapi-webhooks.md`. PR [#13091](https://github.com/fastapi/fastapi/pull/13091) by [@Zhongheng-Cheng](https://github.com/Zhongheng-Cheng).\n* üåê Add Chinese translation for `docs/zh/docs/advanced/async-tests.md`. PR [#13074](https://github.com/fastapi/fastapi/pull/13074) by [@Zhongheng-Cheng](https://github.com/Zhongheng-Cheng).\n* üåê Add Ukrainian translation for `docs/uk/docs/fastapi-cli.md`. PR [#13020](https://github.com/fastapi/fastapi/pull/13020) by [@ykertytsky](https://github.com/ykertytsky).\n* üåê Add Chinese translation for `docs/zh/docs/advanced/events.md`. PR [#12512](https://github.com/fastapi/fastapi/pull/12512) by [@ZhibangYue](https://github.com/ZhibangYue).\n* üåê Add Russian translation for `/docs/ru/docs/tutorial/sql-databases.md`. PR [#13079](https://github.com/fastapi/fastapi/pull/13079) by [@alv2017](https://github.com/alv2017).\n* üåê Update Chinese translation for `docs/zh/docs/advanced/testing-dependencies.md`. PR [#13066](https://github.com/fastapi/fastapi/pull/13066) by [@Zhongheng-Cheng](https://github.com/Zhongheng-Cheng).\n* üåê Update Traditional Chinese translation for `docs/zh-hant/docs/tutorial/index.md`. PR [#13075](https://github.com/fastapi/fastapi/pull/13075) by [@codingjenny](https://github.com/codingjenny).\n* üåê Add Chinese translation for `docs/zh/docs/tutorial/sql-databases.md`. PR [#13051](https://github.com/fastapi/fastapi/pull/13051) by [@Zhongheng-Cheng](https://github.com/Zhongheng-Cheng).\n* üåê Update Chinese translation for `docs/zh/docs/tutorial/query-params-str-validations.md`. PR [#12928](https://github.com/fastapi/fastapi/pull/12928) by [@Vincy1230](https://github.com/Vincy1230).\n* üåê Add Chinese translation for `docs/zh/docs/tutorial/header-param-models.md`. PR [#13040](https://github.com/fastapi/fastapi/pull/13040) by [@Zhongheng-Cheng](https://github.com/Zhongheng-Cheng).\n* üåê Update Chinese translation for `docs/zh/docs/tutorial/path-params.md`. PR [#12926](https://github.com/fastapi/fastapi/pull/12926) by [@Vincy1230](https://github.com/Vincy1230).\n* üåê Update Chinese translation for `docs/zh/docs/tutorial/first-steps.md`. PR [#12923](https://github.com/fastapi/fastapi/pull/12923) by [@Vincy1230](https://github.com/Vincy1230).\n* üåê Update Russian translation for `docs/ru/docs/deployment/docker.md`. PR [#13048](https://github.com/fastapi/fastapi/pull/13048) by [@anklav24](https://github.com/anklav24).\n* üåê Add Portuguese translation for `docs/pt/docs/advanced/generate-clients.md`. PR [#13030](https://github.com/fastapi/fastapi/pull/13030) by [@vitumenezes](https://github.com/vitumenezes).\n* üåê Add Indonesian translation for `docs/id/docs/tutorial/first-steps.md`. PR [#13042](https://github.com/fastapi/fastapi/pull/13042) by [@gerry-sabar](https://github.com/gerry-sabar).\n* üåê Add Chinese translation for `docs/zh/docs/tutorial/cookie-param-models.md`. PR [#13038](https://github.com/fastapi/fastapi/pull/13038) by [@Zhongheng-Cheng](https://github.com/Zhongheng-Cheng).\n* üåê Add Chinese translation for `docs/zh/docs/tutorial/request-form-models.md`. PR [#13045](https://github.com/fastapi/fastapi/pull/13045) by [@Zhongheng-Cheng](https://github.com/Zhongheng-Cheng).\n* üåê Add Russian translation for `docs/ru/docs/virtual-environments.md`. PR [#13026](https://github.com/fastapi/fastapi/pull/13026) by [@alv2017](https://github.com/alv2017).\n* üåê Add Korean translation for `docs/ko/docs/tutorial/testing.md`. PR [#12968](https://github.com/fastapi/fastapi/pull/12968) by [@jts8257](https://github.com/jts8257).\n* üåê Add Korean translation for `docs/ko/docs/advanced/async-test.md`. PR [#12918](https://github.com/fastapi/fastapi/pull/12918) by [@icehongssii](https://github.com/icehongssii).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/security/oauth2-jwt.md`. PR [#10601](https://github.com/fastapi/fastapi/pull/10601) by [@AlertRED](https://github.com/AlertRED).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/security/simple-oauth2.md`. PR [#10599](https://github.com/fastapi/fastapi/pull/10599) by [@AlertRED](https://github.com/AlertRED).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/security/get-current-user.md`. PR [#10594](https://github.com/fastapi/fastapi/pull/10594) by [@AlertRED](https://github.com/AlertRED).\n* üåê Add Traditional Chinese translation for `docs/zh-hant/docs/features.md`. PR [#12441](https://github.com/fastapi/fastapi/pull/12441) by [@codingjenny](https://github.com/codingjenny).\n* üåê Add Traditional Chinese translation for `docs/zh-hant/docs/virtual-environments.md`. PR [#12791](https://github.com/fastapi/fastapi/pull/12791) by [@Vincy1230](https://github.com/Vincy1230).\n* üåê Add Korean translation for `docs/ko/docs/advanced/templates.md`. PR [#12726](https://github.com/fastapi/fastapi/pull/12726) by [@Heumhub](https://github.com/Heumhub).\n* üåê Add Russian translation for `docs/ru/docs/fastapi-cli.md`. PR [#13041](https://github.com/fastapi/fastapi/pull/13041) by [@alv2017](https://github.com/alv2017).\n* üåê Add Korean translation for `docs/ko/docs/tutorial/cookie-param-models.md`. PR [#13000](https://github.com/fastapi/fastapi/pull/13000) by [@hard-coders](https://github.com/hard-coders).\n* üåê Add Korean translation for `docs/ko/docs/tutorial/header-param-models.md`. PR [#13001](https://github.com/fastapi/fastapi/pull/13001) by [@hard-coders](https://github.com/hard-coders).\n* üåê Add Korean translation for `docs/ko/docs/tutorial/request-form-models.md`. PR [#13002](https://github.com/fastapi/fastapi/pull/13002) by [@hard-coders](https://github.com/hard-coders).\n* üåê Add Korean translation for `docs/ko/docs/tutorial/request-forms.md`. PR [#13003](https://github.com/fastapi/fastapi/pull/13003) by [@hard-coders](https://github.com/hard-coders).\n* üåê Add Korean translation for `docs/ko/docs/resources/index.md`. PR [#13004](https://github.com/fastapi/fastapi/pull/13004) by [@hard-coders](https://github.com/hard-coders).\n* üåê Add Korean translation for `docs/ko/docs/how-to/configure-swagger-ui.md`. PR [#12898](https://github.com/fastapi/fastapi/pull/12898) by [@nahyunkeem](https://github.com/nahyunkeem).\n* üåê Add Korean translation to `docs/ko/docs/advanced/additional-status-codes.md`. PR [#12715](https://github.com/fastapi/fastapi/pull/12715) by [@nahyunkeem](https://github.com/nahyunkeem).\n* üåê Add Traditional Chinese translation for `docs/zh-hant/docs/tutorial/first-steps.md`. PR [#12467](https://github.com/fastapi/fastapi/pull/12467) by [@codingjenny](https://github.com/codingjenny).", "source": "release-notes.md"}
{"doc_id": "fastapi_0334", "title": "Release Notes", "section": "Internal", "content": "* üîß Add Pydantic 2 trove classifier. PR [#13199](https://github.com/fastapi/fastapi/pull/13199) by [@johnthagen](https://github.com/johnthagen).\n* üë• Update FastAPI People - Sponsors. PR [#13231](https://github.com/fastapi/fastapi/pull/13231) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Refactor FastAPI People Sponsors to use 2 tokens. PR [#13228](https://github.com/fastapi/fastapi/pull/13228) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Update token for FastAPI People - Sponsors. PR [#13225](https://github.com/fastapi/fastapi/pull/13225) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Add independent CI automation for FastAPI People - Sponsors. PR [#13221](https://github.com/fastapi/fastapi/pull/13221) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Add retries to Smokeshow. PR [#13151](https://github.com/fastapi/fastapi/pull/13151) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update Speakeasy sponsor graphic. PR [#13147](https://github.com/fastapi/fastapi/pull/13147) by [@chailandau](https://github.com/chailandau).\n* üë• Update FastAPI GitHub topic repositories. PR [#13146](https://github.com/fastapi/fastapi/pull/13146) by [@tiangolo](https://github.com/tiangolo).\n* üë∑‚Äç‚ôÄÔ∏è Add script for GitHub Topic Repositories and update External Links. PR [#13135](https://github.com/fastapi/fastapi/pull/13135) by [@alejsdev](https://github.com/alejsdev).\n* üë• Update FastAPI People - Contributors and Translators. PR [#13145](https://github.com/fastapi/fastapi/pull/13145) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump markdown-include-variants from 0.0.3 to 0.0.4. PR [#13129](https://github.com/fastapi/fastapi/pull/13129) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump inline-snapshot from 0.14.0 to 0.18.1. PR [#13132](https://github.com/fastapi/fastapi/pull/13132) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump mkdocs-macros-plugin from 1.0.5 to 1.3.7. PR [#13133](https://github.com/fastapi/fastapi/pull/13133) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üî® Add internal scripts to generate language translations with PydanticAI, include Spanish prompt. PR [#13123](https://github.com/fastapi/fastapi/pull/13123) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump astral-sh/setup-uv from 4 to 5. PR [#13096](https://github.com/fastapi/fastapi/pull/13096) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üîß Update sponsors: rename CryptAPI to BlockBee. PR [#13078](https://github.com/fastapi/fastapi/pull/13078) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump pypa/gh-action-pypi-publish from 1.12.2 to 1.12.3. PR [#13055](https://github.com/fastapi/fastapi/pull/13055) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump types-ujson from 5.7.0.1 to 5.10.0.20240515. PR [#13018](https://github.com/fastapi/fastapi/pull/13018) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump black from 24.3.0 to 24.10.0. PR [#13014](https://github.com/fastapi/fastapi/pull/13014) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump inline-snapshot from 0.13.0 to 0.14.0. PR [#13017](https://github.com/fastapi/fastapi/pull/13017) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump dirty-equals from 0.6.0 to 0.8.0. PR [#13015](https://github.com/fastapi/fastapi/pull/13015) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump cloudflare/wrangler-action from 3.12 to 3.13. PR [#12996](https://github.com/fastapi/fastapi/pull/12996) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump astral-sh/setup-uv from 3 to 4. PR [#12982](https://github.com/fastapi/fastapi/pull/12982) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üîß Remove duplicate actions/checkout in `notify-translations.yml`. PR [#12915](https://github.com/fastapi/fastapi/pull/12915) by [@tinyboxvk](https://github.com/tinyboxvk).\n* üîß Update team members. PR [#13033](https://github.com/fastapi/fastapi/pull/13033) by [@tiangolo](https://github.com/tiangolo).\n* üìù Update sponsors: remove Codacy. PR [#13032](https://github.com/fastapi/fastapi/pull/13032) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0335", "title": "Release Notes", "section": "0.115.6", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0336", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Preserve traceback when an exception is raised in sync dependency with `yield`. PR [#5823](https://github.com/fastapi/fastapi/pull/5823) by [@sombek](https://github.com/sombek).", "source": "release-notes.md"}
{"doc_id": "fastapi_0337", "title": "Release Notes", "section": "Refactors", "content": "* ‚ôªÔ∏è Update tests and internals for compatibility with Pydantic >=2.10. PR [#12971](https://github.com/fastapi/fastapi/pull/12971) by [@tamird](https://github.com/tamird).", "source": "release-notes.md"}
{"doc_id": "fastapi_0338", "title": "Release Notes", "section": "Docs", "content": "* üìù Update includes format in docs with an automated script. PR [#12950](https://github.com/fastapi/fastapi/pull/12950) by [@tiangolo](https://github.com/tiangolo).\n* üìù Update includes for `docs/de/docs/advanced/using-request-directly.md`. PR [#12685](https://github.com/fastapi/fastapi/pull/12685) by [@alissadb](https://github.com/alissadb).\n* üìù Update includes for `docs/de/docs/how-to/conditional-openapi.md`. PR [#12689](https://github.com/fastapi/fastapi/pull/12689) by [@alissadb](https://github.com/alissadb).", "source": "release-notes.md"}
{"doc_id": "fastapi_0339", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Traditional Chinese translation for `docs/zh-hant/docs/async.md`. PR [#12990](https://github.com/fastapi/fastapi/pull/12990) by [@ILoveSorasakiHina](https://github.com/ILoveSorasakiHina).\n* üåê Add Traditional Chinese translation for `docs/zh-hant/docs/tutorial/query-param-models.md`. PR [#12932](https://github.com/fastapi/fastapi/pull/12932) by [@Vincy1230](https://github.com/Vincy1230).\n* üåê Add Korean translation for `docs/ko/docs/advanced/testing-dependencies.md`. PR [#12992](https://github.com/fastapi/fastapi/pull/12992) by [@Limsunoh](https://github.com/Limsunoh).\n* üåê Add Korean translation for `docs/ko/docs/advanced/websockets.md`. PR [#12991](https://github.com/fastapi/fastapi/pull/12991) by [@kwang1215](https://github.com/kwang1215).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/response-model.md`. PR [#12933](https://github.com/fastapi/fastapi/pull/12933) by [@AndreBBM](https://github.com/AndreBBM).\n* üåê Add Korean translation for `docs/ko/docs/advanced/middlewares.md`. PR [#12753](https://github.com/fastapi/fastapi/pull/12753) by [@nahyunkeem](https://github.com/nahyunkeem).\n* üåê Add Korean translation for `docs/ko/docs/advanced/openapi-webhooks.md`. PR [#12752](https://github.com/fastapi/fastapi/pull/12752) by [@saeye](https://github.com/saeye).\n* üåê Add Chinese translation for `docs/zh/docs/tutorial/query-param-models.md`. PR [#12931](https://github.com/fastapi/fastapi/pull/12931) by [@Vincy1230](https://github.com/Vincy1230).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/query-param-models.md`. PR [#12445](https://github.com/fastapi/fastapi/pull/12445) by [@gitgernit](https://github.com/gitgernit).\n* üåê Add Korean translation for `docs/ko/docs/tutorial/query-param-models.md`. PR [#12940](https://github.com/fastapi/fastapi/pull/12940) by [@jts8257](https://github.com/jts8257).\n* üî• Remove obsolete tutorial translation to Chinese for `docs/zh/docs/tutorial/sql-databases.md`, it references files that are no longer on the repo. PR [#12949](https://github.com/fastapi/fastapi/pull/12949) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0340", "title": "Release Notes", "section": "Internal", "content": "* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#12954](https://github.com/fastapi/fastapi/pull/12954) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).", "source": "release-notes.md"}
{"doc_id": "fastapi_0341", "title": "Release Notes", "section": "0.115.5", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0342", "title": "Release Notes", "section": "Refactors", "content": "* ‚ôªÔ∏è Update internal checks to support Pydantic 2.10. PR [#12914](https://github.com/fastapi/fastapi/pull/12914) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0343", "title": "Release Notes", "section": "Docs", "content": "* üìù Update includes for `docs/en/docs/tutorial/body.md`. PR [#12757](https://github.com/fastapi/fastapi/pull/12757) by [@gsheni](https://github.com/gsheni).\n* üìù Update includes in `docs/en/docs/advanced/testing-dependencies.md`. PR [#12647](https://github.com/fastapi/fastapi/pull/12647) by [@AyushSinghal1794](https://github.com/AyushSinghal1794).\n* üìù Update includes for `docs/en/docs/tutorial/metadata.md`. PR [#12773](https://github.com/fastapi/fastapi/pull/12773) by [@Nimitha-jagadeesha](https://github.com/Nimitha-jagadeesha).\n* üìù Update `docs/en/docs/tutorial/dependencies/dependencies-with-yield.md`. PR [#12045](https://github.com/fastapi/fastapi/pull/12045) by [@xuvjso](https://github.com/xuvjso).\n* üìù Update includes for `docs/en/docs/tutorial/dependencies/global-dependencies.md`. PR [#12653](https://github.com/fastapi/fastapi/pull/12653) by [@vishnuvskvkl](https://github.com/vishnuvskvkl).\n* üìù Update includes for `docs/en/docs/tutorial/body-updates.md`. PR [#12712](https://github.com/fastapi/fastapi/pull/12712) by [@davioc](https://github.com/davioc).\n* üìù Remove mention of Celery in the project generators. PR [#12742](https://github.com/fastapi/fastapi/pull/12742) by [@david-caro](https://github.com/david-caro).\n* üìù Update includes in `docs/en/docs/tutorial/header-param-models.md`. PR [#12814](https://github.com/fastapi/fastapi/pull/12814) by [@zhaohan-dong](https://github.com/zhaohan-dong).\n* üìù Update `contributing.md` docs, include note to not translate this page. PR [#12841](https://github.com/fastapi/fastapi/pull/12841) by [@tiangolo](https://github.com/tiangolo).\n* üìù Update includes in `docs/en/docs/tutorial/request-forms.md`. PR [#12648](https://github.com/fastapi/fastapi/pull/12648) by [@vishnuvskvkl](https://github.com/vishnuvskvkl).\n* üìù Update includes in `docs/en/docs/tutorial/request-form-models.md`. PR [#12649](https://github.com/fastapi/fastapi/pull/12649) by [@vishnuvskvkl](https://github.com/vishnuvskvkl).\n* üìù Update includes in `docs/en/docs/tutorial/security/oauth2-jwt.md`. PR [#12650](https://github.com/fastapi/fastapi/pull/12650) by [@OCE1960](https://github.com/OCE1960).\n* üìù Update includes in `docs/vi/docs/tutorial/first-steps.md`. PR [#12754](https://github.com/fastapi/fastapi/pull/12754) by [@MxPy](https://github.com/MxPy).\n* üìù Update includes for `docs/pt/docs/advanced/wsgi.md`. PR [#12769](https://github.com/fastapi/fastapi/pull/12769) by [@Nimitha-jagadeesha](https://github.com/Nimitha-jagadeesha).\n* üìù Update includes for `docs/en/docs/tutorial/dependencies/dependencies-in-path-operation-decorators.md`. PR [#12815](https://github.com/fastapi/fastapi/pull/12815) by [@handabaldeep](https://github.com/handabaldeep).\n* üìù Update includes for `docs/en/docs/tutorial/dependencies/classes-as-dependencies.md`. PR [#12813](https://github.com/fastapi/fastapi/pull/12813) by [@handabaldeep](https://github.com/handabaldeep).\n* ‚úèÔ∏è Fix error in `docs/en/docs/tutorial/middleware.md`. PR [#12819](https://github.com/fastapi/fastapi/pull/12819) by [@alejsdev](https://github.com/alejsdev).\n* üìù Update includes for `docs/en/docs/tutorial/security/get-current-user.md`. PR [#12645](https://github.com/fastapi/fastapi/pull/12645) by [@OCE1960](https://github.com/OCE1960).\n* üìù Update includes for `docs/en/docs/tutorial/security/first-steps.md`. PR [#12643](https://github.com/fastapi/fastapi/pull/12643) by [@OCE1960](https://github.com/OCE1960).\n* üìù Update includes in `docs/de/docs/advanced/additional-responses.md`. PR [#12821](https://github.com/fastapi/fastapi/pull/12821) by [@zhaohan-dong](https://github.com/zhaohan-dong).\n* üìù Update includes in `docs/en/docs/advanced/generate-clients.md`. PR [#12642](https://github.com/fastapi/fastapi/pull/12642) by [@AyushSinghal1794](https://github.com/AyushSinghal1794).\n* üìù Fix admonition double quotes with new syntax. PR [#12835](https://github.com/fastapi/fastapi/pull/12835) by [@tiangolo](https://github.com/tiangolo).\n* üìù Update includes in `docs/zh/docs/advanced/additional-responses.md`. PR [#12828](https://github.com/fastapi/fastapi/pull/12828) by [@zhaohan-dong](https://github.com/zhaohan-dong).\n* üìù Update includes in `docs/en/docs/tutorial/path-params-numeric-validations.md`. PR [#12825](https://github.com/fastapi/fastapi/pull/12825) by [@zhaohan-dong](https://github.com/zhaohan-dong).\n* üìù Update includes for `docs/en/docs/advanced/testing-websockets.md`. PR [#12761](https://github.com/fastapi/fastapi/pull/12761) by [@hamidrasti](https://github.com/hamidrasti).\n* üìù Update includes for `docs/en/docs/advanced/using-request-directly.md`. PR [#12760](https://github.com/fastapi/fastapi/pull/12760) by [@hamidrasti](https://github.com/hamidrasti).\n* üìù Update includes for `docs/advanced/wsgi.md`. PR [#12758](https://github.com/fastapi/fastapi/pull/12758) by [@hamidrasti](https://github.com/hamidrasti).\n* üìù Update includes in `docs/de/docs/tutorial/middleware.md`. PR [#12729](https://github.com/fastapi/fastapi/pull/12729) by [@paintdog](https://github.com/paintdog).\n* üìù Update includes for `docs/en/docs/tutorial/schema-extra-example.md`. PR [#12822](https://github.com/fastapi/fastapi/pull/12822) by [@tiangolo](https://github.com/tiangolo).\n* üìù Update includes in `docs/fr/docs/advanced/additional-responses.md`. PR [#12634](https://github.com/fastapi/fastapi/pull/12634) by [@fegmorte](https://github.com/fegmorte).\n* üìù Update includes in `docs/fr/docs/advanced/path-operation-advanced-configuration.md`. PR [#12633](https://github.com/fastapi/fastapi/pull/12633) by [@kantandane](https://github.com/kantandane).\n* üìù Update includes in `docs/fr/docs/advanced/response-directly.md`. PR [#12632](https://github.com/fastapi/fastapi/pull/12632) by [@kantandane](https://github.com/kantandane).\n* üìù Update includes for `docs/en/docs/tutorial/header-params.md`. PR [#12640](https://github.com/fastapi/fastapi/pull/12640) by [@vishnuvskvkl](https://github.com/vishnuvskvkl).\n* üìù Update includes in `docs/en/docs/tutorial/cookie-param-models.md`. PR [#12639](https://github.com/fastapi/fastapi/pull/12639) by [@vishnuvskvkl](https://github.com/vishnuvskvkl).\n* üìù Update includes for `docs/en/docs/tutorial/extra-models.md`. PR [#12638](https://github.com/fastapi/fastapi/pull/12638) by [@vishnuvskvkl](https://github.com/vishnuvskvkl).\n* üìù Update includes for `docs/en/docs/tutorial/cors.md`. PR [#12637](https://github.com/fastapi/fastapi/pull/12637) by [@vishnuvskvkl](https://github.com/vishnuvskvkl).\n* üìù Update includes for `docs/en/docs/tutorial/dependencies/sub-dependencies.md`. PR [#12810](https://github.com/fastapi/fastapi/pull/12810) by [@handabaldeep](https://github.com/handabaldeep).\n* üìù Update includes in `docs/en/docs/tutorial/body-nested-models.md`. PR [#12812](https://github.com/fastapi/fastapi/pull/12812) by [@zhaohan-dong](https://github.com/zhaohan-dong).\n* üìù Update includes in `docs/en/docs/tutorial/path-operation-configuration.md`. PR [#12809](https://github.com/fastapi/fastapi/pull/12809) by [@AlexWendland](https://github.com/AlexWendland).\n* üìù Update includes in `docs/en/docs/tutorial/request-files.md`. PR [#12818](https://github.com/fastapi/fastapi/pull/12818) by [@zhaohan-dong](https://github.com/zhaohan-dong).\n* üìù Update includes for `docs/en/docs/tutorial/query-param-models.md`. PR [#12817](https://github.com/fastapi/fastapi/pull/12817) by [@handabaldeep](https://github.com/handabaldeep).\n* üìù Update includes in `docs/en/docs/tutorial/path-params.md`. PR [#12811](https://github.com/fastapi/fastapi/pull/12811) by [@AlexWendland](https://github.com/AlexWendland).\n* üìù Update includes in `docs/en/docs/tutorial/response-model.md`. PR [#12621](https://github.com/fastapi/fastapi/pull/12621) by [@kantandane](https://github.com/kantandane).\n* üìù Update includes in `docs/en/docs/advanced/websockets.md`. PR [#12606](https://github.com/fastapi/fastapi/pull/12606) by [@vishnuvskvkl](https://github.com/vishnuvskvkl).\n* üìù Updates include for `docs/en/docs/tutorial/cookie-params.md`. PR [#12808](https://github.com/fastapi/fastapi/pull/12808) by [@handabaldeep](https://github.com/handabaldeep).\n* üìù Update includes in `docs/en/docs/tutorial/middleware.md`. PR [#12807](https://github.com/fastapi/fastapi/pull/12807) by [@AlexWendland](https://github.com/AlexWendland).\n* üìù Update includes in `docs/en/docs/advanced/sub-applications.md`. PR [#12806](https://github.com/fastapi/fastapi/pull/12806) by [@zhaohan-dong](https://github.com/zhaohan-dong).\n* üìù Update includes in `docs/en/docs/advanced/response-headers.md`. PR [#12805](https://github.com/fastapi/fastapi/pull/12805) by [@zhaohan-dong](https://github.com/zhaohan-dong).\n* üìù Update includes in `docs/fr/docs/tutorial/first-steps.md`. PR [#12594](https://github.com/fastapi/fastapi/pull/12594) by [@kantandane](https://github.com/kantandane).\n* üìù Update includes in `docs/en/docs/advanced/response-cookies.md`. PR [#12804](https://github.com/fastapi/fastapi/pull/12804) by [@zhaohan-dong](https://github.com/zhaohan-dong).\n* üìù Update includes in `docs/en/docs/advanced/path-operation-advanced-configuration.md`. PR [#12802](https://github.com/fastapi/fastapi/pull/12802) by [@zhaohan-dong](https://github.com/zhaohan-dong).\n* üìù Update includes for `docs/en/docs/advanced/response-directly.md`. PR [#12803](https://github.com/fastapi/fastapi/pull/12803) by [@handabaldeep](https://github.com/handabaldeep).\n* üìù Update includes in `docs/zh/docs/tutorial/background-tasks.md`. PR [#12798](https://github.com/fastapi/fastapi/pull/12798) by [@zhaohan-dong](https://github.com/zhaohan-dong).\n* üìù Update includes for `docs/de/docs/tutorial/body-multiple-params.md`. PR [#12699](https://github.com/fastapi/fastapi/pull/12699) by [@alissadb](https://github.com/alissadb).\n* üìù Update includes in `docs/em/docs/tutorial/body-updates.md`. PR [#12799](https://github.com/fastapi/fastapi/pull/12799) by [@AlexWendland](https://github.com/AlexWendland).\n* üìù Update includes `docs/en/docs/advanced/response-change-status-code.md`. PR [#12801](https://github.com/fastapi/fastapi/pull/12801) by [@handabaldeep](https://github.com/handabaldeep).\n* üìù Update includes `docs/en/docs/advanced/openapi-callbacks.md`. PR [#12800](https://github.com/fastapi/fastapi/pull/12800) by [@handabaldeep](https://github.com/handabaldeep).\n* üìù  Update includes in `docs/fr/docs/tutorial/body-multiple-params.md`. PR [#12598](https://github.com/fastapi/fastapi/pull/12598) by [@kantandane](https://github.com/kantandane).\n* üìù Update includes in `docs/en/docs/tutorial/body-multiple-params.md`. PR [#12593](https://github.com/fastapi/fastapi/pull/12593) by [@Tashanam-Shahbaz](https://github.com/Tashanam-Shahbaz).\n* üìù Update includes in `docs/pt/docs/tutorial/background-tasks.md`. PR [#12736](https://github.com/fastapi/fastapi/pull/12736) by [@bhunao](https://github.com/bhunao).\n* üìù Update includes for `docs/en/docs/advanced/custom-response.md`. PR [#12797](https://github.com/fastapi/fastapi/pull/12797) by [@handabaldeep](https://github.com/handabaldeep).\n* üìù Update includes for `docs/pt/docs/python-types.md`. PR [#12671](https://github.com/fastapi/fastapi/pull/12671) by [@ceb10n](https://github.com/ceb10n).\n* üìù Update includes for `docs/de/docs/python-types.md`. PR [#12660](https://github.com/fastapi/fastapi/pull/12660) by [@alissadb](https://github.com/alissadb).\n* üìù Update includes for `docs/de/docs/advanced/dataclasses.md`. PR [#12658](https://github.com/fastapi/fastapi/pull/12658) by [@alissadb](https://github.com/alissadb).\n* üìù Update includes in `docs/fr/docs/tutorial/path-params.md`. PR [#12592](https://github.com/fastapi/fastapi/pull/12592) by [@kantandane](https://github.com/kantandane).\n* üìù Update includes for `docs/de/docs/how-to/configure-swagger-ui.md`. PR [#12690](https://github.com/fastapi/fastapi/pull/12690) by [@alissadb](https://github.com/alissadb).\n* üìù Update includes in `docs/en/docs/advanced/security/oauth2-scopes.md`. PR [#12572](https://github.com/fastapi/fastapi/pull/12572) by [@krishnamadhavan](https://github.com/krishnamadhavan).\n* üìù Update includes for `docs/en/docs/how-to/conditional-openapi.md`. PR [#12624](https://github.com/fastapi/fastapi/pull/12624) by [@rabinlamadong](https://github.com/rabinlamadong).\n* üìù Update includes in `docs/en/docs/tutorial/dependencies/index.md`. PR [#12615](https://github.com/fastapi/fastapi/pull/12615) by [@bharara](https://github.com/bharara).\n* üìù Update includes in `docs/en/docs/tutorial/response-status-code.md`. PR [#12620](https://github.com/fastapi/fastapi/pull/12620) by [@kantandane](https://github.com/kantandane).\n* üìù Update includes in `docs/en/docs/how-to/custom-docs-ui-assets.md`. PR [#12623](https://github.com/fastapi/fastapi/pull/12623) by [@rabinlamadong](https://github.com/rabinlamadong).\n* üìù Update includes in `docs/en/docs/advanced/openapi-webhooks.md`. PR [#12605](https://github.com/fastapi/fastapi/pull/12605) by [@salmantec](https://github.com/salmantec).\n* üìù Update includes in `docs/en/docs/advanced/events.md`. PR [#12604](https://github.com/fastapi/fastapi/pull/12604) by [@salmantec](https://github.com/salmantec).\n* üìù Update includes in `docs/en/docs/advanced/dataclasses.md`. PR [#12603](https://github.com/fastapi/fastapi/pull/12603) by [@salmantec](https://github.com/salmantec).\n* üìù Update includes in `docs/es/docs/tutorial/cookie-params.md`. PR [#12602](https://github.com/fastapi/fastapi/pull/12602) by [@antonyare93](https://github.com/antonyare93).\n* üìù Update includes in `docs/fr/docs/tutorial/path-params-numeric-validations.md`. PR [#12601](https://github.com/fastapi/fastapi/pull/12601) by [@kantandane](https://github.com/kantandane).\n* üìù Update includes in `docs/fr/docs/tutorial/background-tasks.md`. PR [#12600](https://github.com/fastapi/fastapi/pull/12600) by [@kantandane](https://github.com/kantandane).\n* üìù Update includes in `docs/en/docs/tutorial/encoder.md`. PR [#12597](https://github.com/fastapi/fastapi/pull/12597) by [@tonyjly](https://github.com/tonyjly).\n* üìù Update includes in `docs/en/docs/how-to/custom-docs-ui-assets.md`. PR [#12557](https://github.com/fastapi/fastapi/pull/12557) by [@philipokiokio](https://github.com/philipokiokio).\n* üé® Adjust spacing. PR [#12635](https://github.com/fastapi/fastapi/pull/12635) by [@alejsdev](https://github.com/alejsdev).\n* üìù Update includes in `docs/en/docs/how-to/custom-request-and-route.md`. PR [#12560](https://github.com/fastapi/fastapi/pull/12560) by [@philipokiokio](https://github.com/philipokiokio).", "source": "release-notes.md"}
{"doc_id": "fastapi_0344", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Korean translation for `docs/ko/docs/advanced/testing-websockets.md`. PR [#12739](https://github.com/fastapi/fastapi/pull/12739) by [@Limsunoh](https://github.com/Limsunoh).\n* üåê Add Traditional Chinese translation for `docs/zh-hant/docs/environment-variables.md`. PR [#12785](https://github.com/fastapi/fastapi/pull/12785) by [@Vincy1230](https://github.com/Vincy1230).\n* üåê Add Chinese translation for `docs/zh/docs/environment-variables.md`. PR [#12784](https://github.com/fastapi/fastapi/pull/12784) by [@Vincy1230](https://github.com/Vincy1230).\n* üåê Add Korean translation for `ko/docs/advanced/response-headers.md`. PR [#12740](https://github.com/fastapi/fastapi/pull/12740) by [@kwang1215](https://github.com/kwang1215).\n* üåê Add Chinese translation for `docs/zh/docs/virtual-environments.md`. PR [#12790](https://github.com/fastapi/fastapi/pull/12790) by [@Vincy1230](https://github.com/Vincy1230).\n* üåê Add Korean translation for `/docs/ko/docs/environment-variables.md`. PR [#12526](https://github.com/fastapi/fastapi/pull/12526) by [@Tolerblanc](https://github.com/Tolerblanc).\n* üåê Add Korean translation for `docs/ko/docs/history-design-future.md`. PR [#12646](https://github.com/fastapi/fastapi/pull/12646) by [@saeye](https://github.com/saeye).\n* üåê Add Korean translation for `docs/ko/docs/advanced/advanced-dependencies.md`. PR [#12675](https://github.com/fastapi/fastapi/pull/12675) by [@kim-sangah](https://github.com/kim-sangah).\n* üåê Add Korean translation for `docs/ko/docs/how-to/conditional-openapi.md`. PR [#12731](https://github.com/fastapi/fastapi/pull/12731) by [@sptcnl](https://github.com/sptcnl).\n* üåê Add Korean translation for `docs/ko/docs/advanced/using_request_directly.md`. PR [#12738](https://github.com/fastapi/fastapi/pull/12738) by [@kwang1215](https://github.com/kwang1215).\n* üåê Add Korean translation for `docs/ko/docs/advanced/testing-events.md`. PR [#12741](https://github.com/fastapi/fastapi/pull/12741) by [@9zimin9](https://github.com/9zimin9).\n* üåê Add Korean translation for `docs/ko/docs/security/index.md`. PR [#12743](https://github.com/fastapi/fastapi/pull/12743) by [@kim-sangah](https://github.com/kim-sangah).\n* üåê Add Portuguese translation for `docs/pt/docs/advanced/path-operation-advanced-configuration.md`. PR [#12762](https://github.com/fastapi/fastapi/pull/12762) by [@Joao-Pedro-P-Holanda](https://github.com/Joao-Pedro-P-Holanda).\n* üåê Add Korean translation for `docs/ko/docs/advanced/wsgi.md`. PR [#12659](https://github.com/fastapi/fastapi/pull/12659) by [@Limsunoh](https://github.com/Limsunoh).\n* üåê Add Portuguese translation for `docs/pt/docs/advanced/websockets.md`. PR [#12703](https://github.com/fastapi/fastapi/pull/12703) by [@devfernandoa](https://github.com/devfernandoa).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/security/simple-oauth2.md`. PR [#12520](https://github.com/fastapi/fastapi/pull/12520) by [@LidiaDomingos](https://github.com/LidiaDomingos).\n* üåê Add Korean translation for `docs/ko/docs/advanced/response-directly.md`. PR [#12674](https://github.com/fastapi/fastapi/pull/12674) by [@9zimin9](https://github.com/9zimin9).\n* üåê Add Portuguese translation for `docs/pt/docs/advanced/middleware.md`. PR [#12704](https://github.com/fastapi/fastapi/pull/12704) by [@devluisrodrigues](https://github.com/devluisrodrigues).\n* üåê Add Portuguese translation for `docs/pt/docs/advanced/openapi-callbacks.md`. PR [#12705](https://github.com/fastapi/fastapi/pull/12705) by [@devfernandoa](https://github.com/devfernandoa).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/request-files.md`. PR [#12706](https://github.com/fastapi/fastapi/pull/12706) by [@devluisrodrigues](https://github.com/devluisrodrigues).\n* üåê Add Portuguese Translation for `docs/pt/docs/advanced/custom-response.md`. PR [#12631](https://github.com/fastapi/fastapi/pull/12631) by [@Joao-Pedro-P-Holanda](https://github.com/Joao-Pedro-P-Holanda).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/metadata.md`. PR [#12538](https://github.com/fastapi/fastapi/pull/12538) by [@LinkolnR](https://github.com/LinkolnR).\n* üåê Add Korean translation for `docs/ko/docs/tutorial/metadata.md`. PR [#12541](https://github.com/fastapi/fastapi/pull/12541) by [@kwang1215](https://github.com/kwang1215).\n* üåê Add Korean Translation for `docs/ko/docs/advanced/response-cookies.md`. PR [#12546](https://github.com/fastapi/fastapi/pull/12546) by [@kim-sangah](https://github.com/kim-sangah).\n* üåê Add Korean translation for `docs/ko/docs/fastapi-cli.md`. PR [#12515](https://github.com/fastapi/fastapi/pull/12515) by [@dhdld](https://github.com/dhdld).\n* üåê Add Korean Translation for `docs/ko/docs/advanced/response-change-status-code.md`. PR [#12547](https://github.com/fastapi/fastapi/pull/12547) by [@9zimin9](https://github.com/9zimin9).", "source": "release-notes.md"}
{"doc_id": "fastapi_0345", "title": "Release Notes", "section": "Internal", "content": "* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#12907](https://github.com/fastapi/fastapi/pull/12907) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* üî® Update docs preview script to show previous version and English version. PR [#12856](https://github.com/fastapi/fastapi/pull/12856) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump tiangolo/latest-changes from 0.3.1 to 0.3.2. PR [#12794](https://github.com/fastapi/fastapi/pull/12794) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump pypa/gh-action-pypi-publish from 1.12.0 to 1.12.2. PR [#12788](https://github.com/fastapi/fastapi/pull/12788) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump pypa/gh-action-pypi-publish from 1.11.0 to 1.12.0. PR [#12781](https://github.com/fastapi/fastapi/pull/12781) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump cloudflare/wrangler-action from 3.11 to 3.12. PR [#12777](https://github.com/fastapi/fastapi/pull/12777) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#12766](https://github.com/fastapi/fastapi/pull/12766) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* ‚¨Ü Bump pypa/gh-action-pypi-publish from 1.10.3 to 1.11.0. PR [#12721](https://github.com/fastapi/fastapi/pull/12721) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Update pre-commit requirement from <4.0.0,>=2.17.0 to >=2.17.0,<5.0.0. PR [#12749](https://github.com/fastapi/fastapi/pull/12749) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump typer from 0.12.3 to 0.12.5. PR [#12748](https://github.com/fastapi/fastapi/pull/12748) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Update flask requirement from <3.0.0,>=1.1.2 to >=1.1.2,<4.0.0. PR [#12747](https://github.com/fastapi/fastapi/pull/12747) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump pillow from 10.4.0 to 11.0.0. PR [#12746](https://github.com/fastapi/fastapi/pull/12746) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Update pytest requirement from <8.0.0,>=7.1.3 to >=7.1.3,<9.0.0. PR [#12745](https://github.com/fastapi/fastapi/pull/12745) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üîß Update sponsors: add Render. PR [#12733](https://github.com/fastapi/fastapi/pull/12733) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#12707](https://github.com/fastapi/fastapi/pull/12707) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).", "source": "release-notes.md"}
{"doc_id": "fastapi_0346", "title": "Release Notes", "section": "0.115.4", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0347", "title": "Release Notes", "section": "Refactors", "content": "* ‚ôªÔ∏è Update logic to import and check `python-multipart` for compatibility with newer version. PR [#12627](https://github.com/fastapi/fastapi/pull/12627) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0348", "title": "Release Notes", "section": "Docs", "content": "* üìù  Update includes in `docs/fr/docs/tutorial/body.md`. PR [#12596](https://github.com/fastapi/fastapi/pull/12596) by [@kantandane](https://github.com/kantandane).\n* üìù Update includes in `docs/fr/docs/tutorial/debugging.md`. PR [#12595](https://github.com/fastapi/fastapi/pull/12595) by [@kantandane](https://github.com/kantandane).\n* üìù Update includes in `docs/fr/docs/tutorial/query-params-str-validations.md`. PR [#12591](https://github.com/fastapi/fastapi/pull/12591) by [@kantandane](https://github.com/kantandane).\n* üìù Update includes in `docs/fr/docs/tutorial/query-params.md`. PR [#12589](https://github.com/fastapi/fastapi/pull/12589) by [@kantandane](https://github.com/kantandane).\n* üìù Update includes in `docs/en/tutorial/body-fields.md`. PR [#12588](https://github.com/fastapi/fastapi/pull/12588) by [@lucaromagnoli](https://github.com/lucaromagnoli).\n* üìù Update includes in `docs/de/docs/tutorial/response-status-code.md`. PR [#12585](https://github.com/fastapi/fastapi/pull/12585) by [@abejaranoh](https://github.com/abejaranoh).\n* üìù Update includes in `docs/en/docs/tutorial/body.md`. PR [#12586](https://github.com/fastapi/fastapi/pull/12586) by [@lucaromagnoli](https://github.com/lucaromagnoli).\n* üìù Update includes in `docs/en/docs/advanced/behind-a-proxy.md`. PR [#12583](https://github.com/fastapi/fastapi/pull/12583) by [@imjuanleonard](https://github.com/imjuanleonard).\n* üìù Update includes syntax for `docs/pl/docs/tutorial/first-steps.md`. PR [#12584](https://github.com/fastapi/fastapi/pull/12584) by [@sebkozlo](https://github.com/sebkozlo).\n* üìù Update includes in `docs/en/docs/advanced/middleware.md`. PR [#12582](https://github.com/fastapi/fastapi/pull/12582) by [@montanarograziano](https://github.com/montanarograziano).\n* üìù Update includes in `docs/en/docs/advanced/additional-status-codes.md`. PR [#12577](https://github.com/fastapi/fastapi/pull/12577) by [@krishnamadhavan](https://github.com/krishnamadhavan).\n* üìù Update includes in `docs/en/docs/advanced/advanced-dependencies.md`. PR [#12578](https://github.com/fastapi/fastapi/pull/12578) by [@krishnamadhavan](https://github.com/krishnamadhavan).\n* üìù Update includes in `docs/en/docs/advanced/additional-responses.md`. PR [#12576](https://github.com/fastapi/fastapi/pull/12576) by [@krishnamadhavan](https://github.com/krishnamadhavan).\n* üìù Update includes in `docs/en/docs/tutorial/static-files.md`. PR [#12575](https://github.com/fastapi/fastapi/pull/12575) by [@lucaromagnoli](https://github.com/lucaromagnoli).\n* üìù Update includes in `docs/en/docs/advanced/async-tests.md`. PR [#12568](https://github.com/fastapi/fastapi/pull/12568) by [@krishnamadhavan](https://github.com/krishnamadhavan).\n* üìù Update includes in `docs/pt/docs/advanced/behind-a-proxy.md`. PR [#12563](https://github.com/fastapi/fastapi/pull/12563) by [@asmioglou](https://github.com/asmioglou).\n* üìù Update includes in `docs/de/docs/advanced/security/http-basic-auth.md`. PR [#12561](https://github.com/fastapi/fastapi/pull/12561) by [@Nimitha-jagadeesha](https://github.com/Nimitha-jagadeesha).\n* üìù Update includes in `docs/en/docs/tutorial/background-tasks.md`. PR [#12559](https://github.com/fastapi/fastapi/pull/12559) by [@FarhanAliRaza](https://github.com/FarhanAliRaza).\n* üìù Update includes in `docs/fr/docs/python-types.md`. PR [#12558](https://github.com/fastapi/fastapi/pull/12558) by [@Ismailtlem](https://github.com/Ismailtlem).\n* üìù Update includes in `docs/en/docs/how-to/graphql.md`. PR [#12564](https://github.com/fastapi/fastapi/pull/12564) by [@philipokiokio](https://github.com/philipokiokio).\n* üìù Update includes in `docs/en/docs/how-to/extending-openapi.md`. PR [#12562](https://github.com/fastapi/fastapi/pull/12562) by [@philipokiokio](https://github.com/philipokiokio).\n* üìù Update includes for `docs/en/docs/how-to/configure-swagger-ui.md`. PR [#12556](https://github.com/fastapi/fastapi/pull/12556) by [@tiangolo](https://github.com/tiangolo).\n* üìù Update includes for `docs/en/docs/how-to/separate-openapi-schemas.md`. PR [#12555](https://github.com/fastapi/fastapi/pull/12555) by [@tiangolo](https://github.com/tiangolo).\n* üìù Update includes for `docs/en/docs/advanced/security/http-basic-auth.md`. PR [#12553](https://github.com/fastapi/fastapi/pull/12553) by [@tiangolo](https://github.com/tiangolo).\n* üìù Update includes in `docs/en/docs/tutorial/first-steps.md`. PR [#12552](https://github.com/fastapi/fastapi/pull/12552) by [@tiangolo](https://github.com/tiangolo).\n* üìù Update includes in `docs/en/docs/python-types.md`. PR [#12551](https://github.com/fastapi/fastapi/pull/12551) by [@tiangolo](https://github.com/tiangolo).\n* üìù Fix link in OAuth2 docs. PR [#12550](https://github.com/fastapi/fastapi/pull/12550) by [@tiangolo](https://github.com/tiangolo).\n* üìù Add External Link: FastAPI do Zero. PR [#12533](https://github.com/fastapi/fastapi/pull/12533) by [@rennerocha](https://github.com/rennerocha).\n* üìù Fix minor typos. PR [#12516](https://github.com/fastapi/fastapi/pull/12516) by [@kkirsche](https://github.com/kkirsche).\n* üåê Fix rendering issue in translations. PR [#12509](https://github.com/fastapi/fastapi/pull/12509) by [@alejsdev](https://github.com/alejsdev).", "source": "release-notes.md"}
{"doc_id": "fastapi_0349", "title": "Release Notes", "section": "Translations", "content": "* üìù Update includes in `docs/de/docs/advanced/async-tests.md`. PR [#12567](https://github.com/fastapi/fastapi/pull/12567) by [@imjuanleonard](https://github.com/imjuanleonard).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/sql-databases.md`. PR [#12530](https://github.com/fastapi/fastapi/pull/12530) by [@ilacftemp](https://github.com/ilacftemp).\n* üåê Add Korean translation for `docs/ko/docs/benchmarks.md`. PR [#12540](https://github.com/fastapi/fastapi/pull/12540) by [@Limsunoh](https://github.com/Limsunoh).\n* üåê Add Portuguese translation for `docs/pt/docs/how-to/separate-openapi-schemas.md`. PR [#12518](https://github.com/fastapi/fastapi/pull/12518) by [@ilacftemp](https://github.com/ilacftemp).\n* üåê Update Traditional Chinese translation for `docs/zh-hant/docs/deployment/index.md`. PR [#12521](https://github.com/fastapi/fastapi/pull/12521) by [@codingjenny](https://github.com/codingjenny).\n* üåê Update Traditional Chinese translation for `docs/zh-hant/docs/deployment/cloud.md`. PR [#12522](https://github.com/fastapi/fastapi/pull/12522) by [@codingjenny](https://github.com/codingjenny).\n* üåê Update Traditional Chinese translation for `docs/zh-hant/docs/how-to/index.md`. PR [#12523](https://github.com/fastapi/fastapi/pull/12523) by [@codingjenny](https://github.com/codingjenny).\n* üåê Update Traditional Chinese translation for `docs/zh-hant/docs/tutorial/index.md`. PR [#12524](https://github.com/fastapi/fastapi/pull/12524) by [@codingjenny](https://github.com/codingjenny).\n* üåê Add Traditional Chinese translation for `docs/zh-hant/docs/how-to/index.md`. PR [#12468](https://github.com/fastapi/fastapi/pull/12468) by [@codingjenny](https://github.com/codingjenny).\n* üåê Add Traditional Chinese translation for `docs/zh-hant/docs/tutorial/index.md`. PR [#12466](https://github.com/fastapi/fastapi/pull/12466) by [@codingjenny](https://github.com/codingjenny).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/header-param-models.md`. PR [#12437](https://github.com/fastapi/fastapi/pull/12437) by [@Joao-Pedro-P-Holanda](https://github.com/Joao-Pedro-P-Holanda).\n* üåê Add Portuguese translation for `docs/pt/docs/how-to/extending-openapi.md`. PR [#12470](https://github.com/fastapi/fastapi/pull/12470) by [@ilacftemp](https://github.com/ilacftemp).\n* üåê Add Portuguese translation for `docs/pt/docs/advanced/dataclasses.md`. PR [#12475](https://github.com/fastapi/fastapi/pull/12475) by [@leoscarlato](https://github.com/leoscarlato).\n* üåê Add Portuguese translation for `docs/pt/docs/how-to/custom-request-and-route.md`. PR [#12483](https://github.com/fastapi/fastapi/pull/12483) by [@devfernandoa](https://github.com/devfernandoa).", "source": "release-notes.md"}
{"doc_id": "fastapi_0350", "title": "Release Notes", "section": "Internal", "content": "* ‚¨Ü Bump cloudflare/wrangler-action from 3.9 to 3.11. PR [#12544](https://github.com/fastapi/fastapi/pull/12544) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üë∑ Update GitHub Action to deploy docs previews to handle missing deploy comments. PR [#12527](https://github.com/fastapi/fastapi/pull/12527) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#12505](https://github.com/fastapi/fastapi/pull/12505) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).", "source": "release-notes.md"}
{"doc_id": "fastapi_0351", "title": "Release Notes", "section": "0.115.3", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0352", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨ÜÔ∏è Upgrade Starlette to `>=0.40.0,<0.42.0`. PR [#12469](https://github.com/fastapi/fastapi/pull/12469) by [@defnull](https://github.com/defnull).", "source": "release-notes.md"}
{"doc_id": "fastapi_0353", "title": "Release Notes", "section": "Docs", "content": "* üìù Fix broken link in docs. PR [#12495](https://github.com/fastapi/fastapi/pull/12495) by [@eltonjncorreia](https://github.com/eltonjncorreia).", "source": "release-notes.md"}
{"doc_id": "fastapi_0354", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Traditional Chinese translation for `docs/zh-hant/docs/fastapi-cli.md`. PR [#12444](https://github.com/fastapi/fastapi/pull/12444) by [@codingjenny](https://github.com/codingjenny).\n* üåê Add Traditional Chinese translation for `docs/zh-hant/docs/deployment/index.md`. PR [#12439](https://github.com/fastapi/fastapi/pull/12439) by [@codingjenny](https://github.com/codingjenny).\n* üåê Add Portuguese translation for `docs/pt/docs/how-to/testing-database.md`. PR [#12472](https://github.com/fastapi/fastapi/pull/12472) by [@GuilhermeRameh](https://github.com/GuilhermeRameh).\n* üåê Add Portuguese translation for `docs/pt/docs/how-to/custom-docs-ui-assets.md`. PR [#12473](https://github.com/fastapi/fastapi/pull/12473) by [@devluisrodrigues](https://github.com/devluisrodrigues).\n* üåê Add Portuguese translation for `docs/pt/docs/advanced/response-headers.md`. PR [#12458](https://github.com/fastapi/fastapi/pull/12458) by [@leonardopaloschi](https://github.com/leonardopaloschi).\n* üåê Add Traditional Chinese translation for `docs/zh-hant/docs/deployment/cloud.md`. PR [#12440](https://github.com/fastapi/fastapi/pull/12440) by [@codingjenny](https://github.com/codingjenny).\n* üåê Update Portuguese translation for `docs/pt/docs/python-types.md`. PR [#12428](https://github.com/fastapi/fastapi/pull/12428) by [@ceb10n](https://github.com/ceb10n).\n* üåê Add Russian translation for `docs/ru/docs/environment-variables.md`. PR [#12436](https://github.com/fastapi/fastapi/pull/12436) by [@wisderfin](https://github.com/wisderfin).\n* üåê Add Traditional Chinese translation for `docs/zh-hant/docs/resources/index.md`. PR [#12443](https://github.com/fastapi/fastapi/pull/12443) by [@codingjenny](https://github.com/codingjenny).\n* üåê Add Traditional Chinese translation for `docs/zh-hant/docs/about/index.md`. PR [#12438](https://github.com/fastapi/fastapi/pull/12438) by [@codingjenny](https://github.com/codingjenny).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/query-param-models.md`. PR [#12414](https://github.com/fastapi/fastapi/pull/12414) by [@ceb10n](https://github.com/ceb10n).\n* üåê Remove Portuguese translation for `docs/pt/docs/deployment.md`. PR [#12427](https://github.com/fastapi/fastapi/pull/12427) by [@ceb10n](https://github.com/ceb10n).\n*  üåê Add Portuguese translation for `docs/pt/docs/tutorial/body-updates.md`. PR [#12381](https://github.com/fastapi/fastapi/pull/12381) by [@andersonrocha0](https://github.com/andersonrocha0).\n* üåê Add Portuguese translation for `docs/pt/docs/advanced/response-cookies.md`. PR [#12417](https://github.com/fastapi/fastapi/pull/12417) by [@Paulofalcao2002](https://github.com/Paulofalcao2002).", "source": "release-notes.md"}
{"doc_id": "fastapi_0355", "title": "Release Notes", "section": "Internal", "content": "* üë∑ Update issue manager workflow . PR [#12457](https://github.com/fastapi/fastapi/pull/12457) by [@alejsdev](https://github.com/alejsdev).\n* üîß Update team, include YuriiMotov üöÄ. PR [#12453](https://github.com/fastapi/fastapi/pull/12453) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Refactor label-approved, make it an internal script instead of an external GitHub Action. PR [#12280](https://github.com/fastapi/fastapi/pull/12280) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Fix smokeshow, checkout files on CI. PR [#12434](https://github.com/fastapi/fastapi/pull/12434) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Use uv in CI. PR [#12281](https://github.com/fastapi/fastapi/pull/12281) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Update httpx requirement from <0.25.0,>=0.23.0 to >=0.23.0,<0.28.0. PR [#11509](https://github.com/fastapi/fastapi/pull/11509) by [@dependabot[bot]](https://github.com/apps/dependabot).", "source": "release-notes.md"}
{"doc_id": "fastapi_0356", "title": "Release Notes", "section": "0.115.2", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0357", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨ÜÔ∏è Upgrade Starlette to `>=0.37.2,<0.41.0`. PR [#12431](https://github.com/fastapi/fastapi/pull/12431) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0358", "title": "Release Notes", "section": "0.115.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0359", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix openapi generation with responses kwarg. PR [#10895](https://github.com/fastapi/fastapi/pull/10895) by [@flxdot](https://github.com/flxdot).\n* üêõ Remove `Required` shadowing from fastapi using Pydantic v2. PR [#12197](https://github.com/fastapi/fastapi/pull/12197) by [@pachewise](https://github.com/pachewise).", "source": "release-notes.md"}
{"doc_id": "fastapi_0360", "title": "Release Notes", "section": "Refactors", "content": "* ‚ôªÔ∏è Update type annotations for improved `python-multipart`. PR [#12407](https://github.com/fastapi/fastapi/pull/12407) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0361", "title": "Release Notes", "section": "Docs", "content": "* ‚ú® Add new tutorial for SQL databases with SQLModel. PR [#12285](https://github.com/fastapi/fastapi/pull/12285) by [@tiangolo](https://github.com/tiangolo).\n* üìù Add External Link: How to profile a FastAPI asynchronous request. PR [#12389](https://github.com/fastapi/fastapi/pull/12389) by [@brouberol](https://github.com/brouberol).\n* üîß Remove `base_path` for `mdx_include` Markdown extension in MkDocs. PR [#12391](https://github.com/fastapi/fastapi/pull/12391) by [@tiangolo](https://github.com/tiangolo).\n* üìù Update link to Swagger UI configuration docs. PR [#12264](https://github.com/fastapi/fastapi/pull/12264) by [@makisukurisu](https://github.com/makisukurisu).\n* üìù Adding links for Playwright and Vite in `docs/project-generation.md`. PR [#12274](https://github.com/fastapi/fastapi/pull/12274) by [@kayqueGovetri](https://github.com/kayqueGovetri).\n* üìù Fix small typos in the documentation. PR [#12213](https://github.com/fastapi/fastapi/pull/12213) by [@svlandeg](https://github.com/svlandeg).", "source": "release-notes.md"}
{"doc_id": "fastapi_0362", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Portuguese translation for `docs/pt/docs/tutorial/cookie-param-models.md`. PR [#12298](https://github.com/fastapi/fastapi/pull/12298) by [@ceb10n](https://github.com/ceb10n).\n* üåê Add Portuguese translation for `docs/pt/docs/how-to/graphql.md`. PR [#12215](https://github.com/fastapi/fastapi/pull/12215) by [@AnandaCampelo](https://github.com/AnandaCampelo).\n* üåê Add Portuguese translation for `docs/pt/docs/advanced/security/oauth2-scopes.md`. PR [#12263](https://github.com/fastapi/fastapi/pull/12263) by [@ceb10n](https://github.com/ceb10n).\n* üåê Add Portuguese translation for `docs/pt/docs/deployment/concepts.md`. PR [#12219](https://github.com/fastapi/fastapi/pull/12219) by [@marcelomarkus](https://github.com/marcelomarkus).\n* üåê Add Portuguese translation for `docs/pt/docs/how-to/conditional-openapi.md`. PR [#12221](https://github.com/fastapi/fastapi/pull/12221) by [@marcelomarkus](https://github.com/marcelomarkus).\n* üåê Add Portuguese translation for `docs/pt/docs/advanced/response-directly.md`. PR [#12266](https://github.com/fastapi/fastapi/pull/12266) by [@Joao-Pedro-P-Holanda](https://github.com/Joao-Pedro-P-Holanda).\n* üåê Update Portuguese translation for `docs/pt/docs/tutorial/cookie-params.md`. PR [#12297](https://github.com/fastapi/fastapi/pull/12297) by [@ceb10n](https://github.com/ceb10n).\n* üåê Fix Korean translation for `docs/ko/docs/tutorial/index.md`. PR [#12278](https://github.com/fastapi/fastapi/pull/12278) by [@kkotipy](https://github.com/kkotipy).\n*  üåê Update Portuguese translation for `docs/pt/docs/advanced/security/http-basic-auth.md`. PR [#12275](https://github.com/fastapi/fastapi/pull/12275) by [@andersonrocha0](https://github.com/andersonrocha0).\n* üåê Add Portuguese translation for `docs/pt/docs/deployment/cloud.md`. PR [#12217](https://github.com/fastapi/fastapi/pull/12217) by [@marcelomarkus](https://github.com/marcelomarkus).\n* ‚úèÔ∏è Fix typo in `docs/es/docs/python-types.md`. PR [#12235](https://github.com/fastapi/fastapi/pull/12235) by [@JavierSanchezCastro](https://github.com/JavierSanchezCastro).\n* üåê Add Dutch translation for `docs/nl/docs/environment-variables.md`. PR [#12200](https://github.com/fastapi/fastapi/pull/12200) by [@maxscheijen](https://github.com/maxscheijen).\n* üåê Add Portuguese translation for `docs/pt/docs/deployment/manually.md`. PR [#12210](https://github.com/fastapi/fastapi/pull/12210) by [@JoaoGustavoRogel](https://github.com/JoaoGustavoRogel).\n* üåê Add Portuguese translation for `docs/pt/docs/deployment/server-workers.md`. PR [#12220](https://github.com/fastapi/fastapi/pull/12220) by [@marcelomarkus](https://github.com/marcelomarkus).\n* üåê Add Portuguese translation for `docs/pt/docs/how-to/configure-swagger-ui.md`. PR [#12222](https://github.com/fastapi/fastapi/pull/12222) by [@marcelomarkus](https://github.com/marcelomarkus).", "source": "release-notes.md"}
{"doc_id": "fastapi_0363", "title": "Release Notes", "section": "Internal", "content": "* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#12396](https://github.com/fastapi/fastapi/pull/12396) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* üî® Add script to generate variants of files. PR [#12405](https://github.com/fastapi/fastapi/pull/12405) by [@tiangolo](https://github.com/tiangolo).\n* üîß Add speakeasy-api to `sponsors_badge.yml`. PR [#12404](https://github.com/fastapi/fastapi/pull/12404) by [@tiangolo](https://github.com/tiangolo).\n* ‚ûï Add docs dependency: markdown-include-variants. PR [#12399](https://github.com/fastapi/fastapi/pull/12399) by [@tiangolo](https://github.com/tiangolo).\n* üìù Fix extra mdx-base-path paths. PR [#12397](https://github.com/fastapi/fastapi/pull/12397) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Tweak labeler to not override custom labels. PR [#12398](https://github.com/fastapi/fastapi/pull/12398) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Update worfkow deploy-docs-notify URL. PR [#12392](https://github.com/fastapi/fastapi/pull/12392) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Update Cloudflare GitHub Action. PR [#12387](https://github.com/fastapi/fastapi/pull/12387) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump pypa/gh-action-pypi-publish from 1.10.1 to 1.10.3. PR [#12386](https://github.com/fastapi/fastapi/pull/12386) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump mkdocstrings[python] from 0.25.1 to 0.26.1. PR [#12371](https://github.com/fastapi/fastapi/pull/12371) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump griffe-typingdoc from 0.2.6 to 0.2.7. PR [#12370](https://github.com/fastapi/fastapi/pull/12370) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#12331](https://github.com/fastapi/fastapi/pull/12331) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* üîß Update sponsors, remove Fine.dev. PR [#12271](https://github.com/fastapi/fastapi/pull/12271) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#12253](https://github.com/fastapi/fastapi/pull/12253) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* ‚úèÔ∏è Fix docstring typos in http security. PR [#12223](https://github.com/fastapi/fastapi/pull/12223) by [@albertvillanova](https://github.com/albertvillanova).", "source": "release-notes.md"}
{"doc_id": "fastapi_0364", "title": "Release Notes", "section": "0.115.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0365", "title": "Release Notes", "section": "Highlights", "content": "Now you can declare `Query`, `Header`, and `Cookie` parameters with Pydantic models. üéâ\n\n#### `Query` Parameter Models\n\nUse Pydantic models for `Query` parameters:\n\n```python\nfrom typing import Annotated, Literal\n\nfrom fastapi import FastAPI, Query\nfrom pydantic import BaseModel, Field\n\napp = FastAPI()\n\n\nclass FilterParams(BaseModel):\n    limit: int = Field(100, gt=0, le=100)\n    offset: int = Field(0, ge=0)\n    order_by: Literal[\"created_at\", \"updated_at\"] = \"created_at\"\n    tags: list[str] = []\n\n\n@app.get(\"/items/\")\nasync def read_items(filter_query: Annotated[FilterParams, Query()]):\n    return filter_query\n```\n\nRead the new docs: [Query Parameter Models](https://fastapi.tiangolo.com/tutorial/query-param-models/).\n\n#### `Header` Parameter Models\n\nUse Pydantic models for `Header` parameters:\n\n```python\nfrom typing import Annotated\n\nfrom fastapi import FastAPI, Header\nfrom pydantic import BaseModel\n\napp = FastAPI()\n\n\nclass CommonHeaders(BaseModel):\n    host: str\n    save_data: bool\n    if_modified_since: str | None = None\n    traceparent: str | None = None\n    x_tag: list[str] = []\n\n\n@app.get(\"/items/\")\nasync def read_items(headers: Annotated[CommonHeaders, Header()]):\n    return headers\n```\n\nRead the new docs: [Header Parameter Models](https://fastapi.tiangolo.com/tutorial/header-param-models/).\n\n#### `Cookie` Parameter Models\n\nUse Pydantic models for `Cookie` parameters:\n\n```python\nfrom typing import Annotated\n\nfrom fastapi import Cookie, FastAPI\nfrom pydantic import BaseModel\n\napp = FastAPI()\n\n\nclass Cookies(BaseModel):\n    session_id: str\n    fatebook_tracker: str | None = None\n    googall_tracker: str | None = None\n\n\n@app.get(\"/items/\")\nasync def read_items(cookies: Annotated[Cookies, Cookie()]):\n    return cookies\n```\n\nRead the new docs: [Cookie Parameter Models](https://fastapi.tiangolo.com/tutorial/cookie-param-models/).\n\n#### Forbid Extra Query (Cookie, Header) Parameters\n\nUse Pydantic models to restrict extra values for `Query` parameters (also applies to `Header` and `Cookie` parameters).\n\nTo achieve it, use Pydantic's `model_config = {\"extra\": \"forbid\"}`:\n\n```python\nfrom typing import Annotated, Literal\n\nfrom fastapi import FastAPI, Query\nfrom pydantic import BaseModel, Field\n\napp = FastAPI()\n\n\nclass FilterParams(BaseModel):\n    model_config = {\"extra\": \"forbid\"}\n\n    limit: int = Field(100, gt=0, le=100)\n    offset: int = Field(0, ge=0)\n    order_by: Literal[\"created_at\", \"updated_at\"] = \"created_at\"\n    tags: list[str] = []\n\n\n@app.get(\"/items/\")\nasync def read_items(filter_query: Annotated[FilterParams, Query()]):\n    return filter_query\n```\n\nThis applies to `Query`, `Header`, and `Cookie` parameters, read the new docs:\n\n* [Forbid Extra Query Parameters](https://fastapi.tiangolo.com/tutorial/query-param-models/#forbid-extra-query-parameters)\n* [Forbid Extra Headers](https://fastapi.tiangolo.com/tutorial/header-param-models/#forbid-extra-headers)\n* [Forbid Extra Cookies](https://fastapi.tiangolo.com/tutorial/cookie-param-models/#forbid-extra-cookies)", "source": "release-notes.md"}
{"doc_id": "fastapi_0366", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add support for Pydantic models for parameters using `Query`, `Cookie`, `Header`. PR [#12199](https://github.com/fastapi/fastapi/pull/12199) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0367", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Portuguese translation for `docs/pt/docs/advanced/security/http-basic-auth.md`. PR [#12195](https://github.com/fastapi/fastapi/pull/12195) by [@ceb10n](https://github.com/ceb10n).", "source": "release-notes.md"}
{"doc_id": "fastapi_0368", "title": "Release Notes", "section": "Internal", "content": "* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#12204](https://github.com/fastapi/fastapi/pull/12204) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).", "source": "release-notes.md"}
{"doc_id": "fastapi_0369", "title": "Release Notes", "section": "0.114.2", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0370", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix form field regression with `alias`. PR [#12194](https://github.com/fastapi/fastapi/pull/12194) by [@Wurstnase](https://github.com/Wurstnase).", "source": "release-notes.md"}
{"doc_id": "fastapi_0371", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Portuguese translation for `docs/pt/docs/tutorial/request-form-models.md`. PR [#12175](https://github.com/fastapi/fastapi/pull/12175) by [@ceb10n](https://github.com/ceb10n).\n* üåê Add Chinese translation for `docs/zh/docs/project-generation.md`. PR [#12170](https://github.com/fastapi/fastapi/pull/12170) by [@waketzheng](https://github.com/waketzheng).\n* üåê Add Dutch translation for `docs/nl/docs/python-types.md`. PR [#12158](https://github.com/fastapi/fastapi/pull/12158) by [@maxscheijen](https://github.com/maxscheijen).", "source": "release-notes.md"}
{"doc_id": "fastapi_0372", "title": "Release Notes", "section": "Internal", "content": "* üí° Add comments with instructions for Playwright screenshot scripts. PR [#12193](https://github.com/fastapi/fastapi/pull/12193) by [@tiangolo](https://github.com/tiangolo).\n* ‚ûï Add inline-snapshot for tests. PR [#12189](https://github.com/fastapi/fastapi/pull/12189) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0373", "title": "Release Notes", "section": "0.114.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0374", "title": "Release Notes", "section": "Refactors", "content": "* ‚ö°Ô∏è Improve performance in request body parsing with a cache for internal model fields. PR [#12184](https://github.com/fastapi/fastapi/pull/12184) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0375", "title": "Release Notes", "section": "Docs", "content": "* üìù Remove duplicate line in docs for `docs/en/docs/environment-variables.md`. PR [#12169](https://github.com/fastapi/fastapi/pull/12169) by [@prometek](https://github.com/prometek).", "source": "release-notes.md"}
{"doc_id": "fastapi_0376", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Portuguese translation for `docs/pt/docs/virtual-environments.md`. PR [#12163](https://github.com/fastapi/fastapi/pull/12163) by [@marcelomarkus](https://github.com/marcelomarkus).\n* üåê Add Portuguese translation for `docs/pt/docs/environment-variables.md`. PR [#12162](https://github.com/fastapi/fastapi/pull/12162) by [@marcelomarkus](https://github.com/marcelomarkus).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/testing.md`. PR [#12164](https://github.com/fastapi/fastapi/pull/12164) by [@marcelomarkus](https://github.com/marcelomarkus).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/debugging.md`. PR [#12165](https://github.com/fastapi/fastapi/pull/12165) by [@marcelomarkus](https://github.com/marcelomarkus).\n* üåê Add Korean translation for `docs/ko/docs/project-generation.md`. PR [#12157](https://github.com/fastapi/fastapi/pull/12157) by [@BORA040126](https://github.com/BORA040126).", "source": "release-notes.md"}
{"doc_id": "fastapi_0377", "title": "Release Notes", "section": "Internal", "content": "* ‚¨Ü Bump tiangolo/issue-manager from 0.5.0 to 0.5.1. PR [#12173](https://github.com/fastapi/fastapi/pull/12173) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#12176](https://github.com/fastapi/fastapi/pull/12176) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* üë∑ Update `issue-manager.yml`. PR [#12159](https://github.com/fastapi/fastapi/pull/12159) by [@tiangolo](https://github.com/tiangolo).\n* ‚úèÔ∏è Fix typo in `fastapi/params.py`. PR [#12143](https://github.com/fastapi/fastapi/pull/12143) by [@surreal30](https://github.com/surreal30).", "source": "release-notes.md"}
{"doc_id": "fastapi_0378", "title": "Release Notes", "section": "0.114.0", "content": "You can restrict form fields to only include those declared in a Pydantic model and forbid any extra field sent in the request using Pydantic's `model_config = {\"extra\": \"forbid\"}`:\n\n```python\nfrom typing import Annotated\n\nfrom fastapi import FastAPI, Form\nfrom pydantic import BaseModel\n\napp = FastAPI()\n\n\nclass FormData(BaseModel):\n    username: str\n    password: str\n    model_config = {\"extra\": \"forbid\"}\n\n\n@app.post(\"/login/\")\nasync def login(data: Annotated[FormData, Form()]):\n    return data\n```\n\nRead the new docs: [Form Models - Forbid Extra Form Fields](https://fastapi.tiangolo.com/tutorial/request-form-models/#forbid-extra-form-fields).", "source": "release-notes.md"}
{"doc_id": "fastapi_0379", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add support for forbidding extra form fields with Pydantic models. PR [#12134](https://github.com/fastapi/fastapi/pull/12134) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0380", "title": "Release Notes", "section": "Docs", "content": "* üìù Update docs, Form Models section title, to match config name. PR [#12152](https://github.com/fastapi/fastapi/pull/12152) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0381", "title": "Release Notes", "section": "Internal", "content": "* ‚úÖ Update internal tests for latest Pydantic, including CI tweaks to install the latest Pydantic. PR [#12147](https://github.com/fastapi/fastapi/pull/12147) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0382", "title": "Release Notes", "section": "0.113.0", "content": "Now you can declare form fields with Pydantic models:\n\n```python\nfrom typing import Annotated\n\nfrom fastapi import FastAPI, Form\nfrom pydantic import BaseModel\n\napp = FastAPI()\n\n\nclass FormData(BaseModel):\n    username: str\n    password: str\n\n\n@app.post(\"/login/\")\nasync def login(data: Annotated[FormData, Form()]):\n    return data\n```\n\nRead the new docs: [Form Models](https://fastapi.tiangolo.com/tutorial/request-form-models/).", "source": "release-notes.md"}
{"doc_id": "fastapi_0383", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add support for Pydantic models in `Form` parameters. PR [#12129](https://github.com/fastapi/fastapi/pull/12129) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0384", "title": "Release Notes", "section": "Internal", "content": "* üîß Update sponsors: Coherence link. PR [#12130](https://github.com/fastapi/fastapi/pull/12130) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0385", "title": "Release Notes", "section": "0.112.4", "content": "This release is mainly a big internal refactor to enable adding support for Pydantic models for `Form` fields, but that feature comes in the next release.\n\nThis release shouldn't affect apps using FastAPI in any way. You don't even have to upgrade to this version yet. It's just a checkpoint. ü§ì", "source": "release-notes.md"}
{"doc_id": "fastapi_0386", "title": "Release Notes", "section": "Refactors", "content": "* ‚ôªÔ∏è Refactor deciding if `embed` body fields, do not overwrite fields, compute once per router, refactor internals in preparation for Pydantic models in `Form`, `Query` and others. PR [#12117](https://github.com/fastapi/fastapi/pull/12117) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0387", "title": "Release Notes", "section": "Internal", "content": "* ‚è™Ô∏è Temporarily revert \"‚ú® Add support for Pydantic models in `Form` parameters\" to make a checkpoint release. PR [#12128](https://github.com/fastapi/fastapi/pull/12128) by [@tiangolo](https://github.com/tiangolo). Restored by PR [#12129](https://github.com/fastapi/fastapi/pull/12129).\n* ‚ú® Add support for Pydantic models in `Form` parameters. PR [#12127](https://github.com/fastapi/fastapi/pull/12127) by [@tiangolo](https://github.com/tiangolo). Reverted by PR [#12128](https://github.com/fastapi/fastapi/pull/12128) to make a checkpoint release with only refactors. Restored by PR [#12129](https://github.com/fastapi/fastapi/pull/12129).", "source": "release-notes.md"}
{"doc_id": "fastapi_0388", "title": "Release Notes", "section": "0.112.3", "content": "This release is mainly internal refactors, it shouldn't affect apps using FastAPI in any way. You don't even have to upgrade to this version yet. There are a few bigger releases coming right after. üöÄ", "source": "release-notes.md"}
{"doc_id": "fastapi_0389", "title": "Release Notes", "section": "Refactors", "content": "* ‚ôªÔ∏è Refactor internal `check_file_field()`, rename to `ensure_multipart_is_installed()` to clarify its purpose. PR [#12106](https://github.com/fastapi/fastapi/pull/12106) by [@tiangolo](https://github.com/tiangolo).\n* ‚ôªÔ∏è Rename internal `create_response_field()` to `create_model_field()` as it's used for more than response models. PR [#12103](https://github.com/fastapi/fastapi/pull/12103) by [@tiangolo](https://github.com/tiangolo).\n* ‚ôªÔ∏è Refactor and simplify internal data from `solve_dependencies()` using dataclasses. PR [#12100](https://github.com/fastapi/fastapi/pull/12100) by [@tiangolo](https://github.com/tiangolo).\n* ‚ôªÔ∏è Refactor and simplify internal `analyze_param()` to structure data with dataclasses instead of tuple. PR [#12099](https://github.com/fastapi/fastapi/pull/12099) by [@tiangolo](https://github.com/tiangolo).\n* ‚ôªÔ∏è Refactor and simplify dependencies data structures with dataclasses. PR [#12098](https://github.com/fastapi/fastapi/pull/12098) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0390", "title": "Release Notes", "section": "Docs", "content": "* üìù Add External Link: Techniques and applications of SQLAlchemy global filters in FastAPI. PR [#12109](https://github.com/fastapi/fastapi/pull/12109) by [@TheShubhendra](https://github.com/TheShubhendra).\n* üìù Add note about `time.perf_counter()` in middlewares. PR [#12095](https://github.com/fastapi/fastapi/pull/12095) by [@tiangolo](https://github.com/tiangolo).\n* üìù Tweak middleware code sample `time.time()` to `time.perf_counter()`. PR [#11957](https://github.com/fastapi/fastapi/pull/11957) by [@domdent](https://github.com/domdent).\n* üîß Update sponsors: Coherence. PR [#12093](https://github.com/fastapi/fastapi/pull/12093) by [@tiangolo](https://github.com/tiangolo).\n* üìù Fix async test example not to trigger DeprecationWarning. PR [#12084](https://github.com/fastapi/fastapi/pull/12084) by [@marcinsulikowski](https://github.com/marcinsulikowski).\n* üìù Update `docs_src/path_params_numeric_validations/tutorial006.py`. PR [#11478](https://github.com/fastapi/fastapi/pull/11478) by [@MuhammadAshiqAmeer](https://github.com/MuhammadAshiqAmeer).\n* üìù Update comma in `docs/en/docs/async.md`. PR [#12062](https://github.com/fastapi/fastapi/pull/12062) by [@Alec-Gillis](https://github.com/Alec-Gillis).\n* üìù Update docs about serving FastAPI: ASGI servers, Docker containers, etc.. PR [#12069](https://github.com/fastapi/fastapi/pull/12069) by [@tiangolo](https://github.com/tiangolo).\n* üìù Clarify `response_class` parameter, validations, and returning a response directly. PR [#12067](https://github.com/fastapi/fastapi/pull/12067) by [@tiangolo](https://github.com/tiangolo).\n* üìù Fix minor typos and issues in the documentation. PR [#12063](https://github.com/fastapi/fastapi/pull/12063) by [@svlandeg](https://github.com/svlandeg).\n* üìù Add note in Docker docs about ensuring graceful shutdowns and lifespan events with `CMD` exec form. PR [#11960](https://github.com/fastapi/fastapi/pull/11960) by [@GPla](https://github.com/GPla).", "source": "release-notes.md"}
{"doc_id": "fastapi_0391", "title": "Release Notes", "section": "Translations", "content": "* üåê  Add Dutch translation for `docs/nl/docs/features.md`. PR [#12101](https://github.com/fastapi/fastapi/pull/12101) by [@maxscheijen](https://github.com/maxscheijen).\n* üåê Add Portuguese translation for `docs/pt/docs/advanced/testing-events.md`. PR [#12108](https://github.com/fastapi/fastapi/pull/12108) by [@ceb10n](https://github.com/ceb10n).\n* üåê Add Portuguese translation for `docs/pt/docs/advanced/security/index.md`. PR [#12114](https://github.com/fastapi/fastapi/pull/12114) by [@ceb10n](https://github.com/ceb10n).\n* üåê Add Dutch translation for `docs/nl/docs/index.md`. PR [#12042](https://github.com/fastapi/fastapi/pull/12042) by [@svlandeg](https://github.com/svlandeg).\n* üåê Update Chinese translation for `docs/zh/docs/how-to/index.md`. PR [#12070](https://github.com/fastapi/fastapi/pull/12070) by [@synthpop123](https://github.com/synthpop123).", "source": "release-notes.md"}
{"doc_id": "fastapi_0392", "title": "Release Notes", "section": "Internal", "content": "* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#12115](https://github.com/fastapi/fastapi/pull/12115) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* ‚¨Ü Bump pypa/gh-action-pypi-publish from 1.10.0 to 1.10.1. PR [#12120](https://github.com/fastapi/fastapi/pull/12120) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump pillow from 10.3.0 to 10.4.0. PR [#12105](https://github.com/fastapi/fastapi/pull/12105) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üíö Set `include-hidden-files` to `True` when using the `upload-artifact` GH action. PR [#12118](https://github.com/fastapi/fastapi/pull/12118) by [@svlandeg](https://github.com/svlandeg).\n* ‚¨Ü Bump pypa/gh-action-pypi-publish from 1.9.0 to 1.10.0. PR [#12112](https://github.com/fastapi/fastapi/pull/12112) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üîß Update sponsors link: Coherence. PR [#12097](https://github.com/fastapi/fastapi/pull/12097) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update labeler config to handle sponsorships data. PR [#12096](https://github.com/fastapi/fastapi/pull/12096) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors, remove Kong. PR [#12085](https://github.com/fastapi/fastapi/pull/12085) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#12076](https://github.com/fastapi/fastapi/pull/12076) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* üë∑ Update `latest-changes` GitHub Action. PR [#12073](https://github.com/fastapi/fastapi/pull/12073) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0393", "title": "Release Notes", "section": "0.112.2", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0394", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix `allow_inf_nan` option for Param and Body classes. PR [#11867](https://github.com/fastapi/fastapi/pull/11867) by [@giunio-prc](https://github.com/giunio-prc).\n* üêõ Ensure that `app.include_router` merges nested lifespans. PR [#9630](https://github.com/fastapi/fastapi/pull/9630) by [@Lancetnik](https://github.com/Lancetnik).", "source": "release-notes.md"}
{"doc_id": "fastapi_0395", "title": "Release Notes", "section": "Refactors", "content": "* üé® Fix typing annotation for semi-internal `FastAPI.add_api_route()`. PR [#10240](https://github.com/fastapi/fastapi/pull/10240) by [@ordinary-jamie](https://github.com/ordinary-jamie).\n* ‚¨ÜÔ∏è Upgrade version of Ruff and reformat. PR [#12032](https://github.com/fastapi/fastapi/pull/12032) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0396", "title": "Release Notes", "section": "Docs", "content": "* üìù Fix a typo in `docs/en/docs/virtual-environments.md`. PR [#12064](https://github.com/fastapi/fastapi/pull/12064) by [@aymenkrifa](https://github.com/aymenkrifa).\n* üìù Add docs about Environment Variables and Virtual Environments. PR [#12054](https://github.com/fastapi/fastapi/pull/12054) by [@tiangolo](https://github.com/tiangolo).\n* üìù Add Asyncer mention in async docs. PR [#12037](https://github.com/fastapi/fastapi/pull/12037) by [@tiangolo](https://github.com/tiangolo).\n* üìù Move the Features docs to the top level to improve the main page menu. PR [#12036](https://github.com/fastapi/fastapi/pull/12036) by [@tiangolo](https://github.com/tiangolo).\n* ‚úèÔ∏è Fix import typo in reference example for `Security`. PR [#11168](https://github.com/fastapi/fastapi/pull/11168) by [@0shah0](https://github.com/0shah0).\n* üìù Highlight correct line in tutorial `docs/en/docs/tutorial/body-multiple-params.md`. PR [#11978](https://github.com/fastapi/fastapi/pull/11978) by [@svlandeg](https://github.com/svlandeg).\n* üî• Remove Sentry link from Advanced Middleware docs. PR [#12031](https://github.com/fastapi/fastapi/pull/12031) by [@alejsdev](https://github.com/alejsdev).\n* üìù Clarify management tasks for translations, multiples files in one PR. PR [#12030](https://github.com/fastapi/fastapi/pull/12030) by [@tiangolo](https://github.com/tiangolo).\n* üìù Edit the link to the OpenAPI \"Responses Object\" and \"Response Object\" sections in the \"Additional Responses in OpenAPI\" section. PR [#11996](https://github.com/fastapi/fastapi/pull/11996) by [@VaitoSoi](https://github.com/VaitoSoi).\n* üî® Specify `email-validator` dependency with dash. PR [#11515](https://github.com/fastapi/fastapi/pull/11515) by [@jirikuncar](https://github.com/jirikuncar).\n* üåê Add Spanish translation for `docs/es/docs/project-generation.md`. PR [#11947](https://github.com/fastapi/fastapi/pull/11947) by [@alejsdev](https://github.com/alejsdev).\n* üìù Fix minor typo. PR [#12026](https://github.com/fastapi/fastapi/pull/12026) by [@MicaelJarniac](https://github.com/MicaelJarniac).\n* üìù Several docs improvements, tweaks, and clarifications. PR [#11390](https://github.com/fastapi/fastapi/pull/11390) by [@nilslindemann](https://github.com/nilslindemann).\n* üìù Add missing `compresslevel` parameter on docs for `GZipMiddleware`. PR [#11350](https://github.com/fastapi/fastapi/pull/11350) by [@junah201](https://github.com/junah201).\n* üìù Fix inconsistent response code when item already exists in docs for testing. PR [#11818](https://github.com/fastapi/fastapi/pull/11818) by [@lokomilo](https://github.com/lokomilo).\n* üìù Update `docs/en/docs/tutorial/body.md` with Python 3.10 union type example. PR [#11415](https://github.com/fastapi/fastapi/pull/11415) by [@rangzen](https://github.com/rangzen).", "source": "release-notes.md"}
{"doc_id": "fastapi_0397", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Portuguese translation for `docs/pt/docs/tutorial/request_file.md`. PR [#12018](https://github.com/fastapi/fastapi/pull/12018) by [@Joao-Pedro-P-Holanda](https://github.com/Joao-Pedro-P-Holanda).\n* üåê Add Japanese translation for `docs/ja/docs/learn/index.md`. PR [#11592](https://github.com/fastapi/fastapi/pull/11592) by [@ukwhatn](https://github.com/ukwhatn).\n* üìù Update Spanish translation docs for consistency. PR [#12044](https://github.com/fastapi/fastapi/pull/12044) by [@alejsdev](https://github.com/alejsdev).\n* üåê Update Chinese translation for `docs/zh/docs/tutorial/dependencies/dependencies-with-yield.md`. PR [#12028](https://github.com/fastapi/fastapi/pull/12028) by [@xuvjso](https://github.com/xuvjso).\n* üìù Update FastAPI People, do not translate to have the most recent info. PR [#12034](https://github.com/fastapi/fastapi/pull/12034) by [@tiangolo](https://github.com/tiangolo).\n* üåê Update Urdu translation for `docs/ur/docs/benchmarks.md`. PR [#10046](https://github.com/fastapi/fastapi/pull/10046) by [@AhsanSheraz](https://github.com/AhsanSheraz).", "source": "release-notes.md"}
{"doc_id": "fastapi_0398", "title": "Release Notes", "section": "Internal", "content": "* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#12046](https://github.com/fastapi/fastapi/pull/12046) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* üîß Update coverage config files. PR [#12035](https://github.com/fastapi/fastapi/pull/12035) by [@tiangolo](https://github.com/tiangolo).\n* üî® Standardize shebang across shell scripts. PR [#11942](https://github.com/fastapi/fastapi/pull/11942) by [@gitworkflows](https://github.com/gitworkflows).\n* ‚¨Ü Update sqlalchemy requirement from <1.4.43,>=1.3.18 to >=1.3.18,<2.0.33. PR [#11979](https://github.com/fastapi/fastapi/pull/11979) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üîä Remove old ignore warnings. PR [#11950](https://github.com/fastapi/fastapi/pull/11950) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨ÜÔ∏è Upgrade griffe-typingdoc for the docs. PR [#12029](https://github.com/fastapi/fastapi/pull/12029) by [@tiangolo](https://github.com/tiangolo).\n* üôà Add .coverage* to `.gitignore`. PR [#11940](https://github.com/fastapi/fastapi/pull/11940) by [@gitworkflows](https://github.com/gitworkflows).\n* ‚öôÔ∏è Record and show test coverage contexts (what test covers which line). PR [#11518](https://github.com/fastapi/fastapi/pull/11518) by [@slafs](https://github.com/slafs).", "source": "release-notes.md"}
{"doc_id": "fastapi_0399", "title": "Release Notes", "section": "0.112.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0400", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨ÜÔ∏è Allow Starlette 0.38.x, update the pin to `>=0.37.2,<0.39.0`. PR [#11876](https://github.com/fastapi/fastapi/pull/11876) by [@musicinmybrain](https://github.com/musicinmybrain).", "source": "release-notes.md"}
{"doc_id": "fastapi_0401", "title": "Release Notes", "section": "Docs", "content": "* üìù Update docs section about \"Don't Translate these Pages\". PR [#12022](https://github.com/fastapi/fastapi/pull/12022) by [@tiangolo](https://github.com/tiangolo).\n* üìù Add documentation for non-translated pages and scripts to verify them. PR [#12020](https://github.com/fastapi/fastapi/pull/12020) by [@tiangolo](https://github.com/tiangolo).\n* üìù Update docs about discussions questions. PR [#11985](https://github.com/fastapi/fastapi/pull/11985) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0402", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Portuguese translation for `docs/pt/docs/tutorial/bigger-applications.md`. PR [#11971](https://github.com/fastapi/fastapi/pull/11971) by [@marcelomarkus](https://github.com/marcelomarkus).\n* üåê Add Portuguese translation for `docs/pt/docs/advanced/testing-websockets.md`. PR [#11994](https://github.com/fastapi/fastapi/pull/11994) by [@ceb10n](https://github.com/ceb10n).\n* üåê Add Portuguese translation for `docs/pt/docs/advanced/testing-dependencies.md`. PR [#11995](https://github.com/fastapi/fastapi/pull/11995) by [@ceb10n](https://github.com/ceb10n).\n* üåê Add Portuguese translation for `docs/pt/docs/advanced/using-request-directly.md`. PR [#11956](https://github.com/fastapi/fastapi/pull/11956) by [@ceb10n](https://github.com/ceb10n).\n* üåê Add French translation for `docs/fr/docs/tutorial/body-multiple-params.md`. PR [#11796](https://github.com/fastapi/fastapi/pull/11796) by [@pe-brian](https://github.com/pe-brian).\n* üåê Update Chinese translation for `docs/zh/docs/tutorial/query-params.md`. PR [#11557](https://github.com/fastapi/fastapi/pull/11557) by [@caomingpei](https://github.com/caomingpei).\n* üåê Update typo in Chinese translation for `docs/zh/docs/advanced/testing-dependencies.md`. PR [#11944](https://github.com/fastapi/fastapi/pull/11944) by [@bestony](https://github.com/bestony).\n* üåê Add Portuguese translation for `docs/pt/docs/advanced/sub-applications.md` and `docs/pt/docs/advanced/behind-a-proxy.md`. PR [#11856](https://github.com/fastapi/fastapi/pull/11856) by [@marcelomarkus](https://github.com/marcelomarkus).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/cors.md` and `docs/pt/docs/tutorial/middleware.md`. PR [#11916](https://github.com/fastapi/fastapi/pull/11916) by [@wesinalves](https://github.com/wesinalves).\n* üåê Add French translation for `docs/fr/docs/tutorial/path-params-numeric-validations.md`. PR [#11788](https://github.com/fastapi/fastapi/pull/11788) by [@pe-brian](https://github.com/pe-brian).", "source": "release-notes.md"}
{"doc_id": "fastapi_0403", "title": "Release Notes", "section": "Internal", "content": "* ‚¨Ü Bump pypa/gh-action-pypi-publish from 1.8.14 to 1.9.0. PR [#11727](https://github.com/fastapi/fastapi/pull/11727) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üîß Add changelog URL to `pyproject.toml`, shows in PyPI. PR [#11152](https://github.com/fastapi/fastapi/pull/11152) by [@Pierre-VF](https://github.com/Pierre-VF).\n* üë∑ Do not sync labels as it overrides manually added labels. PR [#12024](https://github.com/fastapi/fastapi/pull/12024) by [@tiangolo](https://github.com/tiangolo).\n* üë∑üèª Update Labeler GitHub Actions. PR [#12019](https://github.com/fastapi/fastapi/pull/12019) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update configs for MkDocs for languages and social cards. PR [#12016](https://github.com/fastapi/fastapi/pull/12016) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Update permissions and config for labeler GitHub Action. PR [#12008](https://github.com/fastapi/fastapi/pull/12008) by [@tiangolo](https://github.com/tiangolo).\n* üë∑üèª Add GitHub Action label-checker. PR [#12005](https://github.com/fastapi/fastapi/pull/12005) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Add label checker GitHub Action. PR [#12004](https://github.com/fastapi/fastapi/pull/12004) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Update GitHub Action add-to-project. PR [#12002](https://github.com/fastapi/fastapi/pull/12002) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update labeler GitHub Action. PR [#12001](https://github.com/fastapi/fastapi/pull/12001) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Add GitHub Action labeler. PR [#12000](https://github.com/fastapi/fastapi/pull/12000) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Add GitHub Action add-to-project. PR [#11999](https://github.com/fastapi/fastapi/pull/11999) by [@tiangolo](https://github.com/tiangolo).\n* üìù Update admonitions in docs missing. PR [#11998](https://github.com/fastapi/fastapi/pull/11998) by [@tiangolo](https://github.com/tiangolo).\n* üî® Update docs.py script to enable dirty reload conditionally. PR [#11986](https://github.com/fastapi/fastapi/pull/11986) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update MkDocs instant previews. PR [#11982](https://github.com/fastapi/fastapi/pull/11982) by [@tiangolo](https://github.com/tiangolo).\n* üêõ Fix deploy docs previews script to handle mkdocs.yml files. PR [#11984](https://github.com/fastapi/fastapi/pull/11984) by [@tiangolo](https://github.com/tiangolo).\n* üí° Add comment about custom Termynal line-height. PR [#11976](https://github.com/fastapi/fastapi/pull/11976) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Add alls-green for test-redistribute. PR [#11974](https://github.com/fastapi/fastapi/pull/11974) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Update docs-previews to handle no docs changes. PR [#11975](https://github.com/fastapi/fastapi/pull/11975) by [@tiangolo](https://github.com/tiangolo).\n* üî® Refactor script `deploy_docs_status.py` to account for deploy URLs with or without trailing slash. PR [#11965](https://github.com/fastapi/fastapi/pull/11965) by [@tiangolo](https://github.com/tiangolo).\n* üîíÔ∏è Update permissions for deploy-docs action. PR [#11964](https://github.com/fastapi/fastapi/pull/11964) by [@tiangolo](https://github.com/tiangolo).\n* üë∑üèª Add deploy docs status and preview links to PRs. PR [#11961](https://github.com/fastapi/fastapi/pull/11961) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update docs setup with latest configs and plugins. PR [#11953](https://github.com/fastapi/fastapi/pull/11953) by [@tiangolo](https://github.com/tiangolo).\n* üîá Ignore warning from attrs in Trio. PR [#11949](https://github.com/fastapi/fastapi/pull/11949) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0404", "title": "Release Notes", "section": "0.112.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0405", "title": "Release Notes", "section": "Breaking Changes", "content": "* ‚ôªÔ∏è Add support for `pip install \"fastapi[standard]\"` with standard dependencies and `python -m fastapi`. PR [#11935](https://github.com/fastapi/fastapi/pull/11935) by [@tiangolo](https://github.com/tiangolo).\n\n#### Summary\n\nInstall with:\n\n```bash\npip install \"fastapi[standard]\"\n```\n\n#### Other Changes\n\n* This adds support for calling the CLI as:\n\n```bash\npython -m fastapi\n```\n\n* And it upgrades `fastapi-cli[standard] >=0.0.5`.\n\n#### Technical Details\n\nBefore this, `fastapi` would include the standard dependencies, with Uvicorn and the `fastapi-cli`, etc.\n\nAnd `fastapi-slim` would not include those standard dependencies.\n\nNow `fastapi` doesn't include those standard dependencies unless you install with `pip install \"fastapi[standard]\"`.\n\nBefore, you would install `pip install fastapi`, now you should include the `standard` optional dependencies (unless you want to exclude one of those): `pip install \"fastapi[standard]\"`.\n\nThis change is because having the standard optional dependencies installed by default was being inconvenient to several users, and having to install instead `fastapi-slim` was not being a feasible solution.\n\nDiscussed here: [#11522](https://github.com/fastapi/fastapi/pull/11522) and here: [#11525](https://github.com/fastapi/fastapi/discussions/11525)", "source": "release-notes.md"}
{"doc_id": "fastapi_0406", "title": "Release Notes", "section": "Docs", "content": "* ‚úèÔ∏è Fix typos in docs. PR [#11926](https://github.com/fastapi/fastapi/pull/11926) by [@jianghuyiyuan](https://github.com/jianghuyiyuan).\n* üìù Tweak management docs. PR [#11918](https://github.com/fastapi/fastapi/pull/11918) by [@tiangolo](https://github.com/tiangolo).\n* üöö Rename GitHub links from tiangolo/fastapi to fastapi/fastapi. PR [#11913](https://github.com/fastapi/fastapi/pull/11913) by [@tiangolo](https://github.com/tiangolo).\n* üìù Add docs about FastAPI team and project management. PR [#11908](https://github.com/tiangolo/fastapi/pull/11908) by [@tiangolo](https://github.com/tiangolo).\n* üìù Re-structure docs main menu. PR [#11904](https://github.com/tiangolo/fastapi/pull/11904) by [@tiangolo](https://github.com/tiangolo).\n* üìù Update Speakeasy URL. PR [#11871](https://github.com/tiangolo/fastapi/pull/11871) by [@ndimares](https://github.com/ndimares).", "source": "release-notes.md"}
{"doc_id": "fastapi_0407", "title": "Release Notes", "section": "Translations", "content": "* üåê Update Portuguese translation for `docs/pt/docs/alternatives.md`. PR [#11931](https://github.com/fastapi/fastapi/pull/11931) by [@ceb10n](https://github.com/ceb10n).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/dependencies/sub-dependencies.md`. PR [#10515](https://github.com/tiangolo/fastapi/pull/10515) by [@AlertRED](https://github.com/AlertRED).\n* üåê Add Portuguese translation for `docs/pt/docs/advanced/response-change-status-code.md`. PR [#11863](https://github.com/tiangolo/fastapi/pull/11863) by [@ceb10n](https://github.com/ceb10n).\n* üåê Add Portuguese translation for `docs/pt/docs/reference/background.md`. PR [#11849](https://github.com/tiangolo/fastapi/pull/11849) by [@lucasbalieiro](https://github.com/lucasbalieiro).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/dependencies/dependencies-with-yield.md`. PR [#11848](https://github.com/tiangolo/fastapi/pull/11848) by [@Joao-Pedro-P-Holanda](https://github.com/Joao-Pedro-P-Holanda).\n* üåê Add Portuguese translation for `docs/pt/docs/reference/apirouter.md`. PR [#11843](https://github.com/tiangolo/fastapi/pull/11843) by [@lucasbalieiro](https://github.com/lucasbalieiro).", "source": "release-notes.md"}
{"doc_id": "fastapi_0408", "title": "Release Notes", "section": "Internal", "content": "* üîß Update sponsors: add liblab. PR [#11934](https://github.com/fastapi/fastapi/pull/11934) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Update GitHub Action label-approved permissions. PR [#11933](https://github.com/fastapi/fastapi/pull/11933) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Refactor GitHub Action to comment docs deployment URLs and update token. PR [#11925](https://github.com/fastapi/fastapi/pull/11925) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Update tokens for GitHub Actions. PR [#11924](https://github.com/fastapi/fastapi/pull/11924) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Update token permissions to comment deployment URL in docs. PR [#11917](https://github.com/fastapi/fastapi/pull/11917) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Update token permissions for GitHub Actions. PR [#11915](https://github.com/fastapi/fastapi/pull/11915) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Update GitHub Actions token usage. PR [#11914](https://github.com/fastapi/fastapi/pull/11914) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Update GitHub Action to notify translations with label `approved-1`. PR [#11907](https://github.com/tiangolo/fastapi/pull/11907) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors, remove Reflex. PR [#11875](https://github.com/tiangolo/fastapi/pull/11875) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors: remove TalkPython. PR [#11861](https://github.com/tiangolo/fastapi/pull/11861) by [@tiangolo](https://github.com/tiangolo).\n* üî® Update docs Termynal scripts to not include line nums for local dev. PR [#11854](https://github.com/tiangolo/fastapi/pull/11854) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0409", "title": "Release Notes", "section": "0.111.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0410", "title": "Release Notes", "section": "Upgrades", "content": "* ‚ûñ Remove `orjson` and `ujson` from default dependencies. PR [#11842](https://github.com/tiangolo/fastapi/pull/11842) by [@tiangolo](https://github.com/tiangolo).\n    * These dependencies are still installed when you install with `pip install \"fastapi[all]\"`. But they are not included in `pip install fastapi`.\n* üìù Restored Swagger-UI links to use the latest version possible. PR [#11459](https://github.com/tiangolo/fastapi/pull/11459) by [@UltimateLobster](https://github.com/UltimateLobster).", "source": "release-notes.md"}
{"doc_id": "fastapi_0411", "title": "Release Notes", "section": "Docs", "content": "* ‚úèÔ∏è Rewording in `docs/en/docs/fastapi-cli.md`. PR [#11716](https://github.com/tiangolo/fastapi/pull/11716) by [@alejsdev](https://github.com/alejsdev).\n* üìù Update Hypercorn links in all the docs. PR [#11744](https://github.com/tiangolo/fastapi/pull/11744) by [@kittydoor](https://github.com/kittydoor).\n* üìù  Update docs with Ariadne reference from Starlette to FastAPI. PR [#11797](https://github.com/tiangolo/fastapi/pull/11797) by [@DamianCzajkowski](https://github.com/DamianCzajkowski).\n* üìù Update fastapi instrumentation external link. PR [#11317](https://github.com/tiangolo/fastapi/pull/11317) by [@softwarebloat](https://github.com/softwarebloat).\n* ‚úèÔ∏è Fix links to alembic example repo in docs. PR [#11628](https://github.com/tiangolo/fastapi/pull/11628) by [@augiwan](https://github.com/augiwan).\n* ‚úèÔ∏è Update `docs/en/docs/fastapi-cli.md`. PR [#11715](https://github.com/tiangolo/fastapi/pull/11715) by [@alejsdev](https://github.com/alejsdev).\n* üìù Update External Links . PR [#11500](https://github.com/tiangolo/fastapi/pull/11500) by [@devon2018](https://github.com/devon2018).\n* üìù Add External Link: Tutorial de FastAPI, ¬øel mejor framework de Python?. PR [#11618](https://github.com/tiangolo/fastapi/pull/11618) by [@EduardoZepeda](https://github.com/EduardoZepeda).\n* üìù Fix typo in `docs/en/docs/tutorial/body-multiple-params.md`. PR [#11698](https://github.com/tiangolo/fastapi/pull/11698) by [@mwb-u](https://github.com/mwb-u).\n* üìù Add External Link: Deploy a Serverless FastAPI App with Neon Postgres and AWS App Runner at any scale. PR [#11633](https://github.com/tiangolo/fastapi/pull/11633) by [@ananis25](https://github.com/ananis25).\n* üìù Update `security/first-steps.md`. PR [#11674](https://github.com/tiangolo/fastapi/pull/11674) by [@alejsdev](https://github.com/alejsdev).\n* üìù Update `security/first-steps.md`. PR [#11673](https://github.com/tiangolo/fastapi/pull/11673) by [@alejsdev](https://github.com/alejsdev).\n* üìù Update note in `path-params-numeric-validations.md`. PR [#11672](https://github.com/tiangolo/fastapi/pull/11672) by [@alejsdev](https://github.com/alejsdev).\n* üìù Tweak intro docs about `Annotated` and `Query()` params. PR [#11664](https://github.com/tiangolo/fastapi/pull/11664) by [@tiangolo](https://github.com/tiangolo).\n* üìù Update JWT auth documentation to use PyJWT instead of pyhon-jose. PR [#11589](https://github.com/tiangolo/fastapi/pull/11589) by [@estebanx64](https://github.com/estebanx64).\n* üìù Update docs. PR [#11603](https://github.com/tiangolo/fastapi/pull/11603) by [@alejsdev](https://github.com/alejsdev).\n* ‚úèÔ∏è Fix typo: convert every 're-use' to 'reuse'.. PR [#11598](https://github.com/tiangolo/fastapi/pull/11598) by [@hasansezertasan](https://github.com/hasansezertasan).\n* ‚úèÔ∏è Fix typo in `fastapi/applications.py`. PR [#11593](https://github.com/tiangolo/fastapi/pull/11593) by [@petarmaric](https://github.com/petarmaric).\n* ‚úèÔ∏è Fix link in `fastapi-cli.md`. PR [#11524](https://github.com/tiangolo/fastapi/pull/11524) by [@svlandeg](https://github.com/svlandeg).", "source": "release-notes.md"}
{"doc_id": "fastapi_0412", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Spanish translation for `docs/es/docs/how-to/graphql.md`. PR [#11697](https://github.com/tiangolo/fastapi/pull/11697) by [@camigomezdev](https://github.com/camigomezdev).\n* üåê Add Portuguese translation for `docs/pt/docs/reference/index.md`. PR [#11840](https://github.com/tiangolo/fastapi/pull/11840) by [@lucasbalieiro](https://github.com/lucasbalieiro).\n* üåê Fix link in German translation. PR [#11836](https://github.com/tiangolo/fastapi/pull/11836) by [@anitahammer](https://github.com/anitahammer).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/dependencies/sub-dependencies.md`. PR [#11792](https://github.com/tiangolo/fastapi/pull/11792) by [@Joao-Pedro-P-Holanda](https://github.com/Joao-Pedro-P-Holanda).\n* üåê Add Turkish translation for `docs/tr/docs/tutorial/request-forms.md`. PR [#11553](https://github.com/tiangolo/fastapi/pull/11553) by [@hasansezertasan](https://github.com/hasansezertasan).\n* üåê Add Portuguese translation for `docs/pt/docs/reference/exceptions.md`. PR [#11834](https://github.com/tiangolo/fastapi/pull/11834) by [@lucasbalieiro](https://github.com/lucasbalieiro).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/dependencies/global-dependencies.md`. PR [#11826](https://github.com/tiangolo/fastapi/pull/11826) by [@Joao-Pedro-P-Holanda](https://github.com/Joao-Pedro-P-Holanda).\n* üåê Add Portuguese translation for `docs/pt/docs/how-to/general.md`. PR [#11825](https://github.com/tiangolo/fastapi/pull/11825) by [@lucasbalieiro](https://github.com/lucasbalieiro).\n* üåê Add Portuguese translation for `docs/pt/docs/advanced/async-tests.md`. PR [#11808](https://github.com/tiangolo/fastapi/pull/11808) by [@ceb10n](https://github.com/ceb10n).\n* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/first-steps.md`. PR [#11809](https://github.com/tiangolo/fastapi/pull/11809) by [@vkhoroshchak](https://github.com/vkhoroshchak).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/dependencies/dependencies-in-path-operation-operators.md`. PR [#11804](https://github.com/tiangolo/fastapi/pull/11804) by [@Joao-Pedro-P-Holanda](https://github.com/Joao-Pedro-P-Holanda).\n* üåê Add Chinese translation for `docs/zh/docs/fastapi-cli.md`. PR [#11786](https://github.com/tiangolo/fastapi/pull/11786) by [@logan2d5](https://github.com/logan2d5).\n* üåê Add Portuguese translation for `docs/pt/docs/advanced/openapi-webhooks.md`. PR [#11791](https://github.com/tiangolo/fastapi/pull/11791) by [@ceb10n](https://github.com/ceb10n).\n* üåê Update Chinese translation for `docs/tutorial/security/oauth2-jwt.md`. PR [#11781](https://github.com/tiangolo/fastapi/pull/11781) by [@logan2d5](https://github.com/logan2d5).\n* üìù Fix image missing in French translation for `docs/fr/docs/async.md` . PR [#11787](https://github.com/tiangolo/fastapi/pull/11787) by [@pe-brian](https://github.com/pe-brian).\n* üåê Add Portuguese translation for `docs/pt/docs/advanced/advanced-dependencies.md`. PR [#11775](https://github.com/tiangolo/fastapi/pull/11775) by [@ceb10n](https://github.com/ceb10n).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/dependencies/classes-as-dependencies.md`. PR [#11768](https://github.com/tiangolo/fastapi/pull/11768) by [@Joao-Pedro-P-Holanda](https://github.com/Joao-Pedro-P-Holanda).\n* üåê  Add Portuguese translation for `docs/pt/docs/advanced/additional-status-codes.md`. PR [#11753](https://github.com/tiangolo/fastapi/pull/11753) by [@ceb10n](https://github.com/ceb10n).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/dependencies/index.md`. PR [#11757](https://github.com/tiangolo/fastapi/pull/11757) by [@Joao-Pedro-P-Holanda](https://github.com/Joao-Pedro-P-Holanda).\n* üåê Add Portuguese translation for `docs/pt/docs/advanced/settings.md`. PR [#11739](https://github.com/tiangolo/fastapi/pull/11739) by [@Joao-Pedro-P-Holanda](https://github.com/Joao-Pedro-P-Holanda).\n* üåê Add French translation for `docs/fr/docs/learn/index.md`. PR [#11712](https://github.com/tiangolo/fastapi/pull/11712) by [@benjaminvandammeholberton](https://github.com/benjaminvandammeholberton).\n* üåê Add Portuguese translation for `docs/pt/docs/how-to/index.md`. PR [#11731](https://github.com/tiangolo/fastapi/pull/11731) by [@vhsenna](https://github.com/vhsenna).\n* üåê Add Portuguese translation for `docs/pt/docs/advanced/additional-responses.md`. PR [#11736](https://github.com/tiangolo/fastapi/pull/11736) by [@ceb10n](https://github.com/ceb10n).\n* üåê Add Portuguese translation for `docs/pt/docs/advanced/benchmarks.md`. PR [#11713](https://github.com/tiangolo/fastapi/pull/11713) by [@ceb10n](https://github.com/ceb10n).\n* üåê Fix Korean translation for `docs/ko/docs/tutorial/response-status-code.md`. PR [#11718](https://github.com/tiangolo/fastapi/pull/11718) by [@nayeonkinn](https://github.com/nayeonkinn).\n* üåê Add Korean translation for `docs/ko/docs/tutorial/extra-data-types.md`. PR [#11711](https://github.com/tiangolo/fastapi/pull/11711) by [@nayeonkinn](https://github.com/nayeonkinn).\n* üåê Fix Korean translation for `docs/ko/docs/tutorial/body-nested-models.md`. PR [#11710](https://github.com/tiangolo/fastapi/pull/11710) by [@nayeonkinn](https://github.com/nayeonkinn).\n* üåê Add Portuguese translation for `docs/pt/docs/advanced/fastapi-cli.md`. PR [#11641](https://github.com/tiangolo/fastapi/pull/11641) by [@ayr-ton](https://github.com/ayr-ton).\n* üåê Add Traditional Chinese translation for `docs/zh-hant/docs/fastapi-people.md`. PR [#11639](https://github.com/tiangolo/fastapi/pull/11639) by [@hsuanchi](https://github.com/hsuanchi).\n* üåê Add Turkish translation for `docs/tr/docs/advanced/index.md`. PR [#11606](https://github.com/tiangolo/fastapi/pull/11606) by [@hasansezertasan](https://github.com/hasansezertasan).\n* üåê Add Turkish translation for `docs/tr/docs/deployment/cloud.md`. PR [#11610](https://github.com/tiangolo/fastapi/pull/11610) by [@hasansezertasan](https://github.com/hasansezertasan).\n* üåê Add Turkish translation for `docs/tr/docs/advanced/security/index.md`. PR [#11609](https://github.com/tiangolo/fastapi/pull/11609) by [@hasansezertasan](https://github.com/hasansezertasan).\n* üåê Add Turkish translation for `docs/tr/docs/advanced/testing-websockets.md`. PR [#11608](https://github.com/tiangolo/fastapi/pull/11608) by [@hasansezertasan](https://github.com/hasansezertasan).\n* üåê Add Turkish translation for `docs/tr/docs/how-to/general.md`. PR [#11607](https://github.com/tiangolo/fastapi/pull/11607) by [@hasansezertasan](https://github.com/hasansezertasan).\n* üåê Update Chinese translation for `docs/zh/docs/advanced/templates.md`. PR [#11620](https://github.com/tiangolo/fastapi/pull/11620) by [@chaoless](https://github.com/chaoless).\n* üåê Add Turkish translation for `docs/tr/docs/deployment/index.md`. PR [#11605](https://github.com/tiangolo/fastapi/pull/11605) by [@hasansezertasan](https://github.com/hasansezertasan).\n* üåê Add Turkish translation for `docs/tr/docs/tutorial/static-files.md`. PR [#11599](https://github.com/tiangolo/fastapi/pull/11599) by [@hasansezertasan](https://github.com/hasansezertasan).\n* üåê Polish translation for `docs/pl/docs/fastapi-people.md`. PR [#10196](https://github.com/tiangolo/fastapi/pull/10196) by [@isulim](https://github.com/isulim).\n* üåê Add Turkish translation for `docs/tr/docs/advanced/wsgi.md`. PR [#11575](https://github.com/tiangolo/fastapi/pull/11575) by [@hasansezertasan](https://github.com/hasansezertasan).\n* üåê Add Turkish translation for `docs/tr/docs/tutorial/cookie-params.md`. PR [#11561](https://github.com/tiangolo/fastapi/pull/11561) by [@hasansezertasan](https://github.com/hasansezertasan).\n* üåê Add Russian translation for `docs/ru/docs/about/index.md`. PR [#10961](https://github.com/tiangolo/fastapi/pull/10961) by [@s111d](https://github.com/s111d).\n* üåê Update Chinese translation for `docs/zh/docs/tutorial/sql-databases.md`. PR [#11539](https://github.com/tiangolo/fastapi/pull/11539) by [@chaoless](https://github.com/chaoless).\n* üåê Add Chinese translation for `docs/zh/docs/how-to/configure-swagger-ui.md`. PR [#11501](https://github.com/tiangolo/fastapi/pull/11501) by [@Lucas-lyh](https://github.com/Lucas-lyh).\n* üåê Update Chinese translation for `/docs/advanced/security/http-basic-auth.md`. PR [#11512](https://github.com/tiangolo/fastapi/pull/11512) by [@nick-cjyx9](https://github.com/nick-cjyx9).", "source": "release-notes.md"}
{"doc_id": "fastapi_0413", "title": "Release Notes", "section": "Internal", "content": "* ‚ôªÔ∏è Simplify internal docs script. PR [#11777](https://github.com/tiangolo/fastapi/pull/11777) by [@gitworkflows](https://github.com/gitworkflows).\n* üîß Update sponsors: add Fine. PR [#11784](https://github.com/tiangolo/fastapi/pull/11784) by [@tiangolo](https://github.com/tiangolo).\n* üîß Tweak sponsors: Kong URL. PR [#11765](https://github.com/tiangolo/fastapi/pull/11765) by [@tiangolo](https://github.com/tiangolo).\n* üîß Tweak sponsors: Kong URL. PR [#11764](https://github.com/tiangolo/fastapi/pull/11764) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors, add Stainless. PR [#11763](https://github.com/tiangolo/fastapi/pull/11763) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors, add Zuplo. PR [#11729](https://github.com/tiangolo/fastapi/pull/11729) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update Sponsor link: Coherence. PR [#11730](https://github.com/tiangolo/fastapi/pull/11730) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People. PR [#11669](https://github.com/tiangolo/fastapi/pull/11669) by [@tiangolo](https://github.com/tiangolo).\n* üîß Add sponsor Kong. PR [#11662](https://github.com/tiangolo/fastapi/pull/11662) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Update Smokeshow, fix sync download artifact and smokeshow configs. PR [#11563](https://github.com/tiangolo/fastapi/pull/11563) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Update Smokeshow download artifact GitHub Action. PR [#11562](https://github.com/tiangolo/fastapi/pull/11562) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Update GitHub actions to download and upload artifacts to v4, for docs and coverage. PR [#11550](https://github.com/tiangolo/fastapi/pull/11550) by [@tamird](https://github.com/tamird).\n* üë∑ Tweak CI for test-redistribute, add needed env vars for slim. PR [#11549](https://github.com/tiangolo/fastapi/pull/11549) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People. PR [#11511](https://github.com/tiangolo/fastapi/pull/11511) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0414", "title": "Release Notes", "section": "0.111.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0415", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add FastAPI CLI, the new `fastapi` command. PR [#11522](https://github.com/tiangolo/fastapi/pull/11522) by [@tiangolo](https://github.com/tiangolo).\n    * New docs: [FastAPI CLI](https://fastapi.tiangolo.com/fastapi-cli/).\n\nTry it out with:\n\n```console\n$ pip install --upgrade fastapi\n\n$ fastapi dev main.py\n\n\n ‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ FastAPI CLI - Development mode ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ\n ‚îÇ                                                     ‚îÇ\n ‚îÇ  Serving at: http://127.0.0.1:8000                  ‚îÇ\n ‚îÇ                                                     ‚îÇ\n ‚îÇ  API docs: http://127.0.0.1:8000/docs               ‚îÇ\n ‚îÇ                                                     ‚îÇ\n ‚îÇ  Running in development mode, for production use:   ‚îÇ\n ‚îÇ                                                     ‚îÇ\n ‚îÇ  fastapi run                                        ‚îÇ\n ‚îÇ                                                     ‚îÇ\n ‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ\n\nINFO:     Will watch for changes in these directories: ['/home/user/code/awesomeapp']\nINFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)\nINFO:     Started reloader process [2248755] using WatchFiles\nINFO:     Started server process [2248757]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\n```", "source": "release-notes.md"}
{"doc_id": "fastapi_0416", "title": "Release Notes", "section": "Refactors", "content": "* üîß Add configs and setup for `fastapi-slim` including optional extras `fastapi-slim[standard]`, and `fastapi` including by default the same `standard` extras. PR [#11503](https://github.com/tiangolo/fastapi/pull/11503) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0417", "title": "Release Notes", "section": "0.110.3", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0418", "title": "Release Notes", "section": "Docs", "content": "* üìù Update references to Python version, FastAPI supports all the current versions, no need to make the version explicit. PR [#11496](https://github.com/tiangolo/fastapi/pull/11496) by [@tiangolo](https://github.com/tiangolo).\n* ‚úèÔ∏è Fix typo in `fastapi/security/api_key.py`. PR [#11481](https://github.com/tiangolo/fastapi/pull/11481) by [@ch33zer](https://github.com/ch33zer).\n* ‚úèÔ∏è Fix typo in `security/http.py`. PR [#11455](https://github.com/tiangolo/fastapi/pull/11455) by [@omarmoo5](https://github.com/omarmoo5).", "source": "release-notes.md"}
{"doc_id": "fastapi_0419", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Traditional Chinese translation for `docs/zh-hant/benchmarks.md`. PR [#11484](https://github.com/tiangolo/fastapi/pull/11484) by [@KNChiu](https://github.com/KNChiu).\n* üåê Update Chinese translation for `docs/zh/docs/fastapi-people.md`. PR [#11476](https://github.com/tiangolo/fastapi/pull/11476) by [@billzhong](https://github.com/billzhong).\n* üåê Add Chinese translation for `docs/zh/docs/how-to/index.md` and `docs/zh/docs/how-to/general.md`. PR [#11443](https://github.com/tiangolo/fastapi/pull/11443) by [@billzhong](https://github.com/billzhong).\n* üåê Add Spanish translation for cookie-params `docs/es/docs/tutorial/cookie-params.md`. PR [#11410](https://github.com/tiangolo/fastapi/pull/11410) by [@fabianfalon](https://github.com/fabianfalon).", "source": "release-notes.md"}
{"doc_id": "fastapi_0420", "title": "Release Notes", "section": "Internal", "content": "* ‚¨Ü Bump mkdocstrings[python] from 0.23.0 to 0.24.3. PR [#11469](https://github.com/tiangolo/fastapi/pull/11469) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üî® Update internal scripts and remove unused ones. PR [#11499](https://github.com/tiangolo/fastapi/pull/11499) by [@tiangolo](https://github.com/tiangolo).\n* üîß Migrate from Hatch to PDM for the internal build. PR [#11498](https://github.com/tiangolo/fastapi/pull/11498) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨ÜÔ∏è Upgrade MkDocs Material and re-enable cards. PR [#11466](https://github.com/tiangolo/fastapi/pull/11466) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump pillow from 10.2.0 to 10.3.0. PR [#11403](https://github.com/tiangolo/fastapi/pull/11403) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üîß Ungroup dependabot updates. PR [#11465](https://github.com/tiangolo/fastapi/pull/11465) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0421", "title": "Release Notes", "section": "0.110.2", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0422", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix support for query parameters with list types, handle JSON encoding Pydantic `UndefinedType`. PR [#9929](https://github.com/tiangolo/fastapi/pull/9929) by [@arjwilliams](https://github.com/arjwilliams).", "source": "release-notes.md"}
{"doc_id": "fastapi_0423", "title": "Release Notes", "section": "Refactors", "content": "* ‚ôªÔ∏è Simplify Pydantic configs in OpenAPI models in `fastapi/openapi/models.py`. PR [#10886](https://github.com/tiangolo/fastapi/pull/10886) by [@JoeTanto2](https://github.com/JoeTanto2).\n* ‚ú® Add support for Pydantic's 2.7 new deprecated Field parameter, remove URL from validation errors response. PR [#11461](https://github.com/tiangolo/fastapi/pull/11461) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0424", "title": "Release Notes", "section": "Docs", "content": "* üìù Fix types in examples under `docs_src/extra_data_types`. PR [#10535](https://github.com/tiangolo/fastapi/pull/10535) by [@nilslindemann](https://github.com/nilslindemann).\n* üìù Update references to UJSON. PR [#11464](https://github.com/tiangolo/fastapi/pull/11464) by [@tiangolo](https://github.com/tiangolo).\n* üìù Tweak docs and translations links, typos, format. PR [#11389](https://github.com/tiangolo/fastapi/pull/11389) by [@nilslindemann](https://github.com/nilslindemann).\n* üìù Fix typo in `docs/es/docs/async.md`. PR [#11400](https://github.com/tiangolo/fastapi/pull/11400) by [@fabianfalon](https://github.com/fabianfalon).\n* üìù Update OpenAPI client generation docs to use `@hey-api/openapi-ts`. PR [#11339](https://github.com/tiangolo/fastapi/pull/11339) by [@jordanshatford](https://github.com/jordanshatford).", "source": "release-notes.md"}
{"doc_id": "fastapi_0425", "title": "Release Notes", "section": "Translations", "content": "* üåê Update Chinese translation for `docs/zh/docs/index.html`. PR [#11430](https://github.com/tiangolo/fastapi/pull/11430) by [@waketzheng](https://github.com/waketzheng).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/dependencies/dependencies-in-path-operation-decorators.md`. PR [#11411](https://github.com/tiangolo/fastapi/pull/11411) by [@anton2yakovlev](https://github.com/anton2yakovlev).\n* üåê Add Portuguese translations for `learn/index.md` `resources/index.md` `help/index.md` `about/index.md`. PR [#10807](https://github.com/tiangolo/fastapi/pull/10807) by [@nazarepiedady](https://github.com/nazarepiedady).\n* üåê Update Russian translations for deployments docs. PR [#11271](https://github.com/tiangolo/fastapi/pull/11271) by [@Lufa1u](https://github.com/Lufa1u).\n* üåê Add Bengali translations for `docs/bn/docs/python-types.md`. PR [#11376](https://github.com/tiangolo/fastapi/pull/11376) by [@imtiaz101325](https://github.com/imtiaz101325).\n* üåê Add Korean translation for `docs/ko/docs/tutorial/security/simple-oauth2.md`. PR [#5744](https://github.com/tiangolo/fastapi/pull/5744) by [@KdHyeon0661](https://github.com/KdHyeon0661).\n* üåê Add Korean translation for `docs/ko/docs/help-fastapi.md`. PR [#4139](https://github.com/tiangolo/fastapi/pull/4139) by [@kty4119](https://github.com/kty4119).\n* üåê Add Korean translation for `docs/ko/docs/advanced/events.md`. PR [#5087](https://github.com/tiangolo/fastapi/pull/5087) by [@pers0n4](https://github.com/pers0n4).\n* üåê Add Japanese translation for `docs/ja/docs/tutorial/path-operation-configuration.md`. PR [#1954](https://github.com/tiangolo/fastapi/pull/1954) by [@SwftAlpc](https://github.com/SwftAlpc).\n* üåê Add Japanese translation for `docs/ja/docs/tutorial/request-forms-and-files.md`. PR [#1946](https://github.com/tiangolo/fastapi/pull/1946) by [@SwftAlpc](https://github.com/SwftAlpc).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/dependencies/dependencies-with-yield.md`. PR [#10532](https://github.com/tiangolo/fastapi/pull/10532) by [@AlertRED](https://github.com/AlertRED).\n* üåê Add Korean translation for `docs/ko/docs/tutorial/debugging.md`. PR [#5695](https://github.com/tiangolo/fastapi/pull/5695) by [@JungWooGeon](https://github.com/JungWooGeon).", "source": "release-notes.md"}
{"doc_id": "fastapi_0426", "title": "Release Notes", "section": "Internal", "content": "* ‚¨ÜÔ∏è Upgrade version of typer for docs. PR [#11393](https://github.com/tiangolo/fastapi/pull/11393) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0427", "title": "Release Notes", "section": "0.110.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0428", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix parameterless `Depends()` with generics. PR [#9479](https://github.com/tiangolo/fastapi/pull/9479) by [@nzig](https://github.com/nzig).", "source": "release-notes.md"}
{"doc_id": "fastapi_0429", "title": "Release Notes", "section": "Refactors", "content": "* ‚ôªÔ∏è Update mypy. PR [#11049](https://github.com/tiangolo/fastapi/pull/11049) by [@k0t3n](https://github.com/k0t3n).\n* ‚ôªÔ∏è Simplify string format with f-strings in `fastapi/applications.py`. PR [#11335](https://github.com/tiangolo/fastapi/pull/11335) by [@igeni](https://github.com/igeni).", "source": "release-notes.md"}
{"doc_id": "fastapi_0430", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨ÜÔ∏è Upgrade Starlette to >=0.37.2,<0.38.0, remove Starlette filterwarning for internal tests. PR [#11266](https://github.com/tiangolo/fastapi/pull/11266) by [@nothielf](https://github.com/nothielf).", "source": "release-notes.md"}
{"doc_id": "fastapi_0431", "title": "Release Notes", "section": "Docs", "content": "* üìù Tweak docs and translations links and remove old docs translations. PR [#11381](https://github.com/tiangolo/fastapi/pull/11381) by [@tiangolo](https://github.com/tiangolo).\n* ‚úèÔ∏è Fix typo in `fastapi/security/oauth2.py`. PR [#11368](https://github.com/tiangolo/fastapi/pull/11368) by [@shandongbinzhou](https://github.com/shandongbinzhou).\n* üìù Update links to Pydantic docs to point to new website. PR [#11328](https://github.com/tiangolo/fastapi/pull/11328) by [@alejsdev](https://github.com/alejsdev).\n* ‚úèÔ∏è Fix typo in `docs/en/docs/tutorial/extra-models.md`. PR [#11329](https://github.com/tiangolo/fastapi/pull/11329) by [@alejsdev](https://github.com/alejsdev).\n* üìù Update `project-generation.md`. PR [#11326](https://github.com/tiangolo/fastapi/pull/11326) by [@alejsdev](https://github.com/alejsdev).\n* üìù Update External Links. PR [#11327](https://github.com/tiangolo/fastapi/pull/11327) by [@alejsdev](https://github.com/alejsdev).\n* üî• Remove link to Pydantic's benchmark, on other i18n pages.. PR [#11224](https://github.com/tiangolo/fastapi/pull/11224) by [@hirotoKirimaru](https://github.com/hirotoKirimaru).\n* ‚úèÔ∏è Fix typos in docstrings. PR [#11295](https://github.com/tiangolo/fastapi/pull/11295) by [@davidhuser](https://github.com/davidhuser).\n* üõ†Ô∏è Improve Node.js script in docs to generate TypeScript clients. PR [#11293](https://github.com/tiangolo/fastapi/pull/11293) by [@alejsdev](https://github.com/alejsdev).\n* üìù Update examples for tests to replace \"inexistent\" for \"nonexistent\". PR [#11220](https://github.com/tiangolo/fastapi/pull/11220) by [@Homesteady](https://github.com/Homesteady).\n* üìù Update `python-multipart` GitHub link in all docs from `https://andrew-d.github.io/python-multipart/` to `https://github.com/Kludex/python-multipart`. PR [#11239](https://github.com/tiangolo/fastapi/pull/11239) by [@joshjhans](https://github.com/joshjhans).", "source": "release-notes.md"}
{"doc_id": "fastapi_0432", "title": "Release Notes", "section": "Translations", "content": "* üåê Add German translation for `docs/de/docs/tutorial/response-status-code.md`. PR [#10357](https://github.com/tiangolo/fastapi/pull/10357) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Update Chinese translation for `docs/zh/docs/tutorial/query-params.md`. PR [#3480](https://github.com/tiangolo/fastapi/pull/3480) by [@jaystone776](https://github.com/jaystone776).\n* üåê Update Chinese translation for `docs/zh/docs/tutorial/body.md`. PR [#3481](https://github.com/tiangolo/fastapi/pull/3481) by [@jaystone776](https://github.com/jaystone776).\n* üåê Update Chinese translation for `docs/zh/docs/tutorial/path-params.md`. PR [#3479](https://github.com/tiangolo/fastapi/pull/3479) by [@jaystone776](https://github.com/jaystone776).\n* üåê Update Chinese translation for `docs/tutorial/body-fields.md`. PR [#3496](https://github.com/tiangolo/fastapi/pull/3496) by [@jaystone776](https://github.com/jaystone776).\n* üåê Update Chinese translation for `docs/tutorial/extra-models.md`. PR [#3497](https://github.com/tiangolo/fastapi/pull/3497) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Japanese translation for `docs/ja/docs/tutorial/metadata.md`. PR [#2667](https://github.com/tiangolo/fastapi/pull/2667) by [@tokusumi](https://github.com/tokusumi).\n* üåê Add German translation for `docs/de/docs/contributing.md`. PR [#10487](https://github.com/tiangolo/fastapi/pull/10487) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Update Japanese translation of `docs/ja/docs/tutorial/query-params.md`. PR [#10808](https://github.com/tiangolo/fastapi/pull/10808) by [@urushio](https://github.com/urushio).\n* üåê Update Chinese translation for `docs/zh/docs/tutorial/security/get-current-user.md`. PR [#3842](https://github.com/tiangolo/fastapi/pull/3842) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Chinese translation for `docs/zh/docs/advanced/openapi-callbacks.md`. PR [#3825](https://github.com/tiangolo/fastapi/pull/3825) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Chinese translation for `docs/zh/docs/advanced/extending-openapi.md`. PR [#3823](https://github.com/tiangolo/fastapi/pull/3823) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Chinese translation for `docs/zh/docs/advanced/testing-dependencies.md`. PR [#3819](https://github.com/tiangolo/fastapi/pull/3819) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Chinese translation for `docs/zh/docs/advanced/custom-request-and-route.md`. PR [#3816](https://github.com/tiangolo/fastapi/pull/3816) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Chinese translation for `docs/zh/docs/external-links.md`. PR [#3833](https://github.com/tiangolo/fastapi/pull/3833) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Chinese translation for `docs/zh/docs/advanced/templates.md`. PR [#3812](https://github.com/tiangolo/fastapi/pull/3812) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Chinese translation for `docs/zh/docs/advanced/sub-applications.md`. PR [#3811](https://github.com/tiangolo/fastapi/pull/3811) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Chinese translation for `docs/zh/docs/advanced/async-sql-databases.md`. PR [#3805](https://github.com/tiangolo/fastapi/pull/3805) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Chinese translation for `docs/zh/docs/advanced/middleware.md`. PR [#3804](https://github.com/tiangolo/fastapi/pull/3804) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Chinese translation for `docs/zh/docs/advanced/dataclasses.md`. PR [#3803](https://github.com/tiangolo/fastapi/pull/3803) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Chinese translation for `docs/zh/docs/advanced/using-request-directly.md`. PR [#3802](https://github.com/tiangolo/fastapi/pull/3802) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Chinese translation for `docs/zh/docs/advanced/security/http-basic-auth.md`. PR [#3801](https://github.com/tiangolo/fastapi/pull/3801) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Chinese translation for `docs/zh/docs/advanced/security/oauth2-scopes.md`. PR [#3800](https://github.com/tiangolo/fastapi/pull/3800) by [@jaystone776](https://github.com/jaystone776).\n* üåê Update Chinese translation for `docs/zh/docs/tutorial/cookie-params.md`. PR [#3486](https://github.com/tiangolo/fastapi/pull/3486) by [@jaystone776](https://github.com/jaystone776).\n* üåê Update Chinese translation for `docs/zh/docs/tutorial/header-params.md`. PR [#3487](https://github.com/tiangolo/fastapi/pull/3487) by [@jaystone776](https://github.com/jaystone776).\n* üåê Update Chinese translation for `docs/tutorial/response-status-code.md`. PR [#3498](https://github.com/tiangolo/fastapi/pull/3498) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add German translation for `docs/de/docs/tutorial/security/first-steps.md`. PR [#10432](https://github.com/tiangolo/fastapi/pull/10432) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/events.md`. PR [#10693](https://github.com/tiangolo/fastapi/pull/10693) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/deployment/cloud.md`. PR [#10746](https://github.com/tiangolo/fastapi/pull/10746) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/behind-a-proxy.md`. PR [#10675](https://github.com/tiangolo/fastapi/pull/10675) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/help-fastapi.md`. PR [#10455](https://github.com/tiangolo/fastapi/pull/10455) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Update German translation for `docs/de/docs/python-types.md`. PR [#10287](https://github.com/tiangolo/fastapi/pull/10287) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/path-params.md`. PR [#10290](https://github.com/tiangolo/fastapi/pull/10290) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/handling-errors.md`. PR [#10379](https://github.com/tiangolo/fastapi/pull/10379) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Update German translation for `docs/de/docs/index.md`. PR [#10283](https://github.com/tiangolo/fastapi/pull/10283) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/security/http-basic-auth.md`. PR [#10651](https://github.com/tiangolo/fastapi/pull/10651) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/bigger-applications.md`. PR [#10554](https://github.com/tiangolo/fastapi/pull/10554) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/path-operation-advanced-configuration.md`. PR [#10612](https://github.com/tiangolo/fastapi/pull/10612) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/static-files.md`. PR [#10584](https://github.com/tiangolo/fastapi/pull/10584) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/security/oauth2-jwt.md`. PR [#10522](https://github.com/tiangolo/fastapi/pull/10522) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/response-model.md`. PR [#10345](https://github.com/tiangolo/fastapi/pull/10345) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/extra-models.md`. PR [#10351](https://github.com/tiangolo/fastapi/pull/10351) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/body-updates.md`. PR [#10396](https://github.com/tiangolo/fastapi/pull/10396) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/alternatives.md`. PR [#10855](https://github.com/tiangolo/fastapi/pull/10855) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/templates.md`. PR [#10678](https://github.com/tiangolo/fastapi/pull/10678) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/security/oauth2-scopes.md`. PR [#10643](https://github.com/tiangolo/fastapi/pull/10643) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/async-tests.md`. PR [#10708](https://github.com/tiangolo/fastapi/pull/10708) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/metadata.md`. PR [#10581](https://github.com/tiangolo/fastapi/pull/10581) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/testing.md`. PR [#10586](https://github.com/tiangolo/fastapi/pull/10586) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/schema-extra-example.md`. PR [#10597](https://github.com/tiangolo/fastapi/pull/10597) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/index.md`. PR [#10611](https://github.com/tiangolo/fastapi/pull/10611) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/response-directly.md`. PR [#10618](https://github.com/tiangolo/fastapi/pull/10618) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/additional-responses.md`. PR [#10626](https://github.com/tiangolo/fastapi/pull/10626) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/response-cookies.md`. PR [#10627](https://github.com/tiangolo/fastapi/pull/10627) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/response-headers.md`. PR [#10628](https://github.com/tiangolo/fastapi/pull/10628) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/response-change-status-code.md`. PR [#10632](https://github.com/tiangolo/fastapi/pull/10632) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/advanced-dependencies.md`. PR [#10633](https://github.com/tiangolo/fastapi/pull/10633) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/security/index.md`. PR [#10635](https://github.com/tiangolo/fastapi/pull/10635) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/using-request-directly.md`. PR [#10653](https://github.com/tiangolo/fastapi/pull/10653) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/dataclasses.md`. PR [#10667](https://github.com/tiangolo/fastapi/pull/10667) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/middleware.md`. PR [#10668](https://github.com/tiangolo/fastapi/pull/10668) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/sub-applications.md`. PR [#10671](https://github.com/tiangolo/fastapi/pull/10671) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/websockets.md`. PR [#10687](https://github.com/tiangolo/fastapi/pull/10687) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/testing-websockets.md`. PR [#10703](https://github.com/tiangolo/fastapi/pull/10703) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/testing-events.md`. PR [#10704](https://github.com/tiangolo/fastapi/pull/10704) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/testing-dependencies.md`. PR [#10706](https://github.com/tiangolo/fastapi/pull/10706) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/openapi-callbacks.md`. PR [#10710](https://github.com/tiangolo/fastapi/pull/10710) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/settings.md`. PR [#10709](https://github.com/tiangolo/fastapi/pull/10709) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/wsgi.md`. PR [#10713](https://github.com/tiangolo/fastapi/pull/10713) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/deployment/index.md`. PR [#10733](https://github.com/tiangolo/fastapi/pull/10733) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/deployment/https.md`. PR [#10737](https://github.com/tiangolo/fastapi/pull/10737) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/deployment/manually.md`. PR [#10738](https://github.com/tiangolo/fastapi/pull/10738) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/deployment/concepts.md`. PR [#10744](https://github.com/tiangolo/fastapi/pull/10744) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Update German translation for `docs/de/docs/features.md`. PR [#10284](https://github.com/tiangolo/fastapi/pull/10284) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/deployment/server-workers.md`. PR [#10747](https://github.com/tiangolo/fastapi/pull/10747) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/deployment/docker.md`. PR [#10759](https://github.com/tiangolo/fastapi/pull/10759) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/how-to/index.md`. PR [#10769](https://github.com/tiangolo/fastapi/pull/10769) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/how-to/general.md`. PR [#10770](https://github.com/tiangolo/fastapi/pull/10770) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/how-to/graphql.md`. PR [#10788](https://github.com/tiangolo/fastapi/pull/10788) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/how-to/custom-request-and-route.md`. PR [#10789](https://github.com/tiangolo/fastapi/pull/10789) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/how-to/conditional-openapi.md`. PR [#10790](https://github.com/tiangolo/fastapi/pull/10790) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/how-to/separate-openapi-schemas.md`. PR [#10796](https://github.com/tiangolo/fastapi/pull/10796) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/how-to/configure-swagger-ui.md`. PR [#10804](https://github.com/tiangolo/fastapi/pull/10804) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/how-to/custom-docs-ui-assets.md`. PR [#10803](https://github.com/tiangolo/fastapi/pull/10803) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/reference/parameters.md`. PR [#10814](https://github.com/tiangolo/fastapi/pull/10814) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/reference/status.md`. PR [#10815](https://github.com/tiangolo/fastapi/pull/10815) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/reference/uploadfile.md`. PR [#10816](https://github.com/tiangolo/fastapi/pull/10816) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/reference/exceptions.md`. PR [#10817](https://github.com/tiangolo/fastapi/pull/10817) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/reference/dependencies.md`. PR [#10818](https://github.com/tiangolo/fastapi/pull/10818) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/reference/apirouter.md`. PR [#10819](https://github.com/tiangolo/fastapi/pull/10819) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/reference/websockets.md`. PR [#10822](https://github.com/tiangolo/fastapi/pull/10822) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/reference/httpconnection.md`. PR [#10823](https://github.com/tiangolo/fastapi/pull/10823) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/reference/response.md`. PR [#10824](https://github.com/tiangolo/fastapi/pull/10824) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/reference/middleware.md`. PR [#10837](https://github.com/tiangolo/fastapi/pull/10837) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/reference/openapi/*.md`. PR [#10838](https://github.com/tiangolo/fastapi/pull/10838) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/reference/security/index.md`. PR [#10839](https://github.com/tiangolo/fastapi/pull/10839) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/reference/staticfiles.md`. PR [#10841](https://github.com/tiangolo/fastapi/pull/10841) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/reference/testclient.md`. PR [#10843](https://github.com/tiangolo/fastapi/pull/10843) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/project-generation.md`. PR [#10851](https://github.com/tiangolo/fastapi/pull/10851) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/history-design-future.md`. PR [#10865](https://github.com/tiangolo/fastapi/pull/10865) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/dependencies/dependencies-with-yield.md`. PR [#10422](https://github.com/tiangolo/fastapi/pull/10422) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/dependencies/global-dependencies.md`. PR [#10420](https://github.com/tiangolo/fastapi/pull/10420) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Update German translation for `docs/de/docs/fastapi-people.md`. PR [#10285](https://github.com/tiangolo/fastapi/pull/10285) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/dependencies/sub-dependencies.md`. PR [#10409](https://github.com/tiangolo/fastapi/pull/10409) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/security/index.md`. PR [#10429](https://github.com/tiangolo/fastapi/pull/10429) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/dependencies/dependencies-in-path-operation-decorators.md`. PR [#10411](https://github.com/tiangolo/fastapi/pull/10411) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/extra-data-types.md`. PR [#10534](https://github.com/tiangolo/fastapi/pull/10534) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/security/simple-oauth2.md`. PR [#10504](https://github.com/tiangolo/fastapi/pull/10504) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/security/get-current-user.md`. PR [#10439](https://github.com/tiangolo/fastapi/pull/10439) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/request-forms-and-files.md`. PR [#10368](https://github.com/tiangolo/fastapi/pull/10368) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/encoder.md`. PR [#10385](https://github.com/tiangolo/fastapi/pull/10385) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/request-forms.md`. PR [#10361](https://github.com/tiangolo/fastapi/pull/10361) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/deployment/versions.md`. PR [#10491](https://github.com/tiangolo/fastapi/pull/10491) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/async.md`. PR [#10449](https://github.com/tiangolo/fastapi/pull/10449) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/cookie-params.md`. PR [#10323](https://github.com/tiangolo/fastapi/pull/10323) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/dependencies/classes-as-dependencies.md`. PR [#10407](https://github.com/tiangolo/fastapi/pull/10407) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/dependencies/index.md`. PR [#10399](https://github.com/tiangolo/fastapi/pull/10399) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/header-params.md`. PR [#10326](https://github.com/tiangolo/fastapi/pull/10326) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/path-params-numeric-validations.md`. PR [#10307](https://github.com/tiangolo/fastapi/pull/10307) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/query-params-str-validations.md`. PR [#10304](https://github.com/tiangolo/fastapi/pull/10304) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/request-files.md`. PR [#10364](https://github.com/tiangolo/fastapi/pull/10364) by [@nilslindemann](https://github.com/nilslindemann).\n* :globe_with_meridians: Add Portuguese translation for `docs/pt/docs/advanced/templates.md`. PR [#11338](https://github.com/tiangolo/fastapi/pull/11338) by [@SamuelBFavarin](https://github.com/SamuelBFavarin).\n* üåê Add Bengali translations for `docs/bn/docs/learn/index.md`. PR [#11337](https://github.com/tiangolo/fastapi/pull/11337) by [@imtiaz101325](https://github.com/imtiaz101325).\n* üåê Fix Korean translation for `docs/ko/docs/index.md`. PR [#11296](https://github.com/tiangolo/fastapi/pull/11296) by [@choi-haram](https://github.com/choi-haram).\n* üåê Add Korean translation for `docs/ko/docs/about/index.md`. PR [#11299](https://github.com/tiangolo/fastapi/pull/11299) by [@choi-haram](https://github.com/choi-haram).\n* üåê Add Korean translation for `docs/ko/docs/advanced/index.md`. PR [#9613](https://github.com/tiangolo/fastapi/pull/9613) by [@ElliottLarsen](https://github.com/ElliottLarsen).\n* üåê Add German translation for `docs/de/docs/how-to/extending-openapi.md`. PR [#10794](https://github.com/tiangolo/fastapi/pull/10794) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Update Chinese translation for `docs/zh/docs/tutorial/metadata.md`. PR [#11286](https://github.com/tiangolo/fastapi/pull/11286) by [@jackleeio](https://github.com/jackleeio).\n* üåê Update Chinese translation for `docs/zh/docs/contributing.md`. PR [#10887](https://github.com/tiangolo/fastapi/pull/10887) by [@Aruelius](https://github.com/Aruelius).\n* üåê Add Azerbaijani translation for `docs/az/docs/fastapi-people.md`. PR [#11195](https://github.com/tiangolo/fastapi/pull/11195) by [@vusallyv](https://github.com/vusallyv).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/dependencies/index.md`. PR [#11223](https://github.com/tiangolo/fastapi/pull/11223) by [@kohiry](https://github.com/kohiry).\n* üåê Update Chinese translation for `docs/zh/docs/tutorial/query-params.md`. PR [#11242](https://github.com/tiangolo/fastapi/pull/11242) by [@jackleeio](https://github.com/jackleeio).\n* üåê Add Azerbaijani translation for `docs/az/learn/index.md`. PR [#11192](https://github.com/tiangolo/fastapi/pull/11192) by [@vusallyv](https://github.com/vusallyv).", "source": "release-notes.md"}
{"doc_id": "fastapi_0433", "title": "Release Notes", "section": "Internal", "content": "* üë• Update FastAPI People. PR [#11387](https://github.com/tiangolo/fastapi/pull/11387) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump actions/cache from 3 to 4. PR [#10988](https://github.com/tiangolo/fastapi/pull/10988) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump pypa/gh-action-pypi-publish from 1.8.11 to 1.8.14. PR [#11318](https://github.com/tiangolo/fastapi/pull/11318) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump pillow from 10.1.0 to 10.2.0. PR [#11011](https://github.com/tiangolo/fastapi/pull/11011) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump black from 23.3.0 to 24.3.0. PR [#11325](https://github.com/tiangolo/fastapi/pull/11325) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üë∑ Add cron to run test once a week on monday. PR [#11377](https://github.com/tiangolo/fastapi/pull/11377) by [@estebanx64](https://github.com/estebanx64).\n* ‚ûï Replace mkdocs-markdownextradata-plugin with mkdocs-macros-plugin. PR [#11383](https://github.com/tiangolo/fastapi/pull/11383) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Disable MkDocs insiders social plugin while an issue in MkDocs Material is handled. PR [#11373](https://github.com/tiangolo/fastapi/pull/11373) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Fix logic for when to install and use MkDocs Insiders. PR [#11372](https://github.com/tiangolo/fastapi/pull/11372) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Do not use Python packages cache for publish. PR [#11366](https://github.com/tiangolo/fastapi/pull/11366) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Add CI to test sdists for redistribution (e.g. Linux distros). PR [#11365](https://github.com/tiangolo/fastapi/pull/11365) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Update build-docs GitHub Action path filter. PR [#11354](https://github.com/tiangolo/fastapi/pull/11354) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update Ruff config, add extra ignore rule from SQLModel. PR [#11353](https://github.com/tiangolo/fastapi/pull/11353) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨ÜÔ∏è Upgrade configuration for Ruff v0.2.0. PR [#11075](https://github.com/tiangolo/fastapi/pull/11075) by [@charliermarsh](https://github.com/charliermarsh).\n* üîß Update sponsors, add MongoDB. PR [#11346](https://github.com/tiangolo/fastapi/pull/11346) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump dorny/paths-filter from 2 to 3. PR [#11028](https://github.com/tiangolo/fastapi/pull/11028) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump dawidd6/action-download-artifact from 3.0.0 to 3.1.4. PR [#11310](https://github.com/tiangolo/fastapi/pull/11310) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚ôªÔ∏è Refactor computing FastAPI People, include 3 months, 6 months, 1 year, based on comment date, not discussion date. PR [#11304](https://github.com/tiangolo/fastapi/pull/11304) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People. PR [#11228](https://github.com/tiangolo/fastapi/pull/11228) by [@tiangolo](https://github.com/tiangolo).\n* üî• Remove Jina AI QA Bot from the docs. PR [#11268](https://github.com/tiangolo/fastapi/pull/11268) by [@nan-wang](https://github.com/nan-wang).\n* üîß Update sponsors, remove Jina, remove Powens, move TestDriven.io. PR [#11213](https://github.com/tiangolo/fastapi/pull/11213) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0434", "title": "Release Notes", "section": "0.110.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0435", "title": "Release Notes", "section": "Breaking Changes", "content": "* üêõ Fix unhandled growing memory for internal server errors, refactor dependencies with `yield` and `except` to require raising again as in regular Python. PR [#11191](https://github.com/tiangolo/fastapi/pull/11191) by [@tiangolo](https://github.com/tiangolo).\n    * This is a breaking change (and only slightly) if you used dependencies with `yield`, used `except` in those dependencies, and didn't raise again.\n    * This was reported internally by [@rushilsrivastava](https://github.com/rushilsrivastava) as a memory leak when the server had unhandled exceptions that would produce internal server errors, the memory allocated before that point would not be released.\n    * Read the new docs: [Dependencies with `yield` and `except`](https://fastapi.tiangolo.com/tutorial/dependencies/dependencies-with-yield/#dependencies-with-yield-and-except).\n\nIn short, if you had dependencies that looked like:\n\n```Python\ndef my_dep():\n    try:\n        yield\n    except SomeException:\n        pass\n```\n\nNow you need to make sure you raise again after `except`, just as you would in regular Python:\n\n```Python\ndef my_dep():\n    try:\n        yield\n    except SomeException:\n        raise\n```", "source": "release-notes.md"}
{"doc_id": "fastapi_0436", "title": "Release Notes", "section": "Docs", "content": "* ‚úèÔ∏è Fix minor typos in `docs/ko/docs/`. PR [#11126](https://github.com/tiangolo/fastapi/pull/11126) by [@KaniKim](https://github.com/KaniKim).\n* ‚úèÔ∏è Fix minor typo in `fastapi/applications.py`. PR [#11099](https://github.com/tiangolo/fastapi/pull/11099) by [@JacobHayes](https://github.com/JacobHayes).", "source": "release-notes.md"}
{"doc_id": "fastapi_0437", "title": "Release Notes", "section": "Translations", "content": "* üåê Add German translation for `docs/de/docs/reference/background.md`. PR [#10820](https://github.com/tiangolo/fastapi/pull/10820) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/reference/templating.md`. PR [#10842](https://github.com/tiangolo/fastapi/pull/10842) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/external-links.md`. PR [#10852](https://github.com/tiangolo/fastapi/pull/10852) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Update Turkish translation for `docs/tr/docs/tutorial/query-params.md`. PR [#11162](https://github.com/tiangolo/fastapi/pull/11162) by [@hasansezertasan](https://github.com/hasansezertasan).\n* üåê Add German translation for `docs/de/docs/reference/encoders.md`. PR [#10840](https://github.com/tiangolo/fastapi/pull/10840) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/reference/responses.md`. PR [#10825](https://github.com/tiangolo/fastapi/pull/10825) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/reference/request.md`. PR [#10821](https://github.com/tiangolo/fastapi/pull/10821) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add Turkish translation for `docs/tr/docs/tutorial/query-params.md`. PR [#11078](https://github.com/tiangolo/fastapi/pull/11078) by [@emrhnsyts](https://github.com/emrhnsyts).\n* üåê Add German translation for `docs/de/docs/reference/fastapi.md`. PR [#10813](https://github.com/tiangolo/fastapi/pull/10813) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/newsletter.md`. PR [#10853](https://github.com/tiangolo/fastapi/pull/10853) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add Traditional Chinese translation for `docs/zh-hant/docs/learn/index.md`. PR [#11142](https://github.com/tiangolo/fastapi/pull/11142) by [@hsuanchi](https://github.com/hsuanchi).\n* üåê Add Korean translation for `/docs/ko/docs/tutorial/dependencies/global-dependencies.md`. PR [#11123](https://github.com/tiangolo/fastapi/pull/11123) by [@riroan](https://github.com/riroan).\n* üåê Add Korean translation for `/docs/ko/docs/tutorial/dependencies/dependencies-in-path-operation-decorators.md`. PR [#11124](https://github.com/tiangolo/fastapi/pull/11124) by [@riroan](https://github.com/riroan).\n* üåê Add Korean translation for `/docs/ko/docs/tutorial/schema-extra-example.md`. PR [#11121](https://github.com/tiangolo/fastapi/pull/11121) by [@KaniKim](https://github.com/KaniKim).\n* üåê Add Korean translation for `/docs/ko/docs/tutorial/body-fields.md`. PR [#11112](https://github.com/tiangolo/fastapi/pull/11112) by [@KaniKim](https://github.com/KaniKim).\n* üåê Add Korean translation for `/docs/ko/docs/tutorial/cookie-params.md`. PR [#11118](https://github.com/tiangolo/fastapi/pull/11118) by [@riroan](https://github.com/riroan).\n* üåê Update Korean translation for `/docs/ko/docs/dependencies/index.md`. PR [#11114](https://github.com/tiangolo/fastapi/pull/11114) by [@KaniKim](https://github.com/KaniKim).\n* üåê Update Korean translation for `/docs/ko/docs/deployment/docker.md`. PR [#11113](https://github.com/tiangolo/fastapi/pull/11113) by [@KaniKim](https://github.com/KaniKim).\n* üåê Update Turkish translation for `docs/tr/docs/tutorial/first-steps.md`. PR [#11094](https://github.com/tiangolo/fastapi/pull/11094) by [@hasansezertasan](https://github.com/hasansezertasan).\n* üåê Add Spanish translation for `docs/es/docs/advanced/security/index.md`. PR [#2278](https://github.com/tiangolo/fastapi/pull/2278) by [@Xaraxx](https://github.com/Xaraxx).\n* üåê Add Spanish translation for `docs/es/docs/advanced/response-headers.md`. PR [#2276](https://github.com/tiangolo/fastapi/pull/2276) by [@Xaraxx](https://github.com/Xaraxx).\n* üåê Add Spanish translation for `docs/es/docs/deployment/index.md` and `~/deployment/versions.md`. PR [#9669](https://github.com/tiangolo/fastapi/pull/9669) by [@pabloperezmoya](https://github.com/pabloperezmoya).\n* üåê Add Spanish translation for `docs/es/docs/benchmarks.md`. PR [#10928](https://github.com/tiangolo/fastapi/pull/10928) by [@pablocm83](https://github.com/pablocm83).\n* üåê Add Spanish translation for `docs/es/docs/advanced/response-change-status-code.md`. PR [#11100](https://github.com/tiangolo/fastapi/pull/11100) by [@alejsdev](https://github.com/alejsdev).", "source": "release-notes.md"}
{"doc_id": "fastapi_0438", "title": "Release Notes", "section": "0.109.2", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0439", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨ÜÔ∏è Upgrade version of Starlette to `>= 0.36.3`. PR [#11086](https://github.com/tiangolo/fastapi/pull/11086) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0440", "title": "Release Notes", "section": "Translations", "content": "* üåê Update Turkish translation for `docs/tr/docs/fastapi-people.md`. PR [#10547](https://github.com/tiangolo/fastapi/pull/10547) by [@alperiox](https://github.com/alperiox).", "source": "release-notes.md"}
{"doc_id": "fastapi_0441", "title": "Release Notes", "section": "Internal", "content": "* üç± Add new FastAPI logo. PR [#11090](https://github.com/tiangolo/fastapi/pull/11090) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0442", "title": "Release Notes", "section": "0.109.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0443", "title": "Release Notes", "section": "Security fixes", "content": "* ‚¨ÜÔ∏è Upgrade minimum version of `python-multipart` to `>=0.0.7` to fix a vulnerability when using form data with a ReDos attack. You can also simply upgrade `python-multipart`.\n\nRead more in the [advisory: Content-Type Header ReDoS](https://github.com/tiangolo/fastapi/security/advisories/GHSA-qf9m-vfgh-m389).", "source": "release-notes.md"}
{"doc_id": "fastapi_0444", "title": "Release Notes", "section": "Features", "content": "* ‚ú®  Include HTTP 205 in status codes with no body. PR [#10969](https://github.com/tiangolo/fastapi/pull/10969) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0445", "title": "Release Notes", "section": "Refactors", "content": "* ‚úÖ Refactor tests for duplicate operation ID generation for compatibility with other tools running the FastAPI test suite. PR [#10876](https://github.com/tiangolo/fastapi/pull/10876) by [@emmettbutler](https://github.com/emmettbutler).\n* ‚ôªÔ∏è Simplify string format with f-strings in `fastapi/utils.py`. PR [#10576](https://github.com/tiangolo/fastapi/pull/10576) by [@eukub](https://github.com/eukub).\n* üîß Fix Ruff configuration unintentionally enabling and re-disabling mccabe complexity check. PR [#10893](https://github.com/tiangolo/fastapi/pull/10893) by [@jiridanek](https://github.com/jiridanek).\n* ‚úÖ Re-enable test in `tests/test_tutorial/test_header_params/test_tutorial003.py` after fix in Starlette. PR [#10904](https://github.com/tiangolo/fastapi/pull/10904) by [@ooknimm](https://github.com/ooknimm).", "source": "release-notes.md"}
{"doc_id": "fastapi_0446", "title": "Release Notes", "section": "Docs", "content": "* üìù Tweak wording in `help-fastapi.md`. PR [#11040](https://github.com/tiangolo/fastapi/pull/11040) by [@tiangolo](https://github.com/tiangolo).\n* üìù Tweak docs for Behind a Proxy. PR [#11038](https://github.com/tiangolo/fastapi/pull/11038) by [@tiangolo](https://github.com/tiangolo).\n* üìù Add External Link: 10 Tips for adding SQLAlchemy to FastAPI. PR [#11036](https://github.com/tiangolo/fastapi/pull/11036) by [@Donnype](https://github.com/Donnype).\n* üìù Add External Link: Tips on migrating from Flask to FastAPI and vice-versa. PR [#11029](https://github.com/tiangolo/fastapi/pull/11029) by [@jtemporal](https://github.com/jtemporal).\n* üìù Deprecate old tutorials: Peewee, Couchbase, encode/databases. PR [#10979](https://github.com/tiangolo/fastapi/pull/10979) by [@tiangolo](https://github.com/tiangolo).\n* ‚úèÔ∏è Fix typo in `fastapi/security/oauth2.py`. PR [#10972](https://github.com/tiangolo/fastapi/pull/10972) by [@RafalSkolasinski](https://github.com/RafalSkolasinski).\n* üìù Update `HTTPException` details in `docs/en/docs/tutorial/handling-errors.md`. PR [#5418](https://github.com/tiangolo/fastapi/pull/5418) by [@papb](https://github.com/papb).\n* ‚úèÔ∏è A few tweaks in `docs/de/docs/tutorial/first-steps.md`. PR [#10959](https://github.com/tiangolo/fastapi/pull/10959) by [@nilslindemann](https://github.com/nilslindemann).\n* ‚úèÔ∏è Fix link in `docs/en/docs/advanced/async-tests.md`. PR [#10960](https://github.com/tiangolo/fastapi/pull/10960) by [@nilslindemann](https://github.com/nilslindemann).\n* ‚úèÔ∏è Fix typos for Spanish documentation. PR [#10957](https://github.com/tiangolo/fastapi/pull/10957) by [@jlopezlira](https://github.com/jlopezlira).\n* üìù Add warning about lifespan functions and backwards compatibility with events. PR [#10734](https://github.com/tiangolo/fastapi/pull/10734) by [@jacob-indigo](https://github.com/jacob-indigo).\n* ‚úèÔ∏è Fix broken link in `docs/tutorial/sql-databases.md` in several languages. PR [#10716](https://github.com/tiangolo/fastapi/pull/10716) by [@theoohoho](https://github.com/theoohoho).\n* ‚úèÔ∏è Remove broken links from `external_links.yml`. PR [#10943](https://github.com/tiangolo/fastapi/pull/10943) by [@Torabek](https://github.com/Torabek).\n* üìù Update template docs with more info about `url_for`. PR [#5937](https://github.com/tiangolo/fastapi/pull/5937) by [@EzzEddin](https://github.com/EzzEddin).\n* üìù Update usage of Token model in security docs. PR [#9313](https://github.com/tiangolo/fastapi/pull/9313) by [@piotrszacilowski](https://github.com/piotrszacilowski).\n* ‚úèÔ∏è Update highlighted line in `docs/en/docs/tutorial/bigger-applications.md`. PR [#5490](https://github.com/tiangolo/fastapi/pull/5490) by [@papb](https://github.com/papb).\n* üìù Add External Link: Explore How to Effectively Use JWT With FastAPI. PR [#10212](https://github.com/tiangolo/fastapi/pull/10212) by [@aanchlia](https://github.com/aanchlia).\n* üìù Add hyperlink to `docs/en/docs/tutorial/static-files.md`. PR [#10243](https://github.com/tiangolo/fastapi/pull/10243) by [@hungtsetse](https://github.com/hungtsetse).\n* üìù Add External Link: Instrument a FastAPI service adding tracing with OpenTelemetry and send/show traces in Grafana Tempo. PR [#9440](https://github.com/tiangolo/fastapi/pull/9440) by [@softwarebloat](https://github.com/softwarebloat).\n* üìù Review and rewording of `en/docs/contributing.md`. PR [#10480](https://github.com/tiangolo/fastapi/pull/10480) by [@nilslindemann](https://github.com/nilslindemann).\n* üìù Add External Link: ML serving and monitoring with FastAPI and Evidently. PR [#9701](https://github.com/tiangolo/fastapi/pull/9701) by [@mnrozhkov](https://github.com/mnrozhkov).\n* üìù Reword in docs, from \"have in mind\" to \"keep in mind\". PR [#10376](https://github.com/tiangolo/fastapi/pull/10376) by [@malicious](https://github.com/malicious).\n* üìù Add External Link: Talk by Jeny Sadadia. PR [#10265](https://github.com/tiangolo/fastapi/pull/10265) by [@JenySadadia](https://github.com/JenySadadia).\n* üìù Add location info to `tutorial/bigger-applications.md`. PR [#10552](https://github.com/tiangolo/fastapi/pull/10552) by [@nilslindemann](https://github.com/nilslindemann).\n* ‚úèÔ∏è Fix Pydantic method name in `docs/en/docs/advanced/path-operation-advanced-configuration.md`. PR [#10826](https://github.com/tiangolo/fastapi/pull/10826) by [@ahmedabdou14](https://github.com/ahmedabdou14).", "source": "release-notes.md"}
{"doc_id": "fastapi_0447", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Spanish translation for `docs/es/docs/external-links.md`. PR [#10933](https://github.com/tiangolo/fastapi/pull/10933) by [@pablocm83](https://github.com/pablocm83).\n* üåê Update Korean translation for `docs/ko/docs/tutorial/first-steps.md`, `docs/ko/docs/tutorial/index.md`, `docs/ko/docs/tutorial/path-params.md`, and `docs/ko/docs/tutorial/query-params.md`. PR [#4218](https://github.com/tiangolo/fastapi/pull/4218) by [@SnowSuno](https://github.com/SnowSuno).\n* üåê Add Chinese translation for `docs/zh/docs/tutorial/dependencies/dependencies-with-yield.md`. PR [#10870](https://github.com/tiangolo/fastapi/pull/10870) by [@zhiquanchi](https://github.com/zhiquanchi).\n* üåê Add Chinese translation for `docs/zh/docs/deployment/concepts.md`. PR [#10282](https://github.com/tiangolo/fastapi/pull/10282) by [@xzmeng](https://github.com/xzmeng).\n* üåê Add Azerbaijani translation for `docs/az/docs/index.md`. PR [#11047](https://github.com/tiangolo/fastapi/pull/11047) by [@aykhans](https://github.com/aykhans).\n* üåê Add Korean translation for `docs/ko/docs/tutorial/middleware.md`. PR [#2829](https://github.com/tiangolo/fastapi/pull/2829) by [@JeongHyeongKim](https://github.com/JeongHyeongKim).\n* üåê Add German translation for `docs/de/docs/tutorial/body-nested-models.md`. PR [#10313](https://github.com/tiangolo/fastapi/pull/10313) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add Persian translation for `docs/fa/docs/tutorial/middleware.md`. PR [#9695](https://github.com/tiangolo/fastapi/pull/9695) by [@mojtabapaso](https://github.com/mojtabapaso).\n* üåê Update Farsi translation for `docs/fa/docs/index.md`. PR [#10216](https://github.com/tiangolo/fastapi/pull/10216) by [@theonlykingpin](https://github.com/theonlykingpin).\n* üåê Add German translation for `docs/de/docs/tutorial/body-fields.md`. PR [#10310](https://github.com/tiangolo/fastapi/pull/10310) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/body.md`. PR [#10295](https://github.com/tiangolo/fastapi/pull/10295) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/body-multiple-params.md`. PR [#10308](https://github.com/tiangolo/fastapi/pull/10308) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add Japanese translation for `docs/ja/docs/tutorial/security/get-current-user.md`. PR [#2681](https://github.com/tiangolo/fastapi/pull/2681) by [@sh0nk](https://github.com/sh0nk).\n* üåê Add Chinese translation for `docs/zh/docs/advanced/advanced-dependencies.md`. PR [#3798](https://github.com/tiangolo/fastapi/pull/3798) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Chinese translation for `docs/zh/docs/advanced/events.md`. PR [#3815](https://github.com/tiangolo/fastapi/pull/3815) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Chinese translation for `docs/zh/docs/advanced/behind-a-proxy.md`. PR [#3820](https://github.com/tiangolo/fastapi/pull/3820) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Chinese translation for `docs/zh/docs/advanced/testing-events.md`. PR [#3818](https://github.com/tiangolo/fastapi/pull/3818) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Chinese translation for `docs/zh/docs/advanced/testing-websockets.md`. PR [#3817](https://github.com/tiangolo/fastapi/pull/3817) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Chinese translation for `docs/zh/docs/advanced/testing-database.md`. PR [#3821](https://github.com/tiangolo/fastapi/pull/3821) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Chinese translation for `docs/zh/docs/deployment/deta.md`. PR [#3837](https://github.com/tiangolo/fastapi/pull/3837) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Chinese translation for `docs/zh/docs/history-design-future.md`. PR [#3832](https://github.com/tiangolo/fastapi/pull/3832) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Chinese translation for `docs/zh/docs/project-generation.md`. PR [#3831](https://github.com/tiangolo/fastapi/pull/3831) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Chinese translation for `docs/zh/docs/deployment/docker.md`. PR [#10296](https://github.com/tiangolo/fastapi/pull/10296) by [@xzmeng](https://github.com/xzmeng).\n* üåê Update Spanish translation for `docs/es/docs/features.md`. PR [#10884](https://github.com/tiangolo/fastapi/pull/10884) by [@pablocm83](https://github.com/pablocm83).\n* üåê Add Spanish translation for `docs/es/docs/newsletter.md`. PR [#10922](https://github.com/tiangolo/fastapi/pull/10922) by [@pablocm83](https://github.com/pablocm83).\n* üåê Add Korean translation for `docs/ko/docs/tutorial/background-tasks.md`. PR [#5910](https://github.com/tiangolo/fastapi/pull/5910) by [@junah201](https://github.com/junah201).\n* :globe_with_meridians: Add Turkish translation for `docs/tr/docs/alternatives.md`. PR [#10502](https://github.com/tiangolo/fastapi/pull/10502) by [@alperiox](https://github.com/alperiox).\n* üåê Add Korean translation for `docs/ko/docs/tutorial/dependencies/index.md`. PR [#10989](https://github.com/tiangolo/fastapi/pull/10989) by [@KaniKim](https://github.com/KaniKim).\n* üåê Add Korean translation for `/docs/ko/docs/tutorial/body.md`. PR [#11000](https://github.com/tiangolo/fastapi/pull/11000) by [@KaniKim](https://github.com/KaniKim).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/schema-extra-example.md`. PR [#4065](https://github.com/tiangolo/fastapi/pull/4065) by [@luccasmmg](https://github.com/luccasmmg).\n* üåê Add Turkish translation for `docs/tr/docs/history-design-future.md`. PR [#11012](https://github.com/tiangolo/fastapi/pull/11012) by [@hasansezertasan](https://github.com/hasansezertasan).\n* üåê Add Turkish translation for `docs/tr/docs/resources/index.md`. PR [#11020](https://github.com/tiangolo/fastapi/pull/11020) by [@hasansezertasan](https://github.com/hasansezertasan).\n* üåê Add Turkish translation for `docs/tr/docs/how-to/index.md`. PR [#11021](https://github.com/tiangolo/fastapi/pull/11021) by [@hasansezertasan](https://github.com/hasansezertasan).\n* üåê Add German translation for `docs/de/docs/tutorial/query-params.md`. PR [#10293](https://github.com/tiangolo/fastapi/pull/10293) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/benchmarks.md`. PR [#10866](https://github.com/tiangolo/fastapi/pull/10866) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add Turkish translation for `docs/tr/docs/learn/index.md`. PR [#11014](https://github.com/tiangolo/fastapi/pull/11014) by [@hasansezertasan](https://github.com/hasansezertasan).\n* üåê Add Persian translation for `docs/fa/docs/tutorial/security/index.md`. PR [#9945](https://github.com/tiangolo/fastapi/pull/9945) by [@mojtabapaso](https://github.com/mojtabapaso).\n* üåê Add Turkish translation for `docs/tr/docs/help/index.md`. PR [#11013](https://github.com/tiangolo/fastapi/pull/11013) by [@hasansezertasan](https://github.com/hasansezertasan).\n* üåê Add Turkish translation for `docs/tr/docs/about/index.md`. PR [#11006](https://github.com/tiangolo/fastapi/pull/11006) by [@hasansezertasan](https://github.com/hasansezertasan).\n* üåê Update Turkish translation for `docs/tr/docs/benchmarks.md`. PR [#11005](https://github.com/tiangolo/fastapi/pull/11005) by [@hasansezertasan](https://github.com/hasansezertasan).\n* üåê Add Italian translation for `docs/it/docs/index.md`. PR [#5233](https://github.com/tiangolo/fastapi/pull/5233) by [@matteospanio](https://github.com/matteospanio).\n* üåê Add Korean translation for `docs/ko/docs/help/index.md`. PR [#10983](https://github.com/tiangolo/fastapi/pull/10983) by [@KaniKim](https://github.com/KaniKim).\n* üåê Add Korean translation for `docs/ko/docs/features.md`. PR [#10976](https://github.com/tiangolo/fastapi/pull/10976) by [@KaniKim](https://github.com/KaniKim).\n* üåê Add Korean translation for `docs/ko/docs/tutorial/security/get-current-user.md`. PR [#5737](https://github.com/tiangolo/fastapi/pull/5737) by [@KdHyeon0661](https://github.com/KdHyeon0661).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/security/first-steps.md`. PR [#10541](https://github.com/tiangolo/fastapi/pull/10541) by [@AlertRED](https://github.com/AlertRED).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/handling-errors.md`. PR [#10375](https://github.com/tiangolo/fastapi/pull/10375) by [@AlertRED](https://github.com/AlertRED).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/encoder.md`. PR [#10374](https://github.com/tiangolo/fastapi/pull/10374) by [@AlertRED](https://github.com/AlertRED).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/body-updates.md`. PR [#10373](https://github.com/tiangolo/fastapi/pull/10373) by [@AlertRED](https://github.com/AlertRED).\n* üåê Russian translation: updated `fastapi-people.md`.. PR [#10255](https://github.com/tiangolo/fastapi/pull/10255) by [@NiKuma0](https://github.com/NiKuma0).\n* üåê Add Japanese translation for `docs/ja/docs/tutorial/security/index.md`. PR [#5798](https://github.com/tiangolo/fastapi/pull/5798) by [@3w36zj6](https://github.com/3w36zj6).\n* üåê Add German translation for `docs/de/docs/advanced/generate-clients.md`. PR [#10725](https://github.com/tiangolo/fastapi/pull/10725) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/openapi-webhooks.md`. PR [#10712](https://github.com/tiangolo/fastapi/pull/10712) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/custom-response.md`. PR [#10624](https://github.com/tiangolo/fastapi/pull/10624) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/advanced/additional-status-codes.md`. PR [#10617](https://github.com/tiangolo/fastapi/pull/10617) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add German translation for `docs/de/docs/tutorial/middleware.md`. PR [#10391](https://github.com/tiangolo/fastapi/pull/10391) by [@JohannesJungbluth](https://github.com/JohannesJungbluth).\n* üåê Add German translation for introduction documents. PR [#10497](https://github.com/tiangolo/fastapi/pull/10497) by [@nilslindemann](https://github.com/nilslindemann).\n* üåê Add Japanese translation for `docs/ja/docs/tutorial/encoder.md`. PR [#1955](https://github.com/tiangolo/fastapi/pull/1955) by [@SwftAlpc](https://github.com/SwftAlpc).\n* üåê Add Japanese translation for `docs/ja/docs/tutorial/extra-data-types.md`. PR [#1932](https://github.com/tiangolo/fastapi/pull/1932) by [@SwftAlpc](https://github.com/SwftAlpc).\n* üåê Add Turkish translation for `docs/tr/docs/async.md`. PR [#5191](https://github.com/tiangolo/fastapi/pull/5191) by [@BilalAlpaslan](https://github.com/BilalAlpaslan).\n* üåê Add Turkish translation for `docs/tr/docs/project-generation.md`. PR [#5192](https://github.com/tiangolo/fastapi/pull/5192) by [@BilalAlpaslan](https://github.com/BilalAlpaslan).\n* üåê Add Korean translation for `docs/ko/docs/deployment/docker.md`. PR [#5657](https://github.com/tiangolo/fastapi/pull/5657) by [@nearnear](https://github.com/nearnear).\n* üåê Add Korean translation for `docs/ko/docs/deployment/server-workers.md`. PR [#4935](https://github.com/tiangolo/fastapi/pull/4935) by [@jujumilk3](https://github.com/jujumilk3).\n* üåê Add Korean translation for `docs/ko/docs/deployment/index.md`. PR [#4561](https://github.com/tiangolo/fastapi/pull/4561) by [@jujumilk3](https://github.com/jujumilk3).\n* üåê Add Korean translation for `docs/ko/docs/tutorial/path-operation-configuration.md`. PR [#3639](https://github.com/tiangolo/fastapi/pull/3639) by [@jungsu-kwon](https://github.com/jungsu-kwon).\n* üåê Modify the description of `zh` - Traditional Chinese. PR [#10889](https://github.com/tiangolo/fastapi/pull/10889) by [@cherinyy](https://github.com/cherinyy).\n* üåê Add Korean translation for `docs/ko/docs/tutorial/static-files.md`. PR [#2957](https://github.com/tiangolo/fastapi/pull/2957) by [@jeesang7](https://github.com/jeesang7).\n* üåê Add Korean translation for `docs/ko/docs/tutorial/response-model.md`. PR [#2766](https://github.com/tiangolo/fastapi/pull/2766) by [@hard-coders](https://github.com/hard-coders).\n* üåê Add Korean translation for `docs/ko/docs/tutorial/body-multiple-params.md`. PR [#2461](https://github.com/tiangolo/fastapi/pull/2461) by [@PandaHun](https://github.com/PandaHun).\n* üåê Add Korean translation for `docs/ko/docs/tutorial/query-params-str-validations.md`. PR [#2415](https://github.com/tiangolo/fastapi/pull/2415) by [@hard-coders](https://github.com/hard-coders).\n* üåê Add Korean translation for `docs/ko/docs/python-types.md`. PR [#2267](https://github.com/tiangolo/fastapi/pull/2267) by [@jrim](https://github.com/jrim).\n* üåê Add Korean translation for `docs/ko/docs/tutorial/body-nested-models.md`. PR [#2506](https://github.com/tiangolo/fastapi/pull/2506) by [@hard-coders](https://github.com/hard-coders).\n* üåê Add Korean translation for `docs/ko/docs/learn/index.md`. PR [#10977](https://github.com/tiangolo/fastapi/pull/10977) by [@KaniKim](https://github.com/KaniKim).\n* üåê Initialize translations for Traditional Chinese. PR [#10505](https://github.com/tiangolo/fastapi/pull/10505) by [@hsuanchi](https://github.com/hsuanchi).\n* ‚úèÔ∏è Tweak the german translation of `docs/de/docs/tutorial/index.md`. PR [#10962](https://github.com/tiangolo/fastapi/pull/10962) by [@nilslindemann](https://github.com/nilslindemann).\n* ‚úèÔ∏è Fix typo error in `docs/ko/docs/tutorial/path-params.md`. PR [#10758](https://github.com/tiangolo/fastapi/pull/10758) by [@2chanhaeng](https://github.com/2chanhaeng).\n* üåê Add Japanese translation for `docs/ja/docs/tutorial/dependencies/dependencies-with-yield.md`. PR [#1961](https://github.com/tiangolo/fastapi/pull/1961) by [@SwftAlpc](https://github.com/SwftAlpc).\n* üåê Add Japanese translation for `docs/ja/docs/tutorial/dependencies/dependencies-in-path-operation-decorators.md`. PR [#1960](https://github.com/tiangolo/fastapi/pull/1960) by [@SwftAlpc](https://github.com/SwftAlpc).\n* üåê Add Japanese translation for `docs/ja/docs/tutorial/dependencies/sub-dependencies.md`. PR [#1959](https://github.com/tiangolo/fastapi/pull/1959) by [@SwftAlpc](https://github.com/SwftAlpc).\n* üåê Add Japanese translation for `docs/ja/docs/tutorial/background-tasks.md`. PR [#2668](https://github.com/tiangolo/fastapi/pull/2668) by [@tokusumi](https://github.com/tokusumi).\n* üåê Add Japanese translation for `docs/ja/docs/tutorial/dependencies/index.md` and `docs/ja/docs/tutorial/dependencies/classes-as-dependencies.md`. PR [#1958](https://github.com/tiangolo/fastapi/pull/1958) by [@SwftAlpc](https://github.com/SwftAlpc).\n* üåê Add Japanese translation for `docs/ja/docs/tutorial/response-model.md`. PR [#1938](https://github.com/tiangolo/fastapi/pull/1938) by [@SwftAlpc](https://github.com/SwftAlpc).\n* üåê Add Japanese translation for `docs/ja/docs/tutorial/body-multiple-params.md`. PR [#1903](https://github.com/tiangolo/fastapi/pull/1903) by [@SwftAlpc](https://github.com/SwftAlpc).\n* üåê Add Japanese translation for `docs/ja/docs/tutorial/path-params-numeric-validations.md`. PR [#1902](https://github.com/tiangolo/fastapi/pull/1902) by [@SwftAlpc](https://github.com/SwftAlpc).\n* üåê Add Japanese translation for `docs/ja/docs/python-types.md`. PR [#1899](https://github.com/tiangolo/fastapi/pull/1899) by [@SwftAlpc](https://github.com/SwftAlpc).\n* üåê Add Japanese translation for `docs/ja/docs/tutorial/handling-errors.md`. PR [#1953](https://github.com/tiangolo/fastapi/pull/1953) by [@SwftAlpc](https://github.com/SwftAlpc).\n* üåê Add Japanese translation for `docs/ja/docs/tutorial/response-status-code.md`. PR [#1942](https://github.com/tiangolo/fastapi/pull/1942) by [@SwftAlpc](https://github.com/SwftAlpc).\n* üåê Add Japanese translation for `docs/ja/docs/tutorial/extra-models.md`. PR [#1941](https://github.com/tiangolo/fastapi/pull/1941) by [@SwftAlpc](https://github.com/SwftAlpc).\n* üåê Add Japanese tranlsation for `docs/ja/docs/tutorial/schema-extra-example.md`. PR [#1931](https://github.com/tiangolo/fastapi/pull/1931) by [@SwftAlpc](https://github.com/SwftAlpc).\n* üåê Add Japanese translation for `docs/ja/docs/tutorial/body-nested-models.md`. PR [#1930](https://github.com/tiangolo/fastapi/pull/1930) by [@SwftAlpc](https://github.com/SwftAlpc).\n* üåê Add Japanese translation for `docs/ja/docs/tutorial/body-fields.md`. PR [#1923](https://github.com/tiangolo/fastapi/pull/1923) by [@SwftAlpc](https://github.com/SwftAlpc).\n* üåê Add German translation for `docs/de/docs/tutorial/index.md`. PR [#9502](https://github.com/tiangolo/fastapi/pull/9502) by [@fhabers21](https://github.com/fhabers21).\n* üåê Add German translation for `docs/de/docs/tutorial/background-tasks.md`. PR [#10566](https://github.com/tiangolo/fastapi/pull/10566) by [@nilslindemann](https://github.com/nilslindemann).\n* ‚úèÔ∏è Fix typo in `docs/ru/docs/index.md`. PR [#10672](https://github.com/tiangolo/fastapi/pull/10672) by [@Delitel-WEB](https://github.com/Delitel-WEB).\n* ‚úèÔ∏è Fix typos in `docs/zh/docs/tutorial/extra-data-types.md`. PR [#10727](https://github.com/tiangolo/fastapi/pull/10727) by [@HiemalBeryl](https://github.com/HiemalBeryl).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/dependencies/classes-as-dependencies.md`. PR [#10410](https://github.com/tiangolo/fastapi/pull/10410) by [@AlertRED](https://github.com/AlertRED).", "source": "release-notes.md"}
{"doc_id": "fastapi_0448", "title": "Release Notes", "section": "Internal", "content": "* üë• Update FastAPI People. PR [#11074](https://github.com/tiangolo/fastapi/pull/11074) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors: add Coherence. PR [#11066](https://github.com/tiangolo/fastapi/pull/11066) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Upgrade GitHub Action issue-manager. PR [#11056](https://github.com/tiangolo/fastapi/pull/11056) by [@tiangolo](https://github.com/tiangolo).\n* üç± Update sponsors: TalkPython badge. PR [#11052](https://github.com/tiangolo/fastapi/pull/11052) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors: TalkPython badge image. PR [#11048](https://github.com/tiangolo/fastapi/pull/11048) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors, remove Deta. PR [#11041](https://github.com/tiangolo/fastapi/pull/11041) by [@tiangolo](https://github.com/tiangolo).\n* üíÑ Fix CSS breaking RTL languages (erroneously introduced by a previous RTL PR). PR [#11039](https://github.com/tiangolo/fastapi/pull/11039) by [@tiangolo](https://github.com/tiangolo).\n* üîß Add Italian to `mkdocs.yml`. PR [#11016](https://github.com/tiangolo/fastapi/pull/11016) by [@alejsdev](https://github.com/alejsdev).\n* üî® Verify `mkdocs.yml` languages in CI, update `docs.py`. PR [#11009](https://github.com/tiangolo/fastapi/pull/11009) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update config in `label-approved.yml` to accept translations with 1 reviewer. PR [#11007](https://github.com/tiangolo/fastapi/pull/11007) by [@alejsdev](https://github.com/alejsdev).\n* üë∑ Add changes-requested handling in GitHub Action issue manager. PR [#10971](https://github.com/tiangolo/fastapi/pull/10971) by [@tiangolo](https://github.com/tiangolo).\n* üîß  Group dependencies on dependabot updates. PR [#10952](https://github.com/tiangolo/fastapi/pull/10952) by [@Kludex](https://github.com/Kludex).\n* ‚¨Ü Bump actions/setup-python from 4 to 5. PR [#10764](https://github.com/tiangolo/fastapi/pull/10764) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump pypa/gh-action-pypi-publish from 1.8.10 to 1.8.11. PR [#10731](https://github.com/tiangolo/fastapi/pull/10731) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump dawidd6/action-download-artifact from 2.28.0 to 3.0.0. PR [#10777](https://github.com/tiangolo/fastapi/pull/10777) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üîß  Add support for translations to languages with a longer code name, like `zh-hant`. PR [#10950](https://github.com/tiangolo/fastapi/pull/10950) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0449", "title": "Release Notes", "section": "0.109.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0450", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add support for Python 3.12. PR [#10666](https://github.com/tiangolo/fastapi/pull/10666) by [@Jamim](https://github.com/Jamim).", "source": "release-notes.md"}
{"doc_id": "fastapi_0451", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨ÜÔ∏è Upgrade Starlette to >=0.35.0,<0.36.0. PR [#10938](https://github.com/tiangolo/fastapi/pull/10938) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0452", "title": "Release Notes", "section": "Docs", "content": "* ‚úèÔ∏è Fix typo in `docs/en/docs/alternatives.md`. PR [#10931](https://github.com/tiangolo/fastapi/pull/10931) by [@s111d](https://github.com/s111d).\n* üìù Replace `email` with `username` in `docs_src/security/tutorial007` code examples. PR [#10649](https://github.com/tiangolo/fastapi/pull/10649) by [@nilslindemann](https://github.com/nilslindemann).\n* üìù Add VS Code tutorial link. PR [#10592](https://github.com/tiangolo/fastapi/pull/10592) by [@nilslindemann](https://github.com/nilslindemann).\n* üìù Add notes about Pydantic v2's new `.model_dump()`. PR [#10929](https://github.com/tiangolo/fastapi/pull/10929) by [@tiangolo](https://github.com/tiangolo).\n* üìù Fix broken link in `docs/en/docs/tutorial/sql-databases.md`. PR [#10765](https://github.com/tiangolo/fastapi/pull/10765) by [@HurSungYun](https://github.com/HurSungYun).\n* üìù Add External Link: FastAPI application monitoring made easy. PR [#10917](https://github.com/tiangolo/fastapi/pull/10917) by [@tiangolo](https://github.com/tiangolo).\n* ‚ú® Generate automatic language names for docs translations. PR [#5354](https://github.com/tiangolo/fastapi/pull/5354) by [@jakul](https://github.com/jakul).\n* ‚úèÔ∏è Fix typos in `docs/en/docs/alternatives.md` and `docs/en/docs/tutorial/dependencies/index.md`. PR [#10906](https://github.com/tiangolo/fastapi/pull/10906) by [@s111d](https://github.com/s111d).\n* ‚úèÔ∏è Fix typos in `docs/en/docs/tutorial/dependencies/dependencies-with-yield.md`. PR [#10834](https://github.com/tiangolo/fastapi/pull/10834) by [@Molkree](https://github.com/Molkree).\n* üìù Add article: \"Building a RESTful API with FastAPI: Secure Signup and Login Functionality Included\". PR [#9733](https://github.com/tiangolo/fastapi/pull/9733) by [@dxphilo](https://github.com/dxphilo).\n* üìù Add warning about lifecycle events with `AsyncClient`. PR [#4167](https://github.com/tiangolo/fastapi/pull/4167) by [@andrew-chang-dewitt](https://github.com/andrew-chang-dewitt).\n* ‚úèÔ∏è Fix typos in `/docs/reference/exceptions.md` and `/en/docs/reference/status.md`. PR [#10809](https://github.com/tiangolo/fastapi/pull/10809) by [@clarencepenz](https://github.com/clarencepenz).\n* ‚úèÔ∏è Fix typo in `openapi-callbacks.md`. PR [#10673](https://github.com/tiangolo/fastapi/pull/10673) by [@kayjan](https://github.com/kayjan).\n* ‚úèÔ∏è Fix typo in `fastapi/routing.py` . PR [#10520](https://github.com/tiangolo/fastapi/pull/10520) by [@sepsh](https://github.com/sepsh).\n* üìù Replace HTTP code returned in case of existing user error in docs for testing. PR [#4482](https://github.com/tiangolo/fastapi/pull/4482) by [@TristanMarion](https://github.com/TristanMarion).\n* üìù Add blog for FastAPI & Supabase. PR [#6018](https://github.com/tiangolo/fastapi/pull/6018) by [@theinfosecguy](https://github.com/theinfosecguy).\n* üìù Update example source files for SQL databases with SQLAlchemy. PR [#9508](https://github.com/tiangolo/fastapi/pull/9508) by [@s-mustafa](https://github.com/s-mustafa).\n* üìù Update code examples in docs for body, replace name `create_item` with `update_item` when appropriate. PR [#5913](https://github.com/tiangolo/fastapi/pull/5913) by [@OttoAndrey](https://github.com/OttoAndrey).\n* ‚úèÔ∏è Fix typo in dependencies with yield source examples. PR [#10847](https://github.com/tiangolo/fastapi/pull/10847) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0453", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Bengali translation for `docs/bn/docs/index.md`. PR [#9177](https://github.com/tiangolo/fastapi/pull/9177) by [@Fahad-Md-Kamal](https://github.com/Fahad-Md-Kamal).\n* ‚úèÔ∏è Update Python version in `index.md` in several languages. PR [#10711](https://github.com/tiangolo/fastapi/pull/10711) by [@tamago3keran](https://github.com/tamago3keran).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/request-forms-and-files.md`. PR [#10347](https://github.com/tiangolo/fastapi/pull/10347) by [@AlertRED](https://github.com/AlertRED).\n* üåê Add Ukrainian translation for `docs/uk/docs/index.md`. PR [#10362](https://github.com/tiangolo/fastapi/pull/10362) by [@rostik1410](https://github.com/rostik1410).\n* ‚úèÔ∏è  Update Python version in `docs/ko/docs/index.md`. PR [#10680](https://github.com/tiangolo/fastapi/pull/10680) by [@Eeap](https://github.com/Eeap).\n* üåê Add Persian translation for `docs/fa/docs/features.md`. PR [#5887](https://github.com/tiangolo/fastapi/pull/5887) by [@amirilf](https://github.com/amirilf).\n* üåê Add Chinese translation for `docs/zh/docs/advanced/additional-responses.md`. PR [#10325](https://github.com/tiangolo/fastapi/pull/10325) by [@ShuibeiC](https://github.com/ShuibeiC).\n* üåê Fix typos in Russian translations for `docs/ru/docs/tutorial/background-tasks.md`, `docs/ru/docs/tutorial/body-nested-models.md`, `docs/ru/docs/tutorial/debugging.md`, `docs/ru/docs/tutorial/testing.md`. PR [#10311](https://github.com/tiangolo/fastapi/pull/10311) by [@AlertRED](https://github.com/AlertRED).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/request-files.md`. PR [#10332](https://github.com/tiangolo/fastapi/pull/10332) by [@AlertRED](https://github.com/AlertRED).\n* üåê Add Chinese translation for `docs/zh/docs/deployment/server-workers.md`. PR [#10292](https://github.com/tiangolo/fastapi/pull/10292) by [@xzmeng](https://github.com/xzmeng).\n* üåê Add Chinese translation for `docs/zh/docs/deployment/cloud.md`. PR [#10291](https://github.com/tiangolo/fastapi/pull/10291) by [@xzmeng](https://github.com/xzmeng).\n* üåê Add Chinese translation for `docs/zh/docs/deployment/manually.md`. PR [#10279](https://github.com/tiangolo/fastapi/pull/10279) by [@xzmeng](https://github.com/xzmeng).\n* üåê Add Chinese translation for `docs/zh/docs/deployment/https.md`. PR [#10277](https://github.com/tiangolo/fastapi/pull/10277) by [@xzmeng](https://github.com/xzmeng).\n* üåê Add Chinese translation for `docs/zh/docs/deployment/index.md`. PR [#10275](https://github.com/tiangolo/fastapi/pull/10275) by [@xzmeng](https://github.com/xzmeng).\n* üåê Add German translation for `docs/de/docs/tutorial/first-steps.md`. PR [#9530](https://github.com/tiangolo/fastapi/pull/9530) by [@fhabers21](https://github.com/fhabers21).\n* üåê Update Turkish translation for `docs/tr/docs/index.md`. PR [#10444](https://github.com/tiangolo/fastapi/pull/10444) by [@hasansezertasan](https://github.com/hasansezertasan).\n* üåê Add Chinese translation for `docs/zh/docs/learn/index.md`. PR [#10479](https://github.com/tiangolo/fastapi/pull/10479) by [@KAZAMA-DREAM](https://github.com/KAZAMA-DREAM).\n* üåê Add Russian translation for `docs/ru/docs/learn/index.md`. PR [#10539](https://github.com/tiangolo/fastapi/pull/10539) by [@AlertRED](https://github.com/AlertRED).\n* üåê Update SQLAlchemy instruction in Chinese translation `docs/zh/docs/tutorial/sql-databases.md`. PR [#9712](https://github.com/tiangolo/fastapi/pull/9712) by [@Royc30ne](https://github.com/Royc30ne).\n* üåê Add Turkish translation for `docs/tr/docs/external-links.md`. PR [#10549](https://github.com/tiangolo/fastapi/pull/10549) by [@hasansezertasan](https://github.com/hasansezertasan).\n* üåê Add Spanish translation for `docs/es/docs/learn/index.md`. PR [#10885](https://github.com/tiangolo/fastapi/pull/10885) by [@pablocm83](https://github.com/pablocm83).\n* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/body-fields.md`. PR [#10670](https://github.com/tiangolo/fastapi/pull/10670) by [@ArtemKhymenko](https://github.com/ArtemKhymenko).\n* üåê Add Hungarian translation for `/docs/hu/docs/index.md`. PR [#10812](https://github.com/tiangolo/fastapi/pull/10812) by [@takacs](https://github.com/takacs).\n* üåê Add Turkish translation for `docs/tr/docs/newsletter.md`. PR [#10550](https://github.com/tiangolo/fastapi/pull/10550) by [@hasansezertasan](https://github.com/hasansezertasan).\n* üåê Add Spanish translation for `docs/es/docs/help/index.md`. PR [#10907](https://github.com/tiangolo/fastapi/pull/10907) by [@pablocm83](https://github.com/pablocm83).\n* üåê Add Spanish translation for `docs/es/docs/about/index.md`. PR [#10908](https://github.com/tiangolo/fastapi/pull/10908) by [@pablocm83](https://github.com/pablocm83).\n* üåê Add Spanish translation for `docs/es/docs/resources/index.md`. PR [#10909](https://github.com/tiangolo/fastapi/pull/10909) by [@pablocm83](https://github.com/pablocm83).", "source": "release-notes.md"}
{"doc_id": "fastapi_0454", "title": "Release Notes", "section": "Internal", "content": "* üë• Update FastAPI People. PR [#10871](https://github.com/tiangolo/fastapi/pull/10871) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Upgrade custom GitHub Action comment-docs-preview-in-pr. PR [#10916](https://github.com/tiangolo/fastapi/pull/10916) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨ÜÔ∏è Upgrade GitHub Action latest-changes. PR [#10915](https://github.com/tiangolo/fastapi/pull/10915) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Upgrade GitHub Action label-approved. PR [#10913](https://github.com/tiangolo/fastapi/pull/10913) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨ÜÔ∏è Upgrade GitHub Action label-approved. PR [#10905](https://github.com/tiangolo/fastapi/pull/10905) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0455", "title": "Release Notes", "section": "0.108.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0456", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨ÜÔ∏è Upgrade Starlette to `>=0.29.0,<0.33.0`, update docs and usage of templates with new Starlette arguments. Remove pin of AnyIO `>=3.7.1,<4.0.0`, add support for AnyIO 4.x.x. PR [#10846](https://github.com/tiangolo/fastapi/pull/10846) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0457", "title": "Release Notes", "section": "0.107.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0458", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨ÜÔ∏è Upgrade Starlette to 0.28.0. PR [#9636](https://github.com/tiangolo/fastapi/pull/9636) by [@adriangb](https://github.com/adriangb).", "source": "release-notes.md"}
{"doc_id": "fastapi_0459", "title": "Release Notes", "section": "Docs", "content": "* üìù Add docs: Node.js script alternative to update OpenAPI for generated clients. PR [#10845](https://github.com/tiangolo/fastapi/pull/10845) by [@alejsdev](https://github.com/alejsdev).\n* üìù Restructure Docs section in Contributing page. PR [#10844](https://github.com/tiangolo/fastapi/pull/10844) by [@alejsdev](https://github.com/alejsdev).", "source": "release-notes.md"}
{"doc_id": "fastapi_0460", "title": "Release Notes", "section": "0.106.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0461", "title": "Release Notes", "section": "Breaking Changes", "content": "Using resources from dependencies with `yield` in background tasks is no longer supported.\n\nThis change is what supports the new features, read below. ü§ì", "source": "release-notes.md"}
{"doc_id": "fastapi_0462", "title": "Release Notes", "section": "Dependencies with `yield`, `HTTPException` and Background Tasks", "content": "Dependencies with `yield` now can raise `HTTPException` and other exceptions after `yield`. üéâ\n\nRead the new docs here: [Dependencies with `yield` and `HTTPException`](https://fastapi.tiangolo.com/tutorial/dependencies/dependencies-with-yield/#dependencies-with-yield-and-httpexception).\n\n```Python\nfrom fastapi import Depends, FastAPI, HTTPException\nfrom typing_extensions import Annotated\n\napp = FastAPI()\n\n\ndata = {\n    \"plumbus\": {\"description\": \"Freshly pickled plumbus\", \"owner\": \"Morty\"},\n    \"portal-gun\": {\"description\": \"Gun to create portals\", \"owner\": \"Rick\"},\n}\n\n\nclass OwnerError(Exception):\n    pass\n\n\ndef get_username():\n    try:\n        yield \"Rick\"\n    except OwnerError as e:\n        raise HTTPException(status_code=400, detail=f\"Owner error: {e}\")\n\n\n@app.get(\"/items/{item_id}\")\ndef get_item(item_id: str, username: Annotated[str, Depends(get_username)]):\n    if item_id not in data:\n        raise HTTPException(status_code=404, detail=\"Item not found\")\n    item = data[item_id]\n    if item[\"owner\"] != username:\n        raise OwnerError(username)\n    return item\n```\n\n---\n\nBefore FastAPI 0.106.0, raising exceptions after `yield` was not possible, the exit code in dependencies with `yield` was executed *after* the response was sent, so [Exception Handlers](https://fastapi.tiangolo.com/tutorial/handling-errors/#install-custom-exception-handlers) would have already run.\n\nThis was designed this way mainly to allow using the same objects \"yielded\" by dependencies inside of background tasks, because the exit code would be executed after the background tasks were finished.\n\nNevertheless, as this would mean waiting for the response to travel through the network while unnecessarily holding a resource in a dependency with yield (for example a database connection), this was changed in FastAPI 0.106.0.\n\nAdditionally, a background task is normally an independent set of logic that should be handled separately, with its own resources (e.g. its own database connection).\n\nIf you used to rely on this behavior, now you should create the resources for background tasks inside the background task itself, and use internally only data that doesn't depend on the resources of dependencies with `yield`.\n\nFor example, instead of using the same database session, you would create a new database session inside of the background task, and you would obtain the objects from the database using this new session. And then instead of passing the object from the database as a parameter to the background task function, you would pass the ID of that object and then obtain the object again inside the background task function.\n\nThe sequence of execution before FastAPI 0.106.0 was like this diagram:\n\nTime flows from top to bottom. And each column is one of the parts interacting or executing code.\n\n```mermaid\nsequenceDiagram\n\nparticipant client as Client\nparticipant handler as Exception handler\nparticipant dep as Dep with yield\nparticipant operation as Path Operation\nparticipant tasks as Background tasks\n\n    Note over client,tasks: Can raise exception for dependency, handled after response is sent\n    Note over client,operation: Can raise HTTPException and can change the response\n    client ->> dep: Start request\n    Note over dep: Run code up to yield\n    opt raise\n        dep -->> handler: Raise HTTPException\n        handler -->> client: HTTP error response\n        dep -->> dep: Raise other exception\n    end\n    dep ->> operation: Run dependency, e.g. DB session\n    opt raise\n        operation -->> dep: Raise HTTPException\n        dep -->> handler: Auto forward exception\n        handler -->> client: HTTP error response\n        operation -->> dep: Raise other exception\n        dep -->> handler: Auto forward exception\n    end\n    operation ->> client: Return response to client\n    Note over client,operation: Response is already sent, can't change it anymore\n    opt Tasks\n        operation -->> tasks: Send background tasks\n    end\n    opt Raise other exception\n        tasks -->> dep: Raise other exception\n    end\n    Note over dep: After yield\n    opt Handle other exception\n        dep -->> dep: Handle exception, can't change response. E.g. close DB session.\n    end\n```\n\nThe new execution flow can be found in the docs: [Execution of dependencies with `yield`](https://fastapi.tiangolo.com/tutorial/dependencies/dependencies-with-yield/#execution-of-dependencies-with-yield).", "source": "release-notes.md"}
{"doc_id": "fastapi_0463", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add support for raising exceptions (including `HTTPException`) in dependencies with `yield` in the exit code, do not support them in background tasks. PR [#10831](https://github.com/tiangolo/fastapi/pull/10831) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0464", "title": "Release Notes", "section": "Internal", "content": "* üë• Update FastAPI People. PR [#10567](https://github.com/tiangolo/fastapi/pull/10567) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0465", "title": "Release Notes", "section": "0.105.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0466", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add support for multiple Annotated annotations, e.g. `Annotated[str, Field(), Query()]`. PR [#10773](https://github.com/tiangolo/fastapi/pull/10773) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0467", "title": "Release Notes", "section": "Refactors", "content": "* üî• Remove unused NoneType. PR [#10774](https://github.com/tiangolo/fastapi/pull/10774) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0468", "title": "Release Notes", "section": "Docs", "content": "* üìù Tweak default suggested configs for generating clients. PR [#10736](https://github.com/tiangolo/fastapi/pull/10736) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0469", "title": "Release Notes", "section": "Internal", "content": "* üîß Update sponsors, add Scalar. PR [#10728](https://github.com/tiangolo/fastapi/pull/10728) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors, add PropelAuth. PR [#10760](https://github.com/tiangolo/fastapi/pull/10760) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Update build docs, verify README on CI. PR [#10750](https://github.com/tiangolo/fastapi/pull/10750) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors, remove Fern. PR [#10729](https://github.com/tiangolo/fastapi/pull/10729) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors, add Codacy. PR [#10677](https://github.com/tiangolo/fastapi/pull/10677) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors, add Reflex. PR [#10676](https://github.com/tiangolo/fastapi/pull/10676) by [@tiangolo](https://github.com/tiangolo).\n* üìù Update release notes, move and check latest-changes. PR [#10588](https://github.com/tiangolo/fastapi/pull/10588) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Upgrade latest-changes GitHub Action. PR [#10587](https://github.com/tiangolo/fastapi/pull/10587) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0470", "title": "Release Notes", "section": "0.104.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0471", "title": "Release Notes", "section": "Fixes", "content": "* üìå Pin Swagger UI version to 5.9.0 temporarily to handle a bug crashing it in 5.9.1. PR [#10529](https://github.com/tiangolo/fastapi/pull/10529) by [@alejandraklachquin](https://github.com/alejandraklachquin).\n    * This is not really a bug in FastAPI but in Swagger UI, nevertheless pinning the version will work while a solution is found on the [Swagger UI side](https://github.com/swagger-api/swagger-ui/issues/9337).", "source": "release-notes.md"}
{"doc_id": "fastapi_0472", "title": "Release Notes", "section": "Docs", "content": "* üìù Update data structure and render for external-links. PR [#10495](https://github.com/tiangolo/fastapi/pull/10495) by [@tiangolo](https://github.com/tiangolo).\n* ‚úèÔ∏è Fix link to SPDX license identifier in `docs/en/docs/tutorial/metadata.md`. PR [#10433](https://github.com/tiangolo/fastapi/pull/10433) by [@worldworm](https://github.com/worldworm).\n* üìù Update example validation error from Pydantic v1 to match Pydantic v2 in `docs/en/docs/tutorial/path-params.md`. PR [#10043](https://github.com/tiangolo/fastapi/pull/10043) by [@giuliowaitforitdavide](https://github.com/giuliowaitforitdavide).\n* ‚úèÔ∏è Fix typos in emoji docs and in some source examples. PR [#10438](https://github.com/tiangolo/fastapi/pull/10438) by [@afuetterer](https://github.com/afuetterer).\n* ‚úèÔ∏è Fix typo in `docs/en/docs/reference/dependencies.md`. PR [#10465](https://github.com/tiangolo/fastapi/pull/10465) by [@suravshresth](https://github.com/suravshresth).\n* ‚úèÔ∏è Fix typos and rewordings in `docs/en/docs/tutorial/body-nested-models.md`. PR [#10468](https://github.com/tiangolo/fastapi/pull/10468) by [@yogabonito](https://github.com/yogabonito).\n* üìù Update docs, remove references to removed `pydantic.Required` in `docs/en/docs/tutorial/query-params-str-validations.md`. PR [#10469](https://github.com/tiangolo/fastapi/pull/10469) by [@yogabonito](https://github.com/yogabonito).\n* ‚úèÔ∏è Fix typo in `docs/en/docs/reference/index.md`. PR [#10467](https://github.com/tiangolo/fastapi/pull/10467) by [@tarsil](https://github.com/tarsil).\n* üî• Remove unnecessary duplicated docstrings. PR [#10484](https://github.com/tiangolo/fastapi/pull/10484) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0473", "title": "Release Notes", "section": "Internal", "content": "* ‚úèÔ∏è Update Pydantic links to dotenv support. PR [#10511](https://github.com/tiangolo/fastapi/pull/10511) by [@White-Mask](https://github.com/White-Mask).\n* ‚úèÔ∏è Update links in `docs/en/docs/async.md` and `docs/zh/docs/async.md` to make them relative. PR [#10498](https://github.com/tiangolo/fastapi/pull/10498) by [@hasnatsajid](https://github.com/hasnatsajid).\n* ‚úèÔ∏è Fix links in `docs/em/docs/async.md`. PR [#10507](https://github.com/tiangolo/fastapi/pull/10507) by [@hasnatsajid](https://github.com/hasnatsajid).\n* ‚úèÔ∏è Fix typo in `docs/em/docs/index.md`, Python 3.8. PR [#10521](https://github.com/tiangolo/fastapi/pull/10521) by [@kerriop](https://github.com/kerriop).\n* ‚¨Ü Bump pillow from 9.5.0 to 10.1.0. PR [#10446](https://github.com/tiangolo/fastapi/pull/10446) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Update mkdocs-material requirement from <9.0.0,>=8.1.4 to >=8.1.4,<10.0.0. PR [#5862](https://github.com/tiangolo/fastapi/pull/5862) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump mkdocs-material from 9.1.21 to 9.4.7. PR [#10545](https://github.com/tiangolo/fastapi/pull/10545) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üë∑ Install MkDocs Material Insiders only when secrets are available, for Dependabot. PR [#10544](https://github.com/tiangolo/fastapi/pull/10544) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors badges, Databento. PR [#10519](https://github.com/tiangolo/fastapi/pull/10519) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Adopt Ruff format. PR [#10517](https://github.com/tiangolo/fastapi/pull/10517) by [@tiangolo](https://github.com/tiangolo).\n* üîß Add `CITATION.cff` file for academic citations. PR [#10496](https://github.com/tiangolo/fastapi/pull/10496) by [@tiangolo](https://github.com/tiangolo).\n* üêõ Fix overriding MKDocs theme lang in hook. PR [#10490](https://github.com/tiangolo/fastapi/pull/10490) by [@tiangolo](https://github.com/tiangolo).\n* üî• Drop/close Gitter chat. Questions should go to GitHub Discussions, free conversations to Discord.. PR [#10485](https://github.com/tiangolo/fastapi/pull/10485) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0474", "title": "Release Notes", "section": "0.104.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0475", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add reference (code API) docs with PEP 727, add subclass with custom docstrings for `BackgroundTasks`, refactor docs structure. PR [#10392](https://github.com/tiangolo/fastapi/pull/10392) by [@tiangolo](https://github.com/tiangolo). New docs at [FastAPI Reference - Code API](https://fastapi.tiangolo.com/reference/).", "source": "release-notes.md"}
{"doc_id": "fastapi_0476", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨ÜÔ∏è Drop support for Python 3.7, require Python 3.8 or above. PR [#10442](https://github.com/tiangolo/fastapi/pull/10442) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0477", "title": "Release Notes", "section": "Internal", "content": "* ‚¨Ü Bump dawidd6/action-download-artifact from 2.27.0 to 2.28.0. PR [#10268](https://github.com/tiangolo/fastapi/pull/10268) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump actions/checkout from 3 to 4. PR [#10208](https://github.com/tiangolo/fastapi/pull/10208) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump pypa/gh-action-pypi-publish from 1.8.6 to 1.8.10. PR [#10061](https://github.com/tiangolo/fastapi/pull/10061) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üîß Update sponsors, Bump.sh images. PR [#10381](https://github.com/tiangolo/fastapi/pull/10381) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People. PR [#10363](https://github.com/tiangolo/fastapi/pull/10363) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0478", "title": "Release Notes", "section": "0.103.2", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0479", "title": "Release Notes", "section": "Refactors", "content": "* ‚¨ÜÔ∏è Upgrade compatibility with Pydantic v2.4, new renamed functions and JSON Schema input/output models with default values. PR [#10344](https://github.com/tiangolo/fastapi/pull/10344) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0480", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/extra-data-types.md`. PR [#10132](https://github.com/tiangolo/fastapi/pull/10132) by [@ArtemKhymenko](https://github.com/ArtemKhymenko).\n* üåê Fix typos in French translations for `docs/fr/docs/advanced/path-operation-advanced-configuration.md`, `docs/fr/docs/alternatives.md`, `docs/fr/docs/async.md`, `docs/fr/docs/features.md`, `docs/fr/docs/help-fastapi.md`, `docs/fr/docs/index.md`, `docs/fr/docs/python-types.md`, `docs/fr/docs/tutorial/body.md`, `docs/fr/docs/tutorial/first-steps.md`, `docs/fr/docs/tutorial/query-params.md`. PR [#10154](https://github.com/tiangolo/fastapi/pull/10154) by [@s-rigaud](https://github.com/s-rigaud).\n* üåê Add Chinese translation for `docs/zh/docs/async.md`. PR [#5591](https://github.com/tiangolo/fastapi/pull/5591) by [@mkdir700](https://github.com/mkdir700).\n* üåê Update Chinese translation for `docs/tutorial/security/simple-oauth2.md`. PR [#3844](https://github.com/tiangolo/fastapi/pull/3844) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Korean translation for `docs/ko/docs/deployment/cloud.md`. PR [#10191](https://github.com/tiangolo/fastapi/pull/10191) by [@Sion99](https://github.com/Sion99).\n* üåê Add Japanese translation for `docs/ja/docs/deployment/https.md`. PR [#10298](https://github.com/tiangolo/fastapi/pull/10298) by [@tamtam-fitness](https://github.com/tamtam-fitness).\n* üåê Fix typo in Russian translation for `docs/ru/docs/tutorial/body-fields.md`. PR [#10224](https://github.com/tiangolo/fastapi/pull/10224) by [@AlertRED](https://github.com/AlertRED).\n* üåê Add Polish translation for `docs/pl/docs/help-fastapi.md`. PR [#10121](https://github.com/tiangolo/fastapi/pull/10121) by [@romabozhanovgithub](https://github.com/romabozhanovgithub).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/header-params.md`. PR [#10226](https://github.com/tiangolo/fastapi/pull/10226) by [@AlertRED](https://github.com/AlertRED).\n* üåê Add Chinese translation for `docs/zh/docs/deployment/versions.md`. PR [#10276](https://github.com/tiangolo/fastapi/pull/10276) by [@xzmeng](https://github.com/xzmeng).", "source": "release-notes.md"}
{"doc_id": "fastapi_0481", "title": "Release Notes", "section": "Internal", "content": "* üîß Update sponsors, remove Flint. PR [#10349](https://github.com/tiangolo/fastapi/pull/10349) by [@tiangolo](https://github.com/tiangolo).\n* üîß Rename label \"awaiting review\" to \"awaiting-review\" to simplify search queries. PR [#10343](https://github.com/tiangolo/fastapi/pull/10343) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors, enable Svix (revert #10228). PR [#10253](https://github.com/tiangolo/fastapi/pull/10253) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors, remove Svix. PR [#10228](https://github.com/tiangolo/fastapi/pull/10228) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors, add Bump.sh. PR [#10227](https://github.com/tiangolo/fastapi/pull/10227) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0482", "title": "Release Notes", "section": "0.103.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0483", "title": "Release Notes", "section": "Fixes", "content": "* üìå Pin AnyIO to < 4.0.0 to handle an incompatibility while upgrading to Starlette 0.31.1. PR [#10194](https://github.com/tiangolo/fastapi/pull/10194) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0484", "title": "Release Notes", "section": "Docs", "content": "* ‚úèÔ∏è Fix validation parameter name in docs, from `regex` to `pattern`. PR [#10085](https://github.com/tiangolo/fastapi/pull/10085) by [@pablodorrio](https://github.com/pablodorrio).\n* ‚úèÔ∏è Fix indent format in `docs/en/docs/deployment/server-workers.md`. PR [#10066](https://github.com/tiangolo/fastapi/pull/10066) by [@tamtam-fitness](https://github.com/tamtam-fitness).\n* ‚úèÔ∏è Fix Pydantic examples in tutorial for Python types. PR [#9961](https://github.com/tiangolo/fastapi/pull/9961) by [@rahulsalgare](https://github.com/rahulsalgare).\n* ‚úèÔ∏è Fix link to Pydantic docs in `docs/en/docs/tutorial/extra-data-types.md`. PR [#10155](https://github.com/tiangolo/fastapi/pull/10155) by [@hasnatsajid](https://github.com/hasnatsajid).\n* ‚úèÔ∏è Fix typo in `docs/en/docs/tutorial/handling-errors.md`. PR [#10170](https://github.com/tiangolo/fastapi/pull/10170) by [@poupapaa](https://github.com/poupapaa).\n* ‚úèÔ∏è Fix typo in `docs/en/docs/tutorial/dependencies/dependencies-in-path-operation-decorators.md`. PR [#10172](https://github.com/tiangolo/fastapi/pull/10172) by [@ragul-kachiappan](https://github.com/ragul-kachiappan).", "source": "release-notes.md"}
{"doc_id": "fastapi_0485", "title": "Release Notes", "section": "Translations", "content": "* üåê Remove duplicate line in translation for `docs/pt/docs/tutorial/path-params.md`. PR [#10126](https://github.com/tiangolo/fastapi/pull/10126) by [@LecoOliveira](https://github.com/LecoOliveira).\n* üåê Add Yoruba translation for `docs/yo/docs/index.md`. PR [#10033](https://github.com/tiangolo/fastapi/pull/10033) by [@AfolabiOlaoluwa](https://github.com/AfolabiOlaoluwa).\n* üåê Add Ukrainian translation for `docs/uk/docs/python-types.md`. PR [#10080](https://github.com/tiangolo/fastapi/pull/10080) by [@rostik1410](https://github.com/rostik1410).\n* üåê Add Vietnamese translations for `docs/vi/docs/tutorial/first-steps.md` and `docs/vi/docs/tutorial/index.md`. PR [#10088](https://github.com/tiangolo/fastapi/pull/10088) by [@magiskboy](https://github.com/magiskboy).\n* üåê Add Ukrainian translation for `docs/uk/docs/alternatives.md`. PR [#10060](https://github.com/tiangolo/fastapi/pull/10060) by [@whysage](https://github.com/whysage).\n* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/index.md`. PR [#10079](https://github.com/tiangolo/fastapi/pull/10079) by [@rostik1410](https://github.com/rostik1410).\n* ‚úèÔ∏è Fix typos in `docs/en/docs/how-to/separate-openapi-schemas.md` and `docs/en/docs/tutorial/schema-extra-example.md`. PR [#10189](https://github.com/tiangolo/fastapi/pull/10189) by [@xzmeng](https://github.com/xzmeng).\n* üåê Add Chinese translation for `docs/zh/docs/advanced/generate-clients.md`. PR [#9883](https://github.com/tiangolo/fastapi/pull/9883) by [@funny-cat-happy](https://github.com/funny-cat-happy).", "source": "release-notes.md"}
{"doc_id": "fastapi_0486", "title": "Release Notes", "section": "Refactors", "content": "* ‚úèÔ∏è Fix typos in comment in `fastapi/applications.py`. PR [#10045](https://github.com/tiangolo/fastapi/pull/10045) by [@AhsanSheraz](https://github.com/AhsanSheraz).\n* ‚úÖ Add missing test for OpenAPI examples, it was missing in coverage. PR [#10188](https://github.com/tiangolo/fastapi/pull/10188) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0487", "title": "Release Notes", "section": "Internal", "content": "* üë• Update FastAPI People. PR [#10186](https://github.com/tiangolo/fastapi/pull/10186) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0488", "title": "Release Notes", "section": "0.103.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0489", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add support for `openapi_examples` in all FastAPI parameters. PR [#10152](https://github.com/tiangolo/fastapi/pull/10152) by [@tiangolo](https://github.com/tiangolo).\n    * New docs: [OpenAPI-specific examples](https://fastapi.tiangolo.com/tutorial/schema-extra-example/#openapi-specific-examples).", "source": "release-notes.md"}
{"doc_id": "fastapi_0490", "title": "Release Notes", "section": "Docs", "content": "* üìù Add note to docs about Separate Input and Output Schemas with FastAPI version. PR [#10150](https://github.com/tiangolo/fastapi/pull/10150) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0491", "title": "Release Notes", "section": "0.102.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0492", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add support for disabling the separation of input and output JSON Schemas in OpenAPI with Pydantic v2 with `separate_input_output_schemas=False`. PR [#10145](https://github.com/tiangolo/fastapi/pull/10145) by [@tiangolo](https://github.com/tiangolo).\n    * New docs [Separate OpenAPI Schemas for Input and Output or Not](https://fastapi.tiangolo.com/how-to/separate-openapi-schemas/).\n    * This PR also includes a new setup (internal tools) for generating screenshots for the docs.", "source": "release-notes.md"}
{"doc_id": "fastapi_0493", "title": "Release Notes", "section": "Refactors", "content": "* ‚ôªÔ∏è Refactor tests for new Pydantic 2.2.1. PR [#10115](https://github.com/tiangolo/fastapi/pull/10115) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0494", "title": "Release Notes", "section": "Docs", "content": "* üìù Add new docs section, How To - Recipes, move docs that don't have to be read by everyone to How To. PR [#10114](https://github.com/tiangolo/fastapi/pull/10114) by [@tiangolo](https://github.com/tiangolo).\n* üìù Update Advanced docs, add links to sponsor courses. PR [#10113](https://github.com/tiangolo/fastapi/pull/10113) by [@tiangolo](https://github.com/tiangolo).\n* üìù Update docs for generating clients. PR [#10112](https://github.com/tiangolo/fastapi/pull/10112) by [@tiangolo](https://github.com/tiangolo).\n* üìù Tweak MkDocs and add redirects. PR [#10111](https://github.com/tiangolo/fastapi/pull/10111) by [@tiangolo](https://github.com/tiangolo).\n* üìù Restructure docs for cloud providers, include links to sponsors. PR [#10110](https://github.com/tiangolo/fastapi/pull/10110) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0495", "title": "Release Notes", "section": "Internal", "content": "* üîß Update sponsors, add Speakeasy. PR [#10098](https://github.com/tiangolo/fastapi/pull/10098) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0496", "title": "Release Notes", "section": "0.101.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0497", "title": "Release Notes", "section": "Fixes", "content": "* ‚ú® Add `ResponseValidationError` printable details, to show up in server error logs. PR [#10078](https://github.com/tiangolo/fastapi/pull/10078) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0498", "title": "Release Notes", "section": "Refactors", "content": "* ‚úèÔ∏è Fix typo in deprecation warnings in `fastapi/params.py`. PR [#9854](https://github.com/tiangolo/fastapi/pull/9854) by [@russbiggs](https://github.com/russbiggs).\n* ‚úèÔ∏è Fix typos in comments on internal code in `fastapi/concurrency.py` and `fastapi/routing.py`. PR [#9590](https://github.com/tiangolo/fastapi/pull/9590) by [@ElliottLarsen](https://github.com/ElliottLarsen).", "source": "release-notes.md"}
{"doc_id": "fastapi_0499", "title": "Release Notes", "section": "Docs", "content": "* ‚úèÔ∏è Fix typo in release notes. PR [#9835](https://github.com/tiangolo/fastapi/pull/9835) by [@francisbergin](https://github.com/francisbergin).\n* üìù Add external article: Build an SMS Spam Classifier Serverless Database with FaunaDB and FastAPI. PR [#9847](https://github.com/tiangolo/fastapi/pull/9847) by [@adejumoridwan](https://github.com/adejumoridwan).\n* üìù Fix typo in `docs/en/docs/contributing.md`. PR [#9878](https://github.com/tiangolo/fastapi/pull/9878) by [@VicenteMerino](https://github.com/VicenteMerino).\n* üìù Fix code highlighting in `docs/en/docs/tutorial/bigger-applications.md`. PR [#9806](https://github.com/tiangolo/fastapi/pull/9806) by [@theonlykingpin](https://github.com/theonlykingpin).", "source": "release-notes.md"}
{"doc_id": "fastapi_0500", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Japanese translation for `docs/ja/docs/deployment/concepts.md`. PR [#10062](https://github.com/tiangolo/fastapi/pull/10062) by [@tamtam-fitness](https://github.com/tamtam-fitness).\n* üåê Add Japanese translation for `docs/ja/docs/deployment/server-workers.md`. PR [#10064](https://github.com/tiangolo/fastapi/pull/10064) by [@tamtam-fitness](https://github.com/tamtam-fitness).\n* üåê Update Japanese translation for `docs/ja/docs/deployment/docker.md`. PR [#10073](https://github.com/tiangolo/fastapi/pull/10073) by [@tamtam-fitness](https://github.com/tamtam-fitness).\n* üåê Add Ukrainian translation for `docs/uk/docs/fastapi-people.md`. PR [#10059](https://github.com/tiangolo/fastapi/pull/10059) by [@rostik1410](https://github.com/rostik1410).\n* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/cookie-params.md`. PR [#10032](https://github.com/tiangolo/fastapi/pull/10032) by [@rostik1410](https://github.com/rostik1410).\n* üåê Add Russian translation for `docs/ru/docs/deployment/docker.md`. PR [#9971](https://github.com/tiangolo/fastapi/pull/9971) by [@Xewus](https://github.com/Xewus).\n* üåê Add Vietnamese translation for `docs/vi/docs/python-types.md`. PR [#10047](https://github.com/tiangolo/fastapi/pull/10047) by [@magiskboy](https://github.com/magiskboy).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/dependencies/global-dependencies.md`. PR [#9970](https://github.com/tiangolo/fastapi/pull/9970) by [@dudyaosuplayer](https://github.com/dudyaosuplayer).\n* üåê Add Urdu translation for `docs/ur/docs/benchmarks.md`. PR [#9974](https://github.com/tiangolo/fastapi/pull/9974) by [@AhsanSheraz](https://github.com/AhsanSheraz).", "source": "release-notes.md"}
{"doc_id": "fastapi_0501", "title": "Release Notes", "section": "Internal", "content": "* üîß Add sponsor Porter. PR [#10051](https://github.com/tiangolo/fastapi/pull/10051) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors, add Jina back as bronze sponsor. PR [#10050](https://github.com/tiangolo/fastapi/pull/10050) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump mypy from 1.4.0 to 1.4.1. PR [#9756](https://github.com/tiangolo/fastapi/pull/9756) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump mkdocs-material from 9.1.17 to 9.1.21. PR [#9960](https://github.com/tiangolo/fastapi/pull/9960) by [@dependabot[bot]](https://github.com/apps/dependabot).", "source": "release-notes.md"}
{"doc_id": "fastapi_0502", "title": "Release Notes", "section": "0.101.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0503", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Enable Pydantic's serialization mode for responses, add support for Pydantic's `computed_field`, better OpenAPI for response models, proper required attributes, better generated clients. PR [#10011](https://github.com/tiangolo/fastapi/pull/10011) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0504", "title": "Release Notes", "section": "Refactors", "content": "* ‚úÖ Fix tests for compatibility with pydantic 2.1.1. PR [#9943](https://github.com/tiangolo/fastapi/pull/9943) by [@dmontagu](https://github.com/dmontagu).\n* ‚úÖ Fix test error in Windows for `jsonable_encoder`. PR [#9840](https://github.com/tiangolo/fastapi/pull/9840) by [@iudeen](https://github.com/iudeen).", "source": "release-notes.md"}
{"doc_id": "fastapi_0505", "title": "Release Notes", "section": "Upgrades", "content": "* üìå Do not allow Pydantic 2.1.0 that breaks (require 2.1.1). PR [#10012](https://github.com/tiangolo/fastapi/pull/10012) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0506", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Russian translation for `docs/ru/docs/tutorial/security/index.md`. PR [#9963](https://github.com/tiangolo/fastapi/pull/9963) by [@eVery1337](https://github.com/eVery1337).\n* üåê Remove Vietnamese note about missing translation. PR [#9957](https://github.com/tiangolo/fastapi/pull/9957) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0507", "title": "Release Notes", "section": "Internal", "content": "* üë∑ Add GitHub Actions step dump context to debug external failures. PR [#10008](https://github.com/tiangolo/fastapi/pull/10008) by [@tiangolo](https://github.com/tiangolo).\n* üîß Restore MkDocs Material pin after the fix. PR [#10001](https://github.com/tiangolo/fastapi/pull/10001) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update the Question template to ask for the Pydantic version. PR [#10000](https://github.com/tiangolo/fastapi/pull/10000) by [@tiangolo](https://github.com/tiangolo).\n* üìç Update MkDocs Material dependencies. PR [#9986](https://github.com/tiangolo/fastapi/pull/9986) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People. PR [#9999](https://github.com/tiangolo/fastapi/pull/9999) by [@tiangolo](https://github.com/tiangolo).\n* üê≥ Update Dockerfile with compatibility versions, to upgrade later. PR [#9998](https://github.com/tiangolo/fastapi/pull/9998) by [@tiangolo](https://github.com/tiangolo).\n* ‚ûï Add pydantic-settings to FastAPI People dependencies. PR [#9988](https://github.com/tiangolo/fastapi/pull/9988) by [@tiangolo](https://github.com/tiangolo).\n* ‚ôªÔ∏è Update FastAPI People logic with new Pydantic. PR [#9985](https://github.com/tiangolo/fastapi/pull/9985) by [@tiangolo](https://github.com/tiangolo).\n* üç± Update sponsors, Fern badge. PR [#9982](https://github.com/tiangolo/fastapi/pull/9982) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Deploy docs to Cloudflare Pages. PR [#9978](https://github.com/tiangolo/fastapi/pull/9978) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsor Fern. PR [#9979](https://github.com/tiangolo/fastapi/pull/9979) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Update CI debug mode with Tmate. PR [#9977](https://github.com/tiangolo/fastapi/pull/9977) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0508", "title": "Release Notes", "section": "0.100.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0509", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Replace `MultHostUrl` to `AnyUrl` for compatibility with older versions of Pydantic v1. PR [#9852](https://github.com/tiangolo/fastapi/pull/9852) by [@Kludex](https://github.com/Kludex).", "source": "release-notes.md"}
{"doc_id": "fastapi_0510", "title": "Release Notes", "section": "Docs", "content": "* üìù Update links for self-hosted Swagger UI, point to v5, for OpenAPI 31.0. PR [#9834](https://github.com/tiangolo/fastapi/pull/9834) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0511", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Ukrainian translation for `docs/uk/docs/tutorial/body.md`. PR [#4574](https://github.com/tiangolo/fastapi/pull/4574) by [@ss-o-furda](https://github.com/ss-o-furda).\n* üåê Add Vietnamese translation for `docs/vi/docs/features.md` and `docs/vi/docs/index.md`. PR [#3006](https://github.com/tiangolo/fastapi/pull/3006) by [@magiskboy](https://github.com/magiskboy).\n* üåê Add Korean translation for `docs/ko/docs/async.md`. PR [#4179](https://github.com/tiangolo/fastapi/pull/4179) by [@NinaHwang](https://github.com/NinaHwang).\n* üåê Add Chinese translation for `docs/zh/docs/tutorial/background-tasks.md`. PR [#9812](https://github.com/tiangolo/fastapi/pull/9812) by [@wdh99](https://github.com/wdh99).\n* üåê Add French translation for `docs/fr/docs/tutorial/query-params-str-validations.md`. PR [#4075](https://github.com/tiangolo/fastapi/pull/4075) by [@Smlep](https://github.com/Smlep).\n* üåê Add French translation for `docs/fr/docs/tutorial/index.md`. PR [#2234](https://github.com/tiangolo/fastapi/pull/2234) by [@JulianMaurin](https://github.com/JulianMaurin).\n* üåê Add French translation for `docs/fr/docs/contributing.md`. PR [#2132](https://github.com/tiangolo/fastapi/pull/2132) by [@JulianMaurin](https://github.com/JulianMaurin).\n* üåê Add French translation for `docs/fr/docs/benchmarks.md`. PR [#2155](https://github.com/tiangolo/fastapi/pull/2155) by [@clemsau](https://github.com/clemsau).\n* üåê Update Chinese translations with new source files. PR [#9738](https://github.com/tiangolo/fastapi/pull/9738) by [@mahone3297](https://github.com/mahone3297).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/request-forms.md`. PR [#9841](https://github.com/tiangolo/fastapi/pull/9841) by [@dedkot01](https://github.com/dedkot01).\n* üåê Update Chinese translation for `docs/zh/docs/tutorial/handling-errors.md`. PR [#9485](https://github.com/tiangolo/fastapi/pull/9485) by [@Creat55](https://github.com/Creat55).", "source": "release-notes.md"}
{"doc_id": "fastapi_0512", "title": "Release Notes", "section": "Internal", "content": "* üîß Update sponsors, add Fern. PR [#9956](https://github.com/tiangolo/fastapi/pull/9956) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Update FastAPI People token. PR [#9844](https://github.com/tiangolo/fastapi/pull/9844) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People. PR [#9775](https://github.com/tiangolo/fastapi/pull/9775) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Update MkDocs Material token. PR [#9843](https://github.com/tiangolo/fastapi/pull/9843) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Update token for latest changes. PR [#9842](https://github.com/tiangolo/fastapi/pull/9842) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0513", "title": "Release Notes", "section": "0.100.0", "content": "‚ú® Support for **Pydantic v2** ‚ú®\n\nPydantic version 2 has the **core** re-written in **Rust** and includes a lot of improvements and features, for example:\n\n* Improved **correctness** in corner cases.\n* **Safer** types.\n* Better **performance** and **less energy** consumption.\n* Better **extensibility**.\n* etc.\n\n...all this while keeping the **same Python API**. In most of the cases, for simple models, you can simply upgrade the Pydantic version and get all the benefits. üöÄ\n\nIn some cases, for pure data validation and processing, you can get performance improvements of **20x** or more. This means 2,000% or more. ü§Ø\n\nWhen you use **FastAPI**, there's a lot more going on, processing the request and response, handling dependencies, executing **your own code**, and particularly, **waiting for the network**. But you will probably still get some nice performance improvements just from the upgrade.\n\nThe focus of this release is **compatibility** with Pydantic v1 and v2, to make sure your current apps keep working. Later there will be more focus on refactors, correctness, code improvements, and then **performance** improvements. Some third-party early beta testers that ran benchmarks on the beta releases of FastAPI reported improvements of **2x - 3x**. Which is not bad for just doing `pip install --upgrade fastapi pydantic`. This was not an official benchmark and I didn't check it myself, but it's a good sign.", "source": "release-notes.md"}
{"doc_id": "fastapi_0514", "title": "Release Notes", "section": "Migration", "content": "Check out the [Pydantic migration guide](https://docs.pydantic.dev/2.0/migration/).\n\nFor the things that need changes in your Pydantic models, the Pydantic team built [`bump-pydantic`](https://github.com/pydantic/bump-pydantic).\n\nA command line tool that will **process your code** and update most of the things **automatically** for you. Make sure you have your code in git first, and review each of the changes to make sure everything is correct before committing the changes.", "source": "release-notes.md"}
{"doc_id": "fastapi_0515", "title": "Release Notes", "section": "Pydantic v1", "content": "**This version of FastAPI still supports Pydantic v1**. And although Pydantic v1 will be deprecated at some point, it will still be supported for a while.\n\nThis means that you can install the new Pydantic v2, and if something fails, you can install Pydantic v1 while you fix any problems you might have, but having the latest FastAPI.\n\nThere are **tests for both Pydantic v1 and v2**, and test **coverage** is kept at **100%**.", "source": "release-notes.md"}
{"doc_id": "fastapi_0516", "title": "Release Notes", "section": "Changes", "content": "* There are **new parameter** fields supported by Pydantic `Field()` for:\n\n    * `Path()`\n    * `Query()`\n    * `Header()`\n    * `Cookie()`\n    * `Body()`\n    * `Form()`\n    * `File()`\n\n* The new parameter fields are:\n\n    * `default_factory`\n    * `alias_priority`\n    * `validation_alias`\n    * `serialization_alias`\n    * `discriminator`\n    * `strict`\n    * `multiple_of`\n    * `allow_inf_nan`\n    * `max_digits`\n    * `decimal_places`\n    * `json_schema_extra`\n\n...you can read about them in the Pydantic docs.\n\n* The parameter `regex` has been deprecated and replaced by `pattern`.\n    * You can read more about it in the docs for [Query Parameters and String Validations: Add regular expressions](https://fastapi.tiangolo.com/tutorial/query-params-str-validations/#add-regular-expressions).\n* New Pydantic models use an improved and simplified attribute `model_config` that takes a simple dict instead of an internal class `Config` for their configuration.\n    * You can read more about it in the docs for [Declare Request Example Data](https://fastapi.tiangolo.com/tutorial/schema-extra-example/).\n* The attribute `schema_extra` for the internal class `Config` has been replaced by the key `json_schema_extra` in the new `model_config` dict.\n    * You can read more about it in the docs for [Declare Request Example Data](https://fastapi.tiangolo.com/tutorial/schema-extra-example/).\n* When you install `\"fastapi[all]\"` it now also includes:\n    * <a href=\"https://docs.pydantic.dev/latest/usage/pydantic_settings/\" target=\"_blank\"><code>pydantic-settings</code></a> - for settings management.\n    * <a href=\"https://docs.pydantic.dev/latest/usage/types/extra_types/extra_types/\" target=\"_blank\"><code>pydantic-extra-types</code></a> - for extra types to be used with Pydantic.\n* Now Pydantic Settings is an additional optional package (included in `\"fastapi[all]\"`). To use settings you should now import `from pydantic_settings import BaseSettings` instead of importing from `pydantic` directly.\n    * You can read more about it in the docs for [Settings and Environment Variables](https://fastapi.tiangolo.com/advanced/settings/).\n\n* PR [#9816](https://github.com/tiangolo/fastapi/pull/9816) by [@tiangolo](https://github.com/tiangolo), included all the work done (in multiple PRs) on the beta branch (`main-pv2`).", "source": "release-notes.md"}
{"doc_id": "fastapi_0517", "title": "Release Notes", "section": "0.99.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0518", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix JSON Schema accepting bools as valid JSON Schemas, e.g. `additionalProperties: false`. PR [#9781](https://github.com/tiangolo/fastapi/pull/9781) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0519", "title": "Release Notes", "section": "Docs", "content": "* üìù Update source examples to use new JSON Schema examples field. PR [#9776](https://github.com/tiangolo/fastapi/pull/9776) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0520", "title": "Release Notes", "section": "0.99.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0521", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add support for OpenAPI 3.1.0. PR [#9770](https://github.com/tiangolo/fastapi/pull/9770) by [@tiangolo](https://github.com/tiangolo).\n    * New support for documenting **webhooks**, read the new docs here: <a href=\"https://fastapi.tiangolo.com/advanced/openapi-webhooks/\" class=\"external-link\" target=\"_blank\">Advanced User Guide: OpenAPI Webhooks</a>.\n    * Upgrade OpenAPI 3.1.0, this uses JSON Schema 2020-12.\n    * Upgrade Swagger UI to version 5.x.x, that supports OpenAPI 3.1.0.\n    * Updated `examples` field in `Query()`, `Cookie()`, `Body()`, etc. based on the latest JSON Schema and OpenAPI. Now it takes a list of examples and they are included directly in the JSON Schema, not outside. Read more about it (including the historical technical details) in the updated docs: <a href=\"https://fastapi.tiangolo.com/tutorial/schema-extra-example/\" class=\"external-link\" target=\"_blank\">Tutorial: Declare Request Example Data</a>.\n\n* ‚ú® Add support for `deque` objects and children in `jsonable_encoder`. PR [#9433](https://github.com/tiangolo/fastapi/pull/9433) by [@cranium](https://github.com/cranium).", "source": "release-notes.md"}
{"doc_id": "fastapi_0522", "title": "Release Notes", "section": "Docs", "content": "* üìù Fix form for the FastAPI and friends newsletter. PR [#9749](https://github.com/tiangolo/fastapi/pull/9749) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0523", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Persian translation for `docs/fa/docs/advanced/sub-applications.md`. PR [#9692](https://github.com/tiangolo/fastapi/pull/9692) by [@mojtabapaso](https://github.com/mojtabapaso).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/response-model.md`. PR [#9675](https://github.com/tiangolo/fastapi/pull/9675) by [@glsglsgls](https://github.com/glsglsgls).", "source": "release-notes.md"}
{"doc_id": "fastapi_0524", "title": "Release Notes", "section": "Internal", "content": "* üî® Enable linenums in MkDocs Material during local live development to simplify highlighting code. PR [#9769](https://github.com/tiangolo/fastapi/pull/9769) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Update httpx requirement from <0.24.0,>=0.23.0 to >=0.23.0,<0.25.0. PR [#9724](https://github.com/tiangolo/fastapi/pull/9724) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump mkdocs-material from 9.1.16 to 9.1.17. PR [#9746](https://github.com/tiangolo/fastapi/pull/9746) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üî• Remove missing translation dummy pages, no longer necessary. PR [#9751](https://github.com/tiangolo/fastapi/pull/9751) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#9259](https://github.com/tiangolo/fastapi/pull/9259) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* ‚ú® Add Material for MkDocs Insiders features and cards. PR [#9748](https://github.com/tiangolo/fastapi/pull/9748) by [@tiangolo](https://github.com/tiangolo).\n* üî• Remove languages without translations. PR [#9743](https://github.com/tiangolo/fastapi/pull/9743) by [@tiangolo](https://github.com/tiangolo).\n* ‚ú® Refactor docs for building scripts, use MkDocs hooks, simplify (remove) configs for languages. PR [#9742](https://github.com/tiangolo/fastapi/pull/9742) by [@tiangolo](https://github.com/tiangolo).\n* üî® Add MkDocs hook that renames sections based on the first index file. PR [#9737](https://github.com/tiangolo/fastapi/pull/9737) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Make cron jobs run only on main repo, not on forks, to avoid error notifications from missing tokens. PR [#9735](https://github.com/tiangolo/fastapi/pull/9735) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update MkDocs for other languages. PR [#9734](https://github.com/tiangolo/fastapi/pull/9734) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Refactor Docs CI, run in multiple workers with a dynamic matrix to optimize speed. PR [#9732](https://github.com/tiangolo/fastapi/pull/9732) by [@tiangolo](https://github.com/tiangolo).\n* üî• Remove old internal GitHub Action watch-previews that is no longer needed. PR [#9730](https://github.com/tiangolo/fastapi/pull/9730) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨ÜÔ∏è Upgrade MkDocs and MkDocs Material. PR [#9729](https://github.com/tiangolo/fastapi/pull/9729) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Build and deploy docs only on docs changes. PR [#9728](https://github.com/tiangolo/fastapi/pull/9728) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0525", "title": "Release Notes", "section": "0.98.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0526", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Allow disabling `redirect_slashes` at the FastAPI app level. PR [#3432](https://github.com/tiangolo/fastapi/pull/3432) by [@cyberlis](https://github.com/cyberlis).", "source": "release-notes.md"}
{"doc_id": "fastapi_0527", "title": "Release Notes", "section": "Docs", "content": "* üìù Update docs on Pydantic using ujson internally. PR [#5804](https://github.com/tiangolo/fastapi/pull/5804) by [@mvasilkov](https://github.com/mvasilkov).\n* ‚úè Rewording in `docs/en/docs/tutorial/debugging.md`. PR [#9581](https://github.com/tiangolo/fastapi/pull/9581) by [@ivan-abc](https://github.com/ivan-abc).\n* üìù Add german blog post (Domain-driven Design mit Python und FastAPI). PR [#9261](https://github.com/tiangolo/fastapi/pull/9261) by [@msander](https://github.com/msander).\n* ‚úèÔ∏è Tweak wording in `docs/en/docs/tutorial/security/index.md`. PR [#9561](https://github.com/tiangolo/fastapi/pull/9561) by [@jyothish-mohan](https://github.com/jyothish-mohan).\n* üìù Update `Annotated` notes in `docs/en/docs/tutorial/schema-extra-example.md`. PR [#9620](https://github.com/tiangolo/fastapi/pull/9620) by [@Alexandrhub](https://github.com/Alexandrhub).\n* ‚úèÔ∏è Fix typo `Annotation` -> `Annotated` in `docs/en/docs/tutorial/query-params-str-validations.md`. PR [#9625](https://github.com/tiangolo/fastapi/pull/9625) by [@mccricardo](https://github.com/mccricardo).\n* üìù Use in memory database for testing SQL in docs. PR [#1223](https://github.com/tiangolo/fastapi/pull/1223) by [@HarshaLaxman](https://github.com/HarshaLaxman).", "source": "release-notes.md"}
{"doc_id": "fastapi_0528", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Russian translation for `docs/ru/docs/tutorial/metadata.md`. PR [#9681](https://github.com/tiangolo/fastapi/pull/9681) by [@TabarakoAkula](https://github.com/TabarakoAkula).\n* üåê Fix typo in Spanish translation for `docs/es/docs/tutorial/first-steps.md`. PR [#9571](https://github.com/tiangolo/fastapi/pull/9571) by [@lilidl-nft](https://github.com/lilidl-nft).\n* üåê Add Russian translation for `docs/tutorial/path-operation-configuration.md`. PR [#9696](https://github.com/tiangolo/fastapi/pull/9696) by [@TabarakoAkula](https://github.com/TabarakoAkula).\n* üåê Add Chinese translation for `docs/zh/docs/advanced/security/index.md`. PR [#9666](https://github.com/tiangolo/fastapi/pull/9666) by [@lordqyxz](https://github.com/lordqyxz).\n* üåê Add Chinese translations for `docs/zh/docs/advanced/settings.md`. PR [#9652](https://github.com/tiangolo/fastapi/pull/9652) by [@ChoyeonChern](https://github.com/ChoyeonChern).\n* üåê Add Chinese translations for `docs/zh/docs/advanced/websockets.md`. PR [#9651](https://github.com/tiangolo/fastapi/pull/9651) by [@ChoyeonChern](https://github.com/ChoyeonChern).\n* üåê Add Chinese translation for `docs/zh/docs/tutorial/testing.md`. PR [#9641](https://github.com/tiangolo/fastapi/pull/9641) by [@wdh99](https://github.com/wdh99).\n* üåê Add Russian translation for `docs/tutorial/extra-models.md`. PR [#9619](https://github.com/tiangolo/fastapi/pull/9619) by [@ivan-abc](https://github.com/ivan-abc).\n* üåê Add Russian translation for `docs/tutorial/cors.md`. PR [#9608](https://github.com/tiangolo/fastapi/pull/9608) by [@ivan-abc](https://github.com/ivan-abc).\n* üåê Add Polish translation for `docs/pl/docs/features.md`. PR [#5348](https://github.com/tiangolo/fastapi/pull/5348) by [@mbroton](https://github.com/mbroton).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/body-nested-models.md`. PR [#9605](https://github.com/tiangolo/fastapi/pull/9605) by [@Alexandrhub](https://github.com/Alexandrhub).", "source": "release-notes.md"}
{"doc_id": "fastapi_0529", "title": "Release Notes", "section": "Internal", "content": "* ‚¨Ü Bump ruff from 0.0.272 to 0.0.275. PR [#9721](https://github.com/tiangolo/fastapi/pull/9721) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Update uvicorn[standard] requirement from <0.21.0,>=0.12.0 to >=0.12.0,<0.23.0. PR [#9463](https://github.com/tiangolo/fastapi/pull/9463) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump mypy from 1.3.0 to 1.4.0. PR [#9719](https://github.com/tiangolo/fastapi/pull/9719) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Update pre-commit requirement from <3.0.0,>=2.17.0 to >=2.17.0,<4.0.0. PR [#9251](https://github.com/tiangolo/fastapi/pull/9251) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump pypa/gh-action-pypi-publish from 1.8.5 to 1.8.6. PR [#9482](https://github.com/tiangolo/fastapi/pull/9482) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚úèÔ∏è Fix tooltips for light/dark theme toggler in docs. PR [#9588](https://github.com/tiangolo/fastapi/pull/9588) by [@pankaj1707k](https://github.com/pankaj1707k).\n* üîß Set minimal hatchling version needed to build the package. PR [#9240](https://github.com/tiangolo/fastapi/pull/9240) by [@mgorny](https://github.com/mgorny).\n* üìù Add repo link to PyPI. PR [#9559](https://github.com/tiangolo/fastapi/pull/9559) by [@JacobCoffee](https://github.com/JacobCoffee).\n* ‚úèÔ∏è Fix typos in data for tests. PR [#4958](https://github.com/tiangolo/fastapi/pull/4958) by [@ryanrussell](https://github.com/ryanrussell).\n* üîß Update sponsors, add Flint. PR [#9699](https://github.com/tiangolo/fastapi/pull/9699) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Lint in CI only once, only with one version of Python, run tests with all of them. PR [#9686](https://github.com/tiangolo/fastapi/pull/9686) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0530", "title": "Release Notes", "section": "0.97.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0531", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add support for `dependencies` in WebSocket routes. PR [#4534](https://github.com/tiangolo/fastapi/pull/4534) by [@paulo-raca](https://github.com/paulo-raca).\n* ‚ú® Add exception handler for `WebSocketRequestValidationError` (which also allows to override it). PR [#6030](https://github.com/tiangolo/fastapi/pull/6030) by [@kristjanvalur](https://github.com/kristjanvalur).", "source": "release-notes.md"}
{"doc_id": "fastapi_0532", "title": "Release Notes", "section": "Refactors", "content": "* ‚¨ÜÔ∏è Upgrade and fully migrate to Ruff, remove isort, includes a couple of tweaks suggested by the new version of Ruff. PR [#9660](https://github.com/tiangolo/fastapi/pull/9660) by [@tiangolo](https://github.com/tiangolo).\n* ‚ôªÔ∏è Update internal type annotations and upgrade mypy. PR [#9658](https://github.com/tiangolo/fastapi/pull/9658) by [@tiangolo](https://github.com/tiangolo).\n* ‚ôªÔ∏è Simplify `AsyncExitStackMiddleware` as without Python 3.6 `AsyncExitStack` is always available. PR [#9657](https://github.com/tiangolo/fastapi/pull/9657) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0533", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨ÜÔ∏è Upgrade Black. PR [#9661](https://github.com/tiangolo/fastapi/pull/9661) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0534", "title": "Release Notes", "section": "Internal", "content": "* üíö Update CI cache to fix installs when dependencies change. PR [#9659](https://github.com/tiangolo/fastapi/pull/9659) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨áÔ∏è Separate requirements for development into their own requirements.txt files, they shouldn't be extras. PR [#9655](https://github.com/tiangolo/fastapi/pull/9655) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0535", "title": "Release Notes", "section": "0.96.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0536", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix `HTTPException` header type annotations. PR [#9648](https://github.com/tiangolo/fastapi/pull/9648) by [@tiangolo](https://github.com/tiangolo).\n* üêõ Fix OpenAPI model fields int validations, `gte` to `ge`. PR [#9635](https://github.com/tiangolo/fastapi/pull/9635) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0537", "title": "Release Notes", "section": "Upgrades", "content": "* üìå Update minimum version of Pydantic to >=1.7.4. This fixes an issue when trying to use an old version of Pydantic. PR [#9567](https://github.com/tiangolo/fastapi/pull/9567) by [@Kludex](https://github.com/Kludex).", "source": "release-notes.md"}
{"doc_id": "fastapi_0538", "title": "Release Notes", "section": "Refactors", "content": "* ‚ôª Remove `media_type` from `ORJSONResponse` as it's inherited from the parent class. PR [#5805](https://github.com/tiangolo/fastapi/pull/5805) by [@Kludex](https://github.com/Kludex).\n* ‚ôª Instantiate `HTTPException` only when needed, optimization refactor. PR [#5356](https://github.com/tiangolo/fastapi/pull/5356) by [@pawamoy](https://github.com/pawamoy).", "source": "release-notes.md"}
{"doc_id": "fastapi_0539", "title": "Release Notes", "section": "Docs", "content": "* üî• Remove link to Pydantic's benchmark, as it was removed there. PR [#5811](https://github.com/tiangolo/fastapi/pull/5811) by [@Kludex](https://github.com/Kludex).", "source": "release-notes.md"}
{"doc_id": "fastapi_0540", "title": "Release Notes", "section": "Translations", "content": "* üåê Fix spelling in Indonesian translation of `docs/id/docs/tutorial/index.md`. PR [#5635](https://github.com/tiangolo/fastapi/pull/5635) by [@purwowd](https://github.com/purwowd).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/index.md`. PR [#5896](https://github.com/tiangolo/fastapi/pull/5896) by [@Wilidon](https://github.com/Wilidon).\n* üåê Add Chinese translations for `docs/zh/docs/advanced/response-change-status-code.md` and `docs/zh/docs/advanced/response-headers.md`. PR [#9544](https://github.com/tiangolo/fastapi/pull/9544) by [@ChoyeonChern](https://github.com/ChoyeonChern).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/schema-extra-example.md`. PR [#9621](https://github.com/tiangolo/fastapi/pull/9621) by [@Alexandrhub](https://github.com/Alexandrhub).", "source": "release-notes.md"}
{"doc_id": "fastapi_0541", "title": "Release Notes", "section": "Internal", "content": "* üîß Add sponsor Platform.sh. PR [#9650](https://github.com/tiangolo/fastapi/pull/9650) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Add custom token to Smokeshow and Preview Docs for download-artifact, to prevent API rate limits. PR [#9646](https://github.com/tiangolo/fastapi/pull/9646) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Add custom tokens for GitHub Actions to avoid rate limits. PR [#9647](https://github.com/tiangolo/fastapi/pull/9647) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0542", "title": "Release Notes", "section": "0.96.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0543", "title": "Release Notes", "section": "Features", "content": "* ‚ö° Update `create_cloned_field` to use a global cache and improve startup performance. PR [#4645](https://github.com/tiangolo/fastapi/pull/4645) by [@madkinsz](https://github.com/madkinsz) and previous original PR by [@huonw](https://github.com/huonw).", "source": "release-notes.md"}
{"doc_id": "fastapi_0544", "title": "Release Notes", "section": "Docs", "content": "* üìù Update Deta deployment tutorial for compatibility with Deta Space. PR [#6004](https://github.com/tiangolo/fastapi/pull/6004) by [@mikBighne98](https://github.com/mikBighne98).\n* ‚úèÔ∏è Fix typo in Deta deployment tutorial. PR [#9501](https://github.com/tiangolo/fastapi/pull/9501) by [@lemonyte](https://github.com/lemonyte).", "source": "release-notes.md"}
{"doc_id": "fastapi_0545", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Russian translation for `docs/tutorial/body.md`. PR [#3885](https://github.com/tiangolo/fastapi/pull/3885) by [@solomein-sv](https://github.com/solomein-sv).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/static-files.md`. PR [#9580](https://github.com/tiangolo/fastapi/pull/9580) by [@Alexandrhub](https://github.com/Alexandrhub).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/query-params.md`. PR [#9584](https://github.com/tiangolo/fastapi/pull/9584) by [@Alexandrhub](https://github.com/Alexandrhub).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/first-steps.md`. PR [#9471](https://github.com/tiangolo/fastapi/pull/9471) by [@AGolicyn](https://github.com/AGolicyn).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/debugging.md`. PR [#9579](https://github.com/tiangolo/fastapi/pull/9579) by [@Alexandrhub](https://github.com/Alexandrhub).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/path-params.md`. PR [#9519](https://github.com/tiangolo/fastapi/pull/9519) by [@AGolicyn](https://github.com/AGolicyn).\n* üåê Add Chinese translation for `docs/zh/docs/tutorial/static-files.md`. PR [#9436](https://github.com/tiangolo/fastapi/pull/9436) by [@wdh99](https://github.com/wdh99).\n* üåê Update Spanish translation including new illustrations in `docs/es/docs/async.md`. PR [#9483](https://github.com/tiangolo/fastapi/pull/9483) by [@andresbermeoq](https://github.com/andresbermeoq).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/path-params-numeric-validations.md`. PR [#9563](https://github.com/tiangolo/fastapi/pull/9563) by [@ivan-abc](https://github.com/ivan-abc).\n* üåê Add Russian translation for `docs/ru/docs/deployment/concepts.md`. PR [#9577](https://github.com/tiangolo/fastapi/pull/9577) by [@Xewus](https://github.com/Xewus).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/body-multiple-params.md`. PR [#9586](https://github.com/tiangolo/fastapi/pull/9586) by [@Alexandrhub](https://github.com/Alexandrhub).", "source": "release-notes.md"}
{"doc_id": "fastapi_0546", "title": "Release Notes", "section": "Internal", "content": "* üë• Update FastAPI People. PR [#9602](https://github.com/tiangolo/fastapi/pull/9602) by [@github-actions[bot]](https://github.com/apps/github-actions).\n* üîß Update sponsors, remove InvestSuite. PR [#9612](https://github.com/tiangolo/fastapi/pull/9612) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0547", "title": "Release Notes", "section": "0.95.2", "content": "* ‚¨ÜÔ∏è Upgrade Starlette version to `>=0.27.0` for a security release. PR [#9541](https://github.com/tiangolo/fastapi/pull/9541) by [@tiangolo](https://github.com/tiangolo). Details on [Starlette's security advisory](https://github.com/encode/starlette/security/advisories/GHSA-v5gw-mw7f-84px).", "source": "release-notes.md"}
{"doc_id": "fastapi_0548", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Portuguese translation for `docs/pt/docs/advanced/events.md`. PR [#9326](https://github.com/tiangolo/fastapi/pull/9326) by [@oandersonmagalhaes](https://github.com/oandersonmagalhaes).\n* üåê Add Russian translation for `docs/ru/docs/deployment/manually.md`. PR [#9417](https://github.com/tiangolo/fastapi/pull/9417) by [@Xewus](https://github.com/Xewus).\n* üåê Add setup for translations to Lao. PR [#9396](https://github.com/tiangolo/fastapi/pull/9396) by [@TheBrown](https://github.com/TheBrown).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/testing.md`. PR [#9403](https://github.com/tiangolo/fastapi/pull/9403) by [@Xewus](https://github.com/Xewus).\n* üåê Add Russian translation for `docs/ru/docs/deployment/https.md`. PR [#9428](https://github.com/tiangolo/fastapi/pull/9428) by [@Xewus](https://github.com/Xewus).\n* ‚úè Fix command to install requirements in Windows. PR [#9445](https://github.com/tiangolo/fastapi/pull/9445) by [@MariiaRomanuik](https://github.com/MariiaRomanuik).\n* üåê Add French translation for `docs/fr/docs/advanced/response-directly.md`. PR [#9415](https://github.com/tiangolo/fastapi/pull/9415) by [@axel584](https://github.com/axel584).\n* üåê Initiate Czech translation setup. PR [#9288](https://github.com/tiangolo/fastapi/pull/9288) by [@3p1463k](https://github.com/3p1463k).\n* ‚úè Fix typo in Portuguese docs for `docs/pt/docs/index.md`. PR [#9337](https://github.com/tiangolo/fastapi/pull/9337) by [@lucasbalieiro](https://github.com/lucasbalieiro).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/response-status-code.md`. PR [#9370](https://github.com/tiangolo/fastapi/pull/9370) by [@nadia3373](https://github.com/nadia3373).", "source": "release-notes.md"}
{"doc_id": "fastapi_0549", "title": "Release Notes", "section": "Internal", "content": "* üêõ Fix `flask.escape` warning for internal tests. PR [#9468](https://github.com/tiangolo/fastapi/pull/9468) by [@samuelcolvin](https://github.com/samuelcolvin).\n* ‚úÖ Refactor 2 tests, for consistency and simplification. PR [#9504](https://github.com/tiangolo/fastapi/pull/9504) by [@tiangolo](https://github.com/tiangolo).\n* ‚úÖ Refactor OpenAPI tests, prepare for Pydantic v2. PR [#9503](https://github.com/tiangolo/fastapi/pull/9503) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump dawidd6/action-download-artifact from 2.26.0 to 2.27.0. PR [#9394](https://github.com/tiangolo/fastapi/pull/9394) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üíö Disable setup-python pip cache in CI. PR [#9438](https://github.com/tiangolo/fastapi/pull/9438) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump pypa/gh-action-pypi-publish from 1.6.4 to 1.8.5. PR [#9346](https://github.com/tiangolo/fastapi/pull/9346) by [@dependabot[bot]](https://github.com/apps/dependabot).", "source": "release-notes.md"}
{"doc_id": "fastapi_0550", "title": "Release Notes", "section": "0.95.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0551", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix using `Annotated` in routers or path operations decorated multiple times. PR [#9315](https://github.com/tiangolo/fastapi/pull/9315) by [@sharonyogev](https://github.com/sharonyogev).", "source": "release-notes.md"}
{"doc_id": "fastapi_0552", "title": "Release Notes", "section": "Docs", "content": "* üåê üî† üìÑ üê¢ Translate docs to Emoji ü•≥ üéâ üí• ü§Ø ü§Ø. PR [#5385](https://github.com/tiangolo/fastapi/pull/5385) by [@LeeeeT](https://github.com/LeeeeT).\n* üìù Add notification message warning about old versions of FastAPI not supporting `Annotated`. PR [#9298](https://github.com/tiangolo/fastapi/pull/9298) by [@grdworkin](https://github.com/grdworkin).\n* üìù Fix typo in `docs/en/docs/advanced/behind-a-proxy.md`. PR [#5681](https://github.com/tiangolo/fastapi/pull/5681) by [@Leommjr](https://github.com/Leommjr).\n* ‚úè Fix wrong import from typing module in Persian translations for `docs/fa/docs/index.md`. PR [#6083](https://github.com/tiangolo/fastapi/pull/6083) by [@Kimiaattaei](https://github.com/Kimiaattaei).\n* ‚úèÔ∏è Fix format, remove unnecessary asterisks in `docs/en/docs/help-fastapi.md`. PR [#9249](https://github.com/tiangolo/fastapi/pull/9249) by [@armgabrielyan](https://github.com/armgabrielyan).\n* ‚úè Fix typo in `docs/en/docs/tutorial/query-params-str-validations.md`. PR [#9272](https://github.com/tiangolo/fastapi/pull/9272) by [@nicornk](https://github.com/nicornk).\n* ‚úè Fix typo/bug in inline code example in `docs/en/docs/tutorial/query-params-str-validations.md`. PR [#9273](https://github.com/tiangolo/fastapi/pull/9273) by [@tim-habitat](https://github.com/tim-habitat).\n* ‚úè Fix typo in `docs/en/docs/tutorial/path-params-numeric-validations.md`. PR [#9282](https://github.com/tiangolo/fastapi/pull/9282) by [@aadarsh977](https://github.com/aadarsh977).\n* ‚úè Fix typo: 'wll' to 'will' in `docs/en/docs/tutorial/query-params-str-validations.md`. PR [#9380](https://github.com/tiangolo/fastapi/pull/9380) by [@dasstyxx](https://github.com/dasstyxx).", "source": "release-notes.md"}
{"doc_id": "fastapi_0553", "title": "Release Notes", "section": "Translations", "content": "* üåê Add French translation for `docs/fr/docs/advanced/index.md`. PR [#5673](https://github.com/tiangolo/fastapi/pull/5673) by [@axel584](https://github.com/axel584).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/body-nested-models.md`. PR [#4053](https://github.com/tiangolo/fastapi/pull/4053) by [@luccasmmg](https://github.com/luccasmmg).\n* üåê Add Russian translation for `docs/ru/docs/alternatives.md`. PR [#5994](https://github.com/tiangolo/fastapi/pull/5994) by [@Xewus](https://github.com/Xewus).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/extra-models.md`. PR [#5912](https://github.com/tiangolo/fastapi/pull/5912) by [@LorhanSohaky](https://github.com/LorhanSohaky).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/path-operation-configuration.md`. PR [#5936](https://github.com/tiangolo/fastapi/pull/5936) by [@LorhanSohaky](https://github.com/LorhanSohaky).\n* üåê Add Russian translation for `docs/ru/docs/contributing.md`. PR [#6002](https://github.com/tiangolo/fastapi/pull/6002) by [@stigsanek](https://github.com/stigsanek).\n* üåê Add Korean translation for `docs/tutorial/dependencies/classes-as-dependencies.md`. PR [#9176](https://github.com/tiangolo/fastapi/pull/9176) by [@sehwan505](https://github.com/sehwan505).\n* üåê Add Russian translation for `docs/ru/docs/project-generation.md`. PR [#9243](https://github.com/tiangolo/fastapi/pull/9243) by [@Xewus](https://github.com/Xewus).\n* üåê Add French translation for `docs/fr/docs/index.md`. PR [#9265](https://github.com/tiangolo/fastapi/pull/9265) by [@frabc](https://github.com/frabc).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/query-params-str-validations.md`. PR [#9267](https://github.com/tiangolo/fastapi/pull/9267) by [@dedkot01](https://github.com/dedkot01).\n* üåê Add Russian translation for `docs/ru/docs/benchmarks.md`. PR [#9271](https://github.com/tiangolo/fastapi/pull/9271) by [@Xewus](https://github.com/Xewus).", "source": "release-notes.md"}
{"doc_id": "fastapi_0554", "title": "Release Notes", "section": "Internal", "content": "* üîß Update sponsors: remove Jina. PR [#9388](https://github.com/tiangolo/fastapi/pull/9388) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors, add databento, remove Ines's course and StriveWorks. PR [#9351](https://github.com/tiangolo/fastapi/pull/9351) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0555", "title": "Release Notes", "section": "0.95.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0556", "title": "Release Notes", "section": "Highlights", "content": "This release adds support for dependencies and parameters using `Annotated` and recommends its usage. ‚ú®\n\nThis has **several benefits**, one of the main ones is that now the parameters of your functions with `Annotated` would **not be affected** at all.\n\nIf you call those functions in **other places in your code**, the actual **default values** will be kept, your editor will help you notice missing **required arguments**, Python will require you to pass required arguments at **runtime**, you will be able to **use the same functions** for different things and with different libraries (e.g. **Typer** will soon support `Annotated` too, then you could use the same function for an API and a CLI), etc.\n\nBecause `Annotated` is **standard Python**, you still get all the **benefits** from editors and tools, like **autocompletion**, **inline errors**, etc.\n\nOne of the **biggest benefits** is that now you can create `Annotated` dependencies that are then shared by multiple *path operation functions*, this will allow you to **reduce** a lot of **code duplication** in your codebase, while keeping all the support from editors and tools.\n\nFor example, you could have code like this:\n\n```Python\ndef get_current_user(token: str):\n    # authenticate user\n    return User()\n\n\n@app.get(\"/items/\")\ndef read_items(user: User = Depends(get_current_user)):\n    ...\n\n\n@app.post(\"/items/\")\ndef create_item(*, user: User = Depends(get_current_user), item: Item):\n    ...\n\n\n@app.get(\"/items/{item_id}\")\ndef read_item(*, user: User = Depends(get_current_user), item_id: int):\n    ...\n\n\n@app.delete(\"/items/{item_id}\")\ndef delete_item(*, user: User = Depends(get_current_user), item_id: int):\n    ...\n```\n\nThere's a bit of code duplication for the dependency:\n\n```Python\nuser: User = Depends(get_current_user)\n```\n\n...the bigger the codebase, the more noticeable it is.\n\nNow you can create an annotated dependency once, like this:\n\n```Python\nCurrentUser = Annotated[User, Depends(get_current_user)]\n```\n\nAnd then you can reuse this `Annotated` dependency:\n\n```Python\nCurrentUser = Annotated[User, Depends(get_current_user)]\n\n\n@app.get(\"/items/\")\ndef read_items(user: CurrentUser):\n    ...\n\n\n@app.post(\"/items/\")\ndef create_item(user: CurrentUser, item: Item):\n    ...\n\n\n@app.get(\"/items/{item_id}\")\ndef read_item(user: CurrentUser, item_id: int):\n    ...\n\n\n@app.delete(\"/items/{item_id}\")\ndef delete_item(user: CurrentUser, item_id: int):\n    ...\n```\n\n...and `CurrentUser` has all the typing information as `User`, so your editor will work as expected (autocompletion and everything), and **FastAPI** will be able to understand the dependency defined in `Annotated`. üòé\n\nRoughly **all the docs** have been rewritten to use `Annotated` as the main way to declare **parameters** and **dependencies**. All the **examples** in the docs now include a version with `Annotated` and a version without it, for each of the specific Python versions (when there are small differences/improvements in more recent versions). There were around 23K new lines added between docs, examples, and tests. üöÄ\n\nThe key updated docs are:\n\n* Python Types Intro:\n    * [Type Hints with Metadata Annotations](https://fastapi.tiangolo.com/python-types/#type-hints-with-metadata-annotations).\n* Tutorial:\n    * [Query Parameters and String Validations - Additional validation](https://fastapi.tiangolo.com/tutorial/query-params-str-validations/#additional-validation)\n        * [Advantages of `Annotated`](https://fastapi.tiangolo.com/tutorial/query-params-str-validations/#advantages-of-annotated)\n    * [Path Parameters and Numeric Validations - Order the parameters as you need, tricks](https://fastapi.tiangolo.com/tutorial/path-params-numeric-validations/#order-the-parameters-as-you-need-tricks)\n        * [Better with `Annotated`](https://fastapi.tiangolo.com/tutorial/path-params-numeric-validations/#better-with-annotated)\n    * [Dependencies - First Steps - Share `Annotated` dependencies](https://fastapi.tiangolo.com/tutorial/dependencies/#share-annotated-dependencies)\n\nSpecial thanks to [@nzig](https://github.com/nzig) for the core implementation and to [@adriangb](https://github.com/adriangb) for the inspiration and idea with [Xpresso](https://github.com/adriangb/xpresso)! üöÄ", "source": "release-notes.md"}
{"doc_id": "fastapi_0557", "title": "Release Notes", "section": "Features", "content": "* ‚ú®Add support for PEP-593 `Annotated` for specifying dependencies and parameters. PR [#4871](https://github.com/tiangolo/fastapi/pull/4871) by [@nzig](https://github.com/nzig).", "source": "release-notes.md"}
{"doc_id": "fastapi_0558", "title": "Release Notes", "section": "Docs", "content": "* üìù Tweak tip recommending `Annotated` in docs. PR [#9270](https://github.com/tiangolo/fastapi/pull/9270) by [@tiangolo](https://github.com/tiangolo).\n* üìù Update order of examples, latest Python version first, and simplify version tab names. PR [#9269](https://github.com/tiangolo/fastapi/pull/9269) by [@tiangolo](https://github.com/tiangolo).\n* üìù Update all docs to use `Annotated` as the main recommendation, with new examples and tests. PR [#9268](https://github.com/tiangolo/fastapi/pull/9268) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0559", "title": "Release Notes", "section": "0.94.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0560", "title": "Release Notes", "section": "Fixes", "content": "* üé® Fix types for lifespan, upgrade Starlette to 0.26.1. PR [#9245](https://github.com/tiangolo/fastapi/pull/9245) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0561", "title": "Release Notes", "section": "0.94.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0562", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨Ü Upgrade python-multipart to support 0.0.6. PR [#9212](https://github.com/tiangolo/fastapi/pull/9212) by [@musicinmybrain](https://github.com/musicinmybrain).\n* ‚¨ÜÔ∏è Upgrade Starlette version, support new `lifespan` with state. PR [#9239](https://github.com/tiangolo/fastapi/pull/9239) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0563", "title": "Release Notes", "section": "Docs", "content": "* üìù Update Sentry link in docs. PR [#9218](https://github.com/tiangolo/fastapi/pull/9218) by [@smeubank](https://github.com/smeubank).", "source": "release-notes.md"}
{"doc_id": "fastapi_0564", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Russian translation for `docs/ru/docs/history-design-future.md`. PR [#5986](https://github.com/tiangolo/fastapi/pull/5986) by [@Xewus](https://github.com/Xewus).", "source": "release-notes.md"}
{"doc_id": "fastapi_0565", "title": "Release Notes", "section": "Internal", "content": "* ‚ûï Add `pydantic` to PyPI classifiers. PR [#5914](https://github.com/tiangolo/fastapi/pull/5914) by [@yezz123](https://github.com/yezz123).\n* ‚¨Ü Bump black from 22.10.0 to 23.1.0. PR [#5953](https://github.com/tiangolo/fastapi/pull/5953) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump types-ujson from 5.6.0.0 to 5.7.0.1. PR [#6027](https://github.com/tiangolo/fastapi/pull/6027) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump dawidd6/action-download-artifact from 2.24.3 to 2.26.0. PR [#6034](https://github.com/tiangolo/fastapi/pull/6034) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#5709](https://github.com/tiangolo/fastapi/pull/5709) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).", "source": "release-notes.md"}
{"doc_id": "fastapi_0566", "title": "Release Notes", "section": "0.93.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0567", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add support for `lifespan` async context managers (superseding `startup` and `shutdown` events). Initial PR [#2944](https://github.com/tiangolo/fastapi/pull/2944) by [@uSpike](https://github.com/uSpike).\n\nNow, instead of using independent `startup` and `shutdown` events, you can define that logic in a single function with `yield` decorated with `@asynccontextmanager` (an async context manager).\n\nFor example:\n\n```Python\nfrom contextlib import asynccontextmanager\n\nfrom fastapi import FastAPI\n\n\ndef fake_answer_to_everything_ml_model(x: float):\n    return x * 42\n\n\nml_models = {}\n\n\n@asynccontextmanager\nasync def lifespan(app: FastAPI):\n    # Load the ML model\n    ml_models[\"answer_to_everything\"] = fake_answer_to_everything_ml_model\n    yield\n    # Clean up the ML models and release the resources\n    ml_models.clear()\n\n\napp = FastAPI(lifespan=lifespan)\n\n\n@app.get(\"/predict\")\nasync def predict(x: float):\n    result = ml_models[\"answer_to_everything\"](x)\n    return {\"result\": result}\n```\n\n**Note**: This is the recommended way going forward, instead of using `startup` and `shutdown` events.\n\nRead more about it in the new docs: [Advanced User Guide: Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).", "source": "release-notes.md"}
{"doc_id": "fastapi_0568", "title": "Release Notes", "section": "Docs", "content": "* ‚úè Fix formatting in `docs/en/docs/tutorial/metadata.md` for `ReDoc`. PR [#6005](https://github.com/tiangolo/fastapi/pull/6005) by [@eykamp](https://github.com/eykamp).", "source": "release-notes.md"}
{"doc_id": "fastapi_0569", "title": "Release Notes", "section": "Translations", "content": "* üåê Tamil translations - initial setup. PR [#5564](https://github.com/tiangolo/fastapi/pull/5564) by [@gusty1g](https://github.com/gusty1g).\n* üåê Add French translation for `docs/fr/docs/advanced/path-operation-advanced-configuration.md`. PR [#9221](https://github.com/tiangolo/fastapi/pull/9221) by [@axel584](https://github.com/axel584).\n* üåê Add French translation for `docs/tutorial/debugging.md`. PR [#9175](https://github.com/tiangolo/fastapi/pull/9175) by [@frabc](https://github.com/frabc).\n* üåê Initiate Armenian translation setup. PR [#5844](https://github.com/tiangolo/fastapi/pull/5844) by [@har8](https://github.com/har8).\n* üåê Add French translation for `deployment/manually.md`. PR [#3693](https://github.com/tiangolo/fastapi/pull/3693) by [@rjNemo](https://github.com/rjNemo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0570", "title": "Release Notes", "section": "Internal", "content": "* üë∑ Update translation bot messages. PR [#9206](https://github.com/tiangolo/fastapi/pull/9206) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Update translations bot to use Discussions, and notify when a PR is done. PR [#9183](https://github.com/tiangolo/fastapi/pull/9183) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors-badges. PR [#9182](https://github.com/tiangolo/fastapi/pull/9182) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People. PR [#9181](https://github.com/tiangolo/fastapi/pull/9181) by [@github-actions[bot]](https://github.com/apps/github-actions).\n* üîä Log GraphQL errors in FastAPI People, because it returns 200, with a payload with an error. PR [#9171](https://github.com/tiangolo/fastapi/pull/9171) by [@tiangolo](https://github.com/tiangolo).\n* üíö Fix/workaround GitHub Actions in Docker with git for FastAPI People. PR [#9169](https://github.com/tiangolo/fastapi/pull/9169) by [@tiangolo](https://github.com/tiangolo).\n* ‚ôªÔ∏è Refactor FastAPI Experts to use only discussions now that questions are migrated. PR [#9165](https://github.com/tiangolo/fastapi/pull/9165) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨ÜÔ∏è Upgrade analytics. PR [#6025](https://github.com/tiangolo/fastapi/pull/6025) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨ÜÔ∏è Upgrade and re-enable installing Typer-CLI. PR [#6008](https://github.com/tiangolo/fastapi/pull/6008) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0571", "title": "Release Notes", "section": "0.92.0", "content": "üö® This is a security fix. Please upgrade as soon as possible.", "source": "release-notes.md"}
{"doc_id": "fastapi_0572", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨ÜÔ∏è Upgrade Starlette to 0.25.0. PR [#5996](https://github.com/tiangolo/fastapi/pull/5996) by [@tiangolo](https://github.com/tiangolo).\n    * This solves a vulnerability that could allow denial of service attacks by using many small multipart fields/files (parts), consuming high CPU and memory.\n    * Only applications using forms (e.g. file uploads) could be affected.\n    * For most cases, upgrading won't have any breaking changes.", "source": "release-notes.md"}
{"doc_id": "fastapi_0573", "title": "Release Notes", "section": "0.91.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0574", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨ÜÔ∏è Upgrade Starlette version to `0.24.0` and refactor internals for compatibility. PR [#5985](https://github.com/tiangolo/fastapi/pull/5985) by [@tiangolo](https://github.com/tiangolo).\n    * This can solve nuanced errors when using middlewares. Before Starlette `0.24.0`, a new instance of each middleware class would be created when a new middleware was added. That normally was not a problem, unless the middleware class expected to be created only once, with only one instance, that happened in some cases. This upgrade would solve those cases (thanks [@adriangb](https://github.com/adriangb)! Starlette PR [#2017](https://github.com/encode/starlette/pull/2017)). Now the middleware class instances are created once, right before the first request (the first time the app is called).\n    * If you depended on that previous behavior, you might need to update your code. As always, make sure your tests pass before merging the upgrade.", "source": "release-notes.md"}
{"doc_id": "fastapi_0575", "title": "Release Notes", "section": "0.90.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0576", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨ÜÔ∏è Upgrade Starlette range to allow 0.23.1. PR [#5980](https://github.com/tiangolo/fastapi/pull/5980) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0577", "title": "Release Notes", "section": "Docs", "content": "* ‚úè Tweak wording to clarify `docs/en/docs/project-generation.md`. PR [#5930](https://github.com/tiangolo/fastapi/pull/5930) by [@chandra-deb](https://github.com/chandra-deb).\n* ‚úè Update Pydantic GitHub URLs. PR [#5952](https://github.com/tiangolo/fastapi/pull/5952) by [@yezz123](https://github.com/yezz123).\n* üìù Add opinion from Cisco. PR [#5981](https://github.com/tiangolo/fastapi/pull/5981) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0578", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Russian translation for `docs/ru/docs/tutorial/cookie-params.md`. PR [#5890](https://github.com/tiangolo/fastapi/pull/5890) by [@bnzone](https://github.com/bnzone).", "source": "release-notes.md"}
{"doc_id": "fastapi_0579", "title": "Release Notes", "section": "Internal", "content": "* ‚úè Update `zip-docs.sh` internal script, remove extra space. PR [#5931](https://github.com/tiangolo/fastapi/pull/5931) by [@JuanPerdomo00](https://github.com/JuanPerdomo00).", "source": "release-notes.md"}
{"doc_id": "fastapi_0580", "title": "Release Notes", "section": "0.90.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0581", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨ÜÔ∏è Bump Starlette from 0.22.0 to 0.23.0. Initial PR [#5739](https://github.com/tiangolo/fastapi/pull/5739) by [@Kludex](https://github.com/Kludex).", "source": "release-notes.md"}
{"doc_id": "fastapi_0582", "title": "Release Notes", "section": "Docs", "content": "* üìù Add article \"Tortoise ORM / FastAPI Êï¥ÂêàÂø´ÈÄüÁ≠ÜË®ò\" to External Links. PR [#5496](https://github.com/tiangolo/fastapi/pull/5496) by [@Leon0824](https://github.com/Leon0824).\n* üë• Update FastAPI People. PR [#5954](https://github.com/tiangolo/fastapi/pull/5954) by [@github-actions[bot]](https://github.com/apps/github-actions).\n* üìù Micro-tweak help docs. PR [#5960](https://github.com/tiangolo/fastapi/pull/5960) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update new issue chooser to direct to GitHub Discussions. PR [#5948](https://github.com/tiangolo/fastapi/pull/5948) by [@tiangolo](https://github.com/tiangolo).\n* üìù Recommend GitHub Discussions for questions. PR [#5944](https://github.com/tiangolo/fastapi/pull/5944) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0583", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Russian translation for `docs/ru/docs/tutorial/body-fields.md`. PR [#5898](https://github.com/tiangolo/fastapi/pull/5898) by [@simatheone](https://github.com/simatheone).\n* üåê Add Russian translation for `docs/ru/docs/help-fastapi.md`. PR [#5970](https://github.com/tiangolo/fastapi/pull/5970) by [@tiangolo](https://github.com/tiangolo).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/static-files.md`. PR [#5858](https://github.com/tiangolo/fastapi/pull/5858) by [@batlopes](https://github.com/batlopes).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/encoder.md`. PR [#5525](https://github.com/tiangolo/fastapi/pull/5525) by [@felipebpl](https://github.com/felipebpl).\n* üåê Add Russian translation for `docs/ru/docs/contributing.md`. PR [#5870](https://github.com/tiangolo/fastapi/pull/5870) by [@Xewus](https://github.com/Xewus).", "source": "release-notes.md"}
{"doc_id": "fastapi_0584", "title": "Release Notes", "section": "Internal", "content": "* ‚¨ÜÔ∏è Upgrade Ubuntu version for docs workflow. PR [#5971](https://github.com/tiangolo/fastapi/pull/5971) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors badges. PR [#5943](https://github.com/tiangolo/fastapi/pull/5943) by [@tiangolo](https://github.com/tiangolo).\n* ‚ú® Compute FastAPI Experts including GitHub Discussions. PR [#5941](https://github.com/tiangolo/fastapi/pull/5941) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨ÜÔ∏è Upgrade isort and update pre-commit. PR [#5940](https://github.com/tiangolo/fastapi/pull/5940) by [@tiangolo](https://github.com/tiangolo).\n* üîß Add template for questions in Discussions. PR [#5920](https://github.com/tiangolo/fastapi/pull/5920) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update Sponsor Budget Insight to Powens. PR [#5916](https://github.com/tiangolo/fastapi/pull/5916) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update GitHub Sponsors badge data. PR [#5915](https://github.com/tiangolo/fastapi/pull/5915) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0585", "title": "Release Notes", "section": "0.89.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0586", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Ignore Response classes on return annotation. PR [#5855](https://github.com/tiangolo/fastapi/pull/5855) by [@Kludex](https://github.com/Kludex). See the new docs in the PR below.", "source": "release-notes.md"}
{"doc_id": "fastapi_0587", "title": "Release Notes", "section": "Docs", "content": "* üìù Update docs and examples for Response Model with Return Type Annotations, and update runtime error. PR [#5873](https://github.com/tiangolo/fastapi/pull/5873) by [@tiangolo](https://github.com/tiangolo). New docs at [Response Model - Return Type: Other Return Type Annotations](https://fastapi.tiangolo.com/tutorial/response-model/#other-return-type-annotations).\n* üìù Add External Link: FastAPI lambda container: serverless simplified. PR [#5784](https://github.com/tiangolo/fastapi/pull/5784) by [@rafrasenberg](https://github.com/rafrasenberg).", "source": "release-notes.md"}
{"doc_id": "fastapi_0588", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Turkish translation for `docs/tr/docs/tutorial/first_steps.md`. PR [#5691](https://github.com/tiangolo/fastapi/pull/5691) by [@Kadermiyanyedi](https://github.com/Kadermiyanyedi).", "source": "release-notes.md"}
{"doc_id": "fastapi_0589", "title": "Release Notes", "section": "0.89.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0590", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add support for function return type annotations to declare the `response_model`. Initial PR [#1436](https://github.com/tiangolo/fastapi/pull/1436) by [@uriyyo](https://github.com/uriyyo).\n\nNow you can declare the return type / `response_model` in the function return type annotation:\n\n```python\nfrom fastapi import FastAPI\nfrom pydantic import BaseModel\n\napp = FastAPI()\n\n\nclass Item(BaseModel):\n    name: str\n    price: float\n\n\n@app.get(\"/items/\")\nasync def read_items() -> list[Item]:\n    return [\n        Item(name=\"Portal Gun\", price=42.0),\n        Item(name=\"Plumbus\", price=32.0),\n    ]\n```\n\nFastAPI will use the return type annotation to perform:\n\n* Data validation\n* Automatic documentation\n    * It could power automatic client generators\n* **Data filtering**\n\nBefore this version it was only supported via the `response_model` parameter.\n\nRead more about it in the new docs: [Response Model - Return Type](https://fastapi.tiangolo.com/tutorial/response-model/).", "source": "release-notes.md"}
{"doc_id": "fastapi_0591", "title": "Release Notes", "section": "Docs", "content": "* üìù Add External Link: Authorization on FastAPI with Casbin. PR [#5712](https://github.com/tiangolo/fastapi/pull/5712) by [@Xhy-5000](https://github.com/Xhy-5000).\n* ‚úè Fix typo in `docs/en/docs/async.md`. PR [#5785](https://github.com/tiangolo/fastapi/pull/5785) by [@Kingdageek](https://github.com/Kingdageek).\n* ‚úè Fix typo in `docs/en/docs/deployment/concepts.md`. PR [#5824](https://github.com/tiangolo/fastapi/pull/5824) by [@kelbyfaessler](https://github.com/kelbyfaessler).", "source": "release-notes.md"}
{"doc_id": "fastapi_0592", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Russian translation for `docs/ru/docs/fastapi-people.md`. PR [#5577](https://github.com/tiangolo/fastapi/pull/5577) by [@Xewus](https://github.com/Xewus).\n* üåê Fix typo in Chinese translation for `docs/zh/docs/benchmarks.md`. PR [#4269](https://github.com/tiangolo/fastapi/pull/4269) by [@15027668g](https://github.com/15027668g).\n* üåê Add Korean translation for `docs/tutorial/cors.md`. PR [#3764](https://github.com/tiangolo/fastapi/pull/3764) by [@NinaHwang](https://github.com/NinaHwang).", "source": "release-notes.md"}
{"doc_id": "fastapi_0593", "title": "Release Notes", "section": "Internal", "content": "* ‚¨Ü Update coverage[toml] requirement from <7.0,>=6.5.0 to >=6.5.0,<8.0. PR [#5801](https://github.com/tiangolo/fastapi/pull/5801) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Update uvicorn[standard] requirement from <0.19.0,>=0.12.0 to >=0.12.0,<0.21.0 for development. PR [#5795](https://github.com/tiangolo/fastapi/pull/5795) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump dawidd6/action-download-artifact from 2.24.2 to 2.24.3. PR [#5842](https://github.com/tiangolo/fastapi/pull/5842) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üë• Update FastAPI People. PR [#5825](https://github.com/tiangolo/fastapi/pull/5825) by [@github-actions[bot]](https://github.com/apps/github-actions).\n* ‚¨Ü Bump types-ujson from 5.5.0 to 5.6.0.0. PR [#5735](https://github.com/tiangolo/fastapi/pull/5735) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump pypa/gh-action-pypi-publish from 1.5.2 to 1.6.4. PR [#5750](https://github.com/tiangolo/fastapi/pull/5750) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üë∑ Add GitHub Action gate/check. PR [#5492](https://github.com/tiangolo/fastapi/pull/5492) by [@webknjaz](https://github.com/webknjaz).\n* üîß Update sponsors, add Svix. PR [#5848](https://github.com/tiangolo/fastapi/pull/5848) by [@tiangolo](https://github.com/tiangolo).\n* üîß Remove Doist sponsor. PR [#5847](https://github.com/tiangolo/fastapi/pull/5847) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Update sqlalchemy requirement from <=1.4.41,>=1.3.18 to >=1.3.18,<1.4.43. PR [#5540](https://github.com/tiangolo/fastapi/pull/5540) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump nwtgck/actions-netlify from 1.2.4 to 2.0.0. PR [#5757](https://github.com/tiangolo/fastapi/pull/5757) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üë∑ Refactor CI artifact upload/download for docs previews. PR [#5793](https://github.com/tiangolo/fastapi/pull/5793) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump pypa/gh-action-pypi-publish from 1.5.1 to 1.5.2. PR [#5714](https://github.com/tiangolo/fastapi/pull/5714) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üë• Update FastAPI People. PR [#5722](https://github.com/tiangolo/fastapi/pull/5722) by [@github-actions[bot]](https://github.com/apps/github-actions).\n* üîß Update sponsors, disable course bundle. PR [#5713](https://github.com/tiangolo/fastapi/pull/5713) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Update typer[all] requirement from <0.7.0,>=0.6.1 to >=0.6.1,<0.8.0. PR [#5639](https://github.com/tiangolo/fastapi/pull/5639) by [@dependabot[bot]](https://github.com/apps/dependabot).", "source": "release-notes.md"}
{"doc_id": "fastapi_0594", "title": "Release Notes", "section": "0.88.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0595", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨Ü Bump Starlette to version `0.22.0` to fix bad encoding for query parameters in new `TestClient`. PR [#5659](https://github.com/tiangolo/fastapi/pull/5659) by [@azogue](https://github.com/azogue).", "source": "release-notes.md"}
{"doc_id": "fastapi_0596", "title": "Release Notes", "section": "Docs", "content": "* ‚úèÔ∏è Fix typo in docs for `docs/en/docs/advanced/middleware.md`. PR [#5376](https://github.com/tiangolo/fastapi/pull/5376) by [@rifatrakib](https://github.com/rifatrakib).", "source": "release-notes.md"}
{"doc_id": "fastapi_0597", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Portuguese translation for `docs/pt/docs/deployment/docker.md`. PR [#5663](https://github.com/tiangolo/fastapi/pull/5663) by [@ayr-ton](https://github.com/ayr-ton).", "source": "release-notes.md"}
{"doc_id": "fastapi_0598", "title": "Release Notes", "section": "Internal", "content": "* üë∑ Tweak build-docs to improve CI performance. PR [#5699](https://github.com/tiangolo/fastapi/pull/5699) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#5566](https://github.com/tiangolo/fastapi/pull/5566) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* ‚¨ÜÔ∏è Upgrade Ruff. PR [#5698](https://github.com/tiangolo/fastapi/pull/5698) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Remove pip cache for Smokeshow as it depends on a requirements.txt. PR [#5700](https://github.com/tiangolo/fastapi/pull/5700) by [@tiangolo](https://github.com/tiangolo).\n* üíö Fix pip cache for Smokeshow. PR [#5697](https://github.com/tiangolo/fastapi/pull/5697) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Fix and tweak CI cache handling. PR [#5696](https://github.com/tiangolo/fastapi/pull/5696) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Update `setup-python` action in tests to use new caching feature. PR [#5680](https://github.com/tiangolo/fastapi/pull/5680) by [@madkinsz](https://github.com/madkinsz).\n* ‚¨Ü Bump black from 22.8.0 to 22.10.0. PR [#5569](https://github.com/tiangolo/fastapi/pull/5569) by [@dependabot[bot]](https://github.com/apps/dependabot).", "source": "release-notes.md"}
{"doc_id": "fastapi_0599", "title": "Release Notes", "section": "0.87.0", "content": "Highlights of this release:\n\n* [Upgraded Starlette](https://github.com/encode/starlette/releases/tag/0.21.0)\n    * Now the `TestClient` is based on HTTPX instead of Requests. üöÄ\n    * There are some possible **breaking changes** in the `TestClient` usage, but [@Kludex](https://github.com/Kludex) built [bump-testclient](https://github.com/Kludex/bump-testclient) to help you automatize migrating your tests. Make sure you are using Git and that you can undo any unnecessary changes (false positive changes, etc) before using `bump-testclient`.\n* New [WebSocketException (and docs)](https://fastapi.tiangolo.com/advanced/websockets/#using-depends-and-others), re-exported from Starlette.\n* Upgraded and relaxed dependencies for package extras `all` (including new Uvicorn version), when you install `\"fastapi[all]\"`.\n* New docs about how to [**Help Maintain FastAPI**](https://fastapi.tiangolo.com/help-fastapi/#help-maintain-fastapi).", "source": "release-notes.md"}
{"doc_id": "fastapi_0600", "title": "Release Notes", "section": "Features", "content": "* ‚¨ÜÔ∏è Upgrade and relax dependencies for extras \"all\". PR [#5634](https://github.com/tiangolo/fastapi/pull/5634) by [@tiangolo](https://github.com/tiangolo).\n* ‚ú® Re-export Starlette's `WebSocketException` and add it to docs. PR [#5629](https://github.com/tiangolo/fastapi/pull/5629) by [@tiangolo](https://github.com/tiangolo).\n* üìù Update references to Requests for tests to HTTPX, and add HTTPX to extras. PR [#5628](https://github.com/tiangolo/fastapi/pull/5628) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Upgrade Starlette to `0.21.0`, including the new [`TestClient` based on HTTPX](https://github.com/encode/starlette/releases/tag/0.21.0). PR [#5471](https://github.com/tiangolo/fastapi/pull/5471) by [@pawelrubin](https://github.com/pawelrubin).", "source": "release-notes.md"}
{"doc_id": "fastapi_0601", "title": "Release Notes", "section": "Docs", "content": "* ‚úèÔ∏è Tweak Help FastAPI from PR review after merging. PR [#5633](https://github.com/tiangolo/fastapi/pull/5633) by [@tiangolo](https://github.com/tiangolo).\n* ‚úèÔ∏è  Clarify docs on CORS. PR [#5627](https://github.com/tiangolo/fastapi/pull/5627) by [@paxcodes](https://github.com/paxcodes).\n* üìù Update Help FastAPI: Help Maintain FastAPI. PR [#5632](https://github.com/tiangolo/fastapi/pull/5632) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0602", "title": "Release Notes", "section": "Translations", "content": "* üåê Fix highlight lines for Japanese translation for `docs/tutorial/query-params.md`. PR [#2969](https://github.com/tiangolo/fastapi/pull/2969) by [@ftnext](https://github.com/ftnext).\n* üåê Add French translation for `docs/fr/docs/advanced/additional-status-code.md`. PR [#5477](https://github.com/tiangolo/fastapi/pull/5477) by [@axel584](https://github.com/axel584).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/request-forms-and-files.md`. PR [#5579](https://github.com/tiangolo/fastapi/pull/5579) by [@batlopes](https://github.com/batlopes).\n* üåê Add Japanese translation for `docs/ja/docs/advanced/websockets.md`. PR [#4983](https://github.com/tiangolo/fastapi/pull/4983) by [@xryuseix](https://github.com/xryuseix).", "source": "release-notes.md"}
{"doc_id": "fastapi_0603", "title": "Release Notes", "section": "Internal", "content": "* ‚ú® Use Ruff for linting. PR [#5630](https://github.com/tiangolo/fastapi/pull/5630) by [@tiangolo](https://github.com/tiangolo).\n* üõ† Add Arabic issue number to Notify Translations GitHub Action. PR [#5610](https://github.com/tiangolo/fastapi/pull/5610) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump dawidd6/action-download-artifact from 2.24.1 to 2.24.2. PR [#5609](https://github.com/tiangolo/fastapi/pull/5609) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump dawidd6/action-download-artifact from 2.24.0 to 2.24.1. PR [#5603](https://github.com/tiangolo/fastapi/pull/5603) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üìù Update coverage badge to use Samuel Colvin's Smokeshow. PR [#5585](https://github.com/tiangolo/fastapi/pull/5585) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0604", "title": "Release Notes", "section": "0.86.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0605", "title": "Release Notes", "section": "Features", "content": "* ‚¨Ü Add Python 3.11 to the officially supported versions. PR [#5587](https://github.com/tiangolo/fastapi/pull/5587) by [@tiangolo](https://github.com/tiangolo).\n* ‚úÖ Enable tests for Python 3.11. PR [#4881](https://github.com/tiangolo/fastapi/pull/4881) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0606", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Close FormData (uploaded files) after the request is done. PR [#5465](https://github.com/tiangolo/fastapi/pull/5465) by [@adriangb](https://github.com/adriangb).", "source": "release-notes.md"}
{"doc_id": "fastapi_0607", "title": "Release Notes", "section": "Docs", "content": "* ‚úè Fix typo in `docs/en/docs/tutorial/security/oauth2-jwt.md`. PR [#5584](https://github.com/tiangolo/fastapi/pull/5584) by [@vivekashok1221](https://github.com/vivekashok1221).", "source": "release-notes.md"}
{"doc_id": "fastapi_0608", "title": "Release Notes", "section": "Translations", "content": "* üåê Update wording in Chinese translation for `docs/zh/docs/python-types.md`. PR [#5416](https://github.com/tiangolo/fastapi/pull/5416) by [@supercaizehua](https://github.com/supercaizehua).\n* üåê Add Russian translation for `docs/ru/docs/deployment/index.md`. PR [#5336](https://github.com/tiangolo/fastapi/pull/5336) by [@Xewus](https://github.com/Xewus).\n* üåê Update Chinese translation for `docs/tutorial/security/oauth2-jwt.md`. PR [#3846](https://github.com/tiangolo/fastapi/pull/3846) by [@jaystone776](https://github.com/jaystone776).", "source": "release-notes.md"}
{"doc_id": "fastapi_0609", "title": "Release Notes", "section": "Internal", "content": "* üë∑ Update FastAPI People to exclude bots: pre-commit-ci, dependabot. PR [#5586](https://github.com/tiangolo/fastapi/pull/5586) by [@tiangolo](https://github.com/tiangolo).\n* üé® Format OpenAPI JSON in `test_starlette_exception.py`. PR [#5379](https://github.com/tiangolo/fastapi/pull/5379) by [@iudeen](https://github.com/iudeen).\n* üë∑ Switch from Codecov to Smokeshow plus pytest-cov to pure coverage for internal tests. PR [#5583](https://github.com/tiangolo/fastapi/pull/5583) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People. PR [#5571](https://github.com/tiangolo/fastapi/pull/5571) by [@github-actions[bot]](https://github.com/apps/github-actions).", "source": "release-notes.md"}
{"doc_id": "fastapi_0610", "title": "Release Notes", "section": "0.85.2", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0611", "title": "Release Notes", "section": "Docs", "content": "* ‚úè Fix grammar and add helpful links to dependencies in `docs/en/docs/async.md`. PR [#5432](https://github.com/tiangolo/fastapi/pull/5432) by [@pamelafox](https://github.com/pamelafox).\n* ‚úè Fix broken link in `alternatives.md`. PR [#5455](https://github.com/tiangolo/fastapi/pull/5455) by [@su-shubham](https://github.com/su-shubham).\n* ‚úè Fix typo in docs about contributing, for compatibility with `pip` in Zsh. PR [#5523](https://github.com/tiangolo/fastapi/pull/5523) by [@zhangbo2012](https://github.com/zhangbo2012).\n* üìù Fix typo in docs with examples for Python 3.10 instead of 3.9. PR [#5545](https://github.com/tiangolo/fastapi/pull/5545) by [@feliciss](https://github.com/feliciss).", "source": "release-notes.md"}
{"doc_id": "fastapi_0612", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Portuguese translation for `docs/pt/docs/tutorial/request-forms.md`. PR [#4934](https://github.com/tiangolo/fastapi/pull/4934) by [@batlopes](https://github.com/batlopes).\n* üåê Add Chinese translation for `docs/zh/docs/tutorial/dependencies/classes-as-dependencies.md`. PR [#4971](https://github.com/tiangolo/fastapi/pull/4971) by [@Zssaer](https://github.com/Zssaer).\n* üåê Add French translation for `deployment/deta.md`. PR [#3692](https://github.com/tiangolo/fastapi/pull/3692) by [@rjNemo](https://github.com/rjNemo).\n* üåê Update Chinese translation for `docs/zh/docs/tutorial/query-params-str-validations.md`. PR [#5255](https://github.com/tiangolo/fastapi/pull/5255) by [@hjlarry](https://github.com/hjlarry).\n* üåê Add Chinese translation for `docs/zh/docs/tutorial/sql-databases.md`. PR [#4999](https://github.com/tiangolo/fastapi/pull/4999) by [@Zssaer](https://github.com/Zssaer).\n* üåê Add Chinese translation for `docs/zh/docs/advanced/wsgi.md`. PR [#4505](https://github.com/tiangolo/fastapi/pull/4505) by [@ASpathfinder](https://github.com/ASpathfinder).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/body-multiple-params.md`. PR [#4111](https://github.com/tiangolo/fastapi/pull/4111) by [@lbmendes](https://github.com/lbmendes).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/path-params-numeric-validations.md`. PR [#4099](https://github.com/tiangolo/fastapi/pull/4099) by [@lbmendes](https://github.com/lbmendes).\n* üåê Add French translation for `deployment/versions.md`. PR [#3690](https://github.com/tiangolo/fastapi/pull/3690) by [@rjNemo](https://github.com/rjNemo).\n* üåê Add French translation for `docs/fr/docs/help-fastapi.md`. PR [#2233](https://github.com/tiangolo/fastapi/pull/2233) by [@JulianMaurin](https://github.com/JulianMaurin).\n* üåê Fix typo in Chinese translation for `docs/zh/docs/tutorial/security/first-steps.md`. PR [#5530](https://github.com/tiangolo/fastapi/pull/5530) by [@yuki1sntSnow](https://github.com/yuki1sntSnow).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/response-status-code.md`. PR [#4922](https://github.com/tiangolo/fastapi/pull/4922) by [@batlopes](https://github.com/batlopes).\n* üîß Add config for Tamil translations. PR [#5563](https://github.com/tiangolo/fastapi/pull/5563) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0613", "title": "Release Notes", "section": "Internal", "content": "* ‚¨Ü Bump internal dependency mypy from 0.971 to 0.982. PR [#5541](https://github.com/tiangolo/fastapi/pull/5541) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump nwtgck/actions-netlify from 1.2.3 to 1.2.4. PR [#5507](https://github.com/tiangolo/fastapi/pull/5507) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump internal dependency types-ujson from 5.4.0 to 5.5.0. PR [#5537](https://github.com/tiangolo/fastapi/pull/5537) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump dawidd6/action-download-artifact from 2.23.0 to 2.24.0. PR [#5508](https://github.com/tiangolo/fastapi/pull/5508) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Update internal dependency pytest-cov requirement from <4.0.0,>=2.12.0 to >=2.12.0,<5.0.0. PR [#5539](https://github.com/tiangolo/fastapi/pull/5539) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#5536](https://github.com/tiangolo/fastapi/pull/5536) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* üêõ Fix internal Trio test warnings. PR [#5547](https://github.com/tiangolo/fastapi/pull/5547) by [@samuelcolvin](https://github.com/samuelcolvin).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#5408](https://github.com/tiangolo/fastapi/pull/5408) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* ‚¨ÜÔ∏è Upgrade Typer to include Rich in scripts for docs. PR [#5502](https://github.com/tiangolo/fastapi/pull/5502) by [@tiangolo](https://github.com/tiangolo).\n* üêõ Fix calling `mkdocs` for languages as a subprocess to fix/enable MkDocs Material search plugin. PR [#5501](https://github.com/tiangolo/fastapi/pull/5501) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0614", "title": "Release Notes", "section": "0.85.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0615", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix support for strings in OpenAPI status codes: `default`, `1XX`, `2XX`, `3XX`, `4XX`, `5XX`. PR [#5187](https://github.com/tiangolo/fastapi/pull/5187) by [@JarroVGIT](https://github.com/JarroVGIT).", "source": "release-notes.md"}
{"doc_id": "fastapi_0616", "title": "Release Notes", "section": "Docs", "content": "* üìù Add WayScript x FastAPI Tutorial to External Links section. PR [#5407](https://github.com/tiangolo/fastapi/pull/5407) by [@moneeka](https://github.com/moneeka).", "source": "release-notes.md"}
{"doc_id": "fastapi_0617", "title": "Release Notes", "section": "Internal", "content": "* üë• Update FastAPI People. PR [#5447](https://github.com/tiangolo/fastapi/pull/5447) by [@github-actions[bot]](https://github.com/apps/github-actions).\n* üîß Disable Material for MkDocs search plugin. PR [#5495](https://github.com/tiangolo/fastapi/pull/5495) by [@tiangolo](https://github.com/tiangolo).\n* üîá Ignore Trio warning in tests for CI. PR [#5483](https://github.com/tiangolo/fastapi/pull/5483) by [@samuelcolvin](https://github.com/samuelcolvin).", "source": "release-notes.md"}
{"doc_id": "fastapi_0618", "title": "Release Notes", "section": "0.85.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0619", "title": "Release Notes", "section": "Features", "content": "* ‚¨Ü Upgrade version required of Starlette from `0.19.1` to `0.20.4`. Initial PR [#4820](https://github.com/tiangolo/fastapi/pull/4820) by [@Kludex](https://github.com/Kludex).\n    * This includes several bug fixes in Starlette.\n* ‚¨ÜÔ∏è Upgrade Uvicorn max version in public extras: all. From `>=0.12.0,<0.18.0` to `>=0.12.0,<0.19.0`. PR [#5401](https://github.com/tiangolo/fastapi/pull/5401) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0620", "title": "Release Notes", "section": "Internal", "content": "* ‚¨ÜÔ∏è Upgrade dependencies for doc and dev internal extras: Typer, Uvicorn. PR [#5400](https://github.com/tiangolo/fastapi/pull/5400) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨ÜÔ∏è Upgrade test dependencies: Black, HTTPX, databases, types-ujson. PR [#5399](https://github.com/tiangolo/fastapi/pull/5399) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨ÜÔ∏è Upgrade mypy and tweak internal type annotations. PR [#5398](https://github.com/tiangolo/fastapi/pull/5398) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update test dependencies, upgrade Pytest, move dependencies from dev to test. PR [#5396](https://github.com/tiangolo/fastapi/pull/5396) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0621", "title": "Release Notes", "section": "0.84.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0622", "title": "Release Notes", "section": "Breaking Changes", "content": "This version of FastAPI drops support for Python 3.6. üî• Please upgrade to a supported version of Python (3.7 or above), Python 3.6 reached the end-of-life a long time ago. üòÖ‚ò†\n\n* üîß Update package metadata, drop support for Python 3.6, move build internals from Flit to Hatch. PR [#5240](https://github.com/tiangolo/fastapi/pull/5240) by [@ofek](https://github.com/ofek).", "source": "release-notes.md"}
{"doc_id": "fastapi_0623", "title": "Release Notes", "section": "0.83.0", "content": "üö® This is probably the last release (or one of the last releases) to support Python 3.6. üî•\n\nPython 3.6 reached the [end-of-life and is no longer supported by Python](https://www.python.org/downloads/release/python-3615/) since around a year ago.\n\nYou hopefully updated to a supported version of Python a while ago. If you haven't, you really should.", "source": "release-notes.md"}
{"doc_id": "fastapi_0624", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add support in `jsonable_encoder` for include and exclude with dataclasses. PR [#4923](https://github.com/tiangolo/fastapi/pull/4923) by [@DCsunset](https://github.com/DCsunset).", "source": "release-notes.md"}
{"doc_id": "fastapi_0625", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix `RuntimeError` raised when `HTTPException` has a status code with no content. PR [#5365](https://github.com/tiangolo/fastapi/pull/5365) by [@iudeen](https://github.com/iudeen).\n* üêõ Fix empty reponse body when default `status_code` is empty but the a `Response` parameter with `response.status_code` is set. PR [#5360](https://github.com/tiangolo/fastapi/pull/5360) by [@tmeckel](https://github.com/tmeckel).", "source": "release-notes.md"}
{"doc_id": "fastapi_0626", "title": "Release Notes", "section": "Docs", "content": "* üìù Update `SECURITY.md`. PR [#5377](https://github.com/tiangolo/fastapi/pull/5377) by [@Kludex](https://github.com/Kludex).", "source": "release-notes.md"}
{"doc_id": "fastapi_0627", "title": "Release Notes", "section": "Internal", "content": "* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#5352](https://github.com/tiangolo/fastapi/pull/5352) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).", "source": "release-notes.md"}
{"doc_id": "fastapi_0628", "title": "Release Notes", "section": "0.82.0", "content": "üö® This is probably the last release (or one of the last releases) to support Python 3.6. üî•\n\nPython 3.6 reached the [end-of-life and is no longer supported by Python](https://www.python.org/downloads/release/python-3615/) since around a year ago.\n\nYou hopefully updated to a supported version of Python a while ago. If you haven't, you really should.", "source": "release-notes.md"}
{"doc_id": "fastapi_0629", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Export `WebSocketState` in `fastapi.websockets`. PR [#4376](https://github.com/tiangolo/fastapi/pull/4376) by [@matiuszka](https://github.com/matiuszka).\n* ‚ú® Support Python internal description on Pydantic model's docstring. PR [#3032](https://github.com/tiangolo/fastapi/pull/3032) by [@Kludex](https://github.com/Kludex).\n* ‚ú® Update `ORJSONResponse` to support non `str` keys and serializing Numpy arrays. PR [#3892](https://github.com/tiangolo/fastapi/pull/3892) by [@baby5](https://github.com/baby5).", "source": "release-notes.md"}
{"doc_id": "fastapi_0630", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Allow exit code for dependencies with `yield` to always execute, by removing capacity limiter for them, to e.g. allow closing DB connections without deadlocks. PR [#5122](https://github.com/tiangolo/fastapi/pull/5122) by [@adriangb](https://github.com/adriangb).\n* üêõ Fix FastAPI People GitHub Action: set HTTPX timeout for GraphQL query request. PR [#5222](https://github.com/tiangolo/fastapi/pull/5222) by [@iudeen](https://github.com/iudeen).\n* üêõ Make sure a parameter defined as required is kept required in OpenAPI even if defined as optional in another dependency. PR [#4319](https://github.com/tiangolo/fastapi/pull/4319) by [@cd17822](https://github.com/cd17822).\n* üêõ Fix support for path parameters in WebSockets. PR [#3879](https://github.com/tiangolo/fastapi/pull/3879) by [@davidbrochart](https://github.com/davidbrochart).", "source": "release-notes.md"}
{"doc_id": "fastapi_0631", "title": "Release Notes", "section": "Docs", "content": "* ‚úè Update Hypercorn link, now pointing to GitHub. PR [#5346](https://github.com/tiangolo/fastapi/pull/5346) by [@baconfield](https://github.com/baconfield).\n* ‚úè Tweak wording in `docs/en/docs/advanced/dataclasses.md`. PR [#3698](https://github.com/tiangolo/fastapi/pull/3698) by [@pfackeldey](https://github.com/pfackeldey).\n* üìù Add note about Python 3.10 `X | Y` operator in explanation about Response Models. PR [#5307](https://github.com/tiangolo/fastapi/pull/5307) by [@MendyLanda](https://github.com/MendyLanda).\n* üìù Add link to New Relic article: \"How to monitor FastAPI application performance using Python agent\". PR [#5260](https://github.com/tiangolo/fastapi/pull/5260) by [@sjyothi54](https://github.com/sjyothi54).\n* üìù Update docs for `ORJSONResponse` with details about improving performance. PR [#2615](https://github.com/tiangolo/fastapi/pull/2615) by [@falkben](https://github.com/falkben).\n* üìù Add docs for creating a custom Response class. PR [#5331](https://github.com/tiangolo/fastapi/pull/5331) by [@tiangolo](https://github.com/tiangolo).\n* üìù Add tip about using alias for form data fields. PR [#5329](https://github.com/tiangolo/fastapi/pull/5329) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0632", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Russian translation for `docs/ru/docs/features.md`. PR [#5315](https://github.com/tiangolo/fastapi/pull/5315) by [@Xewus](https://github.com/Xewus).\n* üåê Update Chinese translation for `docs/zh/docs/tutorial/request-files.md`. PR [#4529](https://github.com/tiangolo/fastapi/pull/4529) by [@ASpathfinder](https://github.com/ASpathfinder).\n* üåê Add Chinese translation for `docs/zh/docs/tutorial/encoder.md`. PR [#4969](https://github.com/tiangolo/fastapi/pull/4969) by [@Zssaer](https://github.com/Zssaer).\n* üåê Fix MkDocs file line for Portuguese translation of `background-task.md`. PR [#5242](https://github.com/tiangolo/fastapi/pull/5242) by [@ComicShrimp](https://github.com/ComicShrimp).", "source": "release-notes.md"}
{"doc_id": "fastapi_0633", "title": "Release Notes", "section": "Internal", "content": "* üë• Update FastAPI People. PR [#5347](https://github.com/tiangolo/fastapi/pull/5347) by [@github-actions[bot]](https://github.com/apps/github-actions).\n* ‚¨Ü Bump dawidd6/action-download-artifact from 2.22.0 to 2.23.0. PR [#5321](https://github.com/tiangolo/fastapi/pull/5321) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#5318](https://github.com/tiangolo/fastapi/pull/5318) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* ‚úè Fix a small code highlight line error. PR [#5256](https://github.com/tiangolo/fastapi/pull/5256) by [@hjlarry](https://github.com/hjlarry).\n* ‚ôª Internal small refactor, move `operation_id` parameter position in delete method for consistency with the code. PR [#4474](https://github.com/tiangolo/fastapi/pull/4474) by [@hiel](https://github.com/hiel).\n* üîß Update sponsors, disable ImgWhale. PR [#5338](https://github.com/tiangolo/fastapi/pull/5338) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0634", "title": "Release Notes", "section": "0.81.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0635", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add ReDoc `<noscript>` warning when JS is disabled. PR [#5074](https://github.com/tiangolo/fastapi/pull/5074) by [@evroon](https://github.com/evroon).\n* ‚ú® Add support for `FrozenSet` in parameters (e.g. query). PR [#2938](https://github.com/tiangolo/fastapi/pull/2938) by [@juntatalor](https://github.com/juntatalor).\n* ‚ú® Allow custom middlewares to raise `HTTPException`s and propagate them. PR [#2036](https://github.com/tiangolo/fastapi/pull/2036) by [@ghandic](https://github.com/ghandic).\n* ‚ú® Preserve `json.JSONDecodeError` information when handling invalid JSON in request body, to support custom exception handlers that use its information. PR [#4057](https://github.com/tiangolo/fastapi/pull/4057) by [@UKnowWhoIm](https://github.com/UKnowWhoIm).", "source": "release-notes.md"}
{"doc_id": "fastapi_0636", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix `jsonable_encoder` for dataclasses with pydantic-compatible fields. PR [#3607](https://github.com/tiangolo/fastapi/pull/3607) by [@himbeles](https://github.com/himbeles).\n* üêõ Fix support for extending `openapi_extras` with parameter lists. PR [#4267](https://github.com/tiangolo/fastapi/pull/4267) by [@orilevari](https://github.com/orilevari).", "source": "release-notes.md"}
{"doc_id": "fastapi_0637", "title": "Release Notes", "section": "Docs", "content": "* ‚úè Fix a simple typo in `docs/en/docs/python-types.md`. PR [#5193](https://github.com/tiangolo/fastapi/pull/5193) by [@GlitchingCore](https://github.com/GlitchingCore).\n* ‚úè Fix typos in `tests/test_schema_extra_examples.py`. PR [#5126](https://github.com/tiangolo/fastapi/pull/5126) by [@supraaxdd](https://github.com/supraaxdd).\n* ‚úè Fix typos in `docs/en/docs/tutorial/path-params-numeric-validations.md`. PR [#5142](https://github.com/tiangolo/fastapi/pull/5142) by [@invisibleroads](https://github.com/invisibleroads).\n* üìù Add step about upgrading pip in the venv to avoid errors when installing dependencies `docs/en/docs/contributing.md`. PR [#5181](https://github.com/tiangolo/fastapi/pull/5181) by [@edisnake](https://github.com/edisnake).\n* ‚úè Reword and clarify text in tutorial `docs/en/docs/tutorial/body-nested-models.md`. PR [#5169](https://github.com/tiangolo/fastapi/pull/5169) by [@papb](https://github.com/papb).\n* ‚úè Fix minor typo in `docs/en/docs/features.md`. PR [#5206](https://github.com/tiangolo/fastapi/pull/5206) by [@OtherBarry](https://github.com/OtherBarry).\n* ‚úè Fix minor typos in `docs/en/docs/async.md`. PR [#5125](https://github.com/tiangolo/fastapi/pull/5125) by [@Ksenofanex](https://github.com/Ksenofanex).\n* üìù Add external link to docs: \"Fastapi, Docker(Docker compose) and Postgres\". PR [#5033](https://github.com/tiangolo/fastapi/pull/5033) by [@krishnardt](https://github.com/krishnardt).\n* üìù Simplify example for docs for Additional Responses, remove unnecessary `else`. PR [#4693](https://github.com/tiangolo/fastapi/pull/4693) by [@adriangb](https://github.com/adriangb).\n* üìù Update docs, compare enums with identity instead of equality. PR [#4905](https://github.com/tiangolo/fastapi/pull/4905) by [@MicaelJarniac](https://github.com/MicaelJarniac).\n* ‚úè Fix typo in `docs/en/docs/python-types.md`. PR [#4886](https://github.com/tiangolo/fastapi/pull/4886) by [@MicaelJarniac](https://github.com/MicaelJarniac).\n* üé® Fix syntax highlighting in docs for OpenAPI Callbacks. PR [#4368](https://github.com/tiangolo/fastapi/pull/4368) by [@xncbf](https://github.com/xncbf).\n* ‚úè Reword confusing sentence in docs file `typo-fix-path-params-numeric-validations.md`. PR [#3219](https://github.com/tiangolo/fastapi/pull/3219) by [@ccrenfroe](https://github.com/ccrenfroe).\n* üìù Update docs for handling HTTP Basic Auth with `secrets.compare_digest()` to account for non-ASCII characters. PR [#3536](https://github.com/tiangolo/fastapi/pull/3536) by [@lewoudar](https://github.com/lewoudar).\n* üìù Update docs for testing, fix examples with relative imports. PR [#5302](https://github.com/tiangolo/fastapi/pull/5302) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0638", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Russian translation for `docs/ru/docs/index.md`. PR [#5289](https://github.com/tiangolo/fastapi/pull/5289) by [@impocode](https://github.com/impocode).\n* üåê Add Russian translation for `docs/ru/docs/deployment/versions.md`. PR [#4985](https://github.com/tiangolo/fastapi/pull/4985) by [@emp7yhead](https://github.com/emp7yhead).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/header-params.md`. PR [#4921](https://github.com/tiangolo/fastapi/pull/4921) by [@batlopes](https://github.com/batlopes).\n* üåê Update `ko/mkdocs.yml` for a missing link. PR [#5020](https://github.com/tiangolo/fastapi/pull/5020) by [@dalinaum](https://github.com/dalinaum).", "source": "release-notes.md"}
{"doc_id": "fastapi_0639", "title": "Release Notes", "section": "Internal", "content": "* ‚¨Ü Bump dawidd6/action-download-artifact from 2.21.1 to 2.22.0. PR [#5258](https://github.com/tiangolo/fastapi/pull/5258) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#5196](https://github.com/tiangolo/fastapi/pull/5196) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* üî• Delete duplicated tests in `tests/test_tutorial/test_sql_databases/test_sql_databases.py`. PR [#5040](https://github.com/tiangolo/fastapi/pull/5040) by [@raccoonyy](https://github.com/raccoonyy).\n* ‚ôª Simplify internal RegEx in `fastapi/utils.py`. PR [#5057](https://github.com/tiangolo/fastapi/pull/5057) by [@pylounge](https://github.com/pylounge).\n* üîß Fix Type hint of `auto_error` which does not need to be `Optional[bool]`. PR [#4933](https://github.com/tiangolo/fastapi/pull/4933) by [@DavidKimDY](https://github.com/DavidKimDY).\n* üîß Update mypy config, use `strict = true` instead of manual configs. PR [#4605](https://github.com/tiangolo/fastapi/pull/4605) by [@michaeloliverx](https://github.com/michaeloliverx).\n* ‚ôª Change a `dict()` for `{}` in `fastapi/utils.py`. PR [#3138](https://github.com/tiangolo/fastapi/pull/3138) by [@ShahriyarR](https://github.com/ShahriyarR).\n* ‚ôª Move internal variable for errors in `jsonable_encoder` to put related code closer. PR [#4560](https://github.com/tiangolo/fastapi/pull/4560) by [@GuilleQP](https://github.com/GuilleQP).\n* ‚ôª Simplify conditional assignment in `fastapi/dependencies/utils.py`. PR [#4597](https://github.com/tiangolo/fastapi/pull/4597) by [@cikay](https://github.com/cikay).\n* ‚¨Ü Upgrade version pin accepted for Flake8, for internal code, to `flake8 >=3.8.3,<6.0.0`. PR [#4097](https://github.com/tiangolo/fastapi/pull/4097) by [@jamescurtin](https://github.com/jamescurtin).\n* üç± Update Jina banner, fix typo. PR [#5301](https://github.com/tiangolo/fastapi/pull/5301) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0640", "title": "Release Notes", "section": "0.80.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0641", "title": "Release Notes", "section": "Breaking Changes - Fixes", "content": "* üêõ Fix `response_model` not invalidating `None`. PR [#2725](https://github.com/tiangolo/fastapi/pull/2725) by [@hukkin](https://github.com/hukkin).\n\nIf you are using `response_model` with some type that doesn't include `None` but the function is returning `None`, it will now raise an internal server error, because you are returning invalid data that violates the contract in `response_model`. Before this release it would allow breaking that contract returning `None`.\n\nFor example, if you have an app like this:\n\n```Python\nfrom fastapi import FastAPI\nfrom pydantic import BaseModel\n\nclass Item(BaseModel):\n    name: str\n    price: Optional[float] = None\n    owner_ids: Optional[List[int]] = None\n\napp = FastAPI()\n\n@app.get(\"/items/invalidnone\", response_model=Item)\ndef get_invalid_none():\n    return None\n```\n\n...calling the path `/items/invalidnone` will raise an error, because `None` is not a valid type for the `response_model` declared with `Item`.\n\nYou could also be implicitly returning `None` without realizing, for example:\n\n```Python\nfrom fastapi import FastAPI\nfrom pydantic import BaseModel\n\nclass Item(BaseModel):\n    name: str\n    price: Optional[float] = None\n    owner_ids: Optional[List[int]] = None\n\napp = FastAPI()\n\n@app.get(\"/items/invalidnone\", response_model=Item)\ndef get_invalid_none():\n    if flag:\n        return {\"name\": \"foo\"}\n    # if flag is False, at this point the function will implicitly return None\n```\n\nIf you have *path operations* using `response_model` that need to be allowed to return `None`, make it explicit in `response_model` using `Union[Something, None]`:\n\n```Python\nfrom typing import Union\n\nfrom fastapi import FastAPI\nfrom pydantic import BaseModel\n\nclass Item(BaseModel):\n    name: str\n    price: Optional[float] = None\n    owner_ids: Optional[List[int]] = None\n\napp = FastAPI()\n\n@app.get(\"/items/invalidnone\", response_model=Union[Item, None])\ndef get_invalid_none():\n    return None\n```\n\nThis way the data will be correctly validated, you won't have an internal server error, and the documentation will also reflect that this *path operation* could return `None` (or `null` in JSON).", "source": "release-notes.md"}
{"doc_id": "fastapi_0642", "title": "Release Notes", "section": "Fixes", "content": "* ‚¨Ü Upgrade Swagger UI copy of `oauth2-redirect.html` to include fixes for flavors of authorization code flows in Swagger UI. PR [#3439](https://github.com/tiangolo/fastapi/pull/3439) initial PR by [@koonpeng](https://github.com/koonpeng).\n* ‚ôª Strip empty whitespace from description extracted from docstrings. PR [#2821](https://github.com/tiangolo/fastapi/pull/2821) by [@and-semakin](https://github.com/and-semakin).\n* üêõ Fix cached dependencies when using a dependency in `Security()` and other places (e.g. `Depends()`) with different OAuth2 scopes. PR [#2945](https://github.com/tiangolo/fastapi/pull/2945) by [@laggardkernel](https://github.com/laggardkernel).\n* üé® Update type annotations for `response_model`, allow things like `Union[str, None]`. PR [#5294](https://github.com/tiangolo/fastapi/pull/5294) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0643", "title": "Release Notes", "section": "Translations", "content": "* üåê Fix typos in German translation for `docs/de/docs/features.md`. PR [#4533](https://github.com/tiangolo/fastapi/pull/4533) by [@0xflotus](https://github.com/0xflotus).\n* üåê Add missing navigator for `encoder.md` in Korean translation. PR [#5238](https://github.com/tiangolo/fastapi/pull/5238) by [@joonas-yoon](https://github.com/joonas-yoon).\n* (Empty PR merge by accident) [#4913](https://github.com/tiangolo/fastapi/pull/4913).", "source": "release-notes.md"}
{"doc_id": "fastapi_0644", "title": "Release Notes", "section": "0.79.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0645", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix `jsonable_encoder` using `include` and `exclude` parameters for non-Pydantic objects. PR [#2606](https://github.com/tiangolo/fastapi/pull/2606) by [@xaviml](https://github.com/xaviml).\n* üêõ Fix edge case with repeated aliases names not shown in OpenAPI. PR [#2351](https://github.com/tiangolo/fastapi/pull/2351) by [@klaa97](https://github.com/klaa97).\n* üìù Add misc dependency installs to tutorial docs. PR [#2126](https://github.com/tiangolo/fastapi/pull/2126) by [@TeoZosa](https://github.com/TeoZosa).", "source": "release-notes.md"}
{"doc_id": "fastapi_0646", "title": "Release Notes", "section": "Docs", "content": "* üìù Add note giving credit for illustrations to [Ketrina Thompson](https://www.instagram.com/ketrinadrawsalot/). PR [#5284](https://github.com/tiangolo/fastapi/pull/5284) by [@tiangolo](https://github.com/tiangolo).\n* ‚úè Fix typo in `python-types.md`. PR [#5116](https://github.com/tiangolo/fastapi/pull/5116) by [@Kludex](https://github.com/Kludex).\n* ‚úè Fix typo in `docs/en/docs/python-types.md`. PR [#5007](https://github.com/tiangolo/fastapi/pull/5007) by [@atiabbz](https://github.com/atiabbz).\n* üìù Remove unneeded Django/Flask references from async topic intro. PR [#5280](https://github.com/tiangolo/fastapi/pull/5280) by [@carltongibson](https://github.com/carltongibson).\n* ‚ú® Add illustrations for Concurrent burgers and Parallel burgers. PR [#5277](https://github.com/tiangolo/fastapi/pull/5277) by [@tiangolo](https://github.com/tiangolo). Updated docs at: [Concurrency and Burgers](https://fastapi.tiangolo.com/async/#concurrency-and-burgers).", "source": "release-notes.md"}
{"doc_id": "fastapi_0647", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Portuguese translation for `docs/pt/docs/tutorial/query-params.md`. PR [#4775](https://github.com/tiangolo/fastapi/pull/4775) by [@batlopes](https://github.com/batlopes).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/security/first-steps.md`. PR [#4954](https://github.com/tiangolo/fastapi/pull/4954) by [@FLAIR7](https://github.com/FLAIR7).\n* üåê Add translation for `docs/zh/docs/advanced/response-cookies.md`. PR [#4638](https://github.com/tiangolo/fastapi/pull/4638) by [@zhangbo2012](https://github.com/zhangbo2012).\n* üåê  Add French translation for `docs/fr/docs/deployment/index.md`. PR [#3689](https://github.com/tiangolo/fastapi/pull/3689) by [@rjNemo](https://github.com/rjNemo).\n* üåê Add Portuguese translation for `tutorial/handling-errors.md`. PR [#4769](https://github.com/tiangolo/fastapi/pull/4769) by [@frnsimoes](https://github.com/frnsimoes).\n* üåê Add French translation for `docs/fr/docs/history-design-future.md`. PR [#3451](https://github.com/tiangolo/fastapi/pull/3451) by [@rjNemo](https://github.com/rjNemo).\n* üåê Add Russian translation for `docs/ru/docs/tutorial/background-tasks.md`. PR [#4854](https://github.com/tiangolo/fastapi/pull/4854) by [@AdmiralDesu](https://github.com/AdmiralDesu).\n* üåê Add Chinese translation for `docs/tutorial/security/first-steps.md`. PR [#3841](https://github.com/tiangolo/fastapi/pull/3841) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Japanese translation for `docs/ja/docs/advanced/nosql-databases.md`. PR [#4205](https://github.com/tiangolo/fastapi/pull/4205) by [@sUeharaE4](https://github.com/sUeharaE4).\n* üåê Add Indonesian translation for `docs/id/docs/tutorial/index.md`. PR [#4705](https://github.com/tiangolo/fastapi/pull/4705) by [@bas-baskara](https://github.com/bas-baskara).\n* üåê Add Persian translation for `docs/fa/docs/index.md` and tweak right-to-left CSS. PR [#2395](https://github.com/tiangolo/fastapi/pull/2395) by [@mohsen-mahmoodi](https://github.com/mohsen-mahmoodi).", "source": "release-notes.md"}
{"doc_id": "fastapi_0648", "title": "Release Notes", "section": "Internal", "content": "* üîß Update Jina sponsorship. PR [#5283](https://github.com/tiangolo/fastapi/pull/5283) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update Jina sponsorship. PR [#5272](https://github.com/tiangolo/fastapi/pull/5272) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors, Striveworks badge. PR [#5179](https://github.com/tiangolo/fastapi/pull/5179) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0649", "title": "Release Notes", "section": "0.79.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0650", "title": "Release Notes", "section": "Fixes - Breaking Changes", "content": "* üêõ Fix removing body from status codes that do not support it. PR [#5145](https://github.com/tiangolo/fastapi/pull/5145) by [@tiangolo](https://github.com/tiangolo).\n    * Setting `status_code` to `204`, `304`, or any code below `200` (1xx) will remove the body from the response.\n    * This fixes an error in Uvicorn that otherwise would be thrown: `RuntimeError: Response content longer than Content-Length`.\n    * This removes `fastapi.openapi.constants.STATUS_CODES_WITH_NO_BODY`, it is replaced by a function in utils.", "source": "release-notes.md"}
{"doc_id": "fastapi_0651", "title": "Release Notes", "section": "Translations", "content": "* üåê Start of Hebrew translation. PR [#5050](https://github.com/tiangolo/fastapi/pull/5050) by [@itay-raveh](https://github.com/itay-raveh).\n* üîß Add config for Swedish translations notification. PR [#5147](https://github.com/tiangolo/fastapi/pull/5147) by [@tiangolo](https://github.com/tiangolo).\n* üåê Start of Swedish translation. PR [#5062](https://github.com/tiangolo/fastapi/pull/5062) by [@MrRawbin](https://github.com/MrRawbin).\n* üåê Add Japanese translation for `docs/ja/docs/advanced/index.md`. PR [#5043](https://github.com/tiangolo/fastapi/pull/5043) by [@wakabame](https://github.com/wakabame).\n* üåêüáµüá± Add Polish translation for `docs/pl/docs/tutorial/first-steps.md`. PR [#5024](https://github.com/tiangolo/fastapi/pull/5024) by [@Valaraucoo](https://github.com/Valaraucoo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0652", "title": "Release Notes", "section": "Internal", "content": "* üîß Update translations notification for Hebrew. PR [#5158](https://github.com/tiangolo/fastapi/pull/5158) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update Dependabot commit message. PR [#5156](https://github.com/tiangolo/fastapi/pull/5156) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump actions/upload-artifact from 2 to 3. PR [#5148](https://github.com/tiangolo/fastapi/pull/5148) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump actions/cache from 2 to 3. PR [#5149](https://github.com/tiangolo/fastapi/pull/5149) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üîß Update sponsors badge configs. PR [#5155](https://github.com/tiangolo/fastapi/pull/5155) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People. PR [#5154](https://github.com/tiangolo/fastapi/pull/5154) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update Jina sponsor badges. PR [#5151](https://github.com/tiangolo/fastapi/pull/5151) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Bump actions/checkout from 2 to 3. PR [#5133](https://github.com/tiangolo/fastapi/pull/5133) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü [pre-commit.ci] pre-commit autoupdate. PR [#5030](https://github.com/tiangolo/fastapi/pull/5030) by [@pre-commit-ci[bot]](https://github.com/apps/pre-commit-ci).\n* ‚¨Ü Bump nwtgck/actions-netlify from 1.1.5 to 1.2.3. PR [#5132](https://github.com/tiangolo/fastapi/pull/5132) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump codecov/codecov-action from 2 to 3. PR [#5131](https://github.com/tiangolo/fastapi/pull/5131) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump dawidd6/action-download-artifact from 2.9.0 to 2.21.1. PR [#5130](https://github.com/tiangolo/fastapi/pull/5130) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* ‚¨Ü Bump actions/setup-python from 2 to 4. PR [#5129](https://github.com/tiangolo/fastapi/pull/5129) by [@dependabot[bot]](https://github.com/apps/dependabot).\n* üë∑ Add Dependabot. PR [#5128](https://github.com/tiangolo/fastapi/pull/5128) by [@tiangolo](https://github.com/tiangolo).\n* ‚ôªÔ∏è Move from `Optional[X]` to `Union[X, None]` for internal utils. PR [#5124](https://github.com/tiangolo/fastapi/pull/5124) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors, remove Dropbase, add Doist. PR [#5096](https://github.com/tiangolo/fastapi/pull/5096) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors, remove Classiq, add ImgWhale. PR [#5079](https://github.com/tiangolo/fastapi/pull/5079) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0653", "title": "Release Notes", "section": "0.78.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0654", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add support for omitting `...` as default value when declaring required parameters with:\n\n* `Path()`\n* `Query()`\n* `Header()`\n* `Cookie()`\n* `Body()`\n* `Form()`\n* `File()`\n\nNew docs at [Tutorial - Query Parameters and String Validations - Make it required](https://fastapi.tiangolo.com/tutorial/query-params-str-validations/#make-it-required). PR [#4906](https://github.com/tiangolo/fastapi/pull/4906) by [@tiangolo](https://github.com/tiangolo).\n\nUp to now, declaring a required parameter while adding additional validation or metadata needed using `...` (Ellipsis).\n\nFor example:\n\n```Python\nfrom fastapi import Cookie, FastAPI, Header, Path, Query\n\napp = FastAPI()\n\n\n@app.get(\"/items/{item_id}\")\ndef main(\n    item_id: int = Path(default=..., gt=0),\n    query: str = Query(default=..., max_length=10),\n    session: str = Cookie(default=..., min_length=3),\n    x_trace: str = Header(default=..., title=\"Tracing header\"),\n):\n    return {\"message\": \"Hello World\"}\n```\n\n...all these parameters are required because the default value is `...` (Ellipsis).\n\nBut now it's possible and supported to just omit the default value, as would be done with Pydantic fields, and the parameters would still be required.\n\n‚ú® For example, this is now supported:\n\n```Python\nfrom fastapi import Cookie, FastAPI, Header, Path, Query\n\napp = FastAPI()\n\n\n@app.get(\"/items/{item_id}\")\ndef main(\n    item_id: int = Path(gt=0),\n    query: str = Query(max_length=10),\n    session: str = Cookie(min_length=3),\n    x_trace: str = Header(title=\"Tracing header\"),\n):\n    return {\"message\": \"Hello World\"}\n```\n\nTo declare parameters as optional (not required), you can set a default value as always, for example using `None`:\n\n```Python\nfrom typing import Union\nfrom fastapi import Cookie, FastAPI, Header, Path, Query\n\napp = FastAPI()\n\n\n@app.get(\"/items/{item_id}\")\ndef main(\n    item_id: int = Path(gt=0),\n    query: Union[str, None] = Query(default=None, max_length=10),\n    session: Union[str, None] = Cookie(default=None, min_length=3),\n    x_trace: Union[str, None] = Header(default=None, title=\"Tracing header\"),\n):\n    return {\"message\": \"Hello World\"}\n```", "source": "release-notes.md"}
{"doc_id": "fastapi_0655", "title": "Release Notes", "section": "Docs", "content": "* üìù Add docs recommending `Union` over `Optional` and migrate source examples. New docs at [Python Types Intro - Using `Union` or `Optional`](https://fastapi.tiangolo.com/python-types/#using-union-or-optional). PR [#4908](https://github.com/tiangolo/fastapi/pull/4908) by [@tiangolo](https://github.com/tiangolo).\n* üé® Fix default value as set in tutorial for Path Operations Advanced Configurations. PR [#4899](https://github.com/tiangolo/fastapi/pull/4899) by [@tiangolo](https://github.com/tiangolo).\n* üìù Add documentation for redefined path operations. PR [#4864](https://github.com/tiangolo/fastapi/pull/4864) by [@madkinsz](https://github.com/madkinsz).\n* üìù Updates links for Celery documentation. PR [#4736](https://github.com/tiangolo/fastapi/pull/4736) by [@sammyzord](https://github.com/sammyzord).\n* ‚úè Fix example code with sets in tutorial for body nested models. PR [#3030](https://github.com/tiangolo/fastapi/pull/3030) by [@hitrust](https://github.com/hitrust).\n* ‚úè Fix links to Pydantic docs. PR [#4670](https://github.com/tiangolo/fastapi/pull/4670) by [@kinuax](https://github.com/kinuax).\n* üìù Update docs about Swagger UI self-hosting with newer source links. PR [#4813](https://github.com/tiangolo/fastapi/pull/4813) by [@Kastakin](https://github.com/Kastakin).\n* üìù Add link to external article: Building the Poll App From Django Tutorial With FastAPI And React. PR [#4778](https://github.com/tiangolo/fastapi/pull/4778) by [@jbrocher](https://github.com/jbrocher).\n* üìù Add OpenAPI warning to \"Body - Fields\" docs with extra schema extensions. PR [#4846](https://github.com/tiangolo/fastapi/pull/4846) by [@ml-evs](https://github.com/ml-evs).", "source": "release-notes.md"}
{"doc_id": "fastapi_0656", "title": "Release Notes", "section": "Translations", "content": "* üåê Fix code examples in Japanese translation for `docs/ja/docs/tutorial/testing.md`. PR [#4623](https://github.com/tiangolo/fastapi/pull/4623) by [@hirotoKirimaru](https://github.com/hirotoKirimaru).", "source": "release-notes.md"}
{"doc_id": "fastapi_0657", "title": "Release Notes", "section": "Internal", "content": "* ‚ôª Refactor dict value extraction to minimize key lookups `fastapi/utils.py`. PR [#3139](https://github.com/tiangolo/fastapi/pull/3139) by [@ShahriyarR](https://github.com/ShahriyarR).\n* ‚úÖ Add tests for required nonable parameters and body fields. PR [#4907](https://github.com/tiangolo/fastapi/pull/4907) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Fix installing Material for MkDocs Insiders in CI. PR [#4897](https://github.com/tiangolo/fastapi/pull/4897) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Add pre-commit CI instead of custom GitHub Action. PR [#4896](https://github.com/tiangolo/fastapi/pull/4896) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Add pre-commit GitHub Action workflow. PR [#4895](https://github.com/tiangolo/fastapi/pull/4895) by [@tiangolo](https://github.com/tiangolo).\n* üìù Add dark mode auto switch to docs based on OS preference. PR [#4869](https://github.com/tiangolo/fastapi/pull/4869) by [@ComicShrimp](https://github.com/ComicShrimp).\n* üî• Remove un-used old pending tests, already covered in other places. PR [#4891](https://github.com/tiangolo/fastapi/pull/4891) by [@tiangolo](https://github.com/tiangolo).\n* üîß Add Python formatting hooks to pre-commit. PR [#4890](https://github.com/tiangolo/fastapi/pull/4890) by [@tiangolo](https://github.com/tiangolo).\n* üîß Add pre-commit with first config and first formatting pass. PR [#4888](https://github.com/tiangolo/fastapi/pull/4888) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Disable CI installing Material for MkDocs in forks. PR [#4410](https://github.com/tiangolo/fastapi/pull/4410) by [@dolfinus](https://github.com/dolfinus).", "source": "release-notes.md"}
{"doc_id": "fastapi_0658", "title": "Release Notes", "section": "0.77.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0659", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨Ü Upgrade Starlette from 0.19.0 to 0.19.1. PR [#4819](https://github.com/tiangolo/fastapi/pull/4819) by [@Kludex](https://github.com/Kludex).", "source": "release-notes.md"}
{"doc_id": "fastapi_0660", "title": "Release Notes", "section": "Docs", "content": "* üìù Add link to german article: REST-API Programmieren mittels Python und dem FastAPI Modul. PR [#4624](https://github.com/tiangolo/fastapi/pull/4624) by [@fschuermeyer](https://github.com/fschuermeyer).\n* üìù Add external link: PyCharm Guide to FastAPI. PR [#4512](https://github.com/tiangolo/fastapi/pull/4512) by [@mukulmantosh](https://github.com/mukulmantosh).\n* üìù Add external link to article: Building an API with FastAPI and Supabase and Deploying on Deta. PR [#4440](https://github.com/tiangolo/fastapi/pull/4440) by [@aUnicornDev](https://github.com/aUnicornDev).\n* ‚úè Fix small typo in `docs/en/docs/tutorial/security/first-steps.md`. PR [#4515](https://github.com/tiangolo/fastapi/pull/4515) by [@KikoIlievski](https://github.com/KikoIlievski).", "source": "release-notes.md"}
{"doc_id": "fastapi_0661", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Polish translation for `docs/pl/docs/tutorial/index.md`. PR [#4516](https://github.com/tiangolo/fastapi/pull/4516) by [@MKaczkow](https://github.com/MKaczkow).\n* ‚úè Fix typo in deployment. PR [#4629](https://github.com/tiangolo/fastapi/pull/4629) by [@raisulislam541](https://github.com/raisulislam541).\n* üåê Add Portuguese translation for `docs/pt/docs/help-fastapi.md`. PR [#4583](https://github.com/tiangolo/fastapi/pull/4583) by [@mateusjs](https://github.com/mateusjs).", "source": "release-notes.md"}
{"doc_id": "fastapi_0662", "title": "Release Notes", "section": "Internal", "content": "* üîß Add notifications in issue for Uzbek translations. PR [#4884](https://github.com/tiangolo/fastapi/pull/4884) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0663", "title": "Release Notes", "section": "0.77.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0664", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨Ü Upgrade Starlette from 0.18.0 to 0.19.0. PR [#4488](https://github.com/tiangolo/fastapi/pull/4488) by [@Kludex](https://github.com/Kludex).\n    * When creating an explicit `JSONResponse` the `content` argument is now required.", "source": "release-notes.md"}
{"doc_id": "fastapi_0665", "title": "Release Notes", "section": "Docs", "content": "* üìù Add external link to article: Seamless FastAPI Configuration with ConfZ. PR [#4414](https://github.com/tiangolo/fastapi/pull/4414) by [@silvanmelchior](https://github.com/silvanmelchior).\n* üìù Add external link to article: 5 Advanced Features of FastAPI You Should Try. PR [#4436](https://github.com/tiangolo/fastapi/pull/4436) by [@kaustubhgupta](https://github.com/kaustubhgupta).\n* ‚úè Reword to improve legibility of docs about `TestClient`. PR [#4389](https://github.com/tiangolo/fastapi/pull/4389) by [@rgilton](https://github.com/rgilton).\n* üìù Add external link to blog post about Kafka, FastAPI, and Ably. PR [#4044](https://github.com/tiangolo/fastapi/pull/4044) by [@Ugbot](https://github.com/Ugbot).\n* ‚úè Fix typo in `docs/en/docs/tutorial/sql-databases.md`. PR [#4875](https://github.com/tiangolo/fastapi/pull/4875) by [@wpyoga](https://github.com/wpyoga).\n* ‚úè Fix typo in `docs/en/docs/async.md`. PR [#4726](https://github.com/tiangolo/fastapi/pull/4726) by [@Prezu](https://github.com/Prezu).", "source": "release-notes.md"}
{"doc_id": "fastapi_0666", "title": "Release Notes", "section": "Translations", "content": "* üåê Update source example highlights for `docs/zh/docs/tutorial/query-params-str-validations.md`. PR [#4237](https://github.com/tiangolo/fastapi/pull/4237) by [@caimaoy](https://github.com/caimaoy).\n* üåê Remove translation docs references to aiofiles as it's no longer needed since AnyIO. PR [#3594](https://github.com/tiangolo/fastapi/pull/3594) by [@alonme](https://github.com/alonme).\n* ‚úè üåê Fix typo in Portuguese translation for `docs/pt/docs/tutorial/path-params.md`. PR [#4722](https://github.com/tiangolo/fastapi/pull/4722) by [@CleoMenezesJr](https://github.com/CleoMenezesJr).\n* üåê Fix live docs server for translations for some languages. PR [#4729](https://github.com/tiangolo/fastapi/pull/4729) by [@wakabame](https://github.com/wakabame).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/cookie-params.md`. PR [#4112](https://github.com/tiangolo/fastapi/pull/4112) by [@lbmendes](https://github.com/lbmendes).\n* üåê Fix French translation for `docs/tutorial/body.md`. PR [#4332](https://github.com/tiangolo/fastapi/pull/4332) by [@Smlep](https://github.com/Smlep).\n* üåê Add Japanese translation for `docs/ja/docs/advanced/conditional-openapi.md`. PR [#2631](https://github.com/tiangolo/fastapi/pull/2631) by [@sh0nk](https://github.com/sh0nk).\n* üåê Fix Japanese translation of `docs/ja/docs/tutorial/body.md`. PR [#3062](https://github.com/tiangolo/fastapi/pull/3062) by [@a-takahashi223](https://github.com/a-takahashi223).\n* üåê Add Portuguese translation for `docs/pt/docs/tutorial/background-tasks.md`. PR [#2170](https://github.com/tiangolo/fastapi/pull/2170) by [@izaguerreiro](https://github.com/izaguerreiro).\n* üåê Add Portuguese translation for `docs/deployment/deta.md`. PR [#4442](https://github.com/tiangolo/fastapi/pull/4442) by [@lsglucas](https://github.com/lsglucas).\n* üåê Add Russian translation for `docs/async.md`. PR [#4036](https://github.com/tiangolo/fastapi/pull/4036) by [@Winand](https://github.com/Winand).\n* üåê Add Portuguese translation for `docs/tutorial/body.md`. PR [#3960](https://github.com/tiangolo/fastapi/pull/3960) by [@leandrodesouzadev](https://github.com/leandrodesouzadev).\n* üåê Add Portuguese translation of `tutorial/extra-data-types.md`. PR [#4077](https://github.com/tiangolo/fastapi/pull/4077) by [@luccasmmg](https://github.com/luccasmmg).\n* üåê Update German translation for `docs/features.md`. PR [#3905](https://github.com/tiangolo/fastapi/pull/3905) by [@jomue](https://github.com/jomue).", "source": "release-notes.md"}
{"doc_id": "fastapi_0667", "title": "Release Notes", "section": "0.76.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0668", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨Ü Upgrade Starlette from 0.17.1 to 0.18.0. PR [#4483](https://github.com/tiangolo/fastapi/pull/4483) by [@Kludex](https://github.com/Kludex).", "source": "release-notes.md"}
{"doc_id": "fastapi_0669", "title": "Release Notes", "section": "Internal", "content": "* üë• Update FastAPI People. PR [#4847](https://github.com/tiangolo/fastapi/pull/4847) by [@github-actions[bot]](https://github.com/apps/github-actions).\n* üîß Add Budget Insight sponsor. PR [#4824](https://github.com/tiangolo/fastapi/pull/4824) by [@tiangolo](https://github.com/tiangolo).\n* üç± Update sponsor, ExoFlare badge. PR [#4822](https://github.com/tiangolo/fastapi/pull/4822) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update sponsors, enable Dropbase again, update TalkPython link. PR [#4821](https://github.com/tiangolo/fastapi/pull/4821) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0670", "title": "Release Notes", "section": "0.75.2", "content": "This release includes upgrades to third-party packages that handle security issues. Although there's a chance these issues don't affect you in particular, please upgrade as soon as possible.", "source": "release-notes.md"}
{"doc_id": "fastapi_0671", "title": "Release Notes", "section": "Fixes", "content": "* ‚úÖ Fix new/recent tests with new fixed `ValidationError` JSON Schema. PR [#4806](https://github.com/tiangolo/fastapi/pull/4806) by [@tiangolo](https://github.com/tiangolo).\n* üêõ Fix JSON Schema for `ValidationError` at field `loc`. PR [#3810](https://github.com/tiangolo/fastapi/pull/3810) by [@dconathan](https://github.com/dconathan).\n* üêõ Fix support for prefix on APIRouter WebSockets. PR [#2640](https://github.com/tiangolo/fastapi/pull/2640) by [@Kludex](https://github.com/Kludex).", "source": "release-notes.md"}
{"doc_id": "fastapi_0672", "title": "Release Notes", "section": "Upgrades", "content": "* ‚¨ÜÔ∏è Update ujson ranges for CVE-2021-45958. PR [#4804](https://github.com/tiangolo/fastapi/pull/4804) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨ÜÔ∏è Upgrade dependencies upper range for extras \"all\". PR [#4803](https://github.com/tiangolo/fastapi/pull/4803) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Upgrade Swagger UI - swagger-ui-dist@4. This handles a security issue in Swagger UI itself where it could be possible to inject HTML into Swagger UI. Please upgrade as soon as you can, in particular if you expose your Swagger UI (`/docs`) publicly to non-expert users. PR [#4347](https://github.com/tiangolo/fastapi/pull/4347) by [@RAlanWright](https://github.com/RAlanWright).", "source": "release-notes.md"}
{"doc_id": "fastapi_0673", "title": "Release Notes", "section": "Internal", "content": "* üîß Update sponsors, add: ExoFlare, Ines Course; remove: Dropbase, Vim.so, Calmcode; update: Striveworks, TalkPython and TestDriven.io. PR [#4805](https://github.com/tiangolo/fastapi/pull/4805) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨ÜÔ∏è Upgrade Codecov GitHub Action. PR [#4801](https://github.com/tiangolo/fastapi/pull/4801) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0674", "title": "Release Notes", "section": "0.75.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0675", "title": "Release Notes", "section": "Translations", "content": "* üåê Start Dutch translations. PR [#4703](https://github.com/tiangolo/fastapi/pull/4703) by [@tiangolo](https://github.com/tiangolo).\n* üåê Start Persian/Farsi translations. PR [#4243](https://github.com/tiangolo/fastapi/pull/4243) by [@aminalaee](https://github.com/aminalaee).\n* ‚úè Reword sentence about handling errors. PR [#1993](https://github.com/tiangolo/fastapi/pull/1993) by [@khuhroproeza](https://github.com/khuhroproeza).", "source": "release-notes.md"}
{"doc_id": "fastapi_0676", "title": "Release Notes", "section": "Internal", "content": "* üë• Update FastAPI People. PR [#4752](https://github.com/tiangolo/fastapi/pull/4752) by [@github-actions[bot]](https://github.com/apps/github-actions).\n* ‚ûñ Temporarily remove typer-cli from dependencies and upgrade Black to unblock Pydantic CI. PR [#4754](https://github.com/tiangolo/fastapi/pull/4754) by [@tiangolo](https://github.com/tiangolo).\n* üîß Add configuration to notify Dutch translations. PR [#4702](https://github.com/tiangolo/fastapi/pull/4702) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People. PR [#4699](https://github.com/tiangolo/fastapi/pull/4699) by [@github-actions[bot]](https://github.com/apps/github-actions).\n* üêõ Fix FastAPI People generation to include missing file in commit. PR [#4695](https://github.com/tiangolo/fastapi/pull/4695) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update Classiq sponsor links. PR [#4688](https://github.com/tiangolo/fastapi/pull/4688) by [@tiangolo](https://github.com/tiangolo).\n* üîß Add Classiq sponsor. PR [#4671](https://github.com/tiangolo/fastapi/pull/4671) by [@tiangolo](https://github.com/tiangolo).\n* üìù Add Jina's QA Bot to the docs to help people that want to ask quick questions. PR [#4655](https://github.com/tiangolo/fastapi/pull/4655) by [@tiangolo](https://github.com/tiangolo) based on original PR [#4626](https://github.com/tiangolo/fastapi/pull/4626) by [@hanxiao](https://github.com/hanxiao).", "source": "release-notes.md"}
{"doc_id": "fastapi_0677", "title": "Release Notes", "section": "0.75.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0678", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add support for custom `generate_unique_id_function` and docs for generating clients. New docs: [Advanced - Generate Clients](https://fastapi.tiangolo.com/advanced/generate-clients/). PR [#4650](https://github.com/tiangolo/fastapi/pull/4650) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0679", "title": "Release Notes", "section": "0.74.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0680", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Include route in scope to allow middleware and other tools to extract its information. PR [#4603](https://github.com/tiangolo/fastapi/pull/4603) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0681", "title": "Release Notes", "section": "0.74.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0682", "title": "Release Notes", "section": "Breaking Changes", "content": "* ‚ú® Update internal `AsyncExitStack` to fix context for dependencies with `yield`. PR [#4575](https://github.com/tiangolo/fastapi/pull/4575) by [@tiangolo](https://github.com/tiangolo).\n\nDependencies with `yield` can now catch `HTTPException` and custom exceptions. For example:\n\n```Python\nasync def get_database():\n    with Session() as session:\n        try:\n            yield session\n        except HTTPException:\n            session.rollback()\n            raise\n        finally:\n            session.close()\n```\n\nAfter the dependency with `yield` handles the exception (or not) the exception is raised again. So that any exception handlers can catch it, or ultimately the default internal `ServerErrorMiddleware`.\n\nIf you depended on exceptions not being received by dependencies with `yield`, and receiving an exception breaks the code after `yield`, you can use a block with `try` and `finally`:\n\n```Python\nasync def do_something():\n    try:\n        yield something\n    finally:\n        some_cleanup()\n```\n\n...that way the `finally` block is run regardless of any exception that might happen.", "source": "release-notes.md"}
{"doc_id": "fastapi_0683", "title": "Release Notes", "section": "Features", "content": "* The same PR [#4575](https://github.com/tiangolo/fastapi/pull/4575) from above also fixes the `contextvars` context for the code before and after `yield`. This was the main objective of that PR.\n\nThis means that now, if you set a value in a context variable before `yield`, the value would still be available after `yield` (as you would intuitively expect). And it also means that you can reset the context variable with a token afterwards.\n\nFor example, this works correctly now:\n\n```Python\nfrom contextvars import ContextVar\nfrom typing import Any, Dict, Optional\n\n\nlegacy_request_state_context_var: ContextVar[Optional[Dict[str, Any]]] = ContextVar(\n    \"legacy_request_state_context_var\", default=None\n)\n\nasync def set_up_request_state_dependency():\n    request_state = {\"user\": \"deadpond\"}\n    contextvar_token = legacy_request_state_context_var.set(request_state)\n    yield request_state\n    legacy_request_state_context_var.reset(contextvar_token)\n```\n\n...before this change it would raise an error when resetting the context variable, because the `contextvars` context was different, because of the way it was implemented.\n\n**Note**: You probably don't need `contextvars`, and you should probably avoid using them. But they are powerful and useful in some advanced scenarios, for example, migrating from code that used Flask's `g` semi-global variable.\n\n**Technical Details**: If you want to know more of the technical details you can check out the PR description [#4575](https://github.com/tiangolo/fastapi/pull/4575).", "source": "release-notes.md"}
{"doc_id": "fastapi_0684", "title": "Release Notes", "section": "Internal", "content": "* üîß Add Striveworks sponsor. PR [#4596](https://github.com/tiangolo/fastapi/pull/4596) by [@tiangolo](https://github.com/tiangolo).\n* üíö Only build docs on push when on master to avoid duplicate runs from PRs. PR [#4564](https://github.com/tiangolo/fastapi/pull/4564) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People. PR [#4502](https://github.com/tiangolo/fastapi/pull/4502) by [@github-actions[bot]](https://github.com/apps/github-actions).", "source": "release-notes.md"}
{"doc_id": "fastapi_0685", "title": "Release Notes", "section": "0.73.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0686", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add support for declaring `UploadFile` parameters without explicit `File()`. PR [#4469](https://github.com/tiangolo/fastapi/pull/4469) by [@tiangolo](https://github.com/tiangolo). New docs: [Request Files - File Parameters with UploadFile](https://fastapi.tiangolo.com/tutorial/request-files/#file-parameters-with-uploadfile).\n* ‚ú® Add support for tags with Enums. PR [#4468](https://github.com/tiangolo/fastapi/pull/4468) by [@tiangolo](https://github.com/tiangolo). New docs: [Path Operation Configuration - Tags with Enums](https://fastapi.tiangolo.com/tutorial/path-operation-configuration/#tags-with-enums).\n* ‚ú® Allow hiding from OpenAPI (and Swagger UI) `Query`, `Cookie`, `Header`, and `Path` parameters. PR [#3144](https://github.com/tiangolo/fastapi/pull/3144) by [@astraldawn](https://github.com/astraldawn). New docs: [Query Parameters and String Validations - Exclude from OpenAPI](https://fastapi.tiangolo.com/tutorial/query-params-str-validations/#exclude-from-openapi).", "source": "release-notes.md"}
{"doc_id": "fastapi_0687", "title": "Release Notes", "section": "Docs", "content": "* üìù Tweak and improve docs for Request Files. PR [#4470](https://github.com/tiangolo/fastapi/pull/4470) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0688", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix bug preventing to use OpenAPI when using tuples. PR [#3874](https://github.com/tiangolo/fastapi/pull/3874) by [@victorbenichoux](https://github.com/victorbenichoux).\n* üêõ Prefer custom encoder over defaults if specified in `jsonable_encoder`. PR [#2061](https://github.com/tiangolo/fastapi/pull/2061) by [@viveksunder](https://github.com/viveksunder).\n    * üíö Duplicate PR to trigger CI. PR [#4467](https://github.com/tiangolo/fastapi/pull/4467) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0689", "title": "Release Notes", "section": "Internal", "content": "* üêõ Fix docs dependencies cache, to get the latest Material for MkDocs. PR [#4466](https://github.com/tiangolo/fastapi/pull/4466) by [@tiangolo](https://github.com/tiangolo).\n* üîß Add sponsor Dropbase. PR [#4465](https://github.com/tiangolo/fastapi/pull/4465) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0690", "title": "Release Notes", "section": "0.72.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0691", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Enable configuring Swagger UI parameters. Original PR [#2568](https://github.com/tiangolo/fastapi/pull/2568) by [@jmriebold](https://github.com/jmriebold). Here are the new docs: [Configuring Swagger UI](https://fastapi.tiangolo.com/advanced/extending-openapi/#configuring-swagger-ui).", "source": "release-notes.md"}
{"doc_id": "fastapi_0692", "title": "Release Notes", "section": "Docs", "content": "* üìù Update Python Types docs, add missing 3.6 / 3.9 example. PR [#4434](https://github.com/tiangolo/fastapi/pull/4434) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0693", "title": "Release Notes", "section": "Translations", "content": "* üåê Update Chinese translation for `docs/help-fastapi.md`. PR [#3847](https://github.com/tiangolo/fastapi/pull/3847) by [@jaystone776](https://github.com/jaystone776).\n* üåê Fix Korean translation for `docs/ko/docs/index.md`. PR [#4195](https://github.com/tiangolo/fastapi/pull/4195) by [@kty4119](https://github.com/kty4119).\n* üåê Add Polish translation for `docs/pl/docs/index.md`. PR [#4245](https://github.com/tiangolo/fastapi/pull/4245) by [@MicroPanda123](https://github.com/MicroPanda123).\n* üåê Add Chinese translation for `docs\\tutorial\\path-operation-configuration.md`. PR [#3312](https://github.com/tiangolo/fastapi/pull/3312) by [@jaystone776](https://github.com/jaystone776).", "source": "release-notes.md"}
{"doc_id": "fastapi_0694", "title": "Release Notes", "section": "Internal", "content": "* üîß Enable MkDocs Material Insiders' `content.tabs.link`. PR [#4399](https://github.com/tiangolo/fastapi/pull/4399) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0695", "title": "Release Notes", "section": "0.71.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0696", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add docs and tests for Python 3.9 and Python 3.10. PR [#3712](https://github.com/tiangolo/fastapi/pull/3712) by [@tiangolo](https://github.com/tiangolo).\n    * You can start with [Python Types Intro](https://fastapi.tiangolo.com/python-types/), it explains what changes between different Python versions, in Python 3.9 and in Python 3.10.\n    * All the FastAPI docs are updated. Each code example in the docs that could use different syntax in Python 3.9 or Python 3.10 now has all the alternatives in tabs.\n* ‚¨ÜÔ∏è Upgrade Starlette to 0.17.1. PR [#4145](https://github.com/tiangolo/fastapi/pull/4145) by [@simondale00](https://github.com/simondale00).", "source": "release-notes.md"}
{"doc_id": "fastapi_0697", "title": "Release Notes", "section": "Internal", "content": "* üë• Update FastAPI People. PR [#4354](https://github.com/tiangolo/fastapi/pull/4354) by [@github-actions[bot]](https://github.com/apps/github-actions).\n* üîß Add FastAPI Trove Classifier for PyPI as now there's one ü§∑üòÅ. PR [#4386](https://github.com/tiangolo/fastapi/pull/4386) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Upgrade MkDocs Material and configs. PR [#4385](https://github.com/tiangolo/fastapi/pull/4385) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0698", "title": "Release Notes", "section": "0.70.1", "content": "There's nothing interesting in this particular FastAPI release. It is mainly to enable/unblock the release of the next version of Pydantic that comes packed with features and improvements. ü§©", "source": "release-notes.md"}
{"doc_id": "fastapi_0699", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix JSON Schema for dataclasses, supporting the fixes in Pydantic 1.9. PR [#4272](https://github.com/tiangolo/fastapi/pull/4272) by [@PrettyWood](https://github.com/PrettyWood).", "source": "release-notes.md"}
{"doc_id": "fastapi_0700", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Korean translation for `docs/tutorial/request-forms-and-files.md`. PR [#3744](https://github.com/tiangolo/fastapi/pull/3744) by [@NinaHwang](https://github.com/NinaHwang).\n* üåê Add Korean translation for `docs/tutorial/request-files.md`. PR [#3743](https://github.com/tiangolo/fastapi/pull/3743) by [@NinaHwang](https://github.com/NinaHwang).\n* üåê Add portuguese translation for `docs/tutorial/query-params-str-validations.md`. PR [#3965](https://github.com/tiangolo/fastapi/pull/3965) by [@leandrodesouzadev](https://github.com/leandrodesouzadev).\n* üåê Add Korean translation for `docs/tutorial/response-status-code.md`. PR [#3742](https://github.com/tiangolo/fastapi/pull/3742) by [@NinaHwang](https://github.com/NinaHwang).\n* üåê Add Korean translation for Tutorial - JSON Compatible Encoder. PR [#3152](https://github.com/tiangolo/fastapi/pull/3152) by [@NEONKID](https://github.com/NEONKID).\n* üåê Add Korean translation for Tutorial - Path Parameters and Numeric Validations. PR [#2432](https://github.com/tiangolo/fastapi/pull/2432) by [@hard-coders](https://github.com/hard-coders).\n* üåê Add Korean translation for `docs/ko/docs/deployment/versions.md`. PR [#4121](https://github.com/tiangolo/fastapi/pull/4121) by [@DevDae](https://github.com/DevDae).\n* üåê Fix Korean translation for `docs/ko/docs/tutorial/index.md`. PR [#4193](https://github.com/tiangolo/fastapi/pull/4193) by [@kimjaeyoonn](https://github.com/kimjaeyoonn).\n* üîß Add CryptAPI sponsor. PR [#4264](https://github.com/tiangolo/fastapi/pull/4264) by [@tiangolo](https://github.com/tiangolo).\n* üìù Update `docs/tutorial/dependencies/classes-as-dependencies`: Add type of query parameters in a description of `Classes as dependencies`. PR [#4015](https://github.com/tiangolo/fastapi/pull/4015) by [@0417taehyun](https://github.com/0417taehyun).\n* üåê Add French translation for Tutorial - First steps. PR [#3455](https://github.com/tiangolo/fastapi/pull/3455) by [@Smlep](https://github.com/Smlep).\n* üåê Add French translation for `docs/tutorial/path-params.md`. PR [#3548](https://github.com/tiangolo/fastapi/pull/3548) by [@Smlep](https://github.com/Smlep).\n* üåê Add French translation for `docs/tutorial/query-params.md`. PR [#3556](https://github.com/tiangolo/fastapi/pull/3556) by [@Smlep](https://github.com/Smlep).\n* üåê Add Turkish translation for `docs/python-types.md`. PR [#3926](https://github.com/tiangolo/fastapi/pull/3926) by [@BilalAlpaslan](https://github.com/BilalAlpaslan).", "source": "release-notes.md"}
{"doc_id": "fastapi_0701", "title": "Release Notes", "section": "Internal", "content": "* üë• Update FastAPI People. PR [#4274](https://github.com/tiangolo/fastapi/pull/4274) by [@github-actions[bot]](https://github.com/apps/github-actions).", "source": "release-notes.md"}
{"doc_id": "fastapi_0702", "title": "Release Notes", "section": "0.70.0", "content": "This release just upgrades Starlette to the latest version, `0.16.0`, which includes several bug fixes and some small breaking changes.\n\nThese last **three consecutive releases** are independent so that you can **migrate gradually**:\n\n* First to FastAPI `0.68.2`, with no breaking changes, but upgrading all the sub-dependencies.\n* Next to FastAPI `0.69.0`, which upgrades Starlette to `0.15.0`, with AnyIO support, and a higher chance of having breaking changes in your code.\n* Finally to FastAPI `0.70.0`, just upgrading Starlette to the latest version `0.16.0` with additional bug fixes.\n\nThis way, in case there was a breaking change for your code in one of the releases, you can still benefit from the previous upgrades. ‚ú®", "source": "release-notes.md"}
{"doc_id": "fastapi_0703", "title": "Release Notes", "section": "Breaking Changes - Upgrade", "content": "* ‚¨ÜÔ∏è Upgrade Starlette to 0.16.0. PR [#4016](https://github.com/tiangolo/fastapi/pull/4016) by [@tiangolo](https://github.com/tiangolo).\n\nAlso upgrades the ranges of optional dependencies:\n\n* `\"jinja2 >=2.11.2,<4.0.0\"`\n* `\"itsdangerous >=1.1.0,<3.0.0\"`", "source": "release-notes.md"}
{"doc_id": "fastapi_0704", "title": "Release Notes", "section": "0.69.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0705", "title": "Release Notes", "section": "Breaking Changes - Upgrade", "content": "This release adds support for [Trio](https://trio.readthedocs.io/en/stable/). ‚ú®\n\nIt upgrades the version of Starlette to `0.15.0`, now based on [AnyIO](https://anyio.readthedocs.io/en/stable/), and the internal async components in **FastAPI** are now based on AnyIO as well, making it compatible with both **asyncio** and **Trio**.\n\nYou can read the docs about running [FastAPI with Trio using Hypercorn](https://fastapi.tiangolo.com/deployment/manually/#hypercorn-with-trio).\n\nThis release also removes `graphene` as an optional dependency for GraphQL. If you need to work with GraphQL, the recommended library now is [Strawberry](https://strawberry.rocks/). You can read the new [FastAPI with GraphQL docs](https://fastapi.tiangolo.com/advanced/graphql/).", "source": "release-notes.md"}
{"doc_id": "fastapi_0706", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add support for Trio via AnyIO, upgrading Starlette to `0.15.0`. PR [#3372](https://github.com/tiangolo/fastapi/pull/3372) by [@graingert](https://github.com/graingert).\n* ‚ûñ Remove `graphene` as an optional dependency. PR [#4007](https://github.com/tiangolo/fastapi/pull/4007) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0707", "title": "Release Notes", "section": "Docs", "content": "* üìù Add docs for using Trio with Hypercorn. PR [#4014](https://github.com/tiangolo/fastapi/pull/4014) by [@tiangolo](https://github.com/tiangolo).\n* ‚úè Fix typos in Deployment Guide. PR [#3975](https://github.com/tiangolo/fastapi/pull/3975) by [@ghandic](https://github.com/ghandic).\n* üìù Update docs with pip install calls when using extras with brackets, use quotes for compatibility with Zsh. PR [#3131](https://github.com/tiangolo/fastapi/pull/3131) by [@tomwei7](https://github.com/tomwei7).\n* üìù Add external link to article: Deploying ML Models as API Using FastAPI and Heroku. PR [#3904](https://github.com/tiangolo/fastapi/pull/3904) by [@kaustubhgupta](https://github.com/kaustubhgupta).\n* ‚úè Fix typo in file paths in `docs/en/docs/contributing.md`. PR [#3752](https://github.com/tiangolo/fastapi/pull/3752) by [@NinaHwang](https://github.com/NinaHwang).\n* ‚úè Fix a typo in `docs/en/docs/advanced/path-operation-advanced-configuration.md` and `docs/en/docs/release-notes.md`. PR [#3750](https://github.com/tiangolo/fastapi/pull/3750) by [@saintmalik](https://github.com/saintmalik).\n* ‚úèÔ∏è Add a missing comma in the security tutorial. PR [#3564](https://github.com/tiangolo/fastapi/pull/3564) by [@jalvaradosegura](https://github.com/jalvaradosegura).\n* ‚úè Fix typo in `docs/en/docs/help-fastapi.md`. PR [#3760](https://github.com/tiangolo/fastapi/pull/3760) by [@jaystone776](https://github.com/jaystone776).\n* ‚úè Fix typo about file path in `docs/en/docs/tutorial/bigger-applications.md`. PR [#3285](https://github.com/tiangolo/fastapi/pull/3285) by [@HolyDorus](https://github.com/HolyDorus).\n* ‚úè Re-word to clarify test client in `docs/en/docs/tutorial/testing.md`. PR [#3382](https://github.com/tiangolo/fastapi/pull/3382) by [@Bharat123rox](https://github.com/Bharat123rox).\n* üìù  Fix incorrect highlighted code. PR [#3325](https://github.com/tiangolo/fastapi/pull/3325) by [@paxcodes](https://github.com/paxcodes).\n* üìù Add external link to article: How-to deploy FastAPI app to Heroku. PR [#3241](https://github.com/tiangolo/fastapi/pull/3241) by [@Jarmos-san](https://github.com/Jarmos-san).\n* ‚úè Fix typo (mistranslation) in `docs/en/docs/advanced/templates.md`. PR [#3211](https://github.com/tiangolo/fastapi/pull/3211) by [@oerpli](https://github.com/oerpli).\n* üìù Remove note about (now supported) feature from Swagger UI in `docs/en/docs/tutorial/request-files.md`. PR [#2803](https://github.com/tiangolo/fastapi/pull/2803) by [@gsganden](https://github.com/gsganden).\n* ‚úè Fix typo re-word in `docs/tutorial/handling-errors.md`. PR [#2700](https://github.com/tiangolo/fastapi/pull/2700) by [@graue70](https://github.com/graue70).", "source": "release-notes.md"}
{"doc_id": "fastapi_0708", "title": "Release Notes", "section": "Translations", "content": "* üåê Initialize Azerbaijani translations. PR [#3941](https://github.com/tiangolo/fastapi/pull/3941) by [@madatbay](https://github.com/madatbay).\n* üåê Add Turkish translation for `docs/fastapi-people.md`. PR [#3848](https://github.com/tiangolo/fastapi/pull/3848) by [@BilalAlpaslan](https://github.com/BilalAlpaslan).", "source": "release-notes.md"}
{"doc_id": "fastapi_0709", "title": "Release Notes", "section": "Internal", "content": "* üìù Add supported Python versions badge. PR [#2794](https://github.com/tiangolo/fastapi/pull/2794) by [@hramezani](https://github.com/hramezani).\n* ‚úè Fix link in Japanese docs for `docs/ja/docs/deployment/docker.md`. PR [#3245](https://github.com/tiangolo/fastapi/pull/3245) by [@utamori](https://github.com/utamori).\n* üîß Correct DeprecationWarning config and comment in pytest settings. PR [#4008](https://github.com/tiangolo/fastapi/pull/4008) by [@graingert](https://github.com/graingert).\n* üîß Swap light/dark theme button icon. PR [#3246](https://github.com/tiangolo/fastapi/pull/3246) by [@eddsalkield](https://github.com/eddsalkield).\n* üîß Lint only in Python 3.7 and above. PR [#4006](https://github.com/tiangolo/fastapi/pull/4006) by [@tiangolo](https://github.com/tiangolo).\n* üîß Add GitHub Action notify-translations config for Azerbaijani. PR [#3995](https://github.com/tiangolo/fastapi/pull/3995) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0710", "title": "Release Notes", "section": "0.68.2", "content": "This release has **no breaking changes**. üéâ\n\nIt upgrades the version ranges of sub-dependencies to allow applications using FastAPI to easily upgrade them.\n\nSoon there will be a new FastAPI release upgrading Starlette to take advantage of recent improvements, but as that has a higher chance of having breaking changes, it will be in a separate release.", "source": "release-notes.md"}
{"doc_id": "fastapi_0711", "title": "Release Notes", "section": "Features", "content": "* ‚¨ÜIncrease supported version of aiofiles to suppress warnings. PR [#2899](https://github.com/tiangolo/fastapi/pull/2899) by [@SnkSynthesis](https://github.com/SnkSynthesis).\n* ‚ûñ Do not require backports in Python >= 3.7. PR [#1880](https://github.com/tiangolo/fastapi/pull/1880) by [@FFY00](https://github.com/FFY00).\n* ‚¨Ü Upgrade required Python version to >= 3.6.1, needed by typing.Deque, used by Pydantic. PR [#2733](https://github.com/tiangolo/fastapi/pull/2733) by [@hukkin](https://github.com/hukkin).\n* ‚¨ÜÔ∏è Bump Uvicorn max range to 0.15.0. PR [#3345](https://github.com/tiangolo/fastapi/pull/3345) by [@Kludex](https://github.com/Kludex).", "source": "release-notes.md"}
{"doc_id": "fastapi_0712", "title": "Release Notes", "section": "Docs", "content": "* üìù Update GraphQL docs, recommend Strawberry. PR [#3981](https://github.com/tiangolo/fastapi/pull/3981) by [@tiangolo](https://github.com/tiangolo).\n* üìù Re-write and extend Deployment guide: Concepts, Uvicorn, Gunicorn, Docker, Containers, Kubernetes. PR [#3974](https://github.com/tiangolo/fastapi/pull/3974) by [@tiangolo](https://github.com/tiangolo).\n* üìù Upgrade HTTPS guide with more explanations and diagrams. PR [#3950](https://github.com/tiangolo/fastapi/pull/3950) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0713", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Turkish translation for `docs/features.md`. PR [#1950](https://github.com/tiangolo/fastapi/pull/1950) by [@ycd](https://github.com/ycd).\n* üåê Add Turkish translation for `docs/benchmarks.md`. PR [#2729](https://github.com/tiangolo/fastapi/pull/2729) by [@Telomeraz](https://github.com/Telomeraz).\n* üåê Add Turkish translation for `docs/index.md`. PR [#1908](https://github.com/tiangolo/fastapi/pull/1908) by [@ycd](https://github.com/ycd).\n* üåê Add French translation for `docs/tutorial/body.md`. PR [#3671](https://github.com/tiangolo/fastapi/pull/3671) by [@Smlep](https://github.com/Smlep).\n* üåê Add French translation for `deployment/docker.md`. PR [#3694](https://github.com/tiangolo/fastapi/pull/3694) by [@rjNemo](https://github.com/rjNemo).\n* üåê Add Portuguese translation for `docs/tutorial/path-params.md`. PR [#3664](https://github.com/tiangolo/fastapi/pull/3664) by [@FelipeSilva93](https://github.com/FelipeSilva93).\n* üåê Add Portuguese translation for `docs/deployment/https.md`. PR [#3754](https://github.com/tiangolo/fastapi/pull/3754) by [@lsglucas](https://github.com/lsglucas).\n* üåê Add German translation for `docs/features.md`. PR [#3699](https://github.com/tiangolo/fastapi/pull/3699) by [@mawassk](https://github.com/mawassk).", "source": "release-notes.md"}
{"doc_id": "fastapi_0714", "title": "Release Notes", "section": "Internal", "content": "* ‚ú® Update GitHub Action: notify-translations, to avoid a race conditions. PR [#3989](https://github.com/tiangolo/fastapi/pull/3989) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨ÜÔ∏è Upgrade development `autoflake`, supporting multi-line imports. PR [#3988](https://github.com/tiangolo/fastapi/pull/3988) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨ÜÔ∏è Increase dependency ranges for tests and docs: pytest-cov, pytest-asyncio, black, httpx, sqlalchemy, databases, mkdocs-markdownextradata-plugin. PR [#3987](https://github.com/tiangolo/fastapi/pull/3987) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People. PR [#3986](https://github.com/tiangolo/fastapi/pull/3986) by [@github-actions[bot]](https://github.com/apps/github-actions).\n* üíö Fix badges in README and main page. PR [#3979](https://github.com/tiangolo/fastapi/pull/3979) by [@ghandic](https://github.com/ghandic).\n* ‚¨Ü Upgrade internal testing dependencies: mypy to version 0.910, add newly needed type packages. PR [#3350](https://github.com/tiangolo/fastapi/pull/3350) by [@ArcLightSlavik](https://github.com/ArcLightSlavik).\n* ‚ú® Add Deepset Sponsorship. PR [#3976](https://github.com/tiangolo/fastapi/pull/3976) by [@tiangolo](https://github.com/tiangolo).\n* üé® Tweak CSS styles for shell animations. PR [#3888](https://github.com/tiangolo/fastapi/pull/3888) by [@tiangolo](https://github.com/tiangolo).\n* üîß Add new Sponsor Calmcode.io. PR [#3777](https://github.com/tiangolo/fastapi/pull/3777) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0715", "title": "Release Notes", "section": "0.68.1", "content": "* ‚ú® Add support for `read_with_orm_mode`, to support [SQLModel](https://sqlmodel.tiangolo.com/) relationship attributes. PR [#3757](https://github.com/tiangolo/fastapi/pull/3757) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0716", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Portuguese translation of `docs/fastapi-people.md`. PR [#3461](https://github.com/tiangolo/fastapi/pull/3461) by [@ComicShrimp](https://github.com/ComicShrimp).\n* üåê Add Chinese translation for `docs/tutorial/dependencies/dependencies-in-path-operation-decorators.md`. PR [#3492](https://github.com/tiangolo/fastapi/pull/3492) by [@jaystone776](https://github.com/jaystone776).\n* üîß Add new Translation tracking issues for German and Indonesian. PR [#3718](https://github.com/tiangolo/fastapi/pull/3718) by [@tiangolo](https://github.com/tiangolo).\n* üåê Add Chinese translation for `docs/tutorial/dependencies/sub-dependencies.md`. PR [#3491](https://github.com/tiangolo/fastapi/pull/3491) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Portuguese translation for `docs/advanced/index.md`. PR [#3460](https://github.com/tiangolo/fastapi/pull/3460) by [@ComicShrimp](https://github.com/ComicShrimp).\n* üåê Portuguese translation of `docs/async.md`. PR [#1330](https://github.com/tiangolo/fastapi/pull/1330) by [@Serrones](https://github.com/Serrones).\n* üåê Add French translation for `docs/async.md`. PR [#3416](https://github.com/tiangolo/fastapi/pull/3416) by [@Smlep](https://github.com/Smlep).", "source": "release-notes.md"}
{"doc_id": "fastapi_0717", "title": "Release Notes", "section": "Internal", "content": "* ‚ú® Add GitHub Action: Notify Translations. PR [#3715](https://github.com/tiangolo/fastapi/pull/3715) by [@tiangolo](https://github.com/tiangolo).\n* ‚ú® Update computation of FastAPI People and sponsors. PR [#3714](https://github.com/tiangolo/fastapi/pull/3714) by [@tiangolo](https://github.com/tiangolo).\n* ‚ú® Enable recent Material for MkDocs Insiders features. PR [#3710](https://github.com/tiangolo/fastapi/pull/3710) by [@tiangolo](https://github.com/tiangolo).\n* üî• Remove/clean extra imports from examples in docs for features. PR [#3709](https://github.com/tiangolo/fastapi/pull/3709) by [@tiangolo](https://github.com/tiangolo).\n* ‚ûï Update docs library to include sources in Markdown. PR [#3648](https://github.com/tiangolo/fastapi/pull/3648) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨Ü Enable tests for Python 3.9. PR [#2298](https://github.com/tiangolo/fastapi/pull/2298) by [@Kludex](https://github.com/Kludex).\n* üë• Update FastAPI People. PR [#3642](https://github.com/tiangolo/fastapi/pull/3642) by [@github-actions[bot]](https://github.com/apps/github-actions).", "source": "release-notes.md"}
{"doc_id": "fastapi_0718", "title": "Release Notes", "section": "0.68.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0719", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add support for extensions and updates to the OpenAPI schema in each *path operation*. New docs: [FastAPI Path Operation Advanced Configuration - OpenAPI Extra](https://fastapi.tiangolo.com/advanced/path-operation-advanced-configuration/#openapi-extra). Initial PR [#1922](https://github.com/tiangolo/fastapi/pull/1922) by [@edouardlp](https://github.com/edouardlp).\n* ‚ú® Add additional OpenAPI metadata parameters to `FastAPI` class, shown on the automatic API docs UI. New docs: [Metadata and Docs URLs](https://fastapi.tiangolo.com/tutorial/metadata/). Initial PR [#1812](https://github.com/tiangolo/fastapi/pull/1812) by [@dkreeft](https://github.com/dkreeft).\n* ‚ú® Add `description` parameter to all the security scheme classes, e.g. `APIKeyQuery(name=\"key\", description=\"A very cool API key\")`. PR [#1757](https://github.com/tiangolo/fastapi/pull/1757) by [@hylkepostma](https://github.com/hylkepostma).\n* ‚ú® Update OpenAPI models, supporting recursive models and extensions. PR [#3628](https://github.com/tiangolo/fastapi/pull/3628) by [@tiangolo](https://github.com/tiangolo).\n* ‚ú® Import and re-export data structures from Starlette, used by Request properties, on `fastapi.datastructures`. Initial PR [#1872](https://github.com/tiangolo/fastapi/pull/1872) by [@jamescurtin](https://github.com/jamescurtin).", "source": "release-notes.md"}
{"doc_id": "fastapi_0720", "title": "Release Notes", "section": "Docs", "content": "* üìù Update docs about async and response-model with more gender neutral language. PR [#1869](https://github.com/tiangolo/fastapi/pull/1869) by [@Edward-Knight](https://github.com/Edward-Knight).", "source": "release-notes.md"}
{"doc_id": "fastapi_0721", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Russian translation for `docs/python-types.md`. PR [#3039](https://github.com/tiangolo/fastapi/pull/3039) by [@dukkee](https://github.com/dukkee).\n* üåê Add Chinese translation for `docs/tutorial/dependencies/index.md`. PR [#3489](https://github.com/tiangolo/fastapi/pull/3489) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Russian translation for `docs/external-links.md`. PR [#3036](https://github.com/tiangolo/fastapi/pull/3036) by [@dukkee](https://github.com/dukkee).\n* üåê Add Chinese translation for `docs/tutorial/dependencies/global-dependencies.md`. PR [#3493](https://github.com/tiangolo/fastapi/pull/3493) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Portuguese translation for `docs/deployment/versions.md`. PR [#3618](https://github.com/tiangolo/fastapi/pull/3618) by [@lsglucas](https://github.com/lsglucas).\n* üåê Add Japanese translation for `docs/tutorial/security/oauth2-jwt.md`. PR [#3526](https://github.com/tiangolo/fastapi/pull/3526) by [@sattosan](https://github.com/sattosan).", "source": "release-notes.md"}
{"doc_id": "fastapi_0722", "title": "Release Notes", "section": "Internal", "content": "* ‚úÖ Add  the `docs_src` directory to test coverage and update tests. Initial PR [#1904](https://github.com/tiangolo/fastapi/pull/1904) by [@Kludex](https://github.com/Kludex).\n* üîß Add new GitHub templates with forms for new issues. PR [#3612](https://github.com/tiangolo/fastapi/pull/3612) by [@tiangolo](https://github.com/tiangolo).\n* üìù Add official FastAPI Twitter to docs: [@fastapi](https://x.com/fastapi). PR [#3578](https://github.com/tiangolo/fastapi/pull/3578) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0723", "title": "Release Notes", "section": "0.67.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0724", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add support for `dataclasses` in request bodies and `response_model`. New documentation: [Advanced User Guide - Using Dataclasses](https://fastapi.tiangolo.com/advanced/dataclasses/). PR [#3577](https://github.com/tiangolo/fastapi/pull/3577) by [@tiangolo](https://github.com/tiangolo).\n* ‚ú® Support `dataclasses` in responses. PR [#3576](https://github.com/tiangolo/fastapi/pull/3576) by [@tiangolo](https://github.com/tiangolo), continuation from initial PR [#2722](https://github.com/tiangolo/fastapi/pull/2722) by [@amitlissack](https://github.com/amitlissack).", "source": "release-notes.md"}
{"doc_id": "fastapi_0725", "title": "Release Notes", "section": "Docs", "content": "* üìù Add external link: How to Create A Fake Certificate Authority And Generate TLS Certs for FastAPI. PR [#2839](https://github.com/tiangolo/fastapi/pull/2839) by [@aitoehigie](https://github.com/aitoehigie).\n* ‚úè Fix code highlighted line in: `body-nested-models.md`. PR [#3463](https://github.com/tiangolo/fastapi/pull/3463) by [@jaystone776](https://github.com/jaystone776).\n* ‚úè Fix typo in `body-nested-models.md`. PR [#3462](https://github.com/tiangolo/fastapi/pull/3462) by [@jaystone776](https://github.com/jaystone776).\n* ‚úè Fix typo \"might me\" -> \"might be\" in `docs/en/docs/tutorial/schema-extra-example.md`. PR [#3362](https://github.com/tiangolo/fastapi/pull/3362) by [@dbrakman](https://github.com/dbrakman).\n* üìù Add external link: Building simple E-Commerce with NuxtJS and FastAPI. PR [#3271](https://github.com/tiangolo/fastapi/pull/3271) by [@ShahriyarR](https://github.com/ShahriyarR).\n* üìù Add external link: Serve a machine learning model using Sklearn, FastAPI and Docker. PR [#2974](https://github.com/tiangolo/fastapi/pull/2974) by [@rodrigo-arenas](https://github.com/rodrigo-arenas).\n* ‚úèÔ∏è Fix typo on docstring in datastructures file. PR [#2887](https://github.com/tiangolo/fastapi/pull/2887) by [@Kludex](https://github.com/Kludex).\n* üìù Add External Link: Deploy FastAPI on Ubuntu and Serve using Caddy 2 Web Server. PR [#3572](https://github.com/tiangolo/fastapi/pull/3572) by [@tiangolo](https://github.com/tiangolo).\n* üìù Add External Link, replaces #1898. PR [#3571](https://github.com/tiangolo/fastapi/pull/3571) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0726", "title": "Release Notes", "section": "Internal", "content": "* üé® Improve style for sponsors, add radius border. PR [#2388](https://github.com/tiangolo/fastapi/pull/2388) by [@Kludex](https://github.com/Kludex).\n* üë∑ Update GitHub Action latest-changes. PR [#3574](https://github.com/tiangolo/fastapi/pull/3574) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Update GitHub Action latest-changes. PR [#3573](https://github.com/tiangolo/fastapi/pull/3573) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Rename and clarify CI workflow job names. PR [#3570](https://github.com/tiangolo/fastapi/pull/3570) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Update GitHub Action latest-changes, strike 2 ‚öæ. PR [#3575](https://github.com/tiangolo/fastapi/pull/3575) by [@tiangolo](https://github.com/tiangolo).\n* üîß Sort external links in docs to have the most recent at the top. PR [#3568](https://github.com/tiangolo/fastapi/pull/3568) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0727", "title": "Release Notes", "section": "0.66.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0728", "title": "Release Notes", "section": "Translations", "content": "* üåê Add basic setup for German translations. PR [#3522](https://github.com/tiangolo/fastapi/pull/3522) by [@0x4Dark](https://github.com/0x4Dark).\n* üåê Add Portuguese translation for `docs/tutorial/security/index.md`. PR [#3507](https://github.com/tiangolo/fastapi/pull/3507) by [@oandersonmagalhaes](https://github.com/oandersonmagalhaes).\n* üåê Add Portuguese translation for `docs/deployment/index.md`. PR [#3337](https://github.com/tiangolo/fastapi/pull/3337) by [@lsglucas](https://github.com/lsglucas).", "source": "release-notes.md"}
{"doc_id": "fastapi_0729", "title": "Release Notes", "section": "Internal", "content": "* üîß Configure strict pytest options and update/refactor tests. Upgrade pytest to `>=6.2.4,<7.0.0` and pytest-cov to `>=2.12.0,<3.0.0`. Initial PR [#2790](https://github.com/tiangolo/fastapi/pull/2790) by [@graingert](https://github.com/graingert).\n* ‚¨ÜÔ∏è Upgrade python-jose dependency to `>=3.3.0,<4.0.0` for tests. PR [#3468](https://github.com/tiangolo/fastapi/pull/3468) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0730", "title": "Release Notes", "section": "0.66.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0731", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Allow setting the `response_class` to `RedirectResponse` or `FileResponse` and returning the URL from the function. New and updated docs are in the tutorial section **Custom Response - HTML, Stream, File, others**, in [RedirectResponse](https://fastapi.tiangolo.com/advanced/custom-response/#redirectresponse) and in [FileResponse](https://fastapi.tiangolo.com/advanced/custom-response/#fileresponse). PR [#3457](https://github.com/tiangolo/fastapi/pull/3457) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0732", "title": "Release Notes", "section": "Fixes", "content": "* üêõ Fix include/exclude for dicts in `jsonable_encoder`. PR [#2016](https://github.com/tiangolo/fastapi/pull/2016) by [@Rubikoid](https://github.com/Rubikoid).\n* üêõ Support custom OpenAPI / JSON Schema fields in the generated output OpenAPI. PR [#1429](https://github.com/tiangolo/fastapi/pull/1429) by [@jmagnusson](https://github.com/jmagnusson).", "source": "release-notes.md"}
{"doc_id": "fastapi_0733", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Spanish translation for `tutorial/query-params.md`. PR [#2243](https://github.com/tiangolo/fastapi/pull/2243) by [@mariacamilagl](https://github.com/mariacamilagl).\n* üåê Add Spanish translation for `advanced/response-directly.md`. PR [#1253](https://github.com/tiangolo/fastapi/pull/1253) by [@jfunez](https://github.com/jfunez).\n* üåê Add Spanish translation for `advanced/additional-status-codes.md`. PR [#1252](https://github.com/tiangolo/fastapi/pull/1252) by [@jfunez](https://github.com/jfunez).\n* üåê Add Spanish translation for `advanced/path-operation-advanced-configuration.md`. PR [#1251](https://github.com/tiangolo/fastapi/pull/1251) by [@jfunez](https://github.com/jfunez).", "source": "release-notes.md"}
{"doc_id": "fastapi_0734", "title": "Release Notes", "section": "0.65.3", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0735", "title": "Release Notes", "section": "Fixes", "content": "* ‚ôª Assume request bodies contain JSON when no Content-Type header is provided. This fixes a breaking change introduced by [0.65.2 with PR #2118](https://github.com/tiangolo/fastapi/pull/2118). It should allow upgrading FastAPI applications with clients that send JSON data without a `Content-Type` header. And there's still protection against CSRFs. PR [#3456](https://github.com/tiangolo/fastapi/pull/3456) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0736", "title": "Release Notes", "section": "Translations", "content": "* üåê Initialize Indonesian translations. PR [#3014](https://github.com/tiangolo/fastapi/pull/3014) by [@pace-noge](https://github.com/pace-noge).\n* üåê Add Spanish translation of Tutorial - Path Parameters. PR [#2219](https://github.com/tiangolo/fastapi/pull/2219) by [@mariacamilagl](https://github.com/mariacamilagl).\n* üåê Add Spanish translation of Tutorial - First Steps. PR [#2208](https://github.com/tiangolo/fastapi/pull/2208) by [@mariacamilagl](https://github.com/mariacamilagl).\n* üåê Portuguese translation of Tutorial - Body - Fields. PR [#3420](https://github.com/tiangolo/fastapi/pull/3420) by [@ComicShrimp](https://github.com/ComicShrimp).\n* üåê Add Chinese translation for Tutorial - Request - Forms - and - Files. PR [#3249](https://github.com/tiangolo/fastapi/pull/3249) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Chinese translation for Tutorial - Handling - Errors. PR [#3299](https://github.com/tiangolo/fastapi/pull/3299) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Chinese translation for Tutorial - Form - Data. PR [#3248](https://github.com/tiangolo/fastapi/pull/3248) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Chinese translation for Tutorial - Body - Updates. PR [#3237](https://github.com/tiangolo/fastapi/pull/3237) by [@jaystone776](https://github.com/jaystone776).\n* üåê Add Chinese translation for FastAPI People. PR [#3112](https://github.com/tiangolo/fastapi/pull/3112) by [@hareru](https://github.com/hareru).\n* üåê Add French translation for Project Generation. PR [#3197](https://github.com/tiangolo/fastapi/pull/3197) by [@Smlep](https://github.com/Smlep).\n* üåê Add French translation for Python Types Intro. PR [#3185](https://github.com/tiangolo/fastapi/pull/3185) by [@Smlep](https://github.com/Smlep).\n* üåê Add French translation for External Links. PR [#3103](https://github.com/tiangolo/fastapi/pull/3103) by [@Smlep](https://github.com/Smlep).\n* üåê Add French translation for Alternatives, Inspiration and Comparisons. PR [#3020](https://github.com/tiangolo/fastapi/pull/3020) by [@rjNemo](https://github.com/rjNemo).\n* üåê Fix Chinese translation code snippet mismatch in Tutorial - Python Types Intro. PR [#2573](https://github.com/tiangolo/fastapi/pull/2573) by [@BoYanZh](https://github.com/BoYanZh).\n* üåê Add Portuguese translation for Development Contributing. PR [#1364](https://github.com/tiangolo/fastapi/pull/1364) by [@Serrones](https://github.com/Serrones).\n* üåê Add Chinese translation for Tutorial - Request - Files. PR [#3244](https://github.com/tiangolo/fastapi/pull/3244) by [@jaystone776](https://github.com/jaystone776).", "source": "release-notes.md"}
{"doc_id": "fastapi_0737", "title": "Release Notes", "section": "Internal", "content": "* üë• Update FastAPI People. PR [#3450](https://github.com/tiangolo/fastapi/pull/3450) by [@github-actions[bot]](https://github.com/apps/github-actions).\n* üë• Update FastAPI People. PR [#3319](https://github.com/tiangolo/fastapi/pull/3319) by [@github-actions[bot]](https://github.com/apps/github-actions).\n* ‚¨Ü Upgrade docs development dependency on `typer-cli` to >=0.0.12 to fix conflicts. PR [#3429](https://github.com/tiangolo/fastapi/pull/3429) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0738", "title": "Release Notes", "section": "0.65.2", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0739", "title": "Release Notes", "section": "Security fixes", "content": "* üîí Check Content-Type request header before assuming JSON. Initial PR [#2118](https://github.com/tiangolo/fastapi/pull/2118) by [@patrickkwang](https://github.com/patrickkwang).\n\nThis change fixes a [CSRF](https://en.wikipedia.org/wiki/Cross-site_request_forgery) security vulnerability when using cookies for authentication in path operations with JSON payloads sent by browsers.\n\nIn versions lower than `0.65.2`, FastAPI would try to read the request payload as JSON even if the `content-type` header sent was not set to `application/json` or a compatible JSON media type (e.g. `application/geo+json`).\n\nSo, a request with a content type of `text/plain` containing JSON data would be accepted and the JSON data would be extracted.\n\nBut requests with content type `text/plain` are exempt from [CORS](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS) preflights, for being considered [Simple requests](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#simple_requests). So, the browser would execute them right away including cookies, and the text content could be a JSON string that would be parsed and accepted by the FastAPI application.\n\nSee [CVE-2021-32677](https://github.com/tiangolo/fastapi/security/advisories/GHSA-8h2j-cgx8-6xv7) for more details.\n\nThanks to [Dima Boger](https://x.com/b0g3r) for the security report! üôáüîí", "source": "release-notes.md"}
{"doc_id": "fastapi_0740", "title": "Release Notes", "section": "Internal", "content": "* üîß Update sponsors badge, course bundle. PR [#3340](https://github.com/tiangolo/fastapi/pull/3340) by [@tiangolo](https://github.com/tiangolo).\n* üîß Add new gold sponsor Jina üéâ. PR [#3291](https://github.com/tiangolo/fastapi/pull/3291) by [@tiangolo](https://github.com/tiangolo).\n* üîß Add new banner sponsor badge for FastAPI courses bundle. PR [#3288](https://github.com/tiangolo/fastapi/pull/3288) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Upgrade Issue Manager GitHub Action. PR [#3236](https://github.com/tiangolo/fastapi/pull/3236) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0741", "title": "Release Notes", "section": "0.65.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0742", "title": "Release Notes", "section": "Security fixes", "content": "* üìå Upgrade pydantic pin, to handle security vulnerability [CVE-2021-29510](https://github.com/pydantic/pydantic/security/advisories/GHSA-5jqp-qgf6-3pvh). PR [#3213](https://github.com/tiangolo/fastapi/pull/3213) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0743", "title": "Release Notes", "section": "0.65.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0744", "title": "Release Notes", "section": "Breaking Changes - Upgrade", "content": "* ‚¨ÜÔ∏è  Upgrade Starlette to `0.14.2`, including internal `UJSONResponse` migrated from Starlette. This includes several bug fixes and features from Starlette. PR [#2335](https://github.com/tiangolo/fastapi/pull/2335) by [@hanneskuettner](https://github.com/hanneskuettner).", "source": "release-notes.md"}
{"doc_id": "fastapi_0745", "title": "Release Notes", "section": "Translations", "content": "* üåê Initialize new language Polish for translations. PR [#3170](https://github.com/tiangolo/fastapi/pull/3170) by [@neternefer](https://github.com/neternefer).", "source": "release-notes.md"}
{"doc_id": "fastapi_0746", "title": "Release Notes", "section": "Internal", "content": "* üë∑ Add GitHub Action cache to speed up CI installs. PR [#3204](https://github.com/tiangolo/fastapi/pull/3204) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨ÜÔ∏è Upgrade setup-python GitHub Action to v2. PR [#3203](https://github.com/tiangolo/fastapi/pull/3203) by [@tiangolo](https://github.com/tiangolo).\n* üêõ Fix docs script to generate a new translation language with `overrides` boilerplate. PR [#3202](https://github.com/tiangolo/fastapi/pull/3202) by [@tiangolo](https://github.com/tiangolo).\n* ‚ú® Add new Deta banner badge with new sponsorship tier üôá. PR [#3194](https://github.com/tiangolo/fastapi/pull/3194) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People. PR [#3189](https://github.com/tiangolo/fastapi/pull/3189) by [@github-actions[bot]](https://github.com/apps/github-actions).\n* üîä Update FastAPI People to allow better debugging. PR [#3188](https://github.com/tiangolo/fastapi/pull/3188) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0747", "title": "Release Notes", "section": "0.64.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0748", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add support for adding multiple `examples` in request bodies and path, query, cookie, and header params. New docs: [Declare Request Example Data](https://fastapi.tiangolo.com/tutorial/schema-extra-example/#body-with-multiple-examples). Initial PR [#1267](https://github.com/tiangolo/fastapi/pull/1267) by [@austinorr](https://github.com/austinorr).", "source": "release-notes.md"}
{"doc_id": "fastapi_0749", "title": "Release Notes", "section": "Fixes", "content": "* üìå Pin SQLAlchemy range for tests, as it doesn't use SemVer. PR [#3001](https://github.com/tiangolo/fastapi/pull/3001) by [@tiangolo](https://github.com/tiangolo).\n* üé® Add newly required type annotations for mypy. PR [#2882](https://github.com/tiangolo/fastapi/pull/2882) by [@tiangolo](https://github.com/tiangolo).\n* üé® Remove internal \"type: ignore\", now unnecessary. PR [#2424](https://github.com/tiangolo/fastapi/pull/2424) by [@AsakuraMizu](https://github.com/AsakuraMizu).", "source": "release-notes.md"}
{"doc_id": "fastapi_0750", "title": "Release Notes", "section": "Docs", "content": "* üìù Add link to article in Russian \"FastAPI: –∑–Ω–∞–∫–æ–º–∏–º—Å—è —Å —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–º\". PR [#2564](https://github.com/tiangolo/fastapi/pull/2564) by [@trkohler](https://github.com/trkohler).\n* üìù Add external link to blog post \"Authenticate Your FastAPI App with Auth0\". PR [#2172](https://github.com/tiangolo/fastapi/pull/2172) by [@dompatmore](https://github.com/dompatmore).\n* üìù Fix broken link to article: Machine learning model serving in Python using FastAPI and Streamlit. PR [#2557](https://github.com/tiangolo/fastapi/pull/2557) by [@davidefiocco](https://github.com/davidefiocco).\n* üìù Add FastAPI Medium Article: Deploy a dockerized FastAPI application to AWS. PR [#2515](https://github.com/tiangolo/fastapi/pull/2515) by [@vjanz](https://github.com/vjanz).\n* ‚úè Fix typo in Tutorial - Handling Errors. PR [#2486](https://github.com/tiangolo/fastapi/pull/2486) by [@johnthagen](https://github.com/johnthagen).\n* ‚úè Fix typo in Security OAuth2 scopes. PR [#2407](https://github.com/tiangolo/fastapi/pull/2407) by [@jugmac00](https://github.com/jugmac00).\n* ‚úè Fix typo/clarify docs for SQL (Relational) Databases. PR [#2393](https://github.com/tiangolo/fastapi/pull/2393) by [@kangni](https://github.com/kangni).\n* üìù Add external link to \"FastAPI for Flask Users\". PR [#2280](https://github.com/tiangolo/fastapi/pull/2280) by [@amitness](https://github.com/amitness).", "source": "release-notes.md"}
{"doc_id": "fastapi_0751", "title": "Release Notes", "section": "Translations", "content": "* üåê Fix Chinese translation of Tutorial - Query Parameters, remove obsolete content. PR [#3051](https://github.com/tiangolo/fastapi/pull/3051) by [@louis70109](https://github.com/louis70109).\n* üåê Add French translation for Tutorial - Background Tasks. PR [#3098](https://github.com/tiangolo/fastapi/pull/3098) by [@Smlep](https://github.com/Smlep).\n* üåê Fix Korean translation for docs/ko/docs/index.md. PR [#3159](https://github.com/tiangolo/fastapi/pull/3159) by [@SueNaEunYang](https://github.com/SueNaEunYang).\n* üåê Add Korean translation for Tutorial - Query Parameters. PR [#2390](https://github.com/tiangolo/fastapi/pull/2390) by [@hard-coders](https://github.com/hard-coders).\n* üåê Add French translation for FastAPI People. PR [#2232](https://github.com/tiangolo/fastapi/pull/2232) by [@JulianMaurin](https://github.com/JulianMaurin).\n* üåê Add Korean translation for Tutorial - Path Parameters. PR [#2355](https://github.com/tiangolo/fastapi/pull/2355) by [@hard-coders](https://github.com/hard-coders).\n* üåê Add French translation for Features. PR [#2157](https://github.com/tiangolo/fastapi/pull/2157) by [@Jefidev](https://github.com/Jefidev).\n* üë• Update FastAPI People. PR [#3031](https://github.com/tiangolo/fastapi/pull/3031) by [@github-actions[bot]](https://github.com/apps/github-actions).\n* üåê Add Chinese translation for Tutorial - Debugging. PR [#2737](https://github.com/tiangolo/fastapi/pull/2737) by [@blt232018](https://github.com/blt232018).\n* üåê Add Chinese translation for Tutorial - Security - OAuth2 with Password (and hashing), Bearer with JWT tokens. PR [#2642](https://github.com/tiangolo/fastapi/pull/2642) by [@waynerv](https://github.com/waynerv).\n* üåê Add Korean translation for Tutorial - Header Parameters. PR [#2589](https://github.com/tiangolo/fastapi/pull/2589) by [@mode9](https://github.com/mode9).\n* üåê Add Chinese translation for Tutorial - Metadata and Docs URLs. PR [#2559](https://github.com/tiangolo/fastapi/pull/2559) by [@blt232018](https://github.com/blt232018).\n* üåê Add Korean translation for Tutorial - First Steps. PR [#2323](https://github.com/tiangolo/fastapi/pull/2323) by [@hard-coders](https://github.com/hard-coders).\n* üåê Add Chinese translation for Tutorial - CORS (Cross-Origin Resource Sharing). PR [#2540](https://github.com/tiangolo/fastapi/pull/2540) by [@blt232018](https://github.com/blt232018).\n* üåê Add Chinese translation for Tutorial - Middleware. PR [#2334](https://github.com/tiangolo/fastapi/pull/2334) by [@lpdswing](https://github.com/lpdswing).\n* üåê Add Korean translation for Tutorial - Intro. PR [#2317](https://github.com/tiangolo/fastapi/pull/2317) by [@hard-coders](https://github.com/hard-coders).\n* üåê Add Chinese translation for Tutorial - Bigger Applications - Multiple Files. PR [#2453](https://github.com/tiangolo/fastapi/pull/2453) by [@waynerv](https://github.com/waynerv).\n* üåê Add Chinese translation for Tutorial - Security - Security Intro. PR [#2443](https://github.com/tiangolo/fastapi/pull/2443) by [@waynerv](https://github.com/waynerv).\n* üåê Add Chinese translation for Tutorial - Header Parameters. PR [#2412](https://github.com/tiangolo/fastapi/pull/2412) by [@maoyibo](https://github.com/maoyibo).\n* üåê Add Chinese translation for Tutorial - Extra Data Types. PR [#2410](https://github.com/tiangolo/fastapi/pull/2410) by [@maoyibo](https://github.com/maoyibo).\n* üåê Add Japanese translation for Deployment - Docker. PR [#2312](https://github.com/tiangolo/fastapi/pull/2312) by [@tokusumi](https://github.com/tokusumi).\n* üåê Add Japanese translation for Deployment - Versions. PR [#2310](https://github.com/tiangolo/fastapi/pull/2310) by [@tokusumi](https://github.com/tokusumi).\n* üåê Add Chinese translation for Tutorial - Cookie Parameters. PR [#2261](https://github.com/tiangolo/fastapi/pull/2261) by [@alicrazy1947](https://github.com/alicrazy1947).\n* üåê Add Japanese translation for Tutorial - Static files. PR [#2260](https://github.com/tiangolo/fastapi/pull/2260) by [@tokusumi](https://github.com/tokusumi).\n* üåê Add Japanese translation for Tutorial - Testing. PR [#2259](https://github.com/tiangolo/fastapi/pull/2259) by [@tokusumi](https://github.com/tokusumi).\n* üåê Add Japanese translation for Tutorial - Debugging. PR [#2256](https://github.com/tiangolo/fastapi/pull/2256) by [@tokusumi](https://github.com/tokusumi).\n* üåê Add Japanese translation for Tutorial - Middleware. PR [#2255](https://github.com/tiangolo/fastapi/pull/2255) by [@tokusumi](https://github.com/tokusumi).\n* üåê Add Japanese translation for Concurrency and async / await. PR [#2058](https://github.com/tiangolo/fastapi/pull/2058) by [@tokusumi](https://github.com/tokusumi).\n* üåê Add Chinese translation for Tutorial - Security - Simple OAuth2 with Password and Bearer. PR [#2514](https://github.com/tiangolo/fastapi/pull/2514) by [@waynerv](https://github.com/waynerv).\n* üåê Add Japanese translation for Deployment - Deta. PR [#2314](https://github.com/tiangolo/fastapi/pull/2314) by [@tokusumi](https://github.com/tokusumi).\n* üåê Add Chinese translation for Tutorial - Security - Get Current User. PR [#2474](https://github.com/tiangolo/fastapi/pull/2474) by [@waynerv](https://github.com/waynerv).\n* üåê Add Japanese translation for Deployment - Manually. PR [#2313](https://github.com/tiangolo/fastapi/pull/2313) by [@tokusumi](https://github.com/tokusumi).\n* üåê Add Japanese translation for Deployment - Intro. PR [#2309](https://github.com/tiangolo/fastapi/pull/2309) by [@tokusumi](https://github.com/tokusumi).\n* üåê Add Japanese translation for FastAPI People. PR [#2254](https://github.com/tiangolo/fastapi/pull/2254) by [@tokusumi](https://github.com/tokusumi).\n* üåê Add Japanese translation for Advanced - Path Operation Advanced Configuration. PR [#2124](https://github.com/tiangolo/fastapi/pull/2124) by [@Attsun1031](https://github.com/Attsun1031).\n* üåê Add Japanese translation for External Links. PR [#2070](https://github.com/tiangolo/fastapi/pull/2070) by [@tokusumi](https://github.com/tokusumi).\n* üåê Add Japanese translation for Tutorial - Body - Updates. PR [#1956](https://github.com/tiangolo/fastapi/pull/1956) by [@SwftAlpc](https://github.com/SwftAlpc).\n* üåê Add Japanese translation for Tutorial - Form Data. PR [#1943](https://github.com/tiangolo/fastapi/pull/1943) by [@SwftAlpc](https://github.com/SwftAlpc).\n* üåê Add Japanese translation for Tutorial - Cookie Parameters. PR [#1933](https://github.com/tiangolo/fastapi/pull/1933) by [@SwftAlpc](https://github.com/SwftAlpc).", "source": "release-notes.md"}
{"doc_id": "fastapi_0752", "title": "Release Notes", "section": "Internal", "content": "* üîß Update top banner, point to newsletter. PR [#3003](https://github.com/tiangolo/fastapi/pull/3003) by [@tiangolo](https://github.com/tiangolo).\n* üîß Disable sponsor WeTransfer. PR [#3002](https://github.com/tiangolo/fastapi/pull/3002) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People. PR [#2880](https://github.com/tiangolo/fastapi/pull/2880) by [@github-actions[bot]](https://github.com/apps/github-actions).\n* üë• Update FastAPI People. PR [#2739](https://github.com/tiangolo/fastapi/pull/2739) by [@github-actions[bot]](https://github.com/apps/github-actions).\n* üîß Add new Gold Sponsor Talk Python üéâ. PR [#2673](https://github.com/tiangolo/fastapi/pull/2673) by [@tiangolo](https://github.com/tiangolo).\n* üîß Add new Gold Sponsor vim.so üéâ. PR [#2669](https://github.com/tiangolo/fastapi/pull/2669) by [@tiangolo](https://github.com/tiangolo).\n* üîß Add FastAPI user survey banner. PR [#2623](https://github.com/tiangolo/fastapi/pull/2623) by [@tiangolo](https://github.com/tiangolo).\n* üîß Add new Bronze Sponsor(s) ü•âüéâ. PR [#2622](https://github.com/tiangolo/fastapi/pull/2622) by [@tiangolo](https://github.com/tiangolo).\n* üìù Update social links: add Discord, fix GitHub. PR [#2621](https://github.com/tiangolo/fastapi/pull/2621) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update FastAPI People GitHub Sponsors order. PR [#2620](https://github.com/tiangolo/fastapi/pull/2620) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update InvestSuite sponsor data. PR [#2608](https://github.com/tiangolo/fastapi/pull/2608) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People. PR [#2590](https://github.com/tiangolo/fastapi/pull/2590) by [@github-actions[bot]](https://github.com/apps/github-actions).", "source": "release-notes.md"}
{"doc_id": "fastapi_0753", "title": "Release Notes", "section": "0.63.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0754", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Improve type annotations, add support for mypy --strict, internally and for external packages. PR [#2547](https://github.com/tiangolo/fastapi/pull/2547) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0755", "title": "Release Notes", "section": "Breaking changes", "content": "* ‚¨ÜÔ∏è Upgrade Uvicorn when installing `fastapi[all]` to the latest version including `uvloop`, the new range is `uvicorn[standard] >=0.12.0,<0.14.0`. PR [#2548](https://github.com/tiangolo/fastapi/pull/2548) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0756", "title": "Release Notes", "section": "Fixes", "content": "* üêõ PR [#2547](https://github.com/tiangolo/fastapi/pull/2547) (read above) also fixes some false-positive mypy errors with `callbacks` parameters and when using the `OAuth2` class.", "source": "release-notes.md"}
{"doc_id": "fastapi_0757", "title": "Release Notes", "section": "Docs", "content": "* üìù Update Uvicorn installation instructions to use uvicorn[standard] (includes uvloop). PR [#2543](https://github.com/tiangolo/fastapi/pull/2543) by [@tiangolo](https://github.com/tiangolo).\n* üìù Update title for Deta tutorial. PR [#2466](https://github.com/tiangolo/fastapi/pull/2466) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People. PR [#2454](https://github.com/tiangolo/fastapi/pull/2454) by [@github-actions[bot]](https://github.com/apps/github-actions).", "source": "release-notes.md"}
{"doc_id": "fastapi_0758", "title": "Release Notes", "section": "Translations", "content": "* üåê Add docs lang selector widget. PR [#2542](https://github.com/tiangolo/fastapi/pull/2542) by [@tiangolo](https://github.com/tiangolo).\n* üåê Add Chinese translation for Tutorial - Response Status Code. PR [#2442](https://github.com/tiangolo/fastapi/pull/2442) by [@waynerv](https://github.com/waynerv).\n* üåê Start translation of the documentation for the Albanian language. PR [#2516](https://github.com/tiangolo/fastapi/pull/2516) by [@vjanz](https://github.com/vjanz).\n* üåê Add Chinese translation for Tutorial - Extra Models. PR [#2416](https://github.com/tiangolo/fastapi/pull/2416) by [@waynerv](https://github.com/waynerv).\n* üåê Add Chinese translation for Tutorial - Response Model. PR [#2414](https://github.com/tiangolo/fastapi/pull/2414) by [@waynerv](https://github.com/waynerv).\n* üåê Add Chinese translation for Tutorial - Schema Extra Example. PR [#2411](https://github.com/tiangolo/fastapi/pull/2411) by [@maoyibo](https://github.com/maoyibo).\n* üåê Add Korean translation for Index. PR [#2192](https://github.com/tiangolo/fastapi/pull/2192) by [@hard-coders](https://github.com/hard-coders).\n* üåê Add Japanese translation for Advanced User Guide - Additional Status Codes. PR [#2145](https://github.com/tiangolo/fastapi/pull/2145) by [@Attsun1031](https://github.com/Attsun1031).", "source": "release-notes.md"}
{"doc_id": "fastapi_0759", "title": "Release Notes", "section": "Internal", "content": "* üêõ Fix docs overrides directory for translations. PR [#2541](https://github.com/tiangolo/fastapi/pull/2541) by [@tiangolo](https://github.com/tiangolo).\n* ‚ûñ Remove Typer as a docs building dependency (covered by typer-cli) to fix pip resolver conflicts. PR [#2539](https://github.com/tiangolo/fastapi/pull/2539) by [@tiangolo](https://github.com/tiangolo).\n* ‚ú® Add newsletter: FastAPI and friends. PR [#2509](https://github.com/tiangolo/fastapi/pull/2509) by [@tiangolo](https://github.com/tiangolo).\n* ‚ú® Add new Gold Sponsor: InvestSuite üéâ. PR [#2508](https://github.com/tiangolo/fastapi/pull/2508) by [@tiangolo](https://github.com/tiangolo).\n* üîß Add issue template configs. PR [#2476](https://github.com/tiangolo/fastapi/pull/2476) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0760", "title": "Release Notes", "section": "0.62.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0761", "title": "Release Notes", "section": "Features", "content": "* ‚ú® Add support for shared/top-level parameters (dependencies, tags, etc). PR [#2434](https://github.com/tiangolo/fastapi/pull/2434) by [@tiangolo](https://github.com/tiangolo).\n\nUp to now, for several options, the only way to apply them to a group of *path operations* was in `include_router`. That works well, but the call to `app.include_router()` or `router.include_router()` is normally done in another file.\n\nThat means that, for example, to apply authentication to all the *path operations* in a router it would end up being done in a different file, instead of keeping related logic together.\n\nSetting options in `include_router` still makes sense in some cases, for example, to override or increase configurations from a third party router included in an app. But in a router that is part of a bigger application, it would probably make more sense to add those settings when creating the `APIRouter`.\n\n**In `FastAPI`**\n\nThis allows setting the (mostly new) parameters (additionally to the already existing parameters):\n\n* `default_response_class`: updated to handle defaults in `APIRouter` and `include_router`.\n* `dependencies`: to include ‚ú® top-level dependencies ‚ú® that apply to the whole application. E.g. to add global authentication.\n* `callbacks`: OpenAPI callbacks that apply to all the *path operations*.\n* `deprecated`: to mark all the *path operations* as deprecated. ü§∑\n* `include_in_schema`: to allow excluding all the *path operations* from the OpenAPI schema.\n* `responses`: OpenAPI responses that apply to all the *path operations*.\n\nFor example:\n\n```Python\nfrom fastapi import FastAPI, Depends\n\n\nasync def some_dependency():\n    return\n\n\napp = FastAPI(dependencies=[Depends(some_dependency)])\n```\n\n**In `APIRouter`**\n\nThis allows setting the (mostly new) parameters (additionally to the already existing parameters):\n\n* `default_response_class`: updated to handle defaults in `APIRouter` and `include_router`. For example, it's not needed to set it explicitly when [creating callbacks](https://fastapi.tiangolo.com/advanced/openapi-callbacks/).\n* `dependencies`: to include ‚ú® router-level dependencies ‚ú® that apply to all the *path operations* in a router. Up to now, this was only possible with `include_router`.\n* `callbacks`: OpenAPI callbacks that apply to all the *path operations* in this router.\n* `deprecated`: to mark all the *path operations* in a router as deprecated.\n* `include_in_schema`: to allow excluding all the *path operations* in a router from the OpenAPI schema.\n* `responses`: OpenAPI responses that apply to all the *path operations* in a router.\n* `prefix`: to set the path prefix for a router. Up to now, this was only possible when calling `include_router`.\n* `tags`: OpenAPI tags to apply to all the *path operations* in this router.\n\nFor example:\n\n```Python\nfrom fastapi import APIRouter, Depends\n\n\nasync def some_dependency():\n    return\n\n\nrouter = APIRouter(prefix=\"/users\", dependencies=[Depends(some_dependency)])\n```\n\n**In `include_router`**\n\nMost of these settings are now supported in `APIRouter`, which normally lives closer to the related code, so it is recommended to use `APIRouter` when possible.\n\nBut `include_router` is still useful to, for example, adding options (like `dependencies`, `prefix`, and `tags`) when including a third party router, or a generic router that is shared between several projects.\n\nThis PR allows setting the (mostly new) parameters (additionally to the already existing parameters):\n\n* `default_response_class`: updated to handle defaults in `APIRouter` and `FastAPI`.\n* `deprecated`: to mark all the *path operations* in a router as deprecated in OpenAPI.\n* `include_in_schema`: to allow disabling all the *path operations* from showing in the OpenAPI schema.\n* `callbacks`: OpenAPI callbacks that apply to all the *path operations* in this router.\n\nNote: all the previous parameters are still there, so it's still possible to declare `dependencies` in `include_router`.", "source": "release-notes.md"}
{"doc_id": "fastapi_0762", "title": "Release Notes", "section": "Breaking Changes", "content": "* PR [#2434](https://github.com/tiangolo/fastapi/pull/2434) includes several improvements that shouldn't affect normal use cases, but could affect in advanced scenarios:\n    * If you are testing the generated OpenAPI (you shouldn't, FastAPI already tests it extensively for you): the order for `tags` in `include_router` and *path operations* was updated for consistency, but it's a simple order change.\n    * If you have advanced custom logic to access each route's `route.response_class`, or the `router.default_response_class`, or the `app.default_response_class`: the default value for `response_class` in `APIRoute` and for `default_response_class` in `APIRouter` and `FastAPI` is now a `DefaultPlaceholder` used internally to handle and solve default values and overrides. The actual response class inside the `DefaultPlaceholder` is available at `route.response_class.value`.", "source": "release-notes.md"}
{"doc_id": "fastapi_0763", "title": "Release Notes", "section": "Docs", "content": "* PR [#2434](https://github.com/tiangolo/fastapi/pull/2434) (above) includes new or updated docs:\n    * <a href=\"https://fastapi.tiangolo.com/advanced/openapi-callbacks/\" class=\"external-link\" target=\"_blank\">Advanced User Guide - OpenAPI Callbacks</a>.\n    * <a href=\"https://fastapi.tiangolo.com/tutorial/bigger-applications/\" class=\"external-link\" target=\"_blank\">Tutorial - Bigger Applications</a>.\n    * <a href=\"https://fastapi.tiangolo.com/tutorial/dependencies/dependencies-in-path-operation-decorators/\" class=\"external-link\" target=\"_blank\">Tutorial - Dependencies - Dependencies in path operation decorators</a>.\n    * <a href=\"https://fastapi.tiangolo.com/tutorial/dependencies/global-dependencies/\" class=\"external-link\" target=\"_blank\">Tutorial - Dependencies - Global Dependencies</a>.\n\n* üìù Add FastAPI monitoring blog post to External Links. PR [#2324](https://github.com/tiangolo/fastapi/pull/2324) by [@louisguitton](https://github.com/louisguitton).\n* ‚úèÔ∏è Fix typo in Deta tutorial. PR [#2320](https://github.com/tiangolo/fastapi/pull/2320) by [@tiangolo](https://github.com/tiangolo).\n* ‚ú® Add Discord chat. PR [#2322](https://github.com/tiangolo/fastapi/pull/2322) by [@tiangolo](https://github.com/tiangolo).\n* üìù Fix image links for sponsors. PR [#2304](https://github.com/tiangolo/fastapi/pull/2304) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0764", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Japanese translation for Advanced - Custom Response. PR [#2193](https://github.com/tiangolo/fastapi/pull/2193) by [@Attsun1031](https://github.com/Attsun1031).\n* üåê Add Chinese translation for Benchmarks. PR [#2119](https://github.com/tiangolo/fastapi/pull/2119) by [@spaceack](https://github.com/spaceack).\n* üåê Add Chinese translation for Tutorial - Body - Nested Models. PR [#1609](https://github.com/tiangolo/fastapi/pull/1609) by [@waynerv](https://github.com/waynerv).\n* üåê Add Chinese translation for Advanced - Custom Response. PR [#1459](https://github.com/tiangolo/fastapi/pull/1459) by [@RunningIkkyu](https://github.com/RunningIkkyu).\n* üåê Add Chinese translation for Advanced - Return a Response Directly. PR [#1452](https://github.com/tiangolo/fastapi/pull/1452) by [@RunningIkkyu](https://github.com/RunningIkkyu).\n* üåê Add Chinese translation for Advanced - Additional Status Codes. PR [#1451](https://github.com/tiangolo/fastapi/pull/1451) by [@RunningIkkyu](https://github.com/RunningIkkyu).\n* üåê Add Chinese translation for Advanced - Path Operation Advanced Configuration. PR [#1447](https://github.com/tiangolo/fastapi/pull/1447) by [@RunningIkkyu](https://github.com/RunningIkkyu).\n* üåê Add Chinese translation for Advanced User Guide - Intro. PR [#1445](https://github.com/tiangolo/fastapi/pull/1445) by [@RunningIkkyu](https://github.com/RunningIkkyu).", "source": "release-notes.md"}
{"doc_id": "fastapi_0765", "title": "Release Notes", "section": "Internal", "content": "* üîß Update TestDriven link to course in sponsors section. PR [#2435](https://github.com/tiangolo/fastapi/pull/2435) by [@tiangolo](https://github.com/tiangolo).\n* üç± Update sponsor logos. PR [#2418](https://github.com/tiangolo/fastapi/pull/2418) by [@tiangolo](https://github.com/tiangolo).\n* üíö Fix disabling install of Material for MkDocs Insiders in forks, strike 1 ‚öæ. PR [#2340](https://github.com/tiangolo/fastapi/pull/2340) by [@tiangolo](https://github.com/tiangolo).\n* üêõ Fix disabling Material for MkDocs Insiders install in forks. PR [#2339](https://github.com/tiangolo/fastapi/pull/2339) by [@tiangolo](https://github.com/tiangolo).\n* ‚ú® Add silver sponsor WeTransfer. PR [#2338](https://github.com/tiangolo/fastapi/pull/2338) by [@tiangolo](https://github.com/tiangolo).\n* ‚ú® Set up and enable Material for MkDocs Insiders for the docs. PR [#2325](https://github.com/tiangolo/fastapi/pull/2325) by [@tiangolo](https://github.com/tiangolo).", "source": "release-notes.md"}
{"doc_id": "fastapi_0766", "title": "Release Notes", "section": "0.61.2", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0767", "title": "Release Notes", "section": "Fixes", "content": "* üìå Relax Swagger UI version pin. PR [#2089](https://github.com/tiangolo/fastapi/pull/2089) by [@jmriebold](https://github.com/jmriebold).\n* üêõ Fix bug overriding custom HTTPException and RequestValidationError from exception_handlers. PR [#1924](https://github.com/tiangolo/fastapi/pull/1924) by [@uriyyo](https://github.com/uriyyo).\n* ‚úèÔ∏è Fix typo on dependencies utils and cleanup unused variable. PR [#1912](https://github.com/tiangolo/fastapi/pull/1912) by [@Kludex](https://github.com/Kludex).", "source": "release-notes.md"}
{"doc_id": "fastapi_0768", "title": "Release Notes", "section": "Docs", "content": "* ‚úèÔ∏è  Fix typo in Tutorial - Path Parameters. PR [#2231](https://github.com/tiangolo/fastapi/pull/2231) by [@mariacamilagl](https://github.com/mariacamilagl).\n* ‚úè Fix a stylistic error in docs. PR [#2206](https://github.com/tiangolo/fastapi/pull/2206) by [@ddobrinskiy](https://github.com/ddobrinskiy).\n* ‚úè Fix capitalizaiton typo in docs. PR [#2204](https://github.com/tiangolo/fastapi/pull/2204) by [@imba-tjd](https://github.com/imba-tjd).\n* ‚úè Fix typo in docs. PR [#2179](https://github.com/tiangolo/fastapi/pull/2179) by [@ammarasmro](https://github.com/ammarasmro).\n* üìù Update/fix links in docs to use HTTPS. PR [#2165](https://github.com/tiangolo/fastapi/pull/2165) by [@imba-tjd](https://github.com/imba-tjd).\n* ‚úè Fix typos and add rewording in docs. PR [#2159](https://github.com/tiangolo/fastapi/pull/2159) by [@nukopy](https://github.com/nukopy).\n* üìù Fix code consistency in examples for Tutorial - User Guide - Path Parameters. PR [#2158](https://github.com/tiangolo/fastapi/pull/2158) by [@nukopy](https://github.com/nukopy).\n* üìù Fix renamed parameter `content_type` typo. PR [#2135](https://github.com/tiangolo/fastapi/pull/2135) by [@TeoZosa](https://github.com/TeoZosa).\n* ‚úè Fix minor typos in docs. PR [#2122](https://github.com/tiangolo/fastapi/pull/2122) by [@TeoZosa](https://github.com/TeoZosa).\n* ‚úè Fix typos in docs and source examples. PR [#2102](https://github.com/tiangolo/fastapi/pull/2102) by [@AdrianDeAnda](https://github.com/AdrianDeAnda).\n* ‚úè Fix incorrect Celery URLs in docs. PR [#2100](https://github.com/tiangolo/fastapi/pull/2100) by [@CircleOnCircles](https://github.com/CircleOnCircles).\n* üìù Simplify intro to Python Types, all currently supported Python versions include type hints üéâ. PR [#2085](https://github.com/tiangolo/fastapi/pull/2085) by [@ninjaaron](https://github.com/ninjaaron).\n* üìù Fix example code with sets in Tutorial - Body - Nested Models 3. PR [#2054](https://github.com/tiangolo/fastapi/pull/2054) by [@hitrust](https://github.com/hitrust).\n* üìù Fix example code with sets in Tutorial - Body - Nested Models 2. PR [#2053](https://github.com/tiangolo/fastapi/pull/2053) by [@hitrust](https://github.com/hitrust).\n* üìù Fix example code with sets in Tutorial - Body - Nested Models. PR [#2052](https://github.com/tiangolo/fastapi/pull/2052) by [@hitrust](https://github.com/hitrust).\n* ‚úè Fix typo in Benchmarks. PR [#1995](https://github.com/tiangolo/fastapi/pull/1995) by [@AlejoAsd](https://github.com/AlejoAsd).\n* üìù Add note in CORS tutorial about allow_origins with [\"*\"] and allow_credentials. PR [#1895](https://github.com/tiangolo/fastapi/pull/1895) by [@dsmurrell](https://github.com/dsmurrell).\n* üìù Add deployment to Deta, the first gold sponsor üéâ. PR [#2303](https://github.com/tiangolo/fastapi/pull/2303) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People. PR [#2282](https://github.com/tiangolo/fastapi/pull/2282) by [@github-actions[bot]](https://github.com/apps/github-actions).\n* ‚úèÔ∏è Fix uppercase in Tutorial - Query parameters. PR [#2245](https://github.com/tiangolo/fastapi/pull/2245) by [@mariacamilagl](https://github.com/mariacamilagl).\n* üìù Add articles to External Links. PR [#2247](https://github.com/tiangolo/fastapi/pull/2247) by [@tiangolo](https://github.com/tiangolo).\n* ‚úè Fix typo in Spanish tutorial index. PR [#2020](https://github.com/tiangolo/fastapi/pull/2020) by [@aviloncho](https://github.com/aviloncho).", "source": "release-notes.md"}
{"doc_id": "fastapi_0769", "title": "Release Notes", "section": "Translations", "content": "* üåê Add Japanese translation for Advanced Tutorial - Response Directly. PR [#2191](https://github.com/tiangolo/fastapi/pull/2191) by [@Attsun1031](https://github.com/Attsun1031).\n* üìù Add Japanese translation for Tutorial - Security - First Steps. PR [#2153](https://github.com/tiangolo/fastapi/pull/2153) by [@komtaki](https://github.com/komtaki).\n* üåê Add Japanese translation for Tutorial - Query Parameters and String Validations. PR [#1901](https://github.com/tiangolo/fastapi/pull/1901) by [@SwftAlpc](https://github.com/SwftAlpc).\n* üåê Add Portuguese translation for External Links. PR [#1443](https://github.com/tiangolo/fastapi/pull/1443) by [@Serrones](https://github.com/Serrones).\n* üåê Add Japanese translation for Tutorial - CORS. PR [#2125](https://github.com/tiangolo/fastapi/pull/2125) by [@tokusumi](https://github.com/tokusumi).\n* üåê Add Japanese translation for Contributing. PR [#2067](https://github.com/tiangolo/fastapi/pull/2067) by [@komtaki](https://github.com/komtaki).\n* üåê Add Japanese translation for Project Generation. PR [#2050](https://github.com/tiangolo/fastapi/pull/2050) by [@tokusumi](https://github.com/tokusumi).\n* üåê Add Japanese translation for Alternatives. PR [#2043](https://github.com/tiangolo/fastapi/pull/2043) by [@Attsun1031](https://github.com/Attsun1031).\n* üåê Add Japanese translation for History Design and Future. PR [#2002](https://github.com/tiangolo/fastapi/pull/2002) by [@komtaki](https://github.com/komtaki).\n* üåê Add Japanese translation for Benchmarks. PR [#1992](https://github.com/tiangolo/fastapi/pull/1992) by [@komtaki](https://github.com/komtaki).\n* üåê Add Japanese translation for Tutorial - Header Parameters. PR [#1935](https://github.com/tiangolo/fastapi/pull/1935) by [@SwftAlpc](https://github.com/SwftAlpc).\n* üåê Add Portuguese translation for Tutorial - First Steps. PR [#1861](https://github.com/tiangolo/fastapi/pull/1861) by [@jessicapaz](https://github.com/jessicapaz).\n* üåê Add Portuguese translation for Python Types. PR [#1796](https://github.com/tiangolo/fastapi/pull/1796) by [@izaguerreiro](https://github.com/izaguerreiro).\n* üåê Add Japanese translation for Help FastAPI. PR [#1692](https://github.com/tiangolo/fastapi/pull/1692) by [@tokusumi](https://github.com/tokusumi).\n* üåê Add Japanese translation for Tutorial - Body. PR [#1683](https://github.com/tiangolo/fastapi/pull/1683) by [@tokusumi](https://github.com/tokusumi).\n* üåê Add Japanese translation for Tutorial - Query Params. PR [#1674](https://github.com/tiangolo/fastapi/pull/1674) by [@tokusumi](https://github.com/tokusumi).\n* üåê Add Japanese translation for tutorial/path-params.md. PR [#1671](https://github.com/tiangolo/fastapi/pull/1671) by [@tokusumi](https://github.com/tokusumi).\n* üåê Add Japanese translation for tutorial/first-steps.md. PR [#1658](https://github.com/tiangolo/fastapi/pull/1658) by [@tokusumi](https://github.com/tokusumi).\n* üåê Add Japanese translation for tutorial/index.md. PR [#1656](https://github.com/tiangolo/fastapi/pull/1656) by [@tokusumi](https://github.com/tokusumi).\n* üåê Add translation to Portuguese for Project Generation. PR [#1602](https://github.com/tiangolo/fastapi/pull/1602) by [@Serrones](https://github.com/Serrones).\n* üåê Add Japanese translation for Features. PR [#1625](https://github.com/tiangolo/fastapi/pull/1625) by [@tokusumi](https://github.com/tokusumi).\n* üåê Initialize new language Korean for translations. PR [#2018](https://github.com/tiangolo/fastapi/pull/2018) by [@hard-coders](https://github.com/hard-coders).\n* üåê Add Portuguese translation of Deployment. PR [#1374](https://github.com/tiangolo/fastapi/pull/1374) by [@Serrones](https://github.com/Serrones).", "source": "release-notes.md"}
{"doc_id": "fastapi_0770", "title": "Release Notes", "section": "Internal", "content": "* üî• Cleanup after upgrade for Docs Previews GitHub Action. PR [#2248](https://github.com/tiangolo/fastapi/pull/2248) by [@tiangolo](https://github.com/tiangolo).\n* üêõ Fix CI docs preview, unzip docs. PR [#2246](https://github.com/tiangolo/fastapi/pull/2246) by [@tiangolo](https://github.com/tiangolo).\n* ‚ú® Add instant docs deploy previews for PRs from forks. PR [#2244](https://github.com/tiangolo/fastapi/pull/2244) by [@tiangolo](https://github.com/tiangolo).\n* ‚ö°Ô∏è Build docs for languages in parallel in subprocesses to speed up CI. PR [#2242](https://github.com/tiangolo/fastapi/pull/2242) by [@tiangolo](https://github.com/tiangolo).\n* üêõ Fix docs order generation for partial translations. PR [#2238](https://github.com/tiangolo/fastapi/pull/2238) by [@tiangolo](https://github.com/tiangolo).\n* üë• Update FastAPI People. PR [#2202](https://github.com/tiangolo/fastapi/pull/2202) by [@github-actions[bot]](https://github.com/apps/github-actions).\n* ‚ôªÔ∏è Update FastAPI People GitHub Action to send the PR as github-actions. PR [#2201](https://github.com/tiangolo/fastapi/pull/2201) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update FastAPI People GitHub Action config, run monthly. PR [#2199](https://github.com/tiangolo/fastapi/pull/2199) by [@tiangolo](https://github.com/tiangolo).\n* üêõ Fix FastAPI People GitHub Action Docker dependency, strike 1 ‚öæ. PR [#2198](https://github.com/tiangolo/fastapi/pull/2198) by [@tiangolo](https://github.com/tiangolo).\n* üêõ Fix FastAPI People GitHub Action Docker dependencies. PR [#2197](https://github.com/tiangolo/fastapi/pull/2197) by [@tiangolo](https://github.com/tiangolo).\n* üêõ Fix FastAPI People GitHub Action when there's nothing to change. PR [#2196](https://github.com/tiangolo/fastapi/pull/2196) by [@tiangolo](https://github.com/tiangolo).\n* üë• Add new section FastAPI People. PR [#2195](https://github.com/tiangolo/fastapi/pull/2195) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨ÜÔ∏è Upgrade GitHub Action Latest Changes. PR [#2190](https://github.com/tiangolo/fastapi/pull/2190) by [@tiangolo](https://github.com/tiangolo).\n* ‚¨ÜÔ∏è Upgrade GitHub Action Label Approved. PR [#2189](https://github.com/tiangolo/fastapi/pull/2189) by [@tiangolo](https://github.com/tiangolo).\n* üîß Update GitHub Action Label Approved, run at 12:00. PR [#2185](https://github.com/tiangolo/fastapi/pull/2185) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Upgrade GitHub Action Latest Changes. PR [#2184](https://github.com/tiangolo/fastapi/pull/2184) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Set GitHub Action Label Approved to run daily, not every minute. PR [#2163](https://github.com/tiangolo/fastapi/pull/2163) by [@tiangolo](https://github.com/tiangolo).\n* üî• Remove pr-approvals GitHub Action as it's not compatible with forks. Use the new one. PR [#2162](https://github.com/tiangolo/fastapi/pull/2162) by [@tiangolo](https://github.com/tiangolo).\n* üë∑ Add GitHub Action Latest Changes. PR [#2160](https://github.com/tiangolo/fastapi/pull/2160).\n* üë∑ Add GitHub Action Label Approved. PR [#2161](https://github.com/tiangolo/fastapi/pull/2161).", "source": "release-notes.md"}
{"doc_id": "fastapi_0771", "title": "Release Notes", "section": "0.61.1", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0772", "title": "Release Notes", "section": "Fixes", "content": "* Fix issues using `jsonable_encoder` with SQLAlchemy models directly. PR [#1987](https://github.com/tiangolo/fastapi/pull/1987).", "source": "release-notes.md"}
{"doc_id": "fastapi_0773", "title": "Release Notes", "section": "Docs", "content": "* Fix typo in NoSQL docs. PR [#1980](https://github.com/tiangolo/fastapi/pull/1980) by [@facundojmaero](https://github.com/facundojmaero).", "source": "release-notes.md"}
{"doc_id": "fastapi_0774", "title": "Release Notes", "section": "Translations", "content": "* Add translation for [main page to Japanese](https://fastapi.tiangolo.com/ja/) PR [#1571](https://github.com/tiangolo/fastapi/pull/1571) by [@ryuckel](https://github.com/ryuckel).\n* Initialize French translations. PR [#1975](https://github.com/tiangolo/fastapi/pull/1975) by [@JulianMaurin-BM](https://github.com/JulianMaurin-BM).\n* Initialize Turkish translations. PR [#1905](https://github.com/tiangolo/fastapi/pull/1905) by [@ycd](https://github.com/ycd).", "source": "release-notes.md"}
{"doc_id": "fastapi_0775", "title": "Release Notes", "section": "Internal", "content": "* Improve docs maintainability by updating `hl_lines` syntax to use ranges. PR [#1863](https://github.com/tiangolo/fastapi/pull/1863) by [@la-mar](https://github.com/la-mar).", "source": "release-notes.md"}
{"doc_id": "fastapi_0776", "title": "Release Notes", "section": "0.61.0", "content": "", "source": "release-notes.md"}
{"doc_id": "fastapi_0777", "title": "Release Notes", "section": "Features", "content": "* Add support for injecting `HTTPConnection` (as `Request` and `WebSocket`). Useful for sharing app state in dependencies. PR [#1827](https://github.com/tiangolo/fastapi/pull/1827) by [@nsidnev](https://github.com/nsidnev).\n* Export `WebSocketDisconnect` and add example handling WebSocket disconnections to docs. PR [#1822](https://github.com/tiangolo/fastapi/pull/1822) by [@rkbeatss](https://github.com/rkbeatss).", "source": "release-notes.md"}
{"doc_id": "fastapi_0778", "title": "Release Notes", "section": "Breaking Changes", "content": "* Require Pydantic > `1.0.0`.\n    * Remove support for deprecated Pydantic `0.32.2`. This improves maintainability and allows new features.\n    * In `FastAPI` and `APIRouter`:\n        * Remove *path operation decorators* related/deprecated parameter `response_model_skip_defaults` (use `response_model_exclude_unset` instead).\n        * Change *path operation decorators* parameter default for `response_model_exclude` from `set()` to `None` (as is in Pydantic).\n    * In `encoders.jsonable_encoder`:\n        * Remove deprecated `skip_defaults`, use instead `exclude_unset`.\n        * Set default of `exclude` from `set()` to `None` (as is in Pydantic).\n    * PR [#1862](https://github.com/tiangolo/fastapi/pull/1862).\n* In `encoders.jsonable_encoder` remove parameter `sqlalchemy_safe`.\n    * It was an early hack to allow returning SQLAlchemy models, but it was never documented, and the recommended way is using Pydantic's `orm_mode` as described in the tutorial: [SQL (Relational) Databases](https://fastapi.tiangolo.com/tutorial/sql-databases/).\n    * PR [#1864](https://github.com/tiangolo/fastapi/pull/1864).", "source": "release-notes.md"}
{"doc_id": "fastapi_0779", "title": "Release Notes", "section": "Docs", "content": "* Add link to the course by TestDriven.io: [Test-Driven Development with FastAPI and Docker](https://testdriven.io/courses/tdd-fastapi/). PR [#1860](https://github.com/tiangolo/fastapi/pull/1860).\n* Fix empty log message in docs example about handling errors. PR [#1815](https://github.com/tiangolo/fastapi/pull/1815) by [@manlix](https://github.com/manlix).\n* Reword text to reduce ambiguity while not being gender-specific. PR [#1824](https://github.com/tiangolo/fastapi/pull/1824) by [@Mause](https://github.com/Mause).", "source": "release-notes.md"}
{"doc_id": "fastapi_0780", "title": "Release Notes", "section": "Internal", "content": "* Add Flake8 linting. Original PR [#1774](https://github.com/tiangolo/fastapi/pull/1774) by [@MashhadiNima](https://github.com/MashhadiNima).\n* Disable Gitter bot, as it's currently broken, and Gitter's response doesn't show the problem. PR [#1853](https://github.com/tiangolo/fastapi/pull/1853).", "source": "release-notes.md"}
{"doc_id": "fastapi_0781", "title": "Release Notes", "section": "0.60.2", "content": "* Fix typo in docs for query parameters. PR [#1832](https://github.com/tiangolo/fastapi/pull/1832) by [@ycd](https://github.com/ycd).\n* Add docs about [Async Tests](https://fastapi.tiangolo.com/advanced/async-tests/). PR [#1619](https://github.com/tiangolo/fastapi/pull/1619) by [@empicano](https://github.com/empicano).\n* Raise an exception when using form data (`Form`, `File`) without having `python-multipart` installed.\n    * Up to now the application would run, and raise an exception only when receiving a request with form data, the new behavior, raising early, will prevent from deploying applications with broken dependencies.\n    * It also detects if the correct package `python-multipart` is installed instead of the incorrect `multipart` (both importable as `multipart`).\n    * PR [#1851](https://github.com/tiangolo/fastapi/pull/1851) based on original PR [#1627](https://github.com/tiangolo/fastapi/pull/1627) by [@chrisngyn](https://github.com/chrisngyn), [@YKo20010](https://github.com/YKo20010), [@kx-chen](https://github.com/kx-chen).\n* Re-enable Gitter releases bot. PR [#1831](https://github.com/tiangolo/fastapi/pull/1831).\n* Add link to async SQL databases tutorial from main SQL tutorial. PR [#1813](https://github.com/tiangolo/fastapi/pull/1813) by [@short2strings](https://github.com/short2strings).\n* Fix typo in tutorial about behind a proxy. PR [#1807](https://github.com/tiangolo/fastapi/pull/1807) by [@toidi](https://github.com/toidi).\n* Fix typo in Portuguese docs. PR [#1795](https://github.com/tiangolo/fastapi/pull/1795) by [@izaguerreiro](https://github.com/izaguerreiro).\n* Add translations setup for Ukrainian. PR [#1830](https://github.com/tiangolo/fastapi/pull/1830).\n* Add external link [Build And Host Fast Data Science Applications Using FastAPI](https://towardsdatascience.com/build-and-host-fast-data-science-applications-using-fastapi-823be8a1d6a0). PR [#1786](https://github.com/tiangolo/fastapi/pull/1786) by [@Kludex](https://github.com/Kludex).\n* Fix encoding of Pydantic models that inherit from others models with custom `json_encoders`. PR [#1769](https://github.com/tiangolo/fastapi/pull/1769) by [@henrybetts](https://github.com/henrybetts).\n* Simplify and improve `jsonable_encoder`. PR [#1754](https://github.com/tiangolo/fastapi/pull/1754) by [@MashhadiNima](https://github.com/MashhadiNima).\n* Simplify internal code syntax in several points. PR [#1753](https://github.com/tiangolo/fastapi/pull/1753) by [@uriyyo](https://github.com/uriyyo).\n* Improve internal typing, declare `Optional` parameters. PR [#1731](https://github.com/tiangolo/fastapi/pull/1731) by [@MashhadiNima](https://github.com/MashhadiNima).\n* Add external link [Deploy FastAPI on Azure App Service](https://www.tutlinks.com/deploy-fastapi-on-azure/) to docs. PR [#1726](https://github.com/tiangolo/fastapi/pull/1726) by [@windson](https://github.com/windson).\n* Add link to Starlette docs about WebSocket testing. PR [#1717](https://github.com/tiangolo/fastapi/pull/1717) by [@hellocoldworld](https://github.com/hellocoldworld).\n* Refactor generating dependant, merge for loops. PR [#1714](https://github.com/tiangolo/fastapi/pull/1714) by [@Bloodielie](https://github.com/Bloodielie).\n* Update example for templates with Jinja to include HTML media type. PR [#1690](https://github.com/tiangolo/fastapi/pull/1690) by [@frafra](https://github.com/frafra).\n* Fix typos in docs for security. PR [#1678](https://github.com/tiangolo/fastapi/pull/1678) by [@nilslindemann](https://github.com/nilslindemann).\n* Fix typos in docs for dependencies. PR [#1675](https://github.com/tiangolo/fastapi/pull/1675) by [@nilslindemann](https://github.com/nilslindemann).\n* Fix type annotation for `**extra` parameters in `FastAPI`. PR [#1659](https://github.com/tiangolo/fastapi/pull/1659) by [@bharel](https://github.com/bharel).\n* Bump MkDocs Material to fix docs in browsers with dark mode. PR [#1789](https://github.com/tiangolo/fastapi/pull/1789) by [@adriencaccia](https://github.com/adriencaccia).\n* Remove docs preview comment from each commit. PR [#1826](https://github.com/tiangolo/fastapi/pull/1826).\n* Update GitHub context extraction for Gitter notification bot. PR [#1766](https://github.com/tiangolo/fastapi/pull/1766).", "source": "release-notes.md"}
{"doc_id": "fastapi_0782", "title": "Release Notes", "section": "0.60.1", "content": "* Add debugging logs for GitHub actions to introspect GitHub hidden context. PR [#1764](https://github.com/tiangolo/fastapi/pull/1764).\n* Use OS preference theme for online docs. PR [#1760](https://github.com/tiangolo/fastapi/pull/1760) by [@adriencaccia](https://github.com/adriencaccia).\n* Upgrade Starlette to version `0.13.6` to handle a vulnerability when using static files in Windows. PR [#1759](https://github.com/tiangolo/fastapi/pull/1759) by [@jamesag26](https://github.com/jamesag26).\n* Pin Swagger UI temporarily, waiting for a fix for [swagger-api/swagger-ui#6249](https://github.com/swagger-api/swagger-ui/issues/6249). PR [#1763](https://github.com/tiangolo/fastapi/pull/1763).\n* Update GitHub Actions, use commit from PR for docs preview, not commit from pre-merge. PR [#1761](https://github.com/tiangolo/fastapi/pull/1761).\n* Update GitHub Actions, refactor Gitter bot. PR [#1746](https://github.com/tiangolo/fastapi/pull/1746).", "source": "release-notes.md"}
{"doc_id": "fastapi_0783", "title": "Release Notes", "section": "0.60.0", "content": "* Add GitHub Action to watch for missing preview docs and trigger a preview deploy. PR [#1740](https://github.com/tiangolo/fastapi/pull/1740).\n* Add custom GitHub Action to get artifact with docs preview. PR [#1739](https://github.com/tiangolo/fastapi/pull/1739).\n* Add new GitHub Actions to preview docs from PRs. PR [#1738](https://github.com/tiangolo/fastapi/pull/1738).\n* Add XML test coverage to support GitHub Actions. PR [#1737](https://github.com/tiangolo/fastapi/pull/1737).\n* Update badges and remove Travis now that GitHub Actions is the main CI. PR [#1736](https://github.com/tiangolo/fastapi/pull/1736).\n* Add GitHub Actions for CI, move from Travis. PR [#1735](https://github.com/tiangolo/fastapi/pull/1735).\n* Add support for adding OpenAPI schema for GET requests with a body. PR [#1626](https://github.com/tiangolo/fastapi/pull/1626) by [@victorphoenix3](https://github.com/victorphoenix3).", "source": "release-notes.md"}
{"doc_id": "fastapi_0784", "title": "Release Notes", "section": "0.59.0", "content": "* Fix typo in docstring for OAuth2 utils. PR [#1621](https://github.com/tiangolo/fastapi/pull/1621) by [@tomarv2](https://github.com/tomarv2).\n* Update JWT docs to use Python-jose instead of PyJWT. Initial PR [#1610](https://github.com/tiangolo/fastapi/pull/1610) by [@asheux](https://github.com/asheux).\n* Fix/re-enable search bar in docs. PR [#1703](https://github.com/tiangolo/fastapi/pull/1703).\n* Auto-generate a \"server\" in OpenAPI `servers` when there's a `root_path` instead of prefixing all the `paths`:\n    * Add a new parameter for `FastAPI` classes: `root_path_in_servers` to disable the auto-generation of `servers`.\n    * New docs about `root_path` and `servers` in [Additional Servers](https://fastapi.tiangolo.com/advanced/behind-a-proxy/#additional-servers).\n    * Update OAuth2 examples to use a relative URL for `tokenUrl=\"token\"` to make sure those examples keep working as-is even when behind a reverse proxy.\n    * Initial PR [#1596](https://github.com/tiangolo/fastapi/pull/1596) by [@rkbeatss](https://github.com/rkbeatss).\n* Fix typo/link in External Links. PR [#1702](https://github.com/tiangolo/fastapi/pull/1702).\n* Update handling of [External Links](https://fastapi.tiangolo.com/external-links/) to use a data file and allow translating the headers without becoming obsolete quickly when new links are added. PR [#https://github.com/tiangolo/fastapi/pull/1701](https://github.com/tiangolo/fastapi/pull/1701).\n* Add external link [Machine learning model serving in Python using FastAPI and Streamlit](https://davidefiocco.github.io/2020/06/27/streamlit-fastapi-ml-serving.html) to docs. PR [#1669](https://github.com/tiangolo/fastapi/pull/1669) by [@davidefiocco](https://github.com/davidefiocco).\n* Add note in docs on order in Pydantic Unions. PR [#1591](https://github.com/tiangolo/fastapi/pull/1591) by [@kbanc](https://github.com/kbanc).\n* Improve support for tests in editor. PR [#1699](https://github.com/tiangolo/fastapi/pull/1699).\n* Pin dependencies. PR [#1697](https://github.com/tiangolo/fastapi/pull/1697).\n* Update isort to version 5.x.x. PR [#1670](https://github.com/tiangolo/fastapi/pull/1670) by [@asheux](https://github.com/asheux).", "source": "release-notes.md"}
{"doc_id": "fastapi_0785", "title": "Release Notes", "section": "0.58.1", "content": "* Add link in docs to Pydantic data types. PR [#1612](https://github.com/tiangolo/fastapi/pull/1612) by [@tayoogunbiyi](https://github.com/tayoogunbiyi).\n* Fix link in warning logs for `openapi_prefix`. PR [#1611](https://github.com/tiangolo/fastapi/pull/1611) by [@bavaria95](https://github.com/bavaria95).\n* Fix bad link in docs. PR [#1603](https://github.com/tiangolo/fastapi/pull/1603) by [@molto0504](https://github.com/molto0504).\n* Add Vim temporary files to `.gitignore` for contributors using Vim. PR [#1590](https://github.com/tiangolo/fastapi/pull/1590) by [@asheux](https://github.com/asheux).\n* Fix typo in docs for sub-applications. PR [#1578](https://github.com/tiangolo/fastapi/pull/1578) by [@schlpbch](https://github.com/schlpbch).\n* Use `Optional` in all the examples in the docs. Original PR [#1574](https://github.com/tiangolo/fastapi/pull/1574) by [@chrisngyn](https://github.com/chrisngyn), [@kx-chen](https://github.com/kx-chen), [@YKo20010](https://github.com/YKo20010). Updated and merged PR [#1644](https://github.com/tiangolo/fastapi/pull/1644).\n* Update tests and handling of `response_model_by_alias`. PR [#1642](https://github.com/tiangolo/fastapi/pull/1642).\n* Add translation to Chinese for [Body - Fields - ËØ∑Ê±Ç‰Ωì - Â≠óÊÆµ](https://fastapi.tiangolo.com/zh/tutorial/body-fields/). PR [#1569](https://github.com/tiangolo/fastapi/pull/1569) by [@waynerv](https://github.com/waynerv).\n* Update Chinese translation of main page. PR [#1564](https://github.com/tiangolo/fastapi/pull/1564) by [@waynerv](https://github.com/waynerv).\n* Add translation to Chinese for [Body - Multiple Parameters - ËØ∑Ê±Ç‰Ωì - Â§ö‰∏™ÂèÇÊï∞](https://fastapi.tiangolo.com/zh/tutorial/body-multiple-params/). PR [#1532](https://github.com/tiangolo/fastapi/pull/1532) by [@waynerv](https://github.com/waynerv).\n* Add translation to Chinese for [Path Parameters and Numeric Validations - Ë∑ØÂæÑÂèÇÊï∞ÂíåÊï∞ÂÄºÊ†°È™å](https://fastapi.tiangolo.com/zh/tutorial/path-params-numeric-validations/). PR [#1506](https://github.com/tiangolo/fastapi/pull/1506) by [@waynerv](https://github.com/waynerv).\n* Add GitHub action to auto-label approved PRs (mainly for translations). PR [#1638](https://github.com/tiangolo/fastapi/pull/1638).", "source": "release-notes.md"}
{"doc_id": "fastapi_0786", "title": "Release Notes", "section": "0.58.0", "content": "* Deep merge OpenAPI responses to preserve all the additional metadata. PR [#1577](https://github.com/tiangolo/fastapi/pull/1577).\n* Mention in docs that only main app events are run (not sub-apps). PR [#1554](https://github.com/tiangolo/fastapi/pull/1554) by [@amacfie](https://github.com/amacfie).\n* Fix body validation error response, do not include body variable when it is not embedded. PR [#1553](https://github.com/tiangolo/fastapi/pull/1553) by [@amacfie](https://github.com/amacfie).\n* Fix testing OAuth2 security scopes when using dependency overrides. PR [#1549](https://github.com/tiangolo/fastapi/pull/1549) by [@amacfie](https://github.com/amacfie).\n* Fix Model for JSON Schema keyword `not` as a JSON Schema instead of a list. PR [#1548](https://github.com/tiangolo/fastapi/pull/1548) by [@v-do](https://github.com/v-do).\n* Add support for OpenAPI `servers`. PR [#1547](https://github.com/tiangolo/fastapi/pull/1547) by [@mikaello](https://github.com/mikaello).", "source": "release-notes.md"}
{"doc_id": "fastapi_0787", "title": "Release Notes", "section": "0.57.0", "content": "* Remove broken link from \"External Links\". PR [#1565](https://github.com/tiangolo/fastapi/pull/1565) by [@victorphoenix3](https://github.com/victorphoenix3).\n* Update/fix docs for [WebSockets with dependencies](https://fastapi.tiangolo.com/advanced/websockets/#using-depends-and-others). Original PR [#1540](https://github.com/tiangolo/fastapi/pull/1540) by [@ChihSeanHsu](https://github.com/ChihSeanHsu).\n* Add support for Python's `http.HTTPStatus` in `status_code` parameters. PR [#1534](https://github.com/tiangolo/fastapi/pull/1534) by [@retnikt](https://github.com/retnikt).\n* When using Pydantic models with `__root__`, use the internal value in `jsonable_encoder`. PR [#1524](https://github.com/tiangolo/fastapi/pull/1524) by [@patrickkwang](https://github.com/patrickkwang).\n* Update docs for path parameters. PR [#1521](https://github.com/tiangolo/fastapi/pull/1521) by [@yankeexe](https://github.com/yankeexe).\n* Update docs for first steps, links and rewording. PR [#1518](https://github.com/tiangolo/fastapi/pull/1518) by [@yankeexe](https://github.com/yankeexe).\n* Enable `showCommonExtensions` in Swagger UI to show additional validations like `maxLength`, etc. PR [#1466](https://github.com/tiangolo/fastapi/pull/1466) by [@TiewKH](https://github.com/TiewKH).\n* Make `OAuth2PasswordRequestFormStrict` importable directly from `fastapi.security`. PR [#1462](https://github.com/tiangolo/fastapi/pull/1462) by [@RichardHoekstra](https://github.com/RichardHoekstra).\n* Add docs about [Default response class](https://fastapi.tiangolo.com/advanced/custom-response/#default-response-class). PR [#1455](https://github.com/tiangolo/fastapi/pull/1455) by [@TezRomacH](https://github.com/TezRomacH).\n* Add note in docs about additional parameters `response_model_exclude_defaults` and `response_model_exclude_none` in [Response Model](https://fastapi.tiangolo.com/tutorial/response-model/#use-the-response_model_exclude_unset-parameter). PR [#1427](https://github.com/tiangolo/fastapi/pull/1427) by [@wshayes](https://github.com/wshayes).\n* Add note about [PyCharm Pydantic plugin](https://github.com/koxudaxi/pydantic-pycharm-plugin) to docs. PR [#1420](https://github.com/tiangolo/fastapi/pull/1420) by [@koxudaxi](https://github.com/koxudaxi).\n* Update and clarify testing function name. PR [#1395](https://github.com/tiangolo/fastapi/pull/1395) by [@chenl](https://github.com/chenl).\n* Fix duplicated headers created by indirect dependencies that use the request directly. PR [#1386](https://github.com/tiangolo/fastapi/pull/1386) by [@obataku](https://github.com/obataku) from tests by [@scottsmith2gmail](https://github.com/scottsmith2gmail).\n* Upgrade Starlette version to `0.13.4`. PR [#1361](https://github.com/tiangolo/fastapi/pull/1361) by [@rushton](https://github.com/rushton).\n* Improve error handling and feedback for requests with invalid JSON. PR [#1354](https://github.com/tiangolo/fastapi/pull/1354) by [@aviramha](https://github.com/aviramha).\n* Add support for declaring metadata for tags in OpenAPI. New docs at [Tutorial - Metadata and Docs URLs - Metadata for tags](https://fastapi.tiangolo.com/tutorial/metadata/#metadata-for-tags). PR [#1348](https://github.com/tiangolo/fastapi/pull/1348) by [@thomas-maschler](https://github.com/thomas-maschler).\n* Add basic setup for Russian translations. PR [#1566](https://github.com/tiangolo/fastapi/pull/1566).\n* Remove obsolete Chinese articles after adding official community translations. PR [#1510](https://github.com/tiangolo/fastapi/pull/1510) by [@waynerv](https://github.com/waynerv).\n* Add `__repr__` for *path operation function* parameter helpers (like `Query`, `Depends`, etc) to simplify debugging. PR [#1560](https://github.com/tiangolo/fastapi/pull/1560) by [@rkbeatss](https://github.com/rkbeatss) and [@victorphoenix3](https://github.com/victorphoenix3).", "source": "release-notes.md"}
{"doc_id": "fastapi_0788", "title": "Release Notes", "section": "0.56.1", "content": "* Add link to advanced docs from tutorial. PR [#1512](https://github.com/tiangolo/fastapi/pull/1512) by [@kx-chen](https://github.com/kx-chen).\n* Remove internal unnecessary f-strings. PR [#1526](https://github.com/tiangolo/fastapi/pull/1526) by [@kotamatsuoka](https://github.com/kotamatsuoka).\n* Add translation to Chinese for [Query Parameters and String Validations - Êü•ËØ¢ÂèÇÊï∞ÂíåÂ≠óÁ¨¶‰∏≤Ê†°È™å](https://fastapi.tiangolo.com/zh/tutorial/query-params-str-validations/). PR [#1500](https://github.com/tiangolo/fastapi/pull/1500) by [@waynerv](https://github.com/waynerv).\n* Add translation to Chinese for [Request Body - ËØ∑Ê±Ç‰Ωì](https://fastapi.tiangolo.com/zh/tutorial/body/). PR [#1492](https://github.com/tiangolo/fastapi/pull/1492) by [@waynerv](https://github.com/waynerv).\n* Add translation to Chinese for [Help FastAPI - Get Help - Â∏ÆÂä© FastAPI - Ëé∑ÂèñÂ∏ÆÂä©](https://fastapi.tiangolo.com/zh/help-fastapi/). PR [#1465](https://github.com/tiangolo/fastapi/pull/1465) by [@waynerv](https://github.com/waynerv).\n* Add translation to Chinese for [Query Parameters - Êü•ËØ¢ÂèÇÊï∞](https://fastapi.tiangolo.com/zh/tutorial/query-params/). PR [#1454](https://github.com/tiangolo/fastapi/pull/1454) by [@waynerv](https://github.com/waynerv).\n* Add translation to Chinese for [Contributing - ÂºÄÂèë - Ë¥°ÁåÆ](https://fastapi.tiangolo.com/zh/contributing/). PR [#1460](https://github.com/tiangolo/fastapi/pull/1460) by [@waynerv](https://github.com/waynerv).\n* Add translation to Chinese for [Path Parameters - Ë∑ØÂæÑÂèÇÊï∞](https://fastapi.tiangolo.com/zh/tutorial/path-params/). PR [#1453](https://github.com/tiangolo/fastapi/pull/1453) by [@waynerv](https://github.com/waynerv).\n* Add official Microsoft project generator for [serving spaCy with FastAPI and Azure Cognitive Skills](https://github.com/microsoft/cookiecutter-spacy-fastapi) to [Project Generators](https://fastapi.tiangolo.com/project-generation/). PR [#1390](https://github.com/tiangolo/fastapi/pull/1390) by [@kabirkhan](https://github.com/kabirkhan).\n* Update docs in [Python Types Intro](https://fastapi.tiangolo.com/python-types/) to include info about `Optional`. Original PR [#1377](https://github.com/tiangolo/fastapi/pull/1377) by [@yaegassy](https://github.com/yaegassy).\n* Fix support for callable class dependencies with `yield`. PR [#1365](https://github.com/tiangolo/fastapi/pull/1365) by [@mrosales](https://github.com/mrosales).\n* Fix/remove incorrect error logging when a client sends invalid payloads. PR [#1351](https://github.com/tiangolo/fastapi/pull/1351) by [@dbanty](https://github.com/dbanty).\n* Add translation to Chinese for [First Steps - Á¨¨‰∏ÄÊ≠•](https://fastapi.tiangolo.com/zh/tutorial/first-steps/). PR [#1323](https://github.com/tiangolo/fastapi/pull/1323) by [@waynerv](https://github.com/waynerv).\n* Fix generating OpenAPI for apps using callbacks with routers including Pydantic models. PR [#1322](https://github.com/tiangolo/fastapi/pull/1322) by [@nsidnev](https://github.com/nsidnev).\n* Optimize internal regex performance in `get_path_param_names()`. PR [#1243](https://github.com/tiangolo/fastapi/pull/1243) by [@heckad](https://github.com/heckad).\n* Remove `*,` from functions in docs where it's not needed. PR [#1239](https://github.com/tiangolo/fastapi/pull/1239) by [@pankaj-giri](https://github.com/pankaj-giri).\n* Start translations for Italian. PR [#1557](https://github.com/tiangolo/fastapi/pull/1557) by [@csr](https://github.com/csr).", "source": "release-notes.md"}
{"doc_id": "fastapi_0789", "title": "Release Notes", "section": "0.56.0", "content": "* Add support for ASGI `root_path`:\n    * Use `root_path` internally for mounted applications, so that OpenAPI and the docs UI works automatically without extra configurations and parameters.\n    * Add new `root_path` parameter for `FastAPI` applications to provide it in cases where it can be set with the command line (e.g. for Uvicorn and Hypercorn, with the parameter `--root-path`).\n    * Deprecate `openapi_prefix` parameter in favor of the new `root_path` parameter.\n    * Add new/updated docs for [Sub Applications - Mounts](https://fastapi.tiangolo.com/advanced/sub-applications/), without `openapi_prefix` (as it is now handled automatically).\n    * Add new/updated docs for [Behind a Proxy](https://fastapi.tiangolo.com/advanced/behind-a-proxy/), including how to setup a local testing proxy with Traefik and using `root_path`.\n    * Update docs for [Extending OpenAPI](https://fastapi.tiangolo.com/advanced/extending-openapi/) with the new `openapi_prefix` parameter passed (internally generated from `root_path`).\n    * Original PR [#1199](https://github.com/tiangolo/fastapi/pull/1199) by [@iksteen](https://github.com/iksteen).\n* Update new issue templates and docs: [Help FastAPI - Get Help](https://fastapi.tiangolo.com/help-fastapi/). PR [#1531](https://github.com/tiangolo/fastapi/pull/1531).\n* Update GitHub action issue-manager. PR [#1520](https://github.com/tiangolo/fastapi/pull/1520).\n* Add new links:\n    * **English articles**:\n        * [Real-time Notifications with Python and Postgres](https://wuilly.com/2019/10/real-time-notifications-with-python-and-postgres/) by [Guillermo Cruz](https://wuilly.com/).\n        * [Microservice in Python using FastAPI](https://dev.to/paurakhsharma/microservice-in-python-using-fastapi-24cc)  by [Paurakh Sharma Humagain](https://x.com/PaurakhSharma).\n        * [Build simple API service with Python FastAPI ‚Äî Part 1](https://dev.to/cuongld2/build-simple-api-service-with-python-fastapi-part-1-581o) by [cuongld2](https://dev.to/cuongld2).\n        * [FastAPI + Zeit.co = üöÄ](https://paulsec.github.io/posts/fastapi_plus_zeit_serverless_fu/) by [Paul Sec](https://x.com/PaulWebSec).\n        * [Build a web API from scratch with FastAPI - the workshop](https://dev.to/tiangolo/build-a-web-api-from-scratch-with-fastapi-the-workshop-2ehe) by [Sebasti√°n Ram√≠rez (tiangolo)](https://x.com/tiangolo).\n        * [Build a Secure Twilio Webhook with Python and FastAPI](https://www.twilio.com/blog/build-secure-twilio-webhook-python-fastapi)  by [Twilio](https://www.twilio.com).\n        * [Using FastAPI with Django](https://www.stavros.io/posts/fastapi-with-django/)  by [Stavros Korokithakis](https://x.com/Stavros).\n        * [Introducing Dispatch](https://netflixtechblog.com/introducing-dispatch-da4b8a2a8072) by [Netflix](https://netflixtechblog.com/).\n    * **Podcasts**:\n        * [Build The Next Generation Of Python Web Applications With FastAPI - Episode 259 - interview to Sebast√≠an Ram√≠rez (tiangolo)](https://www.pythonpodcast.com/fastapi-web-application-framework-episode-259/) by [Podcast.`__init__`](https://www.pythonpodcast.com/).\n    * **Talks**:\n        * [PyConBY 2020: Serve ML models easily with FastAPI](https://www.youtube.com/watch?v=z9K5pwb0rt8) by [Sebasti√°n Ram√≠rez (tiangolo)](https://x.com/tiangolo).\n        * [[VIRTUAL] Py.Amsterdam's flying Software Circus: Intro to FastAPI](https://www.youtube.com/watch?v=PnpTY1f4k2U) by [Sebasti√°n Ram√≠rez (tiangolo)](https://x.com/tiangolo).\n    * PR [#1467](https://github.com/tiangolo/fastapi/pull/1467).\n* Add translation to Chinese for [Python Types Intro - Python Á±ªÂûãÊèêÁ§∫ÁÆÄ‰ªã](https://fastapi.tiangolo.com/zh/python-types/). PR [#1197](https://github.com/tiangolo/fastapi/pull/1197) by [@waynerv](https://github.com/waynerv).", "source": "release-notes.md"}
{"doc_id": "fastapi_0790", "title": "Release Notes", "section": "0.55.1", "content": "* Fix handling of enums with their own schema in path parameters. To support [pydantic/pydantic#1432](https://github.com/pydantic/pydantic/pull/1432) in FastAPI. PR [#1463](https://github.com/tiangolo/fastapi/pull/1463).", "source": "release-notes.md"}
{"doc_id": "fastapi_0791", "title": "Release Notes", "section": "0.55.0", "content": "* Allow enums to allow them to have their own schemas in OpenAPI. To support [pydantic/pydantic#1432](https://github.com/pydantic/pydantic/pull/1432) in FastAPI. PR [#1461](https://github.com/tiangolo/fastapi/pull/1461).\n* Add links for funding through [GitHub sponsors](https://github.com/sponsors/tiangolo). PR [#1425](https://github.com/tiangolo/fastapi/pull/1425).\n* Update issue template for for questions. PR [#1344](https://github.com/tiangolo/fastapi/pull/1344) by [@retnikt](https://github.com/retnikt).\n* Update warning about storing passwords in docs. PR [#1336](https://github.com/tiangolo/fastapi/pull/1336) by [@skorokithakis](https://github.com/skorokithakis).\n* Fix typo. PR [#1326](https://github.com/tiangolo/fastapi/pull/1326) by [@chenl](https://github.com/chenl).\n* Add translation to Portuguese for [Alternatives, Inspiration and Comparisons - Alternativas, Inspira√ß√£o e Compara√ß√µes](https://fastapi.tiangolo.com/pt/alternatives/). PR [#1325](https://github.com/tiangolo/fastapi/pull/1325) by [@Serrones](https://github.com/Serrones).\n* Fix 2 typos in docs. PR [#1324](https://github.com/tiangolo/fastapi/pull/1324) by [@waynerv](https://github.com/waynerv).\n* Update CORS docs, fix correct default of `max_age=600`. PR [#1301](https://github.com/tiangolo/fastapi/pull/1301) by [@derekbekoe](https://github.com/derekbekoe).\n* Add translation of [main page to Portuguese](https://fastapi.tiangolo.com/pt/). PR [#1300](https://github.com/tiangolo/fastapi/pull/1300) by [@Serrones](https://github.com/Serrones).\n* Re-word and clarify docs for extra info in fields. PR [#1299](https://github.com/tiangolo/fastapi/pull/1299) by [@chris-allnutt](https://github.com/chris-allnutt).\n* Make sure the `*` in short features in the docs is consistent (after `.`) in all languages. PR [#1424](https://github.com/tiangolo/fastapi/pull/1424).\n* Update order of execution for `get_db` in SQLAlchemy tutorial. PR [#1293](https://github.com/tiangolo/fastapi/pull/1293) by [@bcb](https://github.com/bcb).\n* Fix typos in Async docs. PR [#1423](https://github.com/tiangolo/fastapi/pull/1423).", "source": "release-notes.md"}
{"doc_id": "fastapi_0792", "title": "Release Notes", "section": "0.54.2", "content": "* Add translation to Spanish for [Concurrency and async / await - Concurrencia y async / await](https://fastapi.tiangolo.com/es/async/). PR [#1290](https://github.com/tiangolo/fastapi/pull/1290) by [@alvaropernas](https://github.com/alvaropernas).\n* Remove obsolete vote link. PR [#1289](https://github.com/tiangolo/fastapi/pull/1289) by [@donhui](https://github.com/donhui).\n* Allow disabling docs UIs by just disabling OpenAPI with `openapi_url=None`. New example in docs: [Advanced: Conditional OpenAPI](https://fastapi.tiangolo.com/advanced/conditional-openapi/). PR [#1421](https://github.com/tiangolo/fastapi/pull/1421).\n* Add translation to Portuguese for [Benchmarks - Compara√ß√µes](https://fastapi.tiangolo.com/pt/benchmarks/). PR [#1274](https://github.com/tiangolo/fastapi/pull/1274) by [@Serrones](https://github.com/Serrones).\n* Add translation to Portuguese for [Tutorial - User Guide - Intro - Tutorial - Guia de Usu√°rio - Introdu√ß√£o](https://fastapi.tiangolo.com/pt/tutorial/). PR [#1259](https://github.com/tiangolo/fastapi/pull/1259) by [@marcosmmb](https://github.com/marcosmmb).\n* Allow using Unicode in MkDocs for translations. PR [#1419](https://github.com/tiangolo/fastapi/pull/1419).\n* Add translation to Spanish for [Advanced User Guide - Intro - Gu√≠a de Usuario Avanzada - Introducci√≥n](https://fastapi.tiangolo.com/es/advanced/). PR [#1250](https://github.com/tiangolo/fastapi/pull/1250) by [@jfunez](https://github.com/jfunez).\n* Add translation to Portuguese for [History, Design and Future - Hist√≥ria, Design e Futuro](https://fastapi.tiangolo.com/pt/history-design-future/). PR [#1249](https://github.com/tiangolo/fastapi/pull/1249) by [@marcosmmb](https://github.com/marcosmmb).\n* Add translation to Portuguese for [Features - Recursos](https://fastapi.tiangolo.com/pt/features/). PR [#1248](https://github.com/tiangolo/fastapi/pull/1248) by [@marcosmmb](https://github.com/marcosmmb).\n* Add translation to Spanish for [Tutorial - User Guide - Intro - Tutorial - Gu√≠a de Usuario - Introducci√≥n](https://fastapi.tiangolo.com/es/tutorial/). PR [#1244](https://github.com/tiangolo/fastapi/pull/1244) by [@MartinEliasQ](https://github.com/MartinEliasQ).\n* Add translation to Chinese for [Deployment - ÈÉ®ÁΩ≤](https://fastapi.tiangolo.com/zh/deployment/). PR [#1203](https://github.com/tiangolo/fastapi/pull/1203) by [@RunningIkkyu](https://github.com/RunningIkkyu).\n* Add translation to Chinese for [Tutorial - User Guide - Intro - ÊïôÁ®ã - Áî®Êà∑ÊåáÂçó - ÁÆÄ‰ªã](https://fastapi.tiangolo.com/zh/tutorial/). PR [#1202](https://github.com/tiangolo/fastapi/pull/1202) by [@waynerv](https://github.com/waynerv).\n* Add translation to Chinese for [Features - ÁâπÊÄß](https://fastapi.tiangolo.com/zh/features/). PR [#1192](https://github.com/tiangolo/fastapi/pull/1192) by [@Dustyposa](https://github.com/Dustyposa).\n* Add translation for [main page to Chinese](https://fastapi.tiangolo.com/zh/) PR [#1191](https://github.com/tiangolo/fastapi/pull/1191) by [@waynerv](https://github.com/waynerv).\n* Update docs for project generation. PR [#1287](https://github.com/tiangolo/fastapi/pull/1287).\n* Add Spanish translation for [Introducci√≥n a los Tipos de Python (Python Types Intro)](https://fastapi.tiangolo.com/es/python-types/). PR [#1237](https://github.com/tiangolo/fastapi/pull/1237) by [@mariacamilagl](https://github.com/mariacamilagl).\n* Add Spanish translation for [Caracter√≠sticas (Features)](https://fastapi.tiangolo.com/es/features/). PR [#1220](https://github.com/tiangolo/fastapi/pull/1220) by [@mariacamilagl](https://github.com/mariacamilagl).", "source": "release-notes.md"}
{"doc_id": "fastapi_0793", "title": "Release Notes", "section": "0.54.1", "content": "* Update database test setup. PR [#1226](https://github.com/tiangolo/fastapi/pull/1226).\n* Improve test debugging by showing response text in failing tests. PR [#1222](https://github.com/tiangolo/fastapi/pull/1222) by [@samuelcolvin](https://github.com/samuelcolvin).", "source": "release-notes.md"}
{"doc_id": "fastapi_0794", "title": "Release Notes", "section": "0.54.0", "content": "* Fix grammatical mistakes in async docs. PR [#1188](https://github.com/tiangolo/fastapi/pull/1188) by [@mickeypash](https://github.com/mickeypash).\n* Add support for `response_model_exclude_defaults` and `response_model_exclude_none`:\n    * Deprecate the parameter `include_none` in `jsonable_encoder` and add the inverted `exclude_none`, to keep in sync with Pydantic.\n    * PR [#1166](https://github.com/tiangolo/fastapi/pull/1166) by [@voegtlel](https://github.com/voegtlel).\n* Add example about [Testing a Database](https://fastapi.tiangolo.com/advanced/testing-database/). Initial PR [#1144](https://github.com/tiangolo/fastapi/pull/1144) by [@duganchen](https://github.com/duganchen).\n* Update docs for [Development - Contributing: Translations](https://fastapi.tiangolo.com/contributing/#translations) including note about reviewing translation PRs. [#1215](https://github.com/tiangolo/fastapi/pull/1215).\n* Update log style in README.md for GitHub Markdown compatibility. PR [#1200](https://github.com/tiangolo/fastapi/pull/1200) by [#geekgao](https://github.com/geekgao).\n* Add Python venv `env` to `.gitignore`. PR [#1212](https://github.com/tiangolo/fastapi/pull/1212) by [@cassiobotaro](https://github.com/cassiobotaro).\n* Start Portuguese translations. PR [#1210](https://github.com/tiangolo/fastapi/pull/1210) by [@cassiobotaro](https://github.com/cassiobotaro).\n* Update docs for Pydantic's `Settings` using a dependency with `@lru_cache()`. PR [#1214](https://github.com/tiangolo/fastapi/pull/1214).\n* Add first translation to Spanish [FastAPI](https://fastapi.tiangolo.com/es/). PR [#1201](https://github.com/tiangolo/fastapi/pull/1201) by [@mariacamilagl](https://github.com/mariacamilagl).\n* Add docs about [Settings and Environment Variables](https://fastapi.tiangolo.com/advanced/settings/). Initial PR [1118](https://github.com/tiangolo/fastapi/pull/1118) by [@alexmitelman](https://github.com/alexmitelman).", "source": "release-notes.md"}
{"doc_id": "fastapi_0795", "title": "Release Notes", "section": "0.53.2", "content": "* Fix automatic embedding of body fields for dependencies and sub-dependencies. Original PR [#1079](https://github.com/tiangolo/fastapi/pull/1079) by [@Toad2186](https://github.com/Toad2186).\n* Fix dependency overrides in WebSocket testing. PR [#1122](https://github.com/tiangolo/fastapi/pull/1122) by [@amitlissack](https://github.com/amitlissack).\n* Fix docs script to ensure languages are always sorted. PR [#1189](https://github.com/tiangolo/fastapi/pull/1189).\n* Start translations for Chinese. PR [#1187](https://github.com/tiangolo/fastapi/pull/1187) by [@RunningIkkyu](https://github.com/RunningIkkyu).\n* Add docs for [Schema Extra - Example](https://fastapi.tiangolo.com/tutorial/schema-extra-example/). PR [#1185](https://github.com/tiangolo/fastapi/pull/1185).", "source": "release-notes.md"}
{"doc_id": "fastapi_0796", "title": "Release Notes", "section": "0.53.1", "content": "* Fix included example after translations refactor. PR [#1182](https://github.com/tiangolo/fastapi/pull/1182).\n* Add docs example for `example` in `Field`. Docs at [Body - Fields: JSON Schema extras](https://fastapi.tiangolo.com/tutorial/body-fields/#json-schema-extras). PR [#1106](https://github.com/tiangolo/fastapi/pull/1106) by [@JohnPaton](https://github.com/JohnPaton).\n* Fix using recursive models in `response_model`. PR [#1164](https://github.com/tiangolo/fastapi/pull/1164) by [@voegtlel](https://github.com/voegtlel).\n* Add docs for [Pycharm Debugging](https://fastapi.tiangolo.com/tutorial/debugging/). PR [#1096](https://github.com/tiangolo/fastapi/pull/1096) by [@youngquan](https://github.com/youngquan).\n* Fix typo in docs. PR [#1148](https://github.com/tiangolo/fastapi/pull/1148) by [@PLNech](https://github.com/PLNech).\n* Update Windows development environment instructions. PR [#1179](https://github.com/tiangolo/fastapi/pull/1179).", "source": "release-notes.md"}
{"doc_id": "fastapi_0797", "title": "Release Notes", "section": "0.53.0", "content": "* Update test coverage badge. PR [#1175](https://github.com/tiangolo/fastapi/pull/1175).\n* Add `orjson` to `pip install fastapi[all]`. PR [#1161](https://github.com/tiangolo/fastapi/pull/1161) by [@michael0liver](https://github.com/michael0liver).\n* Fix included example for `GZipMiddleware`. PR [#1138](https://github.com/tiangolo/fastapi/pull/1138) by [@arimbr](https://github.com/arimbr).\n* Fix class name in docstring for `OAuth2PasswordRequestFormStrict`. PR [#1126](https://github.com/tiangolo/fastapi/pull/1126) by [@adg-mh](https://github.com/adg-mh).\n* Clarify function name in example in docs. PR [#1121](https://github.com/tiangolo/fastapi/pull/1121) by [@tmsick](https://github.com/tmsick).\n* Add external link [Apache Kafka producer and consumer with FastAPI and aiokafka](https://iwpnd.pw/articles/2020-03/apache-kafka-fastapi-geostream) to docs. PR [#1112](https://github.com/tiangolo/fastapi/pull/1112) by [@iwpnd](https://github.com/iwpnd).\n* Fix serialization when using `by_alias` or `exclude_unset` and returning data with Pydantic models. PR [#1074](https://github.com/tiangolo/fastapi/pull/1074) by [@juhovh-aiven](https://github.com/juhovh-aiven).\n* Add Gitter chat to docs. PR [#1061](https://github.com/tiangolo/fastapi/pull/1061) by [@aakashnand](https://github.com/aakashnand).\n* Update and simplify translations docs. PR [#1171](https://github.com/tiangolo/fastapi/pull/1171).\n* Update development of FastAPI docs, set address to `127.0.0.1` to improve Windows support. PR [#1169](https://github.com/tiangolo/fastapi/pull/1169) by [@mariacamilagl](https://github.com/mariacamilagl).\n* Add support for docs translations. New docs: [Development - Contributing: Docs: Translations](https://fastapi.tiangolo.com/contributing/#translations). PR [#1168](https://github.com/tiangolo/fastapi/pull/1168).\n* Update terminal styles in docs and add note about [**Typer**, the FastAPI of CLIs](https://typer.tiangolo.com/). PR [#1139](https://github.com/tiangolo/fastapi/pull/1139).", "source": "release-notes.md"}
{"doc_id": "fastapi_0798", "title": "Release Notes", "section": "0.52.0", "content": "* Add new high-performance JSON response class using `orjson`. New docs: [Custom Response - HTML, Stream, File, others: `ORJSONResponse`](https://fastapi.tiangolo.com/advanced/custom-response/#use-orjsonresponse). PR [#1065](https://github.com/tiangolo/fastapi/pull/1065).", "source": "release-notes.md"}
{"doc_id": "fastapi_0799", "title": "Release Notes", "section": "0.51.0", "content": "* Re-export utils from Starlette:\n    * This allows using things like `from fastapi.responses import JSONResponse` instead of `from starlette.responses import JSONResponse`.\n    * It's mainly syntax sugar, a convenience for developer experience.\n    * Now `Request`, `Response`, `WebSocket`, `status` can be imported directly from `fastapi` as in `from fastapi import Response`. This is because those are frequently used, to use the request directly, to set headers and cookies, to get status codes, etc.\n    * Documentation changes in many places, but new docs and noticeable improvements:\n        * [Custom Response - HTML, Stream, File, others](https://fastapi.tiangolo.com/advanced/custom-response/).\n        * [Advanced Middleware](https://fastapi.tiangolo.com/advanced/middleware/).\n        * [Including WSGI - Flask, Django, others](https://fastapi.tiangolo.com/advanced/wsgi/).\n    * PR [#1064](https://github.com/tiangolo/fastapi/pull/1064).", "source": "release-notes.md"}
{"doc_id": "fastapi_0800", "title": "Release Notes", "section": "0.50.0", "content": "* Add link to Release Notes from docs about pinning versions for deployment. PR [#1058](https://github.com/tiangolo/fastapi/pull/1058).\n* Upgrade code to use the latest version of Starlette, including:\n    * Several bug fixes.\n    * Optional redirects of slashes, with or without ending in `/`.\n    * Events for routers, `\"startup\"`, and `\"shutdown\"`.\n    * PR [#1057](https://github.com/tiangolo/fastapi/pull/1057).\n* Add docs about pinning FastAPI versions for deployment: [Deployment: FastAPI versions](https://fastapi.tiangolo.com/deployment/#fastapi-versions). PR [#1056](https://github.com/tiangolo/fastapi/pull/1056).", "source": "release-notes.md"}
{"doc_id": "fastapi_0801", "title": "Release Notes", "section": "0.49.2", "content": "* Fix links in release notes. PR [#1052](https://github.com/tiangolo/fastapi/pull/1052) by [@sattosan](https://github.com/sattosan).\n* Fix typo in release notes. PR [#1051](https://github.com/tiangolo/fastapi/pull/1051) by [@sattosan](https://github.com/sattosan).\n* Refactor/clarify `serialize_response` parameter name to avoid confusion. PR [#1031](https://github.com/tiangolo/fastapi/pull/1031) by [@patrickmckenna](https://github.com/patrickmckenna).\n* Refactor calling each a path operation's handler function in an isolated function, to simplify profiling. PR [#1027](https://github.com/tiangolo/fastapi/pull/1027) by [@sm-Fifteen](https://github.com/sm-Fifteen).\n* Add missing dependencies for testing. PR [#1026](https://github.com/tiangolo/fastapi/pull/1026) by [@sm-Fifteen](https://github.com/sm-Fifteen).\n* Fix accepting valid types for response models, including Python types like `List[int]`. PR [#1017](https://github.com/tiangolo/fastapi/pull/1017) by [@patrickmckenna](https://github.com/patrickmckenna).\n* Fix format in SQL tutorial. PR [#1015](https://github.com/tiangolo/fastapi/pull/1015) by [@vegarsti](https://github.com/vegarsti).", "source": "release-notes.md"}
{"doc_id": "fastapi_0802", "title": "Release Notes", "section": "0.49.1", "content": "* Fix path operation duplicated parameters when used in dependencies and the path operation function. PR [#994](https://github.com/tiangolo/fastapi/pull/994) by [@merowinger92](https://github.com/merowinger92).\n* Update Netlify previews deployment GitHub action as the fix is already merged and there's a new release. PR [#1047](https://github.com/tiangolo/fastapi/pull/1047).\n* Move mypy configurations to config file. PR [#987](https://github.com/tiangolo/fastapi/pull/987) by [@hukkinj1](https://github.com/hukkinj1).\n* Temporary fix to Netlify previews not deployable from PRs from forks. PR [#1046](https://github.com/tiangolo/fastapi/pull/1046) by [@mariacamilagl](https://github.com/mariacamilagl).", "source": "release-notes.md"}
{"doc_id": "fastapi_0803", "title": "Release Notes", "section": "0.49.0", "content": "* Fix encoding of `pathlib` paths in `jsonable_encoder`. PR [#978](https://github.com/tiangolo/fastapi/pull/978) by [@patrickmckenna](https://github.com/patrickmckenna).\n* Add articles to [External Links](https://fastapi.tiangolo.com/external-links/): [Python„ÅÆWeb framework„ÅÆ„Éë„Éï„Ç©„Éº„Éû„É≥„ÇπÊØîËºÉ (Django, Flask, responder, FastAPI, japronto)](https://qiita.com/bee2/items/0ad260ab9835a2087dae) and [[FastAPI] PythonË£Ω„ÅÆASGI Web „Éï„É¨„Éº„É†„ÉØ„Éº„ÇØ FastAPI„Å´ÂÖ•ÈñÄ„Åô„Çã](https://qiita.com/bee2/items/75d9c0d7ba20e7a4a0e9). PR [#974](https://github.com/tiangolo/fastapi/pull/974) by [@tokusumi](https://github.com/tokusumi).\n* Fix broken links in docs. PR [#949](https://github.com/tiangolo/fastapi/pull/949) by [@tsotnikov](https://github.com/tsotnikov).\n* Fix small typos. PR [#941](https://github.com/tiangolo/fastapi/pull/941) by [@NikitaKolesov](https://github.com/NikitaKolesov).\n* Update and clarify docs for dependencies with `yield`. PR [#986](https://github.com/tiangolo/fastapi/pull/986).\n* Add Mermaid JS support for diagrams in docs. Add first diagrams to [Dependencies: First Steps](https://fastapi.tiangolo.com/tutorial/dependencies/) and [Dependencies with `yield` and `HTTPException`](https://fastapi.tiangolo.com/tutorial/dependencies/dependencies-with-yield/#dependencies-with-yield-and-httpexception). PR [#985](https://github.com/tiangolo/fastapi/pull/985).\n* Update CI to run docs deployment in GitHub actions. PR [#983](https://github.com/tiangolo/fastapi/pull/983).\n* Allow `callable`s in *path operation functions*, like functions modified with `functools.partial`. PR [#977](https://github.com/tiangolo/fastapi/pull/977).", "source": "release-notes.md"}
{"doc_id": "fastapi_0804", "title": "Release Notes", "section": "0.48.0", "content": "* Run linters first in tests to error out faster. PR [#948](https://github.com/tiangolo/fastapi/pull/948).\n* Log warning about `email-validator` only when used. PR [#946](https://github.com/tiangolo/fastapi/pull/946).\n* Simplify [Peewee docs](https://fastapi.tiangolo.com/advanced/sql-databases-peewee/) with double dependency with `yield`. PR [#947](https://github.com/tiangolo/fastapi/pull/947).\n* Add article [External Links](https://fastapi.tiangolo.com/external-links/): [Create and Deploy FastAPI app to Heroku](https://www.tutlinks.com/create-and-deploy-fastapi-app-to-heroku/). PR [#942](https://github.com/tiangolo/fastapi/pull/942) by [@windson](https://github.com/windson).\n* Update description of Sanic, as it is now ASGI too. PR [#932](https://github.com/tiangolo/fastapi/pull/932) by [@raphaelauv](https://github.com/raphaelauv).\n* Fix typo in main page. PR [#920](https://github.com/tiangolo/fastapi/pull/920) by [@mMarzeta](https://github.com/mMarzeta).\n* Fix parsing of possibly invalid bodies. PR [#918](https://github.com/tiangolo/fastapi/pull/918) by [@dmontagu](https://github.com/dmontagu).\n* Fix typo [#916](https://github.com/tiangolo/fastapi/pull/916) by [@adursun](https://github.com/adursun).\n* Allow `Any` type for enums in OpenAPI. PR [#906](https://github.com/tiangolo/fastapi/pull/906) by [@songzhi](https://github.com/songzhi).\n* Add article to [External Links](https://fastapi.tiangolo.com/external-links/): [How to continuously deploy a FastAPI to AWS Lambda with AWS SAM](https://iwpnd.pw/articles/2020-01/deploy-fastapi-to-aws-lambda). PR [#901](https://github.com/tiangolo/fastapi/pull/901) by [@iwpnd](https://github.com/iwpnd).\n* Add note about using Body parameters without Pydantic. PR [#900](https://github.com/tiangolo/fastapi/pull/900) by [@pawamoy](https://github.com/pawamoy).\n* Fix Pydantic field clone logic. PR [#899](https://github.com/tiangolo/fastapi/pull/899) by [@deuce2367](https://github.com/deuce2367).\n* Fix link in middleware docs. PR [#893](https://github.com/tiangolo/fastapi/pull/893) by [@linchiwei123](https://github.com/linchiwei123).\n* Rename default API title from \"Fast API\" to \"FastAPI\" for consistency. PR [#890](https://github.com/tiangolo/fastapi/pull/890).", "source": "release-notes.md"}
{"doc_id": "fastapi_0805", "title": "Release Notes", "section": "0.47.1", "content": "* Fix model filtering in `response_model`, cloning sub-models. PR [#889](https://github.com/tiangolo/fastapi/pull/889).\n* Fix FastAPI serialization of Pydantic models using ORM mode blocking the event loop. PR [#888](https://github.com/tiangolo/fastapi/pull/888).", "source": "release-notes.md"}
{"doc_id": "fastapi_0806", "title": "Release Notes", "section": "0.47.0", "content": "* Refactor documentation to make a simpler and shorter [Tutorial - User Guide](https://fastapi.tiangolo.com/tutorial/) and an additional [Advanced User Guide](https://fastapi.tiangolo.com/advanced/) with all the additional docs. PR [#887](https://github.com/tiangolo/fastapi/pull/887).\n* Tweak external links, Markdown format, typos. PR [#881](https://github.com/tiangolo/fastapi/pull/881).\n* Fix bug in tutorial handling HTTP Basic Auth `username` and `password`. PR [#865](https://github.com/tiangolo/fastapi/pull/865) by [@isaevpd](https://github.com/isaevpd).\n* Fix handling form *path operation* parameters declared with pure classes like `list`, `tuple`, etc. PR [#856](https://github.com/tiangolo/fastapi/pull/856) by [@nsidnev](https://github.com/nsidnev).\n* Add request `body` to `RequestValidationError`, new docs: [Use the `RequestValidationError` body](https://fastapi.tiangolo.com/tutorial/handling-errors/#use-the-requestvalidationerror-body). Initial PR [#853](https://github.com/tiangolo/fastapi/pull/853) by [@aviramha](https://github.com/aviramha).\n* Update [External Links](https://fastapi.tiangolo.com/external-links/) with new links and dynamic GitHub projects with `fastapi` topic. PR [#850](https://github.com/tiangolo/fastapi/pull/850).\n* Fix Peewee `contextvars` handling in docs: [SQL (Relational) Databases with Peewee](https://fastapi.tiangolo.com/advanced/sql-databases-peewee/). PR [#879](https://github.com/tiangolo/fastapi/pull/879).\n* Setup development environment with Python's Venv and Flit, instead of requiring the extra Pipenv duplicating dependencies. Updated docs: [Development - Contributing](https://fastapi.tiangolo.com/contributing/). PR [#877](https://github.com/tiangolo/fastapi/pull/877).\n* Update docs for [HTTP Basic Auth](https://fastapi.tiangolo.com/advanced/security/http-basic-auth/) to improve security against timing attacks. Initial PR [#807](https://github.com/tiangolo/fastapi/pull/807) by [@zwass](https://github.com/zwass).", "source": "release-notes.md"}
{"doc_id": "fastapi_0807", "title": "Release Notes", "section": "0.46.0", "content": "* Fix typos and tweak configs. PR [#837](https://github.com/tiangolo/fastapi/pull/837).\n* Add link to Chinese article in [External Links](https://fastapi.tiangolo.com/external-links/). PR [810](https://github.com/tiangolo/fastapi/pull/810) by [@wxq0309](https://github.com/wxq0309).\n* Implement `OAuth2AuthorizationCodeBearer` class. PR [#797](https://github.com/tiangolo/fastapi/pull/797) by [@kuwv](https://github.com/kuwv).\n* Update example upgrade in docs main page. PR [#795](https://github.com/tiangolo/fastapi/pull/795) by [@cdeil](https://github.com/cdeil).\n* Fix callback handling for sub-routers. PR [#792](https://github.com/tiangolo/fastapi/pull/792) by [@jekirl](https://github.com/jekirl).\n* Fix typos. PR [#784](https://github.com/tiangolo/fastapi/pull/784) by [@kkinder](https://github.com/kkinder).\n* Add 4 Japanese articles to [External Links](https://fastapi.tiangolo.com/external-links/). PR [#783](https://github.com/tiangolo/fastapi/pull/783) by [@HymanZHAN](https://github.com/HymanZHAN).\n* Add support for subtypes of main types in `jsonable_encoder`, e.g. asyncpg's UUIDs. PR [#756](https://github.com/tiangolo/fastapi/pull/756) by [@RmStorm](https://github.com/RmStorm).\n* Fix usage of Pydantic's `HttpUrl` in docs. PR [#832](https://github.com/tiangolo/fastapi/pull/832) by [@Dustyposa](https://github.com/Dustyposa).\n* Fix Twitter links in docs. PR [#813](https://github.com/tiangolo/fastapi/pull/813) by [@justindujardin](https://github.com/justindujardin).\n* Add docs for correctly [using FastAPI with Peewee ORM](https://fastapi.tiangolo.com/advanced/sql-databases-peewee/). Including how to overwrite parts of Peewee to correctly handle async threads. PR [#789](https://github.com/tiangolo/fastapi/pull/789).", "source": "release-notes.md"}
{"doc_id": "fastapi_0808", "title": "Release Notes", "section": "0.45.0", "content": "* Add support for OpenAPI Callbacks:\n    * New docs: [OpenAPI Callbacks](https://fastapi.tiangolo.com/advanced/openapi-callbacks/).\n    * Refactor generation of `operationId`s to be valid Python names (also valid variables in most languages).\n    * Add `default_response_class` parameter to `APIRouter`.\n    * Original PR [#722](https://github.com/tiangolo/fastapi/pull/722) by [@booooh](https://github.com/booooh).\n* Refactor logging to use the same logger everywhere, update log strings and levels. PR [#781](https://github.com/tiangolo/fastapi/pull/781).\n* Add article to [External Links](https://fastapi.tiangolo.com/external-links/): [–ü–æ—á–µ–º—É –í—ã –¥–æ–ª–∂–Ω—ã –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å FastAPI?](https://habr.com/ru/post/478620/). PR [#766](https://github.com/tiangolo/fastapi/pull/766) by [@prostomarkeloff](https://github.com/prostomarkeloff).\n* Remove gender bias in docs for handling errors. PR [#780](https://github.com/tiangolo/fastapi/pull/780). Original idea in PR [#761](https://github.com/tiangolo/fastapi/pull/761) by [@classywhetten](https://github.com/classywhetten).\n* Rename docs and references to `body-schema` to `body-fields` to keep in line with Pydantic. PR [#746](https://github.com/tiangolo/fastapi/pull/746) by [@prostomarkeloff](https://github.com/prostomarkeloff).", "source": "release-notes.md"}
{"doc_id": "fastapi_0809", "title": "Release Notes", "section": "0.44.1", "content": "* Add GitHub social preview images to git. PR [#752](https://github.com/tiangolo/fastapi/pull/752).\n* Update PyPI \"trove classifiers\". PR [#751](https://github.com/tiangolo/fastapi/pull/751).\n* Add full support for Python 3.8. Enable Python 3.8 in full in Travis. PR [749](https://github.com/tiangolo/fastapi/pull/749).\n* Update \"new issue\" templates. PR [#749](https://github.com/tiangolo/fastapi/pull/749).\n* Fix serialization of errors for exotic Pydantic types. PR [#748](https://github.com/tiangolo/fastapi/pull/748) by [@dmontagu](https://github.com/dmontagu).", "source": "release-notes.md"}
{"doc_id": "fastapi_0810", "title": "Release Notes", "section": "0.44.0", "content": "* Add GitHub action [Issue Manager](https://github.com/tiangolo/issue-manager). PR [#742](https://github.com/tiangolo/fastapi/pull/742).\n* Fix typos in docs. PR [734](https://github.com/tiangolo/fastapi/pull/734) by [@bundabrg](https://github.com/bundabrg).\n* Fix usage of `custom_encoder` in `jsonable_encoder`. PR [#715](https://github.com/tiangolo/fastapi/pull/715) by [@matrixise](https://github.com/matrixise).\n* Fix invalid XML example. PR [710](https://github.com/tiangolo/fastapi/pull/710) by [@OcasoProtal](https://github.com/OcasoProtal).\n* Fix typos and update wording in deployment docs. PR [#700](https://github.com/tiangolo/fastapi/pull/700) by [@marier-nico](https://github.com/tiangolo/fastapi/pull/700).\n* Add note about dependencies in `APIRouter` docs. PR [#698](https://github.com/tiangolo/fastapi/pull/698) by [@marier-nico](https://github.com/marier-nico).\n* Add support for async class methods as dependencies [#681](https://github.com/tiangolo/fastapi/pull/681) by [@frankie567](https://github.com/frankie567).\n* Add FastAPI with Swagger UI cheatsheet to external links. PR [#671](https://github.com/tiangolo/fastapi/pull/671) by [@euri10](https://github.com/euri10).\n* Fix typo in HTTP protocol in CORS example. PR [#647](https://github.com/tiangolo/fastapi/pull/647) by [@forestmonster](https://github.com/forestmonster).\n* Add support for Pydantic versions `1.0.0` and above, with temporary (deprecated) backwards compatibility for Pydantic `0.32.2`. PR [#646](https://github.com/tiangolo/fastapi/pull/646) by [@dmontagu](https://github.com/dmontagu).", "source": "release-notes.md"}
{"doc_id": "fastapi_0811", "title": "Release Notes", "section": "0.43.0", "content": "* Update docs to reduce gender bias. PR [#645](https://github.com/tiangolo/fastapi/pull/645) by [@ticosax](https://github.com/ticosax).\n* Add docs about [overriding the `operationId` for all the *path operations*](https://fastapi.tiangolo.com/advanced/path-operation-advanced-configuration/#using-the-path-operation-function-name-as-the-operationid) based on their function name. PR [#642](https://github.com/tiangolo/fastapi/pull/642) by [@SKalt](https://github.com/SKalt).\n* Fix validators in models generating an incorrect key order. PR [#637](https://github.com/tiangolo/fastapi/pull/637) by [@jaddison](https://github.com/jaddison).\n* Generate correct OpenAPI docs for responses with no content. PR [#621](https://github.com/tiangolo/fastapi/pull/621) by [@brotskydotcom](https://github.com/brotskydotcom).\n* Remove `$` from Bash code blocks in docs for consistency. PR [#613](https://github.com/tiangolo/fastapi/pull/613) by [@nstapelbroek](https://github.com/nstapelbroek).\n* Add docs for [self-serving docs' (Swagger UI) static assets](https://fastapi.tiangolo.com/advanced/extending-openapi/#self-hosting-javascript-and-css-for-docs), e.g. to use the docs offline, or without Internet. Initial PR [#557](https://github.com/tiangolo/fastapi/pull/557) by [@svalouch](https://github.com/svalouch).\n* Fix `black` linting after upgrade. PR [#682](https://github.com/tiangolo/fastapi/pull/682) by [@frankie567](https://github.com/frankie567).", "source": "release-notes.md"}
{"doc_id": "fastapi_0812", "title": "Release Notes", "section": "0.42.0", "content": "* Add dependencies with `yield`, a.k.a. exit steps, context managers, cleanup, teardown, ...\n    * This allows adding extra code after a dependency is done. It can be used, for example, to close database connections.\n    * Dependencies with `yield` can be normal or `async`, **FastAPI** will run normal dependencies in a threadpool.\n    * They can be combined with normal dependencies.\n    * It's possible to have arbitrary trees/levels of dependencies with `yield` and exit steps are handled in the correct order automatically.\n    * It works by default in Python 3.7 or above. For Python 3.6, it requires the extra backport dependencies:\n        * `async-exit-stack`\n        * `async-generator`\n    * New docs at [Dependencies with `yield`](https://fastapi.tiangolo.com/tutorial/dependencies/dependencies-with-yield/).\n    * Updated database docs [SQL (Relational) Databases: Main **FastAPI** app](https://fastapi.tiangolo.com/tutorial/sql-databases/#main-fastapi-app).\n    * PR [#595](https://github.com/tiangolo/fastapi/pull/595).\n* Fix `sitemap.xml` in website. PR [#598](https://github.com/tiangolo/fastapi/pull/598) by [@samuelcolvin](https://github.com/samuelcolvin).", "source": "release-notes.md"}
{"doc_id": "fastapi_0813", "title": "Release Notes", "section": "0.41.0", "content": "* Upgrade required Starlette to `0.12.9`, the new range is `>=0.12.9,<=0.12.9`.\n    * Add `State` to FastAPI apps at `app.state`.\n    * PR [#593](https://github.com/tiangolo/fastapi/pull/593).\n* Improve handling of custom classes for `Request`s and `APIRoute`s.\n    * This helps to more easily solve use cases like:\n        * Reading a body before and/or after a request (equivalent to a middleware).\n        * Run middleware-like code only for a subset of *path operations*.\n        * Process a request before passing it to a *path operation function*. E.g. decompressing, deserializing, etc.\n        * Processing a response after being generated by *path operation functions* but before returning it. E.g. adding custom headers, logging, adding extra metadata.\n    * New docs section: [Custom Request and APIRoute class](https://fastapi.tiangolo.com/advanced/custom-request-and-route/).\n    * PR [#589](https://github.com/tiangolo/fastapi/pull/589) by [@dmontagu](https://github.com/dmontagu).\n* Fix preserving custom route class in routers when including other sub-routers. PR [#538](https://github.com/tiangolo/fastapi/pull/538) by [@dmontagu](https://github.com/dmontagu).", "source": "release-notes.md"}
{"doc_id": "fastapi_0814", "title": "Release Notes", "section": "0.40.0", "content": "* Add notes to docs about installing `python-multipart` when using forms. PR [#574](https://github.com/tiangolo/fastapi/pull/574) by [@sliptonic](https://github.com/sliptonic).\n* Generate OpenAPI schemas in alphabetical order. PR [#554](https://github.com/tiangolo/fastapi/pull/554) by [@dmontagu](https://github.com/dmontagu).\n* Add support for truncating docstrings from *path operation functions*.\n    * New docs at [Advanced description from docstring](https://fastapi.tiangolo.com/advanced/path-operation-advanced-configuration/#advanced-description-from-docstring).\n    * PR [#556](https://github.com/tiangolo/fastapi/pull/556) by [@svalouch](https://github.com/svalouch).\n* Fix `DOCTYPE` in HTML files generated for Swagger UI and ReDoc. PR [#537](https://github.com/tiangolo/fastapi/pull/537) by [@Trim21](https://github.com/Trim21).\n* Fix handling `4XX` responses overriding default `422` validation error responses. PR [#517](https://github.com/tiangolo/fastapi/pull/517) by [@tsouvarev](https://github.com/tsouvarev).\n* Fix typo in documentation for [Simple HTTP Basic Auth](https://fastapi.tiangolo.com/advanced/security/http-basic-auth/#simple-http-basic-auth). PR [#514](https://github.com/tiangolo/fastapi/pull/514) by [@prostomarkeloff](https://github.com/prostomarkeloff).\n* Fix incorrect documentation example in [first steps](https://fastapi.tiangolo.com/tutorial/first-steps/). PR [#511](https://github.com/tiangolo/fastapi/pull/511) by [@IgnatovFedor](https://github.com/IgnatovFedor).\n* Add support for Swagger UI [initOauth](https://github.com/swagger-api/swagger-ui/blob/master/docs/usage/oauth2.md) settings with the parameter `swagger_ui_init_oauth`. PR [#499](https://github.com/tiangolo/fastapi/pull/499) by [@zamiramir](https://github.com/zamiramir).", "source": "release-notes.md"}
{"doc_id": "fastapi_0815", "title": "Release Notes", "section": "0.39.0", "content": "* Allow path parameters to have default values (e.g. `None`) and discard them instead of raising an error.\n    * This allows declaring a parameter like `user_id: str = None` that can be taken from a query parameter, but the same *path operation* can be included in a router with a path `/users/{user_id}`, in which case will be taken from the path and will be required.\n    * PR [#464](https://github.com/tiangolo/fastapi/pull/464) by [@jonathanunderwood](https://github.com/jonathanunderwood).\n* Add support for setting a `default_response_class` in the `FastAPI` instance or in `include_router`. Initial PR [#467](https://github.com/tiangolo/fastapi/pull/467) by [@toppk](https://github.com/toppk).\n* Add support for type annotations using strings and `from __future__ import annotations`. PR [#451](https://github.com/tiangolo/fastapi/pull/451) by [@dmontagu](https://github.com/dmontagu).", "source": "release-notes.md"}
{"doc_id": "fastapi_0816", "title": "Release Notes", "section": "0.38.1", "content": "* Fix incorrect `Request` class import. PR [#493](https://github.com/tiangolo/fastapi/pull/493) by [@kamalgill](https://github.com/kamalgill).", "source": "release-notes.md"}
{"doc_id": "fastapi_0817", "title": "Release Notes", "section": "0.38.0", "content": "* Add recent articles to [External Links](https://fastapi.tiangolo.com/external-links/) and recent opinions. PR [#490](https://github.com/tiangolo/fastapi/pull/490).\n* Upgrade support range for Starlette to include `0.12.8`. The new range is `>=0.11.1,<=0.12.8\"`. PR [#477](https://github.com/tiangolo/fastapi/pull/477) by [@dmontagu](https://github.com/dmontagu).\n* Upgrade support to Pydantic version 0.32.2 and update internal code to use it (breaking change). PR [#463](https://github.com/tiangolo/fastapi/pull/463) by [@dmontagu](https://github.com/dmontagu).", "source": "release-notes.md"}
{"doc_id": "fastapi_0818", "title": "Release Notes", "section": "0.37.0", "content": "* Add support for custom route classes for advanced use cases. PR [#468](https://github.com/tiangolo/fastapi/pull/468) by [@dmontagu](https://github.com/dmontagu).\n* Allow disabling Google fonts in ReDoc. PR [#481](https://github.com/tiangolo/fastapi/pull/481) by [@b1-luettje](https://github.com/b1-luettje).\n* Fix security issue: when returning a sub-class of a response model and using `skip_defaults` it could leak information. PR [#485](https://github.com/tiangolo/fastapi/pull/485) by [@dmontagu](https://github.com/dmontagu).\n* Enable tests for Python 3.8-dev. PR [#465](https://github.com/tiangolo/fastapi/pull/465) by [@Jamim](https://github.com/Jamim).\n* Add support and tests for Pydantic dataclasses in `response_model`. PR [#454](https://github.com/tiangolo/fastapi/pull/454) by [@dconathan](https://github.com/dconathan).\n* Fix typo in OAuth2 JWT tutorial. PR [#447](https://github.com/tiangolo/fastapi/pull/447) by [@pablogamboa](https://github.com/pablogamboa).\n* Use the `media_type` parameter in `Body()` params to set the media type in OpenAPI for `requestBody`. PR [#439](https://github.com/tiangolo/fastapi/pull/439) by [@divums](https://github.com/divums).\n* Add article [Deploying a scikit-learn model with ONNX and FastAPI](https://medium.com/@nico.axtmann95/deploying-a-scikit-learn-model-with-onnx-und-fastapi-1af398268915) by [Nico Axtmann](https://www.linkedin.com/in/nico-axtmann). PR [#438](https://github.com/tiangolo/fastapi/pull/438) by [@naxty](https://github.com/naxty).\n* Allow setting custom `422` (validation error) response/schema in OpenAPI.\n    * And use media type from response class instead of fixed `application/json` (the default).\n    * PR [#437](https://github.com/tiangolo/fastapi/pull/437) by [@divums](https://github.com/divums).\n* Fix using `\"default\"` extra response with status codes at the same time. PR [#489](https://github.com/tiangolo/fastapi/pull/489).\n* Allow additional responses to use status code ranges (like `5XX` and `4XX`) and `\"default\"`. PR [#435](https://github.com/tiangolo/fastapi/pull/435) by [@divums](https://github.com/divums).", "source": "release-notes.md"}
{"doc_id": "fastapi_0819", "title": "Release Notes", "section": "0.36.0", "content": "* Fix implementation for `skip_defaults` when returning a Pydantic model. PR [#422](https://github.com/tiangolo/fastapi/pull/422) by [@dmontagu](https://github.com/dmontagu).\n* Fix OpenAPI generation when using the same dependency in multiple places for the same *path operation*. PR [#417](https://github.com/tiangolo/fastapi/pull/417) by [@dmontagu](https://github.com/dmontagu).\n* Allow having empty paths in *path operations* used with `include_router` and a `prefix`.\n    * This allows having a router for `/cats` and all its *path operations*, while having one of them for `/cats`.\n    * Now it doesn't have to be only `/cats/` (with a trailing slash).\n    * To use it, declare the path in the *path operation* as the empty string (`\"\"`).\n    * PR [#415](https://github.com/tiangolo/fastapi/pull/415) by [@vitalik](https://github.com/vitalik).\n* Fix mypy error after merging PR #415. PR [#462](https://github.com/tiangolo/fastapi/pull/462).", "source": "release-notes.md"}
{"doc_id": "fastapi_0820", "title": "Release Notes", "section": "0.35.0", "content": "* Fix typo in routing `assert`. PR [#419](https://github.com/tiangolo/fastapi/pull/419) by [@pablogamboa](https://github.com/pablogamboa).\n* Fix typo in docs. PR [#411](https://github.com/tiangolo/fastapi/pull/411) by [@bronsen](https://github.com/bronsen).\n* Fix parsing a body type declared with `Union`. PR [#400](https://github.com/tiangolo/fastapi/pull/400) by [@koxudaxi](https://github.com/koxudaxi).", "source": "release-notes.md"}
{"doc_id": "fastapi_0821", "title": "Release Notes", "section": "0.34.0", "content": "* Upgrade Starlette supported range to include the latest `0.12.7`. The new range is `0.11.1,<=0.12.7`. PR [#367](https://github.com/tiangolo/fastapi/pull/367) by [@dedsm](https://github.com/dedsm).\n\n* Add test for OpenAPI schema with duplicate models from PR [#333](https://github.com/tiangolo/fastapi/pull/333) by [@dmontagu](https://github.com/dmontagu). PR [#385](https://github.com/tiangolo/fastapi/pull/385).", "source": "release-notes.md"}
{"doc_id": "fastapi_0822", "title": "Release Notes", "section": "0.33.0", "content": "* Upgrade Pydantic version to `0.30.0`. PR [#384](https://github.com/tiangolo/fastapi/pull/384) by [@jekirl](https://github.com/jekirl).", "source": "release-notes.md"}
{"doc_id": "fastapi_0823", "title": "Release Notes", "section": "0.32.0", "content": "* Fix typo in docs for features. PR [#380](https://github.com/tiangolo/fastapi/pull/380) by [@MartinoMensio](https://github.com/MartinoMensio).\n\n* Fix source code `limit` for example in [Query Parameters](https://fastapi.tiangolo.com/tutorial/query-params/). PR [#366](https://github.com/tiangolo/fastapi/pull/366) by [@Smashman](https://github.com/Smashman).\n\n* Update wording in docs about [OAuth2 scopes](https://fastapi.tiangolo.com/advanced/security/oauth2-scopes/). PR [#371](https://github.com/tiangolo/fastapi/pull/371) by [@cjw296](https://github.com/cjw296).\n\n* Update docs for `Enum`s to inherit from `str` and improve Swagger UI rendering. PR [#351](https://github.com/tiangolo/fastapi/pull/351).\n\n* Fix regression, add Swagger UI deep linking again. PR [#350](https://github.com/tiangolo/fastapi/pull/350).\n\n* Add test for having path templates in `prefix` of `.include_router`. PR [#349](https://github.com/tiangolo/fastapi/pull/349).\n\n* Add note to docs: [Include the same router multiple times with different `prefix`](https://fastapi.tiangolo.com/tutorial/bigger-applications/#include-the-same-router-multiple-times-with-different-prefix). PR [#348](https://github.com/tiangolo/fastapi/pull/348).\n\n* Fix OpenAPI/JSON Schema generation for two functions with the same name (in different modules) with the same composite bodies.\n    * Composite bodies' IDs are now based on path, not only on route name, as the auto-generated name uses the function names, that can be duplicated in different modules.\n    * The same new ID generation applies to response models.\n    * This also changes the generated title for those models.\n    * Only composite bodies and response models are affected because those are generated dynamically, they don't have a module (a Python file).\n    * This also adds the possibility of using `.include_router()` with the same `APIRouter` *multiple*  times, with different prefixes, e.g. `/api/v2` and `/api/latest`, and it will now work correctly.\n    * PR [#347](https://github.com/tiangolo/fastapi/pull/347).", "source": "release-notes.md"}
{"doc_id": "fastapi_0824", "title": "Release Notes", "section": "0.31.0", "content": "* Upgrade Pydantic supported version to `0.29.0`.\n    * New supported version range is `\"pydantic >=0.28,<=0.29.0\"`.\n    * This adds support for Pydantic [Generic Models](https://docs.pydantic.dev/latest/#generic-models), kudos to [@dmontagu](https://github.com/dmontagu).\n    * PR [#344](https://github.com/tiangolo/fastapi/pull/344).", "source": "release-notes.md"}
{"doc_id": "fastapi_0825", "title": "Release Notes", "section": "0.30.1", "content": "* Add section in docs about [External Links and Articles](https://fastapi.tiangolo.com/external-links/). PR [#341](https://github.com/tiangolo/fastapi/pull/341).\n\n* Remove `Pipfile.lock` from the repository as it is only used by FastAPI contributors (developers of FastAPI itself). See the PR for more details. PR [#340](https://github.com/tiangolo/fastapi/pull/340).\n\n* Update section about [Help FastAPI - Get Help](https://fastapi.tiangolo.com/help-fastapi/). PR [#339](https://github.com/tiangolo/fastapi/pull/339).\n\n* Refine internal type declarations to improve/remove Mypy errors in users' code. PR [#338](https://github.com/tiangolo/fastapi/pull/338).\n\n* Update and clarify [SQL tutorial with SQLAlchemy](https://fastapi.tiangolo.com/tutorial/sql-databases/). PR [#331](https://github.com/tiangolo/fastapi/pull/331) by [@mariacamilagl](https://github.com/mariacamilagl).\n\n* Add SQLite [online viewers to the docs](https://fastapi.tiangolo.com/tutorial/sql-databases/#interact-with-the-database-directly). PR [#330](https://github.com/tiangolo/fastapi/pull/330) by [@cyrilbois](https://github.com/cyrilbois).", "source": "release-notes.md"}
{"doc_id": "fastapi_0826", "title": "Release Notes", "section": "0.30.0", "content": "* Add support for Pydantic's ORM mode:\n    * Updated documentation about SQL with SQLAlchemy, using Pydantic models with ORM mode, SQLAlchemy models with relations, separation of files, simplification of code and other changes. New docs: [SQL (Relational) Databases](https://fastapi.tiangolo.com/tutorial/sql-databases/).\n    * The new support for ORM mode fixes issues/adds features related to ORMs with lazy-loading, hybrid properties, dynamic/getters (using `@property` decorators) and several other use cases.\n    * This applies to ORMs like SQLAlchemy, Peewee, Tortoise ORM, GINO ORM and virtually any other.\n    * If your *path operations* return an arbitrary object with attributes (e.g. `my_item.name` instead of `my_item[\"name\"]`) AND you use a `response_model`, make sure to update the Pydantic models with `orm_mode = True` as described in the docs (link above).\n    * New documentation about receiving plain `dict`s as request bodies: [Bodies of arbitrary `dict`s](https://fastapi.tiangolo.com/tutorial/body-nested-models/#bodies-of-arbitrary-dicts).\n    * New documentation about returning arbitrary `dict`s in responses: [Response with arbitrary `dict`](https://fastapi.tiangolo.com/tutorial/extra-models/#response-with-arbitrary-dict).\n    * **Technical Details**:\n        * When declaring a `response_model` it is used directly to generate the response content, from whatever was returned from the *path operation function*.\n        * Before this, the return content was first passed through `jsonable_encoder` to ensure it was a \"jsonable\" object, like a `dict`, instead of an arbitrary object with attributes (like an ORM model). That's why you should make sure to update your Pydantic models for objects with attributes to use `orm_mode = True`.\n        * If you don't have a `response_model`, the return object will still be passed through `jsonable_encoder` first.\n        * When a `response_model` is declared, the same `response_model` type declaration won't be used as is, it will be \"cloned\" to create an new one (a cloned Pydantic `Field` with all the submodels cloned as well).\n        * This avoids/fixes a potential security issue: as the returned object is passed directly to Pydantic, if the returned object was a subclass of the `response_model` (e.g. you return a `UserInDB` that inherits from `User` but contains extra fields, like `hashed_password`, and `User` is used in the `response_model`), it would still pass the validation (because `UserInDB` is a subclass of `User`) and the object would be returned as-is, including the `hashed_password`. To fix this, the declared `response_model` is cloned, if it is a Pydantic model class (or contains Pydantic model classes in it, e.g. in a `List[Item]`), the Pydantic model class(es) will be a different one (the \"cloned\" one). So, an object that is a subclass won't simply pass the validation and returned as-is, because it is no longer a sub-class of the cloned `response_model`. Instead, a new Pydantic model object will be created with the contents of the returned object. So, it will be a new object (made with the data from the returned one), and will be filtered by the cloned `response_model`, containing only the declared fields as normally.\n    * PR [#322](https://github.com/tiangolo/fastapi/pull/322).\n\n* Remove/clean unused RegEx code in routing. PR [#314](https://github.com/tiangolo/fastapi/pull/314) by [@dmontagu](https://github.com/dmontagu).\n\n* Use default response status code descriptions for additional responses. PR [#313](https://github.com/tiangolo/fastapi/pull/313) by [@duxiaoyao](https://github.com/duxiaoyao).\n\n* Upgrade Pydantic support to `0.28`. PR [#320](https://github.com/tiangolo/fastapi/pull/320) by [@jekirl](https://github.com/jekirl).", "source": "release-notes.md"}
{"doc_id": "fastapi_0827", "title": "Release Notes", "section": "0.29.1", "content": "* Fix handling an empty-body request with a required body param. PR [#311](https://github.com/tiangolo/fastapi/pull/311).\n\n* Fix broken link in docs: [Return a Response directly](https://fastapi.tiangolo.com/advanced/response-directly/). PR [#306](https://github.com/tiangolo/fastapi/pull/306) by [@dmontagu](https://github.com/dmontagu).\n\n* Fix docs discrepancy in docs for [Response Model](https://fastapi.tiangolo.com/tutorial/response-model/). PR [#288](https://github.com/tiangolo/fastapi/pull/288) by [@awiddersheim](https://github.com/awiddersheim).", "source": "release-notes.md"}
{"doc_id": "fastapi_0828", "title": "Release Notes", "section": "0.29.0", "content": "* Add support for declaring a `Response` parameter:\n    * This allows declaring:\n        * [Response Cookies](https://fastapi.tiangolo.com/advanced/response-cookies/).\n        * [Response Headers](https://fastapi.tiangolo.com/advanced/response-headers/).\n        * An HTTP Status Code different than the default: [Response - Change Status Code](https://fastapi.tiangolo.com/advanced/response-change-status-code/).\n    * All of this while still being able to return arbitrary objects (`dict`, DB model, etc).\n    * Update attribution to Hug, for inspiring the `response` parameter pattern.\n    * PR [#294](https://github.com/tiangolo/fastapi/pull/294).", "source": "release-notes.md"}
{"doc_id": "fastapi_0829", "title": "Release Notes", "section": "0.28.0", "content": "* Implement dependency cache per request.\n    * This avoids calling each dependency multiple times for the same request.\n    * This is useful while calling external services, performing costly computation, etc.\n    * This also means that if a dependency was declared as a *path operation decorator* dependency, possibly at the router level (with `.include_router()`) and then it is declared again in a specific *path operation*, the dependency will be called only once.\n    * The cache can be disabled per dependency declaration, using `use_cache=False` as in `Depends(your_dependency, use_cache=False)`.\n    * Updated docs at: [Using the same dependency multiple times](https://fastapi.tiangolo.com/tutorial/dependencies/sub-dependencies/#using-the-same-dependency-multiple-times).\n    * PR [#292](https://github.com/tiangolo/fastapi/pull/292).\n\n* Implement dependency overrides for testing.\n    * This allows using overrides/mocks of dependencies during tests.\n    * New docs: [Testing Dependencies with Overrides](https://fastapi.tiangolo.com/advanced/testing-dependencies/).\n    * PR [#291](https://github.com/tiangolo/fastapi/pull/291).", "source": "release-notes.md"}
{"doc_id": "fastapi_0830", "title": "Release Notes", "section": "0.27.2", "content": "* Fix path and query parameters receiving `dict` as a valid type. It should be mapped to a body payload. PR [#287](https://github.com/tiangolo/fastapi/pull/287). Updated docs at: [Query parameter list / multiple values with defaults: Using `list`](https://fastapi.tiangolo.com/tutorial/query-params-str-validations/#using-list).", "source": "release-notes.md"}
{"doc_id": "fastapi_0831", "title": "Release Notes", "section": "0.27.1", "content": "* Fix `auto_error=False` handling in `HTTPBearer` security scheme. Do not `raise` when there's an incorrect `Authorization` header if `auto_error=False`. PR [#282](https://github.com/tiangolo/fastapi/pull/282).\n\n* Fix type declaration of `HTTPException`. PR [#279](https://github.com/tiangolo/fastapi/pull/279).", "source": "release-notes.md"}
{"doc_id": "fastapi_0832", "title": "Release Notes", "section": "0.27.0", "content": "* Fix broken link in docs about OAuth 2.0 with scopes. PR [#275](https://github.com/tiangolo/fastapi/pull/275) by [@dmontagu](https://github.com/dmontagu).\n\n* Refactor param extraction using Pydantic `Field`:\n    * Large refactor, improvement, and simplification of param extraction from *path operations*.\n    * Fix/add support for list *query parameters* with list defaults. New documentation: [Query parameter list / multiple values with defaults](https://fastapi.tiangolo.com/tutorial/query-params-str-validations/#query-parameter-list-multiple-values-with-defaults).\n    * Add support for enumerations in *path operation* parameters. New documentation: [Path Parameters: Predefined values](https://fastapi.tiangolo.com/tutorial/path-params/#predefined-values).\n    * Add support for type annotations using `Optional` as in `param: Optional[str] = None`. New documentation: [Optional type declarations](https://fastapi.tiangolo.com/tutorial/query-params/#optional-type-declarations).\n    * PR [#278](https://github.com/tiangolo/fastapi/pull/278).", "source": "release-notes.md"}
{"doc_id": "fastapi_0833", "title": "Release Notes", "section": "0.26.0", "content": "* Separate error handling for validation errors.\n    * This will allow developers to customize the exception handlers.\n    * Document better how to handle exceptions and use error handlers.\n    * Include `RequestValidationError` and `WebSocketRequestValidationError` (this last one will be useful once [encode/starlette#527](https://github.com/encode/starlette/pull/527) or equivalent is merged).\n    * New documentation about exceptions handlers:\n        * [Install custom exception handlers](https://fastapi.tiangolo.com/tutorial/handling-errors/#install-custom-exception-handlers).\n        * [Override the default exception handlers](https://fastapi.tiangolo.com/tutorial/handling-errors/#override-the-default-exception-handlers).\n        * [Reuse **FastAPI's** exception handlers](https://fastapi.tiangolo.com/tutorial/handling-errors/#reuse-fastapis-exception-handlers).\n    * PR [#273](https://github.com/tiangolo/fastapi/pull/273).\n\n* Fix support for *paths* in *path parameters* without needing explicit `Path(...)`.\n    * PR [#256](https://github.com/tiangolo/fastapi/pull/256).\n    * Documented in PR [#272](https://github.com/tiangolo/fastapi/pull/272) by [@wshayes](https://github.com/wshayes).\n    * New documentation at: [Path Parameters containing paths](https://fastapi.tiangolo.com/tutorial/path-params/#path-parameters-containing-paths).\n\n* Update docs for testing FastAPI. Include using `POST`, sending JSON, testing headers, etc. New documentation: [Testing](https://fastapi.tiangolo.com/tutorial/testing/#testing-extended-example). PR [#271](https://github.com/tiangolo/fastapi/pull/271).\n\n* Fix type declaration of `response_model` to allow generic Python types as `List[Model]`. Mainly to fix `mypy` for users. PR [#266](https://github.com/tiangolo/fastapi/pull/266).", "source": "release-notes.md"}
{"doc_id": "fastapi_0834", "title": "Release Notes", "section": "0.25.0", "content": "* Add support for Pydantic's `include`, `exclude`, `by_alias`.\n    * Update documentation: [Response Model](https://fastapi.tiangolo.com/tutorial/response-model/#response_model_include-and-response_model_exclude).\n    * Add docs for: [Body - updates](https://fastapi.tiangolo.com/tutorial/body-updates/), using Pydantic's `skip_defaults`.\n    * Add method consistency tests.\n    * PR [#264](https://github.com/tiangolo/fastapi/pull/264).\n\n* Add `CONTRIBUTING.md` file to GitHub, to help new contributors. PR [#255](https://github.com/tiangolo/fastapi/pull/255) by [@wshayes](https://github.com/wshayes).\n\n* Add support for Pydantic's `skip_defaults`:\n    * There's a new *path operation decorator* parameter `response_model_skip_defaults`.\n        * The name of the parameter will most probably change in a future version to `response_skip_defaults`, `model_skip_defaults` or something similar.\n    * New [documentation section about using `response_model_skip_defaults`](https://fastapi.tiangolo.com/tutorial/response-model/#response-model-encoding-parameters).\n    * PR [#248](https://github.com/tiangolo/fastapi/pull/248) by [@wshayes](https://github.com/wshayes).", "source": "release-notes.md"}
{"doc_id": "fastapi_0835", "title": "Release Notes", "section": "0.24.0", "content": "* Add support for WebSockets with dependencies and parameters.\n    * Support included for:\n        * `Depends`\n        * `Security`\n        * `Cookie`\n        * `Header`\n        * `Path`\n        * `Query`\n        * ...as these are compatible with the WebSockets protocol (e.g. `Body` is not).\n    * [Updated documentation for WebSockets](https://fastapi.tiangolo.com/advanced/websockets/).\n    * PR [#178](https://github.com/tiangolo/fastapi/pull/178) by [@jekirl](https://github.com/jekirl).\n\n* Upgrade the compatible version of Pydantic to `0.26.0`.\n    * This includes JSON Schema support for IP address and network objects, bug fixes, and other features.\n    * PR [#247](https://github.com/tiangolo/fastapi/pull/247) by [@euri10](https://github.com/euri10).", "source": "release-notes.md"}
{"doc_id": "fastapi_0836", "title": "Release Notes", "section": "0.23.0", "content": "* Upgrade the compatible version of Starlette to `0.12.0`.\n    * This includes support for ASGI 3 (the latest version of the standard).\n    * It's now possible to use [Starlette's `StreamingResponse`](https://www.starlette.dev/responses/#streamingresponse) with iterators, like [file-like](https://docs.python.org/3/glossary.html#term-file-like-object) objects (as those returned by `open()`).\n    * It's now possible to use the low level utility `iterate_in_threadpool` from `starlette.concurrency` (for advanced scenarios).\n    * PR [#243](https://github.com/tiangolo/fastapi/pull/243).\n\n* Add OAuth2 redirect page for Swagger UI. This allows having delegated authentication in the Swagger UI docs. For this to work, you need to add `{your_origin}/docs/oauth2-redirect` to the allowed callbacks in your OAuth2 provider (in Auth0, Facebook, Google, etc).\n    * For example, during development, it could be `http://localhost:8000/docs/oauth2-redirect`.\n    * Keep in mind that this callback URL is independent of whichever one is used by your frontend. You might also have another callback at `https://yourdomain.com/login/callback`.\n    * This is only to allow delegated authentication in the API docs with Swagger UI.\n    * PR [#198](https://github.com/tiangolo/fastapi/pull/198) by [@steinitzu](https://github.com/steinitzu).\n\n* Make Swagger UI and ReDoc route handlers (*path operations*) be `async` functions instead of lambdas to improve performance. PR [#241](https://github.com/tiangolo/fastapi/pull/241) by [@Trim21](https://github.com/Trim21).\n\n* Make Swagger UI and ReDoc URLs parameterizable, allowing to host and serve local versions of them and have offline docs. PR [#112](https://github.com/tiangolo/fastapi/pull/112) by [@euri10](https://github.com/euri10).", "source": "release-notes.md"}
{"doc_id": "fastapi_0837", "title": "Release Notes", "section": "0.22.0", "content": "* Add support for `dependencies` parameter:\n    * A parameter in *path operation decorators*, for dependencies that should be executed but the return value is not important or not used in the *path operation function*.\n    * A parameter in the `.include_router()` method of FastAPI applications and routers, to include dependencies that should be executed in each *path operation* in a router.\n        * This is useful, for example, to require authentication or permissions in specific group of *path operations*.\n        * Different `dependencies` can be applied to different routers.\n    * These `dependencies` are run before the normal parameter dependencies. And normal dependencies are run too. They can be combined.\n    * Dependencies declared in a router are executed first, then the ones defined in *path operation decorators*, and then the ones declared in normal parameters. They are all combined and executed.\n    * All this also supports using `Security` with `scopes` in those `dependencies` parameters, for more advanced OAuth 2.0 security scenarios with scopes.\n    * New documentation about [dependencies in *path operation decorators*](https://fastapi.tiangolo.com/tutorial/dependencies/dependencies-in-path-operation-decorators/).\n    * New documentation about [dependencies in the `include_router()` method](https://fastapi.tiangolo.com/tutorial/bigger-applications/#include-an-apirouter-with-a-prefix-tags-responses-and-dependencies).\n    * PR [#235](https://github.com/tiangolo/fastapi/pull/235).\n\n* Fix OpenAPI documentation of Starlette URL convertors. Specially useful when using `path` convertors, to take a whole path as a parameter, like `/some/url/{p:path}`. PR [#234](https://github.com/tiangolo/fastapi/pull/234) by [@euri10](https://github.com/euri10).\n\n* Make default parameter utilities exported from `fastapi` be functions instead of classes (the new functions return instances of those classes). To be able to override the return types and fix `mypy` errors in FastAPI's users' code. Applies to `Path`, `Query`, `Header`, `Cookie`, `Body`, `Form`, `File`, `Depends`, and `Security`. PR [#226](https://github.com/tiangolo/fastapi/pull/226) and PR [#231](https://github.com/tiangolo/fastapi/pull/231).\n\n* Separate development scripts `test.sh`, `lint.sh`, and `format.sh`. PR [#232](https://github.com/tiangolo/fastapi/pull/232).\n\n* Re-enable `black` formatting checks for Python 3.7. PR [#229](https://github.com/tiangolo/fastapi/pull/229) by [@zamiramir](https://github.com/zamiramir).", "source": "release-notes.md"}
{"doc_id": "fastapi_0838", "title": "Release Notes", "section": "0.21.0", "content": "* On body parsing errors, raise `from` previous exception, to allow better introspection in logging code. PR [#192](https://github.com/tiangolo/fastapi/pull/195) by [@ricardomomm](https://github.com/ricardomomm).\n\n* Use Python logger named \"`fastapi`\" instead of root logger. PR [#222](https://github.com/tiangolo/fastapi/pull/222) by [@euri10](https://github.com/euri10).\n\n* Upgrade Pydantic to version 0.25. PR [#225](https://github.com/tiangolo/fastapi/pull/225) by [@euri10](https://github.com/euri10).\n\n* Fix typo in routing. PR [#221](https://github.com/tiangolo/fastapi/pull/221) by [@djlambert](https://github.com/djlambert).", "source": "release-notes.md"}
{"doc_id": "fastapi_0839", "title": "Release Notes", "section": "0.20.1", "content": "* Add typing information to package including file `py.typed`. PR [#209](https://github.com/tiangolo/fastapi/pull/209) by [@meadsteve](https://github.com/meadsteve).\n\n* Add FastAPI bot for Gitter. To automatically announce new releases. PR [#189](https://github.com/tiangolo/fastapi/pull/189).", "source": "release-notes.md"}
{"doc_id": "fastapi_0840", "title": "Release Notes", "section": "0.20.0", "content": "* Upgrade OAuth2:\n    * Upgrade Password flow using Bearer tokens to use the correct HTTP status code 401 `UNAUTHORIZED`, with `WWW-Authenticate` headers.\n    * Update, simplify, and improve all the [security docs](https://fastapi.tiangolo.com/advanced/security/).\n    * Add new `scope_str` to `SecurityScopes` and update docs: [OAuth2 scopes](https://fastapi.tiangolo.com/advanced/security/oauth2-scopes/).\n    * Update docs, images, tests.\n    * PR [#188](https://github.com/tiangolo/fastapi/pull/188).\n\n* Include [Hypercorn](https://gitlab.com/pgjones/hypercorn) as an alternative ASGI server in the docs. PR [#187](https://github.com/tiangolo/fastapi/pull/187).\n\n* Add docs for [Static Files](https://fastapi.tiangolo.com/tutorial/static-files/) and [Templates](https://fastapi.tiangolo.com/advanced/templates/). PR [#186](https://github.com/tiangolo/fastapi/pull/186).\n\n* Add docs for handling [Response Cookies](https://fastapi.tiangolo.com/advanced/response-cookies/) and [Response Headers](https://fastapi.tiangolo.com/advanced/response-headers/). PR [#185](https://github.com/tiangolo/fastapi/pull/185).\n\n* Fix typos in docs. PR [#176](https://github.com/tiangolo/fastapi/pull/176) by [@chdsbd](https://github.com/chdsbd).", "source": "release-notes.md"}
{"doc_id": "fastapi_0841", "title": "Release Notes", "section": "0.19.0", "content": "* Rename *path operation decorator* parameter `content_type` to `response_class`. PR [#183](https://github.com/tiangolo/fastapi/pull/183).\n\n* Add docs:\n    * How to use the `jsonable_encoder` in [JSON compatible encoder](https://fastapi.tiangolo.com/tutorial/encoder/).\n    * How to [Return a Response directly](https://fastapi.tiangolo.com/advanced/response-directly/).\n    * Update how to use a [Custom Response Class](https://fastapi.tiangolo.com/advanced/custom-response/).\n    * PR [#184](https://github.com/tiangolo/fastapi/pull/184).", "source": "release-notes.md"}
{"doc_id": "fastapi_0842", "title": "Release Notes", "section": "0.18.0", "content": "* Add docs for [HTTP Basic Auth](https://fastapi.tiangolo.com/advanced/custom-response/). PR [#177](https://github.com/tiangolo/fastapi/pull/177).\n\n* Upgrade HTTP Basic Auth handling with automatic headers (automatic browser login prompt). PR [#175](https://github.com/tiangolo/fastapi/pull/175).\n\n* Update dependencies for security. PR [#174](https://github.com/tiangolo/fastapi/pull/174).\n\n* Add docs for [Middleware](https://fastapi.tiangolo.com/tutorial/middleware/). PR [#173](https://github.com/tiangolo/fastapi/pull/173).", "source": "release-notes.md"}
{"doc_id": "fastapi_0843", "title": "Release Notes", "section": "0.17.0", "content": "* Make Flit publish from CI. PR [#170](https://github.com/tiangolo/fastapi/pull/170).\n\n* Add documentation about handling [CORS (Cross-Origin Resource Sharing)](https://fastapi.tiangolo.com/tutorial/cors/). PR [#169](https://github.com/tiangolo/fastapi/pull/169).\n\n* By default, encode by alias. This allows using Pydantic `alias` parameters working by default. PR [#168](https://github.com/tiangolo/fastapi/pull/168).", "source": "release-notes.md"}
{"doc_id": "fastapi_0844", "title": "Release Notes", "section": "0.16.0", "content": "* Upgrade *path operation* `docstring` parsing to support proper Markdown descriptions. New documentation at [Path Operation Configuration](https://fastapi.tiangolo.com/tutorial/path-operation-configuration/#description-from-docstring). PR [#163](https://github.com/tiangolo/fastapi/pull/163).\n\n* Refactor internal usage of Pydantic to use correct data types. PR [#164](https://github.com/tiangolo/fastapi/pull/164).\n\n* Upgrade Pydantic to version `0.23`. PR [#160](https://github.com/tiangolo/fastapi/pull/160) by [@euri10](https://github.com/euri10).\n\n* Fix typo in Tutorial about Extra Models. PR [#159](https://github.com/tiangolo/fastapi/pull/159) by [@danielmichaels](https://github.com/danielmichaels).\n\n* Fix [Query Parameters](https://fastapi.tiangolo.com/tutorial/query-params/) URL examples in docs. PR [#157](https://github.com/tiangolo/fastapi/pull/157) by [@hayata-yamamoto](https://github.com/hayata-yamamoto).", "source": "release-notes.md"}
{"doc_id": "fastapi_0845", "title": "Release Notes", "section": "0.15.0", "content": "* Add support for multiple file uploads (as a single form field). New docs at: [Multiple file uploads](https://fastapi.tiangolo.com/tutorial/request-files/#multiple-file-uploads). PR [#158](https://github.com/tiangolo/fastapi/pull/158).\n\n* Add docs for: [Additional Status Codes](https://fastapi.tiangolo.com/advanced/additional-status-codes/). PR [#156](https://github.com/tiangolo/fastapi/pull/156).", "source": "release-notes.md"}
{"doc_id": "fastapi_0846", "title": "Release Notes", "section": "0.14.0", "content": "* Improve automatically generated names of *path operations* in OpenAPI (in API docs). A function `read_items` instead of having a generated name \"Read Items Get\" will have \"Read Items\". PR [#155](https://github.com/tiangolo/fastapi/pull/155).\n\n* Add docs for: [Testing **FastAPI**](https://fastapi.tiangolo.com/tutorial/testing/). PR [#151](https://github.com/tiangolo/fastapi/pull/151).\n\n* Update `/docs` Swagger UI to enable deep linking. This allows sharing the URL pointing directly to the *path operation* documentation in the docs. PR [#148](https://github.com/tiangolo/fastapi/pull/148) by [@wshayes](https://github.com/wshayes).\n\n* Update development dependencies, `Pipfile.lock`. PR [#150](https://github.com/tiangolo/fastapi/pull/150).\n\n* Include Falcon and Hug in: [Alternatives, Inspiration and Comparisons](https://fastapi.tiangolo.com/alternatives/).", "source": "release-notes.md"}
{"doc_id": "fastapi_0847", "title": "Release Notes", "section": "0.13.0", "content": "* Improve/upgrade OAuth2 scopes support with `SecurityScopes`:\n    * `SecurityScopes` can be declared as a parameter like `Request`, to get the scopes of all super-dependencies/dependants.\n    * Improve `Security` handling, merging scopes when declaring `SecurityScopes`.\n    * Allow using `SecurityBase` (like `OAuth2`) classes with `Depends` and still document them. `Security` now is needed only to declare `scopes`.\n    * Updated docs about: [OAuth2 with Password (and hashing), Bearer with JWT tokens](https://fastapi.tiangolo.com/tutorial/security/oauth2-jwt/).\n    * New docs about: [OAuth2 scopes](https://fastapi.tiangolo.com/advanced/security/oauth2-scopes/).\n    * PR [#141](https://github.com/tiangolo/fastapi/pull/141).", "source": "release-notes.md"}
{"doc_id": "fastapi_0848", "title": "Release Notes", "section": "0.12.1", "content": "* Fix bug: handling additional `responses` in `APIRouter.include_router()`. PR [#140](https://github.com/tiangolo/fastapi/pull/140).\n\n* Fix typo in SQL tutorial. PR [#138](https://github.com/tiangolo/fastapi/pull/138) by [@mostaphaRoudsari](https://github.com/mostaphaRoudsari).\n\n* Fix typos in section about nested models and OAuth2 with JWT. PR [#127](https://github.com/tiangolo/fastapi/pull/127) by [@mmcloud](https://github.com/mmcloud).", "source": "release-notes.md"}
{"doc_id": "fastapi_0849", "title": "Release Notes", "section": "0.12.0", "content": "* Add additional `responses` parameter to *path operation decorators* to extend responses in OpenAPI (and API docs).\n    * It also allows extending existing responses generated from `response_model`, declare other media types (like images), etc.\n    * The new documentation is here: [Additional Responses](https://fastapi.tiangolo.com/advanced/additional-responses/).\n    * `responses` can also be added to `.include_router()`, the updated docs are here: [Bigger Applications](https://fastapi.tiangolo.com/tutorial/bigger-applications/#add-some-custom-tags-and-responses).\n    * PR [#97](https://github.com/tiangolo/fastapi/pull/97) originally initiated by [@barsi](https://github.com/barsi).\n* Update `scripts/test-cov-html.sh` to allow passing extra parameters like `-vv`, for development.", "source": "release-notes.md"}
{"doc_id": "fastapi_0850", "title": "Release Notes", "section": "0.11.0", "content": "* Add `auto_error` parameter to security utility functions. Allowing them to be optional. Also allowing to have multiple alternative security schemes that are then checked in a single dependency instead of each one verifying and returning the error to the client automatically when not satisfied. PR [#134](https://github.com/tiangolo/fastapi/pull/134).\n\n* Update [SQL Tutorial](https://fastapi.tiangolo.com/tutorial/sql-databases/#create-a-middleware-to-handle-sessions) to close database sessions even when there are exceptions. PR [#89](https://github.com/tiangolo/fastapi/pull/89) by [@alexiri](https://github.com/alexiri).\n\n* Fix duplicate dependency in `pyproject.toml`. PR [#128](https://github.com/tiangolo/fastapi/pull/128) by [@zxalif](https://github.com/zxalif).", "source": "release-notes.md"}
{"doc_id": "fastapi_0851", "title": "Release Notes", "section": "0.10.3", "content": "* Add Gitter chat, badge, links, etc. [https://gitter.im/tiangolo/fastapi](https://gitter.im/tiangolo/fastapi) . PR [#117](https://github.com/tiangolo/fastapi/pull/117).\n\n* Add docs about [Extending OpenAPI](https://fastapi.tiangolo.com/advanced/extending-openapi/). PR [#126](https://github.com/tiangolo/fastapi/pull/126).\n\n* Make Travis run Ubuntu Xenial (newer version) and Python 3.7 instead of Python 3.7-dev. PR [#92](https://github.com/tiangolo/fastapi/pull/92) by [@blueyed](https://github.com/blueyed).\n\n* Fix duplicated param variable creation. PR [#123](https://github.com/tiangolo/fastapi/pull/123) by [@yihuang](https://github.com/yihuang).\n\n* Add note in [Response Model docs](https://fastapi.tiangolo.com/tutorial/response-model/) about why using a function parameter instead of a function return type annotation. PR [#109](https://github.com/tiangolo/fastapi/pull/109) by [@JHSaunders](https://github.com/JHSaunders).\n\n* Fix event docs (startup/shutdown) function name. PR [#105](https://github.com/tiangolo/fastapi/pull/105) by [@stratosgear](https://github.com/stratosgear).", "source": "release-notes.md"}
{"doc_id": "fastapi_0852", "title": "Release Notes", "section": "0.10.2", "content": "* Fix OpenAPI (JSON Schema) for declarations of Python `Union` (JSON Schema `additionalProperties`). PR [#121](https://github.com/tiangolo/fastapi/pull/121).\n\n* Update [Background Tasks](https://fastapi.tiangolo.com/tutorial/background-tasks/) with a note on Celery.\n\n* Document response models using unions and lists, updated at: [Extra Models](https://fastapi.tiangolo.com/tutorial/extra-models/). PR [#108](https://github.com/tiangolo/fastapi/pull/108).", "source": "release-notes.md"}
{"doc_id": "fastapi_0853", "title": "Release Notes", "section": "0.10.1", "content": "* Add docs and tests for [encode/databases](https://github.com/encode/databases). New docs at: [Async SQL (Relational) Databases](https://fastapi.tiangolo.com/advanced/async-sql-databases/). PR [#107](https://github.com/tiangolo/fastapi/pull/107).", "source": "release-notes.md"}
{"doc_id": "fastapi_0854", "title": "Release Notes", "section": "0.10.0", "content": "* Add support for Background Tasks in *path operation functions* and dependencies. New documentation about [Background Tasks is here](https://fastapi.tiangolo.com/tutorial/background-tasks/). PR [#103](https://github.com/tiangolo/fastapi/pull/103).\n\n* Add support for `.websocket_route()` in `APIRouter`. PR [#100](https://github.com/tiangolo/fastapi/pull/100) by [@euri10](https://github.com/euri10).\n\n* New docs section about [Events: startup - shutdown](https://fastapi.tiangolo.com/advanced/events/). PR [#99](https://github.com/tiangolo/fastapi/pull/99).", "source": "release-notes.md"}
{"doc_id": "fastapi_0855", "title": "Release Notes", "section": "0.9.1", "content": "* Document receiving [Multiple values with the same query parameter](https://fastapi.tiangolo.com/tutorial/query-params-str-validations/#query-parameter-list-multiple-values) and [Duplicate headers](https://fastapi.tiangolo.com/tutorial/header-params/#duplicate-headers). PR [#95](https://github.com/tiangolo/fastapi/pull/95).", "source": "release-notes.md"}
{"doc_id": "fastapi_0856", "title": "Release Notes", "section": "0.9.0", "content": "* Upgrade compatible Pydantic version to `0.21.0`. PR [#90](https://github.com/tiangolo/fastapi/pull/90).\n\n* Add documentation for: [Application Configuration](https://fastapi.tiangolo.com/tutorial/application-configuration/).\n\n* Fix typo in docs. PR [#76](https://github.com/tiangolo/fastapi/pull/76) by [@matthewhegarty](https://github.com/matthewhegarty).\n\n* Fix link in \"Deployment\" to \"Bigger Applications\".", "source": "release-notes.md"}
{"doc_id": "fastapi_0857", "title": "Release Notes", "section": "0.8.0", "content": "* Make development scripts executable. PR [#76](https://github.com/tiangolo/fastapi/pull/76) by [@euri10](https://github.com/euri10).\n\n* Add support for adding `tags` in `app.include_router()`. PR [#55](https://github.com/tiangolo/fastapi/pull/55) by [@euri10](https://github.com/euri10). Documentation updated in the section: [Bigger Applications](https://fastapi.tiangolo.com/tutorial/bigger-applications/).\n\n* Update docs related to Uvicorn to use new `--reload` option from version `0.5.x`. PR [#74](https://github.com/tiangolo/fastapi/pull/74).\n\n* Update `isort` imports and scripts to be compatible with newer versions. PR [#75](https://github.com/tiangolo/fastapi/pull/75).", "source": "release-notes.md"}
{"doc_id": "fastapi_0858", "title": "Release Notes", "section": "0.7.1", "content": "* Update [technical details about `async def` handling](https://fastapi.tiangolo.com/async/#path-operation-functions) with respect to previous frameworks. PR [#64](https://github.com/tiangolo/fastapi/pull/64) by [@haizaar](https://github.com/haizaar).\n\n* Add [deployment documentation for Docker in Raspberry Pi](https://fastapi.tiangolo.com/deployment/#raspberry-pi-and-other-architectures) and other architectures.\n\n* Trigger Docker images build on Travis CI automatically. PR [#65](https://github.com/tiangolo/fastapi/pull/65).", "source": "release-notes.md"}
{"doc_id": "fastapi_0859", "title": "Release Notes", "section": "0.7.0", "content": "* Add support for `UploadFile` in `File` parameter annotations.\n    * This includes a file-like interface.\n    * Here's the updated documentation for declaring [`File` parameters with `UploadFile`](https://fastapi.tiangolo.com/tutorial/request-files/#file-parameters-with-uploadfile).\n    * And here's the updated documentation for using [`Form` parameters mixed with `File` parameters, supporting `bytes` and `UploadFile`](https://fastapi.tiangolo.com/tutorial/request-forms-and-files/) at the same time.\n    * PR [#63](https://github.com/tiangolo/fastapi/pull/63).", "source": "release-notes.md"}
{"doc_id": "fastapi_0860", "title": "Release Notes", "section": "0.6.4", "content": "* Add [technical details about `async def` handling to docs](https://fastapi.tiangolo.com/async/#very-technical-details). PR [#61](https://github.com/tiangolo/fastapi/pull/61).\n\n* Add docs for [Debugging FastAPI applications in editors](https://fastapi.tiangolo.com/tutorial/debugging/).\n\n* Clarify [Bigger Applications deployed with Docker](https://fastapi.tiangolo.com/deployment/#bigger-applications).\n\n* Fix typos in docs.\n\n* Add section about [History, Design and Future](https://fastapi.tiangolo.com/history-design-future/).\n\n* Add docs for using [WebSockets with **FastAPI**](https://fastapi.tiangolo.com/advanced/websockets/). PR [#62](https://github.com/tiangolo/fastapi/pull/62).", "source": "release-notes.md"}
{"doc_id": "fastapi_0861", "title": "Release Notes", "section": "0.6.3", "content": "* Add Favicons to docs. PR [#53](https://github.com/tiangolo/fastapi/pull/53).", "source": "release-notes.md"}
{"doc_id": "fastapi_0862", "title": "Release Notes", "section": "0.6.2", "content": "* Introduce new project generator based on FastAPI and PostgreSQL: [https://github.com/tiangolo/full-stack-fastapi-postgresql](https://github.com/tiangolo/full-stack-fastapi-postgresql). PR [#52](https://github.com/tiangolo/fastapi/pull/52).\n\n* Update [SQL tutorial with SQLAlchemy, using `Depends` to improve editor support and reduce code repetition](https://fastapi.tiangolo.com/tutorial/sql-databases/). PR [#52](https://github.com/tiangolo/fastapi/pull/52).\n\n* Improve middleware naming in tutorial for SQL with SQLAlchemy [https://fastapi.tiangolo.com/tutorial/sql-databases/](https://fastapi.tiangolo.com/tutorial/sql-databases/).", "source": "release-notes.md"}
{"doc_id": "fastapi_0863", "title": "Release Notes", "section": "0.6.1", "content": "* Add docs for GraphQL: [https://fastapi.tiangolo.com/advanced/graphql/](https://fastapi.tiangolo.com/advanced/graphql/). PR [#48](https://github.com/tiangolo/fastapi/pull/48).", "source": "release-notes.md"}
{"doc_id": "fastapi_0864", "title": "Release Notes", "section": "0.6.0", "content": "* Update SQL with SQLAlchemy tutorial at [https://fastapi.tiangolo.com/tutorial/sql-databases/](https://fastapi.tiangolo.com/tutorial/sql-databases/) using the new official `request.state`. PR [#45](https://github.com/tiangolo/fastapi/pull/45).\n\n* Upgrade Starlette to version `0.11.1` and add required compatibility changes. PR [#44](https://github.com/tiangolo/fastapi/pull/44).", "source": "release-notes.md"}
{"doc_id": "fastapi_0865", "title": "Release Notes", "section": "0.5.1", "content": "* Add section about [helping and getting help with **FastAPI**](https://fastapi.tiangolo.com/help-fastapi/).\n\n* Add note about [path operations order in docs](https://fastapi.tiangolo.com/tutorial/path-params/#order-matters).\n\n* Update [section about error handling](https://fastapi.tiangolo.com/tutorial/handling-errors/) with more information and make relation with Starlette error handling utilities more explicit. PR [#41](https://github.com/tiangolo/fastapi/pull/41).\n\n* Add <a href=\"\" target=\"_blank\">Development - Contributing section to the docs</a>. PR [#42](https://github.com/tiangolo/fastapi/pull/42).", "source": "release-notes.md"}
{"doc_id": "fastapi_0866", "title": "Release Notes", "section": "0.5.0", "content": "* Add new `HTTPException` with support for custom headers. With new documentation for handling errors at: [https://fastapi.tiangolo.com/tutorial/handling-errors/](https://fastapi.tiangolo.com/tutorial/handling-errors/). PR [#35](https://github.com/tiangolo/fastapi/pull/35).\n\n* Add [documentation to use Starlette `Request` object](https://fastapi.tiangolo.com/advanced/using-request-directly/) directly. Check [#25](https://github.com/tiangolo/fastapi/pull/25) by [@euri10](https://github.com/euri10).\n\n* Add issue templates to simplify reporting bugs, getting help, etc: [#34](https://github.com/tiangolo/fastapi/pull/34).\n\n* Update example for the SQLAlchemy tutorial at [https://fastapi.tiangolo.com/tutorial/sql-databases/](https://fastapi.tiangolo.com/tutorial/sql-databases/) using middleware and database session attached to request.", "source": "release-notes.md"}
{"doc_id": "fastapi_0867", "title": "Release Notes", "section": "0.4.0", "content": "* Add `openapi_prefix`, support for reverse proxy and mounting sub-applications. See the docs at [https://fastapi.tiangolo.com/advanced/sub-applications-proxy/](https://fastapi.tiangolo.com/advanced/sub-applications-proxy/): [#26](https://github.com/tiangolo/fastapi/pull/26) by [@kabirkhan](https://github.com/kabirkhan).\n\n* Update [docs/tutorial for SQLAlchemy](https://fastapi.tiangolo.com/tutorial/sql-databases/) including note about _DB Browser for SQLite_.", "source": "release-notes.md"}
{"doc_id": "fastapi_0868", "title": "Release Notes", "section": "0.3.0", "content": "* Fix/add SQLAlchemy support, including ORM, and update [docs for SQLAlchemy](https://fastapi.tiangolo.com/tutorial/sql-databases/): [#30](https://github.com/tiangolo/fastapi/pull/30).", "source": "release-notes.md"}
{"doc_id": "fastapi_0869", "title": "Release Notes", "section": "0.2.1", "content": "* Fix `jsonable_encoder` for Pydantic models with `Config` but without `json_encoders`: [#29](https://github.com/tiangolo/fastapi/pull/29).", "source": "release-notes.md"}
{"doc_id": "fastapi_0870", "title": "Release Notes", "section": "0.2.0", "content": "* Fix typos in Security section: [#24](https://github.com/tiangolo/fastapi/pull/24) by [@kkinder](https://github.com/kkinder).\n\n* Add support for Pydantic custom JSON encoders: [#21](https://github.com/tiangolo/fastapi/pull/21) by [@euri10](https://github.com/euri10).", "source": "release-notes.md"}
{"doc_id": "fastapi_0871", "title": "Release Notes", "section": "0.1.19", "content": "* Upgrade Starlette version to the current latest `0.10.1`: [#17](https://github.com/tiangolo/fastapi/pull/17) by [@euri10](https://github.com/euri10).", "source": "release-notes.md"}
{"doc_id": "fastapi_0872", "title": "Virtual Environments { #virtual-environments }", "section": "Virtual Environments { #virtual-environments }", "content": "When you work in Python projects you probably should use a **virtual environment** (or a similar mechanism) to isolate the packages you install for each project.\n\n/// info\n\nIf you already know about virtual environments, how to create them and use them, you might want to skip this section. ü§ì\n\n///\n\n/// tip\n\nA **virtual environment** is different than an **environment variable**.\n\nAn **environment variable** is a variable in the system that can be used by programs.\n\nA **virtual environment** is a directory with some files in it.\n\n///\n\n/// info\n\nThis page will teach you how to use **virtual environments** and how they work.\n\nIf you are ready to adopt a **tool that manages everything** for you (including installing Python), try <a href=\"https://github.com/astral-sh/uv\" class=\"external-link\" target=\"_blank\">uv</a>.\n\n///", "source": "virtual-environments.md"}
{"doc_id": "fastapi_0873", "title": "Virtual Environments { #virtual-environments }", "section": "Create a Project { #create-a-project }", "content": "First, create a directory for your project.\n\nWhat I normally do is that I create a directory named `code` inside my home/user directory.\n\nAnd inside of that I create one directory per project.\n\n<div class=\"termy\">\n\n```console\n// Go to the home directory\n$ cd\n// Create a directory for all your code projects\n$ mkdir code\n// Enter into that code directory\n$ cd code\n// Create a directory for this project\n$ mkdir awesome-project\n// Enter into that project directory\n$ cd awesome-project\n```\n\n</div>", "source": "virtual-environments.md"}
{"doc_id": "fastapi_0874", "title": "Virtual Environments { #virtual-environments }", "section": "Create a Virtual Environment { #create-a-virtual-environment }", "content": "When you start working on a Python project **for the first time**, create a virtual environment **<abbr title=\"there are other options, this is a simple guideline\">inside your project</abbr>**.\n\n/// tip\n\nYou only need to do this **once per project**, not every time you work.\n\n///\n\n//// tab | `venv`\n\nTo create a virtual environment, you can use the `venv` module that comes with Python.\n\n<div class=\"termy\">\n\n```console\n$ python -m venv .venv\n```\n\n</div>\n\n/// details | What that command means\n\n* `python`: use the program called `python`\n* `-m`: call a module as a script, we'll tell it which module next\n* `venv`: use the module called `venv` that normally comes installed with Python\n* `.venv`: create the virtual environment in the new directory `.venv`\n\n///\n\n////\n\n//// tab | `uv`\n\nIf you have <a href=\"https://github.com/astral-sh/uv\" class=\"external-link\" target=\"_blank\">`uv`</a> installed, you can use it to create a virtual environment.\n\n<div class=\"termy\">\n\n```console\n$ uv venv\n```\n\n</div>\n\n/// tip\n\nBy default, `uv` will create a virtual environment in a directory called `.venv`.\n\nBut you could customize it passing an additional argument with the directory name.\n\n///\n\n////\n\nThat command creates a new virtual environment in a directory called `.venv`.\n\n/// details | `.venv` or other name\n\nYou could create the virtual environment in a different directory, but there's a convention of calling it `.venv`.\n\n///", "source": "virtual-environments.md"}
{"doc_id": "fastapi_0875", "title": "Virtual Environments { #virtual-environments }", "section": "Activate the Virtual Environment { #activate-the-virtual-environment }", "content": "Activate the new virtual environment so that any Python command you run or package you install uses it.\n\n/// tip\n\nDo this **every time** you start a **new terminal session** to work on the project.\n\n///\n\n//// tab | Linux, macOS\n\n<div class=\"termy\">\n\n```console\n$ source .venv/bin/activate\n```\n\n</div>\n\n////\n\n//// tab | Windows PowerShell\n\n<div class=\"termy\">\n\n```console\n$ .venv\\Scripts\\Activate.ps1\n```\n\n</div>\n\n////\n\n//// tab | Windows Bash\n\nOr if you use Bash for Windows (e.g. <a href=\"https://gitforwindows.org/\" class=\"external-link\" target=\"_blank\">Git Bash</a>):\n\n<div class=\"termy\">\n\n```console\n$ source .venv/Scripts/activate\n```\n\n</div>\n\n////\n\n/// tip\n\nEvery time you install a **new package** in that environment, **activate** the environment again.\n\nThis makes sure that if you use a **terminal (<abbr title=\"command line interface\">CLI</abbr>) program** installed by that package, you use the one from your virtual environment and not any other that could be installed globally, probably with a different version than what you need.\n\n///", "source": "virtual-environments.md"}
{"doc_id": "fastapi_0876", "title": "Virtual Environments { #virtual-environments }", "section": "Check the Virtual Environment is Active { #check-the-virtual-environment-is-active }", "content": "Check that the virtual environment is active (the previous command worked).\n\n/// tip\n\nThis is **optional**, but it's a good way to **check** that everything is working as expected and you are using the virtual environment you intended.\n\n///\n\n//// tab | Linux, macOS, Windows Bash\n\n<div class=\"termy\">\n\n```console\n$ which python\n\n/home/user/code/awesome-project/.venv/bin/python\n```\n\n</div>\n\nIf it shows the `python` binary at `.venv/bin/python`, inside of your project (in this case `awesome-project`), then it worked. üéâ\n\n////\n\n//// tab | Windows PowerShell\n\n<div class=\"termy\">\n\n```console\n$ Get-Command python\n\nC:\\Users\\user\\code\\awesome-project\\.venv\\Scripts\\python\n```\n\n</div>\n\nIf it shows the `python` binary at `.venv\\Scripts\\python`, inside of your project (in this case `awesome-project`), then it worked. üéâ\n\n////", "source": "virtual-environments.md"}
{"doc_id": "fastapi_0877", "title": "Virtual Environments { #virtual-environments }", "section": "Upgrade `pip` { #upgrade-pip }", "content": "/// tip\n\nIf you use <a href=\"https://github.com/astral-sh/uv\" class=\"external-link\" target=\"_blank\">`uv`</a> you would use it to install things instead of `pip`, so you don't need to upgrade `pip`. üòé\n\n///\n\nIf you are using `pip` to install packages (it comes by default with Python), you should **upgrade** it to the latest version.\n\nMany exotic errors while installing a package are solved by just upgrading `pip` first.\n\n/// tip\n\nYou would normally do this **once**, right after you create the virtual environment.\n\n///\n\nMake sure the virtual environment is active (with the command above) and then run:\n\n<div class=\"termy\">\n\n```console\n$ python -m pip install --upgrade pip\n\n---> 100%\n```\n\n</div>\n\n/// tip\n\nSometimes, you might get a **`No module named pip`** error when trying to upgrade pip.\n\nIf this happens, install and upgrade pip using the command below:\n\n<div class=\"termy\">\n\n```console\n$ python -m ensurepip --upgrade\n\n---> 100%\n```\n\n</div>\n\nThis command will install pip if it is not already installed and also ensures that the installed version of pip is at least as recent as the one available in `ensurepip`.\n\n///", "source": "virtual-environments.md"}
{"doc_id": "fastapi_0878", "title": "Virtual Environments { #virtual-environments }", "section": "Add `.gitignore` { #add-gitignore }", "content": "If you are using **Git** (you should), add a `.gitignore` file to exclude everything in your `.venv` from Git.\n\n/// tip\n\nIf you used <a href=\"https://github.com/astral-sh/uv\" class=\"external-link\" target=\"_blank\">`uv`</a> to create the virtual environment, it already did this for you, you can skip this step. üòé\n\n///\n\n/// tip\n\nDo this **once**, right after you create the virtual environment.\n\n///\n\n<div class=\"termy\">\n\n```console\n$ echo \"*\" > .venv/.gitignore\n```\n\n</div>\n\n/// details | What that command means\n\n* `echo \"*\"`: will \"print\" the text `*` in the terminal (the next part changes that a bit)\n* `>`: anything printed to the terminal by the command to the left of `>` should not be printed but instead written to the file that goes to the right of `>`\n* `.gitignore`: the name of the file where the text should be written\n\nAnd `*` for Git means \"everything\". So, it will ignore everything in the `.venv` directory.\n\nThat command will create a file `.gitignore` with the content:\n\n```gitignore\n*\n```\n\n///", "source": "virtual-environments.md"}
{"doc_id": "fastapi_0879", "title": "Virtual Environments { #virtual-environments }", "section": "Install Packages { #install-packages }", "content": "After activating the environment, you can install packages in it.\n\n/// tip\n\nDo this **once** when installing or upgrading the packages your project needs.\n\nIf you need to upgrade a version or add a new package you would **do this again**.\n\n///", "source": "virtual-environments.md"}
{"doc_id": "fastapi_0880", "title": "Virtual Environments { #virtual-environments }", "section": "Install Packages Directly { #install-packages-directly }", "content": "If you're in a hurry and don't want to use a file to declare your project's package requirements, you can install them directly.\n\n/// tip\n\nIt's a (very) good idea to put the packages and versions your program needs in a file (for example `requirements.txt` or `pyproject.toml`).\n\n///\n\n//// tab | `pip`\n\n<div class=\"termy\">\n\n```console\n$ pip install \"fastapi[standard]\"\n\n---> 100%\n```\n\n</div>\n\n////\n\n//// tab | `uv`\n\nIf you have <a href=\"https://github.com/astral-sh/uv\" class=\"external-link\" target=\"_blank\">`uv`</a>:\n\n<div class=\"termy\">\n\n```console\n$ uv pip install \"fastapi[standard]\"\n---> 100%\n```\n\n</div>\n\n////", "source": "virtual-environments.md"}
{"doc_id": "fastapi_0881", "title": "Virtual Environments { #virtual-environments }", "section": "Install from `requirements.txt` { #install-from-requirements-txt }", "content": "If you have a `requirements.txt`, you can now use it to install its packages.\n\n//// tab | `pip`\n\n<div class=\"termy\">\n\n```console\n$ pip install -r requirements.txt\n---> 100%\n```\n\n</div>\n\n////\n\n//// tab | `uv`\n\nIf you have <a href=\"https://github.com/astral-sh/uv\" class=\"external-link\" target=\"_blank\">`uv`</a>:\n\n<div class=\"termy\">\n\n```console\n$ uv pip install -r requirements.txt\n---> 100%\n```\n\n</div>\n\n////\n\n/// details | `requirements.txt`\n\nA `requirements.txt` with some packages could look like:\n\n```requirements.txt\nfastapi[standard]==0.113.0\npydantic==2.8.0\n```\n\n///", "source": "virtual-environments.md"}
{"doc_id": "fastapi_0882", "title": "Virtual Environments { #virtual-environments }", "section": "Run Your Program { #run-your-program }", "content": "After you activated the virtual environment, you can run your program, and it will use the Python inside of your virtual environment with the packages you installed there.\n\n<div class=\"termy\">\n\n```console\n$ python main.py\n\nHello World\n```\n\n</div>", "source": "virtual-environments.md"}
{"doc_id": "fastapi_0883", "title": "Virtual Environments { #virtual-environments }", "section": "Configure Your Editor { #configure-your-editor }", "content": "You would probably use an editor, make sure you configure it to use the same virtual environment you created (it will probably autodetect it) so that you can get autocompletion and inline errors.\n\nFor example:\n\n* <a href=\"https://code.visualstudio.com/docs/python/environments#_select-and-activate-an-environment\" class=\"external-link\" target=\"_blank\">VS Code</a>\n* <a href=\"https://www.jetbrains.com/help/pycharm/creating-virtual-environment.html\" class=\"external-link\" target=\"_blank\">PyCharm</a>\n\n/// tip\n\nYou normally have to do this only **once**, when you create the virtual environment.\n\n///", "source": "virtual-environments.md"}
{"doc_id": "fastapi_0884", "title": "Virtual Environments { #virtual-environments }", "section": "Deactivate the Virtual Environment { #deactivate-the-virtual-environment }", "content": "Once you are done working on your project you can **deactivate** the virtual environment.\n\n<div class=\"termy\">\n\n```console\n$ deactivate\n```\n\n</div>\n\nThis way, when you run `python` it won't try to run it from that virtual environment with the packages installed there.", "source": "virtual-environments.md"}
{"doc_id": "fastapi_0885", "title": "Virtual Environments { #virtual-environments }", "section": "Ready to Work { #ready-to-work }", "content": "Now you're ready to start working on your project.\n\n\n\n/// tip\n\nDo you want to understand what's all that above?\n\nContinue reading. üëáü§ì\n\n///", "source": "virtual-environments.md"}
{"doc_id": "fastapi_0886", "title": "Virtual Environments { #virtual-environments }", "section": "Why Virtual Environments { #why-virtual-environments }", "content": "To work with FastAPI you need to install <a href=\"https://www.python.org/\" class=\"external-link\" target=\"_blank\">Python</a>.\n\nAfter that, you would need to **install** FastAPI and any other **packages** you want to use.\n\nTo install packages you would normally use the `pip` command that comes with Python (or similar alternatives).\n\nNevertheless, if you just use `pip` directly, the packages would be installed in your **global Python environment** (the global installation of Python).", "source": "virtual-environments.md"}
{"doc_id": "fastapi_0887", "title": "Virtual Environments { #virtual-environments }", "section": "The Problem { #the-problem }", "content": "So, what's the problem with installing packages in the global Python environment?\n\nAt some point, you will probably end up writing many different programs that depend on **different packages**. And some of these projects you work on will depend on **different versions** of the same package. üò±\n\nFor example, you could create a project called `philosophers-stone`, this program depends on another package called **`harry`, using the version `1`**. So, you need to install `harry`.\n\n```mermaid\nflowchart LR\n    stone(philosophers-stone) -->|requires| harry-1[harry v1]\n```\n\nThen, at some point later, you create another project called `prisoner-of-azkaban`, and this project also depends on `harry`, but this project needs **`harry` version `3`**.\n\n```mermaid\nflowchart LR\n    azkaban(prisoner-of-azkaban) --> |requires| harry-3[harry v3]\n```\n\nBut now the problem is, if you install the packages globally (in the global environment) instead of in a local **virtual environment**, you will have to choose which version of `harry` to install.\n\nIf you want to run `philosophers-stone` you will need to first install `harry` version `1`, for example with:\n\n<div class=\"termy\">\n\n```console\n$ pip install \"harry==1\"\n```\n\n</div>\n\nAnd then you would end up with `harry` version `1` installed in your global Python environment.\n\n```mermaid\nflowchart LR\n    subgraph global[global env]\n        harry-1[harry v1]\n    end\n    subgraph stone-project[philosophers-stone project]\n        stone(philosophers-stone) -->|requires| harry-1\n    end\n```\n\nBut then if you want to run `prisoner-of-azkaban`, you will need to uninstall `harry` version `1` and install `harry` version `3` (or just installing version `3` would automatically uninstall version `1`).\n\n<div class=\"termy\">\n\n```console\n$ pip install \"harry==3\"\n```\n\n</div>\n\nAnd then you would end up with `harry` version `3` installed in your global Python environment.\n\nAnd if you try to run `philosophers-stone` again, there's a chance it would **not work** because it needs `harry` version `1`.\n\n```mermaid\nflowchart LR\n    subgraph global[global env]\n        harry-1[<strike>harry v1</strike>]\n        style harry-1 fill:#ccc,stroke-dasharray: 5 5\n        harry-3[harry v3]\n    end\n    subgraph stone-project[philosophers-stone project]\n        stone(philosophers-stone) -.-x|‚õîÔ∏è| harry-1\n    end\n    subgraph azkaban-project[prisoner-of-azkaban project]\n        azkaban(prisoner-of-azkaban) --> |requires| harry-3\n    end\n```\n\n/// tip\n\nIt's very common in Python packages to try the best to **avoid breaking changes** in **new versions**, but it's better to be safe, and install newer versions intentionally and when you can run the tests to check everything is working correctly.\n\n///\n\nNow, imagine that with **many** other **packages** that all your **projects depend on**. That's very difficult to manage. And you would probably end up running some projects with some **incompatible versions** of the packages, and not knowing why something isn't working.\n\nAlso, depending on your operating system (e.g. Linux, Windows, macOS), it could have come with Python already installed. And in that case it probably had some packages pre-installed with some specific versions **needed by your system**. If you install packages in the global Python environment, you could end up **breaking** some of the programs that came with your operating system.", "source": "virtual-environments.md"}
{"doc_id": "fastapi_0888", "title": "Virtual Environments { #virtual-environments }", "section": "Where are Packages Installed { #where-are-packages-installed }", "content": "When you install Python, it creates some directories with some files in your computer.\n\nSome of these directories are the ones in charge of having all the packages you install.\n\nWhen you run:\n\n<div class=\"termy\">\n\n```console\n// Don't run this now, it's just an example ü§ì\n$ pip install \"fastapi[standard]\"\n---> 100%\n```\n\n</div>\n\nThat will download a compressed file with the FastAPI code, normally from <a href=\"https://pypi.org/project/fastapi/\" class=\"external-link\" target=\"_blank\">PyPI</a>.\n\nIt will also **download** files for other packages that FastAPI depends on.\n\nThen it will **extract** all those files and put them in a directory in your computer.\n\nBy default, it will put those files downloaded and extracted in the directory that comes with your Python installation, that's the **global environment**.", "source": "virtual-environments.md"}
{"doc_id": "fastapi_0889", "title": "Virtual Environments { #virtual-environments }", "section": "What are Virtual Environments { #what-are-virtual-environments }", "content": "The solution to the problems of having all the packages in the global environment is to use a **virtual environment for each project** you work on.\n\nA virtual environment is a **directory**, very similar to the global one, where you can install the packages for a project.\n\nThis way, each project will have its own virtual environment (`.venv` directory) with its own packages.\n\n```mermaid\nflowchart TB\n    subgraph stone-project[philosophers-stone project]\n        stone(philosophers-stone) --->|requires| harry-1\n        subgraph venv1[.venv]\n            harry-1[harry v1]\n        end\n    end\n    subgraph azkaban-project[prisoner-of-azkaban project]\n        azkaban(prisoner-of-azkaban) --->|requires| harry-3\n        subgraph venv2[.venv]\n            harry-3[harry v3]\n        end\n    end\n    stone-project ~~~ azkaban-project\n```", "source": "virtual-environments.md"}
{"doc_id": "fastapi_0890", "title": "Virtual Environments { #virtual-environments }", "section": "What Does Activating a Virtual Environment Mean { #what-does-activating-a-virtual-environment-mean }", "content": "When you activate a virtual environment, for example with:\n\n//// tab | Linux, macOS\n\n<div class=\"termy\">\n\n```console\n$ source .venv/bin/activate\n```\n\n</div>\n\n////\n\n//// tab | Windows PowerShell\n\n<div class=\"termy\">\n\n```console\n$ .venv\\Scripts\\Activate.ps1\n```\n\n</div>\n\n////\n\n//// tab | Windows Bash\n\nOr if you use Bash for Windows (e.g. <a href=\"https://gitforwindows.org/\" class=\"external-link\" target=\"_blank\">Git Bash</a>):\n\n<div class=\"termy\">\n\n```console\n$ source .venv/Scripts/activate\n```\n\n</div>\n\n////\n\nThat command will create or modify some [environment variables](environment-variables.md){.internal-link target=_blank} that will be available for the next commands.\n\nOne of those variables is the `PATH` variable.\n\n/// tip\n\nYou can learn more about the `PATH` environment variable in the [Environment Variables](environment-variables.md#path-environment-variable){.internal-link target=_blank} section.\n\n///\n\nActivating a virtual environment adds its path `.venv/bin` (on Linux and macOS) or `.venv\\Scripts` (on Windows) to the `PATH` environment variable.\n\nLet's say that before activating the environment, the `PATH` variable looked like this:\n\n//// tab | Linux, macOS\n\n```plaintext\n/usr/bin:/bin:/usr/sbin:/sbin\n```\n\nThat means that the system would look for programs in:\n\n* `/usr/bin`\n* `/bin`\n* `/usr/sbin`\n* `/sbin`\n\n////\n\n//// tab | Windows\n\n```plaintext\nC:\\Windows\\System32\n```\n\nThat means that the system would look for programs in:\n\n* `C:\\Windows\\System32`\n\n////\n\nAfter activating the virtual environment, the `PATH` variable would look something like this:\n\n//// tab | Linux, macOS\n\n```plaintext\n/home/user/code/awesome-project/.venv/bin:/usr/bin:/bin:/usr/sbin:/sbin\n```\n\nThat means that the system will now start looking first for programs in:\n\n```plaintext\n/home/user/code/awesome-project/.venv/bin\n```\n\nbefore looking in the other directories.\n\nSo, when you type `python` in the terminal, the system will find the Python program in\n\n```plaintext\n/home/user/code/awesome-project/.venv/bin/python\n```\n\nand use that one.\n\n////\n\n//// tab | Windows\n\n```plaintext\nC:\\Users\\user\\code\\awesome-project\\.venv\\Scripts;C:\\Windows\\System32\n```\n\nThat means that the system will now start looking first for programs in:\n\n```plaintext\nC:\\Users\\user\\code\\awesome-project\\.venv\\Scripts\n```\n\nbefore looking in the other directories.\n\nSo, when you type `python` in the terminal, the system will find the Python program in\n\n```plaintext\nC:\\Users\\user\\code\\awesome-project\\.venv\\Scripts\\python\n```\n\nand use that one.\n\n////\n\nAn important detail is that it will put the virtual environment path at the **beginning** of the `PATH` variable. The system will find it **before** finding any other Python available. This way, when you run `python`, it will use the Python **from the virtual environment** instead of any other `python` (for example, a `python` from a global environment).\n\nActivating a virtual environment also changes a couple of other things, but this is one of the most important things it does.", "source": "virtual-environments.md"}
{"doc_id": "fastapi_0891", "title": "Virtual Environments { #virtual-environments }", "section": "Checking a Virtual Environment { #checking-a-virtual-environment }", "content": "When you check if a virtual environment is active, for example with:\n\n//// tab | Linux, macOS, Windows Bash\n\n<div class=\"termy\">\n\n```console\n$ which python\n\n/home/user/code/awesome-project/.venv/bin/python\n```\n\n</div>\n\n////\n\n//// tab | Windows PowerShell\n\n<div class=\"termy\">\n\n```console\n$ Get-Command python\n\nC:\\Users\\user\\code\\awesome-project\\.venv\\Scripts\\python\n```\n\n</div>\n\n////\n\nThat means that the `python` program that will be used is the one **in the virtual environment**.\n\nYou use `which` in Linux and macOS and `Get-Command` in Windows PowerShell.\n\nThe way that command works is that it will go and check in the `PATH` environment variable, going through **each path in order**, looking for the program called `python`. Once it finds it, it will **show you the path** to that program.\n\nThe most important part is that when you call `python`, that is the exact \"`python`\" that will be executed.\n\nSo, you can confirm if you are in the correct virtual environment.\n\n/// tip\n\nIt's easy to activate one virtual environment, get one Python, and then **go to another project**.\n\nAnd the second project **wouldn't work** because you are using the **incorrect Python**, from a virtual environment for another project.\n\nIt's useful being able to check what `python` is being used. ü§ì\n\n///", "source": "virtual-environments.md"}
{"doc_id": "fastapi_0892", "title": "Virtual Environments { #virtual-environments }", "section": "Why Deactivate a Virtual Environment { #why-deactivate-a-virtual-environment }", "content": "For example, you could be working on a project `philosophers-stone`, **activate that virtual environment**, install packages and work with that environment.\n\nAnd then you want to work on **another project** `prisoner-of-azkaban`.\n\nYou go to that project:\n\n<div class=\"termy\">\n\n```console\n$ cd ~/code/prisoner-of-azkaban\n```\n\n</div>\n\nIf you don't deactivate the virtual environment for `philosophers-stone`, when you run `python` in the terminal, it will try to use the Python from `philosophers-stone`.\n\n<div class=\"termy\">\n\n```console\n$ cd ~/code/prisoner-of-azkaban\n\n$ python main.py\n\n// Error importing sirius, it's not installed üò±\nTraceback (most recent call last):\n    File \"main.py\", line 1, in <module>\n        import sirius\n```\n\n</div>\n\nBut if you deactivate the virtual environment and activate the new one for `prisoner-of-askaban` then when you run `python` it will use the Python from the virtual environment in `prisoner-of-azkaban`.\n\n<div class=\"termy\">\n\n```console\n$ cd ~/code/prisoner-of-azkaban\n\n// You don't need to be in the old directory to deactivate, you can do it wherever you are, even after going to the other project üòé\n$ deactivate\n\n// Activate the virtual environment in prisoner-of-azkaban/.venv üöÄ\n$ source .venv/bin/activate\n\n// Now when you run python, it will find the package sirius installed in this virtual environment ‚ú®\n$ python main.py\n\nI solemnly swear üê∫\n```\n\n</div>", "source": "virtual-environments.md"}
{"doc_id": "fastapi_0893", "title": "Virtual Environments { #virtual-environments }", "section": "Alternatives { #alternatives }", "content": "This is a simple guide to get you started and teach you how everything works **underneath**.\n\nThere are many **alternatives** to managing virtual environments, package dependencies (requirements), projects.\n\nOnce you are ready and want to use a tool to **manage the entire project**, packages dependencies, virtual environments, etc. I would suggest you try <a href=\"https://github.com/astral-sh/uv\" class=\"external-link\" target=\"_blank\">uv</a>.\n\n`uv` can do a lot of things, it can:\n\n* **Install Python** for you, including different versions\n* Manage the **virtual environment** for your projects\n* Install **packages**\n* Manage package **dependencies and versions** for your project\n* Make sure you have an **exact** set of packages and versions to install, including their dependencies, so that you can be sure that you can run your project in production exactly the same as in your computer while developing, this is called **locking**\n* And many other things", "source": "virtual-environments.md"}
{"doc_id": "fastapi_0894", "title": "Virtual Environments { #virtual-environments }", "section": "Conclusion { #conclusion }", "content": "If you read and understood all this, now **you know much more** about virtual environments than many developers out there. ü§ì\n\nKnowing these details will most probably be useful in a future time when you are debugging something that seems complex, but you will know **how it all works underneath**. üòé", "source": "virtual-environments.md"}
{"doc_id": "fastapi_0895", "title": "LLM test file { #llm-test-file }", "section": "LLM test file { #llm-test-file }", "content": "This document tests if the <abbr title=\"Large Language Model\">LLM</abbr>, which translates the documentation, understands the `general_prompt` in `scripts/translate.py` and the language specific prompt in `docs/{language code}/llm-prompt.md`. The language specific prompt is appended to `general_prompt`.\n\nTests added here will be seen by all designers of language specific prompts.\n\nUse as follows:\n\n* Have a language specific prompt ‚Äì `docs/{language code}/llm-prompt.md`.\n* Do a fresh translation of this document into your desired target language (see e.g. the `translate-page` command of the `translate.py`). This will create the translation under `docs/{language code}/docs/_llm-test.md`.\n* Check if things are okay in the translation.\n* If necessary, improve your language specific prompt, the general prompt, or the English document.\n* Then manually fix the remaining issues in the translation, so that it is a good translation.\n* Retranslate, having the good translation in place. The ideal result would be that the LLM makes no changes anymore to the translation. That means that the general prompt and your language specific prompt are as good as they can be (It will sometimes make a few seemingly random changes, the reason is that <a href=\"https://doublespeak.chat/#/handbook#deterministic-output\" class=\"external-link\" target=\"_blank\">LLMs are not deterministic algorithms</a>).\n\nThe tests:", "source": "_llm-test.md"}
{"doc_id": "fastapi_0896", "title": "LLM test file { #llm-test-file }", "section": "Code snippets { #code-snippets}", "content": "//// tab | Test\n\nThis is a code snippet: `foo`. And this is another code snippet: `bar`. And another one: `baz quux`.\n\n////\n\n//// tab | Info\n\nContent of code snippets should be left as is.\n\nSee section `### Content of code snippets` in the general prompt in `scripts/translate.py`.\n\n////", "source": "_llm-test.md"}
{"doc_id": "fastapi_0897", "title": "LLM test file { #llm-test-file }", "section": "Quotes { #quotes }", "content": "//// tab | Test\n\nYesterday, my friend wrote: \"If you spell incorrectly correctly, you have spelled it incorrectly\". To which I answered: \"Correct, but 'incorrectly' is incorrectly not '\"incorrectly\"'\".\n\n/// note\n\nThe LLM will probably translate this wrong. Interesting is only if it keeps the fixed translation when retranslating.\n\n///\n\n////\n\n//// tab | Info\n\nThe prompt designer may choose if they want to convert neutral quotes to typographic quotes. It is okay to leave them as is.\n\nSee for example section `### Quotes` in `docs/de/llm-prompt.md`.\n\n////", "source": "_llm-test.md"}
{"doc_id": "fastapi_0898", "title": "LLM test file { #llm-test-file }", "section": "Quotes in code snippets { #quotes-in-code-snippets}", "content": "//// tab | Test\n\n`pip install \"foo[bar]\"`\n\nExamples for string literals in code snippets: `\"this\"`, `'that'`.\n\nA difficult example for string literals in code snippets: `f\"I like {'oranges' if orange else \"apples\"}\"`\n\nHardcore: `Yesterday, my friend wrote: \"If you spell incorrectly correctly, you have spelled it incorrectly\". To which I answered: \"Correct, but 'incorrectly' is incorrectly not '\"incorrectly\"'\"`\n\n////\n\n//// tab | Info\n\n... However, quotes inside code snippets must stay as is.\n\n////", "source": "_llm-test.md"}
{"doc_id": "fastapi_0899", "title": "LLM test file { #llm-test-file }", "section": "code blocks { #code-blocks }", "content": "//// tab | Test\n\nA Bash code example...\n\n```bash\n# Print a greeting to the universe\necho \"Hello universe\"\n```\n\n...and a console code example...\n\n```console\n$ <font color=\"#4E9A06\">fastapi</font> run <u style=\"text-decoration-style:solid\">main.py</u>\n<span style=\"background-color:#009485\"><font color=\"#D3D7CF\"> FastAPI </font></span>  Starting server\n        Searching for package file structure\n```\n\n...and another console code example...\n\n```console\n// Create a directory \"Code\"\n$ mkdir code\n// Switch into that directory\n$ cd code\n```\n\n...and a Python code example...\n\n```Python\nwont_work()  # This won't work üò±\nworks(foo=\"bar\")  # This works üéâ\n```\n\n...and that's it.\n\n////\n\n//// tab | Info\n\nCode in code blocks should not be modified, with the exception of comments.\n\nSee section `### Content of code blocks` in the general prompt in `scripts/translate.py`.\n\n////", "source": "_llm-test.md"}
{"doc_id": "fastapi_0900", "title": "LLM test file { #llm-test-file }", "section": "Tabs and colored boxes { #tabs-and-colored-boxes }", "content": "//// tab | Test\n\n/// info\nSome text\n///\n\n/// note\nSome text\n///\n\n/// note | Technical details\nSome text\n///\n\n/// check\nSome text\n///\n\n/// tip\nSome text\n///\n\n/// warning\nSome text\n///\n\n/// danger\nSome text\n///\n\n////\n\n//// tab | Info\n\nTabs and `Info`/`Note`/`Warning`/etc. blocks should have the translation of their title added after a vertical bar (`|`).\n\nSee sections `### Special blocks` and `### Tab blocks` in the general prompt in `scripts/translate.py`.\n\n////", "source": "_llm-test.md"}
{"doc_id": "fastapi_0901", "title": "LLM test file { #llm-test-file }", "section": "Web- and internal links { #web-and-internal-links }", "content": "//// tab | Test\n\nThe link text should get translated, the link address should remain unchaged:\n\n* [Link to heading above](#code-snippets)\n* [Internal link](index.md#installation){.internal-link target=_blank}\n* <a href=\"https://sqlmodel.tiangolo.com/\" class=\"external-link\" target=\"_blank\">External link</a>\n* <a href=\"https://fastapi.tiangolo.com/css/styles.css\" class=\"external-link\" target=\"_blank\">Link to a style</a>\n* <a href=\"https://fastapi.tiangolo.com/js/logic.js\" class=\"external-link\" target=\"_blank\">Link to a script</a>\n* <a href=\"https://fastapi.tiangolo.com/img/foo.jpg\" class=\"external-link\" target=\"_blank\">Link to an image</a>\n\nThe link text should get translated, the link address should point to the translation:\n\n* <a href=\"https://fastapi.tiangolo.com/\" class=\"external-link\" target=\"_blank\">FastAPI link</a>\n\n////\n\n//// tab | Info\n\nLinks should be translated, but their address shall remain unchanged. An exception are absolute links to pages of the FastAPI documentation. In that case it should link to the translation.\n\nSee section `### Links` in the general prompt in `scripts/translate.py`.\n\n////", "source": "_llm-test.md"}
{"doc_id": "fastapi_0902", "title": "LLM test file { #llm-test-file }", "section": "HTML \"abbr\" elements { #html-abbr-elements }", "content": "//// tab | Test\n\nHere some things wrapped in HTML \"abbr\" elements (Some are invented):", "source": "_llm-test.md"}
{"doc_id": "fastapi_0903", "title": "LLM test file { #llm-test-file }", "section": "The abbr gives a full phrase { #the-abbr-gives-a-full-phrase }", "content": "* <abbr title=\"Getting Things Done\">GTD</abbr>\n* <abbr title=\"less than\"><code>lt</code></abbr>\n* <abbr title=\"XML Web Token\">XWT</abbr>\n* <abbr title=\"Parallel Server Gateway Interface\">PSGI</abbr>", "source": "_llm-test.md"}
{"doc_id": "fastapi_0904", "title": "LLM test file { #llm-test-file }", "section": "The abbr gives an explanation { #the-abbr-gives-an-explanation }", "content": "* <abbr title=\"A group of machines that are configured to be connected and work together in some way.\">cluster</abbr>\n* <abbr title=\"A method of machine learning that uses artificial neural networks with numerous hidden layers between input and output layers, thereby developing a comprehensive internal structure\">Deep Learning</abbr>", "source": "_llm-test.md"}
{"doc_id": "fastapi_0905", "title": "LLM test file { #llm-test-file }", "section": "The abbr gives a full phrase and an explanation { #the-abbr-gives-a-full-phrase-and-an-explanation }", "content": "* <abbr title=\"Mozilla Developer Network: documentation for developers, written by the Firefox people\">MDN</abbr>\n* <abbr title=\"Input/Output: disk reading or writing, network communications.\">I/O</abbr>.\n\n////\n\n//// tab | Info\n\n\"title\" attributes of \"abbr\" elements are translated following some specific instructions.\n\nTranslations can add their own \"abbr\" elements which the LLM should not remove. E.g. to explain English words.\n\nSee section `### HTML abbr elements` in the general prompt in `scripts/translate.py`.\n\n////", "source": "_llm-test.md"}
{"doc_id": "fastapi_0906", "title": "LLM test file { #llm-test-file }", "section": "Headings { #headings }", "content": "//// tab | Test", "source": "_llm-test.md"}
{"doc_id": "fastapi_0907", "title": "LLM test file { #llm-test-file }", "section": "Develop a webapp - a tutorial { #develop-a-webapp-a-tutorial }", "content": "Hello.", "source": "_llm-test.md"}
{"doc_id": "fastapi_0908", "title": "LLM test file { #llm-test-file }", "section": "Type hints and -annotations { #type-hints-and-annotations }", "content": "Hello again.", "source": "_llm-test.md"}
{"doc_id": "fastapi_0909", "title": "LLM test file { #llm-test-file }", "section": "Super- and subclasses { #super-and-subclasses }", "content": "Hello again.\n\n////\n\n//// tab | Info\n\nThe only hard rule for headings is that the LLM leaves the hash part inside curly brackets unchanged, which ensures that links do not break.\n\nSee section `### Headings` in the general prompt in `scripts/translate.py`.\n\nFor some language specific instructions, see e.g. section `### Headings` in `docs/de/llm-prompt.md`.\n\n////", "source": "_llm-test.md"}
{"doc_id": "fastapi_0910", "title": "LLM test file { #llm-test-file }", "section": "Terms used in the docs { #terms-used-in-the-docs }", "content": "//// tab | Test\n\n* you\n* your\n\n* e.g.\n* etc.\n\n* `foo` as an `int`\n* `bar` as a `str`\n* `baz` as a `list`\n\n* the Tutorial - User guide\n* the Advanced User Guide\n* the SQLModel docs\n* the API docs\n* the automatic docs\n\n* Data Science\n* Deep Learning\n* Machine Learning\n* Dependency Injection\n* HTTP Basic authentication\n* HTTP Digest\n* ISO format\n* the JSON Schema standard\n* the JSON schema\n* the schema definition\n* Password Flow\n* Mobile\n\n* deprecated\n* designed\n* invalid\n* on the fly\n* standard\n* default\n* case-sensitive\n* case-insensitive\n\n* to serve the application\n* to serve the page\n\n* the app\n* the application\n\n* the request\n* the response\n* the error response\n\n* the path operation\n* the path operation decorator\n* the path operation function\n\n* the body\n* the request body\n* the response body\n* the JSON body\n* the form body\n* the file body\n* the function body\n\n* the parameter\n* the body parameter\n* the path parameter\n* the query parameter\n* the cookie parameter\n* the header parameter\n* the form parameter\n* the function parameter\n\n* the event\n* the startup event\n* the startup of the server\n* the shutdown event\n* the lifespan event\n\n* the handler\n* the event handler\n* the exception handler\n* to handle\n\n* the model\n* the Pydantic model\n* the data model\n* the database model\n* the form model\n* the model object\n\n* the class\n* the base class\n* the parent class\n* the subclass\n* the child class\n* the sibling class\n* the class method\n\n* the header\n* the headers\n* the authorization header\n* the `Authorization` header\n* the forwarded header\n\n* the dependency injection system\n* the dependency\n* the dependable\n* the dependant\n\n* I/O bound\n* CPU bound\n* concurrency\n* parallelism\n* multiprocessing\n\n* the env var\n* the environment variable\n* the `PATH`\n* the `PATH` variable\n\n* the authentication\n* the authentication provider\n* the authorization\n* the authorization form\n* the authorization provider\n* the user authenticates\n* the system authenticates the user\n\n* the CLI\n* the command line interface\n\n* the server\n* the client\n\n* the cloud provider\n* the cloud service\n\n* the development\n* the development stages\n\n* the dict\n* the dictionary\n* the enumeration\n* the enum\n* the enum member\n\n* the encoder\n* the decoder\n* to encode\n* to decode\n\n* the exception\n* to raise\n\n* the expression\n* the statement\n\n* the frontend\n* the backend\n\n* the GitHub discussion\n* the GitHub issue\n\n* the performance\n* the performance optimization\n\n* the return type\n* the return value\n\n* the security\n* the security scheme\n\n* the task\n* the background task\n* the task function\n\n* the template\n* the template engine\n\n* the type annotation\n* the type hint\n\n* the server worker\n* the Uvicorn worker\n* the Gunicorn Worker\n* the worker process\n* the worker class\n* the workload\n\n* the deployment\n* to deploy\n\n* the SDK\n* the software development kit\n\n* the `APIRouter`\n* the `requirements.txt`\n* the Bearer Token\n* the breaking change\n* the bug\n* the button\n* the callable\n* the code\n* the commit\n* the context manager\n* the coroutine\n* the database session\n* the disk\n* the domain\n* the engine\n* the fake X\n* the HTTP GET method\n* the item\n* the library\n* the lifespan\n* the lock\n* the middleware\n* the mobile application\n* the module\n* the mounting\n* the network\n* the origin\n* the override\n* the payload\n* the processor\n* the property\n* the proxy\n* the pull request\n* the query\n* the RAM\n* the remote machine\n* the status code\n* the string\n* the tag\n* the web framework\n* the wildcard\n* to return\n* to validate\n\n////\n\n//// tab | Info\n\nThis is a not complete and not normative list of (mostly) technical terms seen in the docs. It may be helpful for the prompt designer to figure out for which terms the LLM needs a helping hand. For example when it keeps reverting a good translation to a suboptimal translation. Or when it has problems conjugating/declinating a term in your language.\n\nSee e.g. section `### List of English terms and their preferred German translations` in `docs/de/llm-prompt.md`.\n\n////", "source": "_llm-test.md"}
{"doc_id": "fastapi_0911", "title": "About { #about }", "section": "About { #about }", "content": "About FastAPI, its design, inspiration and more. ü§ì", "source": "about\\index.md"}
{"doc_id": "fastapi_0912", "title": "Additional Responses in OpenAPI { #additional-responses-in-openapi }", "section": "Additional Responses in OpenAPI { #additional-responses-in-openapi }", "content": "/// warning\n\nThis is a rather advanced topic.\n\nIf you are starting with **FastAPI**, you might not need this.\n\n///\n\nYou can declare additional responses, with additional status codes, media types, descriptions, etc.\n\nThose additional responses will be included in the OpenAPI schema, so they will also appear in the API docs.\n\nBut for those additional responses you have to make sure you return a `Response` like `JSONResponse` directly, with your status code and content.", "source": "advanced\\additional-responses.md"}
{"doc_id": "fastapi_0913", "title": "Additional Responses in OpenAPI { #additional-responses-in-openapi }", "section": "Additional Response with `model` { #additional-response-with-model }", "content": "You can pass to your *path operation decorators* a parameter `responses`.\n\nIt receives a `dict`: the keys are status codes for each response (like `200`), and the values are other `dict`s with the information for each of them.\n\nEach of those response `dict`s can have a key `model`, containing a Pydantic model, just like `response_model`.\n\n**FastAPI** will take that model, generate its JSON Schema and include it in the correct place in OpenAPI.\n\nFor example, to declare another response with a status code `404` and a Pydantic model `Message`, you can write:\n\n{* ../../docs_src/additional_responses/tutorial001.py hl[18,22] *}\n\n/// note\n\nKeep in mind that you have to return the `JSONResponse` directly.\n\n///\n\n/// info\n\nThe `model` key is not part of OpenAPI.\n\n**FastAPI** will take the Pydantic model from there, generate the JSON Schema, and put it in the correct place.\n\nThe correct place is:\n\n* In the key `content`, that has as value another JSON object (`dict`) that contains:\n    * A key with the media type, e.g. `application/json`, that contains as value another JSON object, that contains:\n        * A key `schema`, that has as the value the JSON Schema from the model, here's the correct place.\n            * **FastAPI** adds a reference here to the global JSON Schemas in another place in your OpenAPI instead of including it directly. This way, other applications and clients can use those JSON Schemas directly, provide better code generation tools, etc.\n\n///\n\nThe generated responses in the OpenAPI for this *path operation* will be:\n\n```JSON hl_lines=\"3-12\"\n{\n    \"responses\": {\n        \"404\": {\n            \"description\": \"Additional Response\",\n            \"content\": {\n                \"application/json\": {\n                    \"schema\": {\n                        \"$ref\": \"#/components/schemas/Message\"\n                    }\n                }\n            }\n        },\n        \"200\": {\n            \"description\": \"Successful Response\",\n            \"content\": {\n                \"application/json\": {\n                    \"schema\": {\n                        \"$ref\": \"#/components/schemas/Item\"\n                    }\n                }\n            }\n        },\n        \"422\": {\n            \"description\": \"Validation Error\",\n            \"content\": {\n                \"application/json\": {\n                    \"schema\": {\n                        \"$ref\": \"#/components/schemas/HTTPValidationError\"\n                    }\n                }\n            }\n        }\n    }\n}\n```\n\nThe schemas are referenced to another place inside the OpenAPI schema:\n\n```JSON hl_lines=\"4-16\"\n{\n    \"components\": {\n        \"schemas\": {\n            \"Message\": {\n                \"title\": \"Message\",\n                \"required\": [\n                    \"message\"\n                ],\n                \"type\": \"object\",\n                \"properties\": {\n                    \"message\": {\n                        \"title\": \"Message\",\n                        \"type\": \"string\"\n                    }\n                }\n            },\n            \"Item\": {\n                \"title\": \"Item\",\n                \"required\": [\n                    \"id\",\n                    \"value\"\n                ],\n                \"type\": \"object\",\n                \"properties\": {\n                    \"id\": {\n                        \"title\": \"Id\",\n                        \"type\": \"string\"\n                    },\n                    \"value\": {\n                        \"title\": \"Value\",\n                        \"type\": \"string\"\n                    }\n                }\n            },\n            \"ValidationError\": {\n                \"title\": \"ValidationError\",\n                \"required\": [\n                    \"loc\",\n                    \"msg\",\n                    \"type\"\n                ],\n                \"type\": \"object\",\n                \"properties\": {\n                    \"loc\": {\n                        \"title\": \"Location\",\n                        \"type\": \"array\",\n                        \"items\": {\n                            \"type\": \"string\"\n                        }\n                    },\n                    \"msg\": {\n                        \"title\": \"Message\",\n                        \"type\": \"string\"\n                    },\n                    \"type\": {\n                        \"title\": \"Error Type\",\n                        \"type\": \"string\"\n                    }\n                }\n            },\n            \"HTTPValidationError\": {\n                \"title\": \"HTTPValidationError\",\n                \"type\": \"object\",\n                \"properties\": {\n                    \"detail\": {\n                        \"title\": \"Detail\",\n                        \"type\": \"array\",\n                        \"items\": {\n                            \"$ref\": \"#/components/schemas/ValidationError\"\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n```", "source": "advanced\\additional-responses.md"}
{"doc_id": "fastapi_0914", "title": "Additional Responses in OpenAPI { #additional-responses-in-openapi }", "section": "Additional media types for the main response { #additional-media-types-for-the-main-response }", "content": "You can use this same `responses` parameter to add different media types for the same main response.\n\nFor example, you can add an additional media type of `image/png`, declaring that your *path operation* can return a JSON object (with media type `application/json`) or a PNG image:\n\n{* ../../docs_src/additional_responses/tutorial002.py hl[19:24,28] *}\n\n/// note\n\nNotice that you have to return the image using a `FileResponse` directly.\n\n///\n\n/// info\n\nUnless you specify a different media type explicitly in your `responses` parameter, FastAPI will assume the response has the same media type as the main response class (default `application/json`).\n\nBut if you have specified a custom response class with `None` as its media type, FastAPI will use `application/json` for any additional response that has an associated model.\n\n///", "source": "advanced\\additional-responses.md"}
{"doc_id": "fastapi_0915", "title": "Additional Responses in OpenAPI { #additional-responses-in-openapi }", "section": "Combining information { #combining-information }", "content": "You can also combine response information from multiple places, including the `response_model`, `status_code`, and `responses` parameters.\n\nYou can declare a `response_model`, using the default status code `200` (or a custom one if you need), and then declare additional information for that same response in `responses`, directly in the OpenAPI schema.\n\n**FastAPI** will keep the additional information from `responses`, and combine it with the JSON Schema from your model.\n\nFor example, you can declare a response with a status code `404` that uses a Pydantic model and has a custom `description`.\n\nAnd a response with a status code `200` that uses your `response_model`, but includes a custom `example`:\n\n{* ../../docs_src/additional_responses/tutorial003.py hl[20:31] *}\n\nIt will all be combined and included in your OpenAPI, and shown in the API docs:\n\n<img src=\"/img/tutorial/additional-responses/image01.png\">", "source": "advanced\\additional-responses.md"}
{"doc_id": "fastapi_0916", "title": "Additional Responses in OpenAPI { #additional-responses-in-openapi }", "section": "Combine predefined responses and custom ones { #combine-predefined-responses-and-custom-ones }", "content": "You might want to have some predefined responses that apply to many *path operations*, but you want to combine them with custom responses needed by each *path operation*.\n\nFor those cases, you can use the Python technique of \"unpacking\" a `dict` with `**dict_to_unpack`:\n\n```Python\nold_dict = {\n    \"old key\": \"old value\",\n    \"second old key\": \"second old value\",\n}\nnew_dict = {**old_dict, \"new key\": \"new value\"}\n```\n\nHere, `new_dict` will contain all the key-value pairs from `old_dict` plus the new key-value pair:\n\n```Python\n{\n    \"old key\": \"old value\",\n    \"second old key\": \"second old value\",\n    \"new key\": \"new value\",\n}\n```\n\nYou can use that technique to reuse some predefined responses in your *path operations* and combine them with additional custom ones.\n\nFor example:\n\n{* ../../docs_src/additional_responses/tutorial004.py hl[13:17,26] *}", "source": "advanced\\additional-responses.md"}
{"doc_id": "fastapi_0917", "title": "Additional Responses in OpenAPI { #additional-responses-in-openapi }", "section": "More information about OpenAPI responses { #more-information-about-openapi-responses }", "content": "To see what exactly you can include in the responses, you can check these sections in the OpenAPI specification:\n\n* <a href=\"https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.1.0.md#responses-object\" class=\"external-link\" target=\"_blank\">OpenAPI Responses Object</a>, it includes the `Response Object`.\n* <a href=\"https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.1.0.md#response-object\" class=\"external-link\" target=\"_blank\">OpenAPI Response Object</a>, you can include anything from this directly in each response inside your `responses` parameter. Including `description`, `headers`, `content` (inside of this is that you declare different media types and JSON Schemas), and `links`.", "source": "advanced\\additional-responses.md"}
{"doc_id": "fastapi_0918", "title": "Additional Status Codes { #additional-status-codes }", "section": "Additional Status Codes { #additional-status-codes }", "content": "By default, **FastAPI** will return the responses using a `JSONResponse`, putting the content you return from your *path operation* inside of that `JSONResponse`.\n\nIt will use the default status code or the one you set in your *path operation*.", "source": "advanced\\additional-status-codes.md"}
{"doc_id": "fastapi_0919", "title": "Additional Status Codes { #additional-status-codes }", "section": "Additional status codes { #additional-status-codes_1 }", "content": "If you want to return additional status codes apart from the main one, you can do that by returning a `Response` directly, like a `JSONResponse`, and set the additional status code directly.\n\nFor example, let's say that you want to have a *path operation* that allows to update items, and returns HTTP status codes of 200 \"OK\" when successful.\n\nBut you also want it to accept new items. And when the items didn't exist before, it creates them, and returns an HTTP status code of 201 \"Created\".\n\nTo achieve that, import `JSONResponse`, and return your content there directly, setting the `status_code` that you want:\n\n{* ../../docs_src/additional_status_codes/tutorial001_an_py310.py hl[4,25] *}\n\n/// warning\n\nWhen you return a `Response` directly, like in the example above, it will be returned directly.\n\nIt won't be serialized with a model, etc.\n\nMake sure it has the data you want it to have, and that the values are valid JSON (if you are using `JSONResponse`).\n\n///\n\n/// note | Technical Details\n\nYou could also use `from starlette.responses import JSONResponse`.\n\n**FastAPI** provides the same `starlette.responses` as `fastapi.responses` just as a convenience for you, the developer. But most of the available responses come directly from Starlette. The same with `status`.\n\n///", "source": "advanced\\additional-status-codes.md"}
{"doc_id": "fastapi_0920", "title": "Additional Status Codes { #additional-status-codes }", "section": "OpenAPI and API docs { #openapi-and-api-docs }", "content": "If you return additional status codes and responses directly, they won't be included in the OpenAPI schema (the API docs), because FastAPI doesn't have a way to know beforehand what you are going to return.\n\nBut you can document that in your code, using: [Additional Responses](additional-responses.md){.internal-link target=_blank}.", "source": "advanced\\additional-status-codes.md"}
{"doc_id": "fastapi_0921", "title": "Advanced Dependencies { #advanced-dependencies }", "section": "Advanced Dependencies { #advanced-dependencies }", "content": "", "source": "advanced\\advanced-dependencies.md"}
{"doc_id": "fastapi_0922", "title": "Advanced Dependencies { #advanced-dependencies }", "section": "Parameterized dependencies { #parameterized-dependencies }", "content": "All the dependencies we have seen are a fixed function or class.\n\nBut there could be cases where you want to be able to set parameters on the dependency, without having to declare many different functions or classes.\n\nLet's imagine that we want to have a dependency that checks if the query parameter `q` contains some fixed content.\n\nBut we want to be able to parameterize that fixed content.", "source": "advanced\\advanced-dependencies.md"}
{"doc_id": "fastapi_0923", "title": "Advanced Dependencies { #advanced-dependencies }", "section": "A \"callable\" instance { #a-callable-instance }", "content": "In Python there's a way to make an instance of a class a \"callable\".\n\nNot the class itself (which is already a callable), but an instance of that class.\n\nTo do that, we declare a method `__call__`:\n\n{* ../../docs_src/dependencies/tutorial011_an_py39.py hl[12] *}\n\nIn this case, this `__call__` is what **FastAPI** will use to check for additional parameters and sub-dependencies, and this is what will be called to pass a value to the parameter in your *path operation function* later.", "source": "advanced\\advanced-dependencies.md"}
{"doc_id": "fastapi_0924", "title": "Advanced Dependencies { #advanced-dependencies }", "section": "Parameterize the instance { #parameterize-the-instance }", "content": "And now, we can use `__init__` to declare the parameters of the instance that we can use to \"parameterize\" the dependency:\n\n{* ../../docs_src/dependencies/tutorial011_an_py39.py hl[9] *}\n\nIn this case, **FastAPI** won't ever touch or care about `__init__`, we will use it directly in our code.", "source": "advanced\\advanced-dependencies.md"}
{"doc_id": "fastapi_0925", "title": "Advanced Dependencies { #advanced-dependencies }", "section": "Create an instance { #create-an-instance }", "content": "We could create an instance of this class with:\n\n{* ../../docs_src/dependencies/tutorial011_an_py39.py hl[18] *}\n\nAnd that way we are able to \"parameterize\" our dependency, that now has `\"bar\"` inside of it, as the attribute `checker.fixed_content`.", "source": "advanced\\advanced-dependencies.md"}
{"doc_id": "fastapi_0926", "title": "Advanced Dependencies { #advanced-dependencies }", "section": "Use the instance as a dependency { #use-the-instance-as-a-dependency }", "content": "Then, we could use this `checker` in a `Depends(checker)`, instead of `Depends(FixedContentQueryChecker)`, because the dependency is the instance, `checker`, not the class itself.\n\nAnd when solving the dependency, **FastAPI** will call this `checker` like:\n\n```Python\nchecker(q=\"somequery\")\n```\n\n...and pass whatever that returns as the value of the dependency in our *path operation function* as the parameter `fixed_content_included`:\n\n{* ../../docs_src/dependencies/tutorial011_an_py39.py hl[22] *}\n\n/// tip\n\nAll this might seem contrived. And it might not be very clear how is it useful yet.\n\nThese examples are intentionally simple, but show how it all works.\n\nIn the chapters about security, there are utility functions that are implemented in this same way.\n\nIf you understood all this, you already know how those utility tools for security work underneath.\n\n///", "source": "advanced\\advanced-dependencies.md"}
{"doc_id": "fastapi_0927", "title": "Advanced Dependencies { #advanced-dependencies }", "section": "Dependencies with `yield`, `HTTPException`, `except` and Background Tasks { #dependencies-with-yield-httpexception-except-and-background-tasks }", "content": "/// warning\n\nYou most probably don't need these technical details.\n\nThese details are useful mainly if you had a FastAPI application older than 0.121.0 and you are facing issues with dependencies with `yield`.\n\n///\n\nDependencies with `yield` have evolved over time to account for the different use cases and to fix some issues, here's a summary of what has changed.", "source": "advanced\\advanced-dependencies.md"}
{"doc_id": "fastapi_0928", "title": "Advanced Dependencies { #advanced-dependencies }", "section": "Dependencies with `yield` and `scope` { #dependencies-with-yield-and-scope }", "content": "In version 0.121.0, FastAPI added support for `Depends(scope=\"function\")` for dependencies with `yield`.\n\nUsing `Depends(scope=\"function\")`, the exit code after `yield` is executed right after the *path operation function* is finished, before the response is sent back to the client.\n\nAnd when using `Depends(scope=\"request\")` (the default), the exit code after `yield` is executed after the response is sent.\n\nYou can read more about it in the docs for [Dependencies with `yield` - Early exit and `scope`](../tutorial/dependencies/dependencies-with-yield.md#early-exit-and-scope).", "source": "advanced\\advanced-dependencies.md"}
{"doc_id": "fastapi_0929", "title": "Advanced Dependencies { #advanced-dependencies }", "section": "Dependencies with `yield` and `StreamingResponse`, Technical Details { #dependencies-with-yield-and-streamingresponse-technical-details }", "content": "Before FastAPI 0.118.0, if you used a dependency with `yield`, it would run the exit code after the *path operation function* returned but right before sending the response.\n\nThe intention was to avoid holding resources for longer than necessary, waiting for the response to travel through the network.\n\nThis change also meant that if you returned a `StreamingResponse`, the exit code of the dependency with `yield` would have been already run.\n\nFor example, if you had a database session in a dependency with `yield`, the `StreamingResponse` would not be able to use that session while streaming data because the session would have already been closed in the exit code after `yield`.\n\nThis behavior was reverted in 0.118.0, to make the exit code after `yield` be executed after the response is sent.\n\n/// info\n\nAs you will see below, this is very similar to the behavior before version 0.106.0, but with several improvements and bug fixes for corner cases.\n\n///\n\n#### Use Cases with Early Exit Code { #use-cases-with-early-exit-code }\n\nThere are some use cases with specific conditions that could benefit from the old behavior of running the exit code of dependencies with `yield` before sending the response.\n\nFor example, imagine you have code that uses a database session in a dependency with `yield` only to verify a user, but the database session is never used again in the *path operation function*, only in the dependency, **and** the response takes a long time to be sent, like a `StreamingResponse` that sends data slowly, but for some reason doesn't use the database.\n\nIn this case, the database session would be held until the response is finished being sent, but if you don't use it, then it wouldn't be necessary to hold it.\n\nHere's how it could look like:\n\n{* ../../docs_src/dependencies/tutorial013_an_py310.py *}\n\nThe exit code, the automatic closing of the `Session` in:\n\n{* ../../docs_src/dependencies/tutorial013_an_py310.py ln[19:21] *}\n\n...would be run after the the response finishes sending the slow data:\n\n{* ../../docs_src/dependencies/tutorial013_an_py310.py ln[30:38] hl[31:33] *}\n\nBut as `generate_stream()` doesn't use the database session, it is not really necessary to keep the session open while sending the response.\n\nIf you have this specific use case using SQLModel (or SQLAlchemy), you could explicitly close the session after you don't need it anymore:\n\n{* ../../docs_src/dependencies/tutorial014_an_py310.py ln[24:28] hl[28] *}\n\nThat way the session would release the database connection, so other requests could use it.\n\nIf you have a different use case that needs to exit early from a dependency with `yield`, please create a <a href=\"https://github.com/fastapi/fastapi/discussions/new?category=questions\" class=\"external-link\" target=\"_blank\">GitHub Discussion Question</a> with your specific use case and why you would benefit from having early closing for dependencies with `yield`.\n\nIf there are compelling use cases for early closing in dependencies with `yield`, I would consider adding a new way to opt in to early closing.", "source": "advanced\\advanced-dependencies.md"}
{"doc_id": "fastapi_0930", "title": "Advanced Dependencies { #advanced-dependencies }", "section": "Dependencies with `yield` and `except`, Technical Details { #dependencies-with-yield-and-except-technical-details }", "content": "Before FastAPI 0.110.0, if you used a dependency with `yield`, and then you captured an exception with `except` in that dependency, and you didn't raise the exception again, the exception would be automatically raised/forwarded to any exception handlers or the internal server error handler.\n\nThis was changed in version 0.110.0 to fix unhandled memory consumption from forwarded exceptions without a handler (internal server errors), and to make it consistent with the behavior of regular Python code.", "source": "advanced\\advanced-dependencies.md"}
{"doc_id": "fastapi_0931", "title": "Advanced Dependencies { #advanced-dependencies }", "section": "Background Tasks and Dependencies with `yield`, Technical Details { #background-tasks-and-dependencies-with-yield-technical-details }", "content": "Before FastAPI 0.106.0, raising exceptions after `yield` was not possible, the exit code in dependencies with `yield` was executed *after* the response was sent, so [Exception Handlers](../tutorial/handling-errors.md#install-custom-exception-handlers){.internal-link target=_blank} would have already run.\n\nThis was designed this way mainly to allow using the same objects \"yielded\" by dependencies inside of background tasks, because the exit code would be executed after the background tasks were finished.\n\nThis was changed in FastAPI 0.106.0 with the intention to not hold resources while waiting for the response to travel through the network.\n\n/// tip\n\nAdditionally, a background task is normally an independent set of logic that should be handled separately, with its own resources (e.g. its own database connection).\n\nSo, this way you will probably have cleaner code.\n\n///\n\nIf you used to rely on this behavior, now you should create the resources for background tasks inside the background task itself, and use internally only data that doesn't depend on the resources of dependencies with `yield`.\n\nFor example, instead of using the same database session, you would create a new database session inside of the background task, and you would obtain the objects from the database using this new session. And then instead of passing the object from the database as a parameter to the background task function, you would pass the ID of that object and then obtain the object again inside the background task function.", "source": "advanced\\advanced-dependencies.md"}
{"doc_id": "fastapi_0932", "title": "Async Tests { #async-tests }", "section": "Async Tests { #async-tests }", "content": "You have already seen how to test your **FastAPI** applications using the provided `TestClient`. Up to now, you have only seen how to write synchronous tests, without using `async` functions.\n\nBeing able to use asynchronous functions in your tests could be useful, for example, when you're querying your database asynchronously. Imagine you want to test sending requests to your FastAPI application and then verify that your backend successfully wrote the correct data in the database, while using an async database library.\n\nLet's look at how we can make that work.", "source": "advanced\\async-tests.md"}
{"doc_id": "fastapi_0933", "title": "Async Tests { #async-tests }", "section": "pytest.mark.anyio { #pytest-mark-anyio }", "content": "If we want to call asynchronous functions in our tests, our test functions have to be asynchronous. AnyIO provides a neat plugin for this, that allows us to specify that some test functions are to be called asynchronously.", "source": "advanced\\async-tests.md"}
{"doc_id": "fastapi_0934", "title": "Async Tests { #async-tests }", "section": "HTTPX { #httpx }", "content": "Even if your **FastAPI** application uses normal `def` functions instead of `async def`, it is still an `async` application underneath.\n\nThe `TestClient` does some magic inside to call the asynchronous FastAPI application in your normal `def` test functions, using standard pytest. But that magic doesn't work anymore when we're using it inside asynchronous functions. By running our tests asynchronously, we can no longer use the `TestClient` inside our test functions.\n\nThe `TestClient` is based on <a href=\"https://www.python-httpx.org\" class=\"external-link\" target=\"_blank\">HTTPX</a>, and luckily, we can use it directly to test the API.", "source": "advanced\\async-tests.md"}
{"doc_id": "fastapi_0935", "title": "Async Tests { #async-tests }", "section": "Example { #example }", "content": "For a simple example, let's consider a file structure similar to the one described in [Bigger Applications](../tutorial/bigger-applications.md){.internal-link target=_blank} and [Testing](../tutorial/testing.md){.internal-link target=_blank}:\n\n```\n.\n‚îú‚îÄ‚îÄ app\n‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __init__.py\n‚îÇ¬†¬† ‚îú‚îÄ‚îÄ main.py\n‚îÇ¬†¬† ‚îî‚îÄ‚îÄ test_main.py\n```\n\nThe file `main.py` would have:\n\n{* ../../docs_src/async_tests/main.py *}\n\nThe file `test_main.py` would have the tests for `main.py`, it could look like this now:\n\n{* ../../docs_src/async_tests/test_main.py *}", "source": "advanced\\async-tests.md"}
{"doc_id": "fastapi_0936", "title": "Async Tests { #async-tests }", "section": "Run it { #run-it }", "content": "You can run your tests as usual via:\n\n<div class=\"termy\">\n\n```console\n$ pytest\n\n---> 100%\n```\n\n</div>", "source": "advanced\\async-tests.md"}
{"doc_id": "fastapi_0937", "title": "Async Tests { #async-tests }", "section": "In Detail { #in-detail }", "content": "The marker `@pytest.mark.anyio` tells pytest that this test function should be called asynchronously:\n\n{* ../../docs_src/async_tests/test_main.py hl[7] *}\n\n/// tip\n\nNote that the test function is now `async def` instead of just `def` as before when using the `TestClient`.\n\n///\n\nThen we can create an `AsyncClient` with the app, and send async requests to it, using `await`.\n\n{* ../../docs_src/async_tests/test_main.py hl[9:12] *}\n\nThis is the equivalent to:\n\n```Python\nresponse = client.get('/')\n```\n\n...that we used to make our requests with the `TestClient`.\n\n/// tip\n\nNote that we're using async/await with the new `AsyncClient` - the request is asynchronous.\n\n///\n\n/// warning\n\nIf your application relies on lifespan events, the `AsyncClient` won't trigger these events. To ensure they are triggered, use `LifespanManager` from <a href=\"https://github.com/florimondmanca/asgi-lifespan#usage\" class=\"external-link\" target=\"_blank\">florimondmanca/asgi-lifespan</a>.\n\n///", "source": "advanced\\async-tests.md"}
{"doc_id": "fastapi_0938", "title": "Async Tests { #async-tests }", "section": "Other Asynchronous Function Calls { #other-asynchronous-function-calls }", "content": "As the testing function is now asynchronous, you can now also call (and `await`) other `async` functions apart from sending requests to your FastAPI application in your tests, exactly as you would call them anywhere else in your code.\n\n/// tip\n\nIf you encounter a `RuntimeError: Task attached to a different loop` when integrating asynchronous function calls in your tests (e.g. when using <a href=\"https://stackoverflow.com/questions/41584243/runtimeerror-task-attached-to-a-different-loop\" class=\"external-link\" target=\"_blank\">MongoDB's MotorClient</a>), remember to instantiate objects that need an event loop only within async functions, e.g. an `@app.on_event(\"startup\")` callback.\n\n///", "source": "advanced\\async-tests.md"}
{"doc_id": "fastapi_0939", "title": "Behind a Proxy { #behind-a-proxy }", "section": "Behind a Proxy { #behind-a-proxy }", "content": "In many situations, you would use a **proxy** like Traefik or Nginx in front of your FastAPI app.\n\nThese proxies could handle HTTPS certificates and other things.", "source": "advanced\\behind-a-proxy.md"}
{"doc_id": "fastapi_0940", "title": "Behind a Proxy { #behind-a-proxy }", "section": "Proxy Forwarded Headers { #proxy-forwarded-headers }", "content": "A **proxy** in front of your application would normally set some headers on the fly before sending the requests to your **server** to let the server know that the request was **forwarded** by the proxy, letting it know the original (public) URL, including the domain, that it is using HTTPS, etc.\n\nThe **server** program (for example **Uvicorn** via **FastAPI CLI**) is capable of interpreting these headers, and then passing that information to your application.\n\nBut for security, as the server doesn't know it is behind a trusted proxy, it won't interpret those headers.\n\n/// note | Technical Details\n\nThe proxy headers are:\n\n* <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/X-Forwarded-For\" class=\"external-link\" target=\"_blank\">X-Forwarded-For</a>\n* <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/X-Forwarded-Proto\" class=\"external-link\" target=\"_blank\">X-Forwarded-Proto</a>\n* <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/X-Forwarded-Host\" class=\"external-link\" target=\"_blank\">X-Forwarded-Host</a>\n\n///", "source": "advanced\\behind-a-proxy.md"}
{"doc_id": "fastapi_0941", "title": "Behind a Proxy { #behind-a-proxy }", "section": "Enable Proxy Forwarded Headers { #enable-proxy-forwarded-headers }", "content": "You can start FastAPI CLI with the *CLI Option* `--forwarded-allow-ips` and pass the IP addresses that should be trusted to read those forwarded headers.\n\nIf you set it to `--forwarded-allow-ips=\"*\"` it would trust all the incoming IPs.\n\nIf your **server** is behind a trusted **proxy** and only the proxy talks to it, this would make it accept whatever is the IP of that **proxy**.\n\n<div class=\"termy\">\n\n```console\n$ fastapi run --forwarded-allow-ips=\"*\"\n\n<span style=\"color: green;\">INFO</span>:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)\n```\n\n</div>", "source": "advanced\\behind-a-proxy.md"}
{"doc_id": "fastapi_0942", "title": "Behind a Proxy { #behind-a-proxy }", "section": "Redirects with HTTPS { #redirects-with-https }", "content": "For example, let's say you define a *path operation* `/items/`:\n\n{* ../../docs_src/behind_a_proxy/tutorial001_01.py hl[6] *}\n\nIf the client tries to go to `/items`, by default, it would be redirected to `/items/`.\n\nBut before setting the *CLI Option* `--forwarded-allow-ips` it could redirect to `http://localhost:8000/items/`.\n\nBut maybe your application is hosted at `https://mysuperapp.com`, and the redirection should be to `https://mysuperapp.com/items/`.\n\nBy setting `--proxy-headers` now FastAPI would be able to redirect to the right location. üòé\n\n```\nhttps://mysuperapp.com/items/\n```\n\n/// tip\n\nIf you want to learn more about HTTPS, check the guide [About HTTPS](../deployment/https.md){.internal-link target=_blank}.\n\n///", "source": "advanced\\behind-a-proxy.md"}
{"doc_id": "fastapi_0943", "title": "Behind a Proxy { #behind-a-proxy }", "section": "How Proxy Forwarded Headers Work { #how-proxy-forwarded-headers-work }", "content": "Here's a visual representation of how the **proxy** adds forwarded headers between the client and the **application server**:\n\n```mermaid\nsequenceDiagram\n    participant Client\n    participant Proxy as Proxy/Load Balancer\n    participant Server as FastAPI Server\n\n    Client->>Proxy: HTTPS Request<br/>Host: mysuperapp.com<br/>Path: /items\n\n    Note over Proxy: Proxy adds forwarded headers\n\n    Proxy->>Server: HTTP Request<br/>X-Forwarded-For: [client IP]<br/>X-Forwarded-Proto: https<br/>X-Forwarded-Host: mysuperapp.com<br/>Path: /items\n\n    Note over Server: Server interprets headers<br/>(if --forwarded-allow-ips is set)\n\n    Server->>Proxy: HTTP Response<br/>with correct HTTPS URLs\n\n    Proxy->>Client: HTTPS Response\n```\n\nThe **proxy** intercepts the original client request and adds the special *forwarded* headers (`X-Forwarded-*`) before passing the request to the **application server**.\n\nThese headers preserve information about the original request that would otherwise be lost:\n\n* **X-Forwarded-For**: The original client's IP address\n* **X-Forwarded-Proto**: The original protocol (`https`)\n* **X-Forwarded-Host**: The original host (`mysuperapp.com`)\n\nWhen **FastAPI CLI** is configured with `--forwarded-allow-ips`, it trusts these headers and uses them, for example to generate the correct URLs in redirects.", "source": "advanced\\behind-a-proxy.md"}
{"doc_id": "fastapi_0944", "title": "Behind a Proxy { #behind-a-proxy }", "section": "Proxy with a stripped path prefix { #proxy-with-a-stripped-path-prefix }", "content": "You could have a proxy that adds a path prefix to your application.\n\nIn these cases you can use `root_path` to configure your application.\n\nThe `root_path` is a mechanism provided by the ASGI specification (that FastAPI is built on, through Starlette).\n\nThe `root_path` is used to handle these specific cases.\n\nAnd it's also used internally when mounting sub-applications.\n\nHaving a proxy with a stripped path prefix, in this case, means that you could declare a path at `/app` in your code, but then, you add a layer on top (the proxy) that would put your **FastAPI** application under a path like `/api/v1`.\n\nIn this case, the original path `/app` would actually be served at `/api/v1/app`.\n\nEven though all your code is written assuming there's just `/app`.\n\n{* ../../docs_src/behind_a_proxy/tutorial001.py hl[6] *}\n\nAnd the proxy would be **\"stripping\"** the **path prefix** on the fly before transmitting the request to the app server (probably Uvicorn via FastAPI CLI), keeping your application convinced that it is being served at `/app`, so that you don't have to update all your code to include the prefix `/api/v1`.\n\nUp to here, everything would work as normally.\n\nBut then, when you open the integrated docs UI (the frontend), it would expect to get the OpenAPI schema at `/openapi.json`, instead of `/api/v1/openapi.json`.\n\nSo, the frontend (that runs in the browser) would try to reach `/openapi.json` and wouldn't be able to get the OpenAPI schema.\n\nBecause we have a proxy with a path prefix of `/api/v1` for our app, the frontend needs to fetch the OpenAPI schema at `/api/v1/openapi.json`.\n\n```mermaid\ngraph LR\n\nbrowser(\"Browser\")\nproxy[\"Proxy on http://0.0.0.0:9999/api/v1/app\"]\nserver[\"Server on http://127.0.0.1:8000/app\"]\n\nbrowser --> proxy\nproxy --> server\n```\n\n/// tip\n\nThe IP `0.0.0.0` is commonly used to mean that the program listens on all the IPs available in that machine/server.\n\n///\n\nThe docs UI would also need the OpenAPI schema to declare that this API `server` is located at `/api/v1` (behind the proxy). For example:\n\n```JSON hl_lines=\"4-8\"\n{\n    \"openapi\": \"3.1.0\",\n    // More stuff here\n    \"servers\": [\n        {\n            \"url\": \"/api/v1\"\n        }\n    ],\n    \"paths\": {\n            // More stuff here\n    }\n}\n```\n\nIn this example, the \"Proxy\" could be something like **Traefik**. And the server would be something like FastAPI CLI with **Uvicorn**, running your FastAPI application.", "source": "advanced\\behind-a-proxy.md"}
{"doc_id": "fastapi_0945", "title": "Behind a Proxy { #behind-a-proxy }", "section": "Providing the `root_path` { #providing-the-root-path }", "content": "To achieve this, you can use the command line option `--root-path` like:\n\n<div class=\"termy\">\n\n```console\n$ fastapi run main.py --forwarded-allow-ips=\"*\" --root-path /api/v1\n\n<span style=\"color: green;\">INFO</span>:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)\n```\n\n</div>\n\nIf you use Hypercorn, it also has the option `--root-path`.\n\n/// note | Technical Details\n\nThe ASGI specification defines a `root_path` for this use case.\n\nAnd the `--root-path` command line option provides that `root_path`.\n\n///", "source": "advanced\\behind-a-proxy.md"}
{"doc_id": "fastapi_0946", "title": "Behind a Proxy { #behind-a-proxy }", "section": "Checking the current `root_path` { #checking-the-current-root-path }", "content": "You can get the current `root_path` used by your application for each request, it is part of the `scope` dictionary (that's part of the ASGI spec).\n\nHere we are including it in the message just for demonstration purposes.\n\n{* ../../docs_src/behind_a_proxy/tutorial001.py hl[8] *}\n\nThen, if you start Uvicorn with:\n\n<div class=\"termy\">\n\n```console\n$ fastapi run main.py --forwarded-allow-ips=\"*\" --root-path /api/v1\n\n<span style=\"color: green;\">INFO</span>:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)\n```\n\n</div>\n\nThe response would be something like:\n\n```JSON\n{\n    \"message\": \"Hello World\",\n    \"root_path\": \"/api/v1\"\n}\n```", "source": "advanced\\behind-a-proxy.md"}
{"doc_id": "fastapi_0947", "title": "Behind a Proxy { #behind-a-proxy }", "section": "Setting the `root_path` in the FastAPI app { #setting-the-root-path-in-the-fastapi-app }", "content": "Alternatively, if you don't have a way to provide a command line option like `--root-path` or equivalent, you can set the `root_path` parameter when creating your FastAPI app:\n\n{* ../../docs_src/behind_a_proxy/tutorial002.py hl[3] *}\n\nPassing the `root_path` to `FastAPI` would be the equivalent of passing the `--root-path` command line option to Uvicorn or Hypercorn.", "source": "advanced\\behind-a-proxy.md"}
{"doc_id": "fastapi_0948", "title": "Behind a Proxy { #behind-a-proxy }", "section": "About `root_path` { #about-root-path }", "content": "Keep in mind that the server (Uvicorn) won't use that `root_path` for anything else than passing it to the app.\n\nBut if you go with your browser to <a href=\"http://127.0.0.1:8000/app\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/app</a> you will see the normal response:\n\n```JSON\n{\n    \"message\": \"Hello World\",\n    \"root_path\": \"/api/v1\"\n}\n```\n\nSo, it won't expect to be accessed at `http://127.0.0.1:8000/api/v1/app`.\n\nUvicorn will expect the proxy to access Uvicorn at `http://127.0.0.1:8000/app`, and then it would be the proxy's responsibility to add the extra `/api/v1` prefix on top.", "source": "advanced\\behind-a-proxy.md"}
{"doc_id": "fastapi_0949", "title": "Behind a Proxy { #behind-a-proxy }", "section": "About proxies with a stripped path prefix { #about-proxies-with-a-stripped-path-prefix }", "content": "Keep in mind that a proxy with stripped path prefix is only one of the ways to configure it.\n\nProbably in many cases the default will be that the proxy doesn't have a stripped path prefix.\n\nIn a case like that (without a stripped path prefix), the proxy would listen on something like `https://myawesomeapp.com`, and then if the browser goes to `https://myawesomeapp.com/api/v1/app` and your server (e.g. Uvicorn) listens on `http://127.0.0.1:8000` the proxy (without a stripped path prefix) would access Uvicorn at the same path: `http://127.0.0.1:8000/api/v1/app`.", "source": "advanced\\behind-a-proxy.md"}
{"doc_id": "fastapi_0950", "title": "Behind a Proxy { #behind-a-proxy }", "section": "Testing locally with Traefik { #testing-locally-with-traefik }", "content": "You can easily run the experiment locally with a stripped path prefix using <a href=\"https://docs.traefik.io/\" class=\"external-link\" target=\"_blank\">Traefik</a>.\n\n<a href=\"https://github.com/containous/traefik/releases\" class=\"external-link\" target=\"_blank\">Download Traefik</a>, it's a single binary, you can extract the compressed file and run it directly from the terminal.\n\nThen create a file `traefik.toml` with:\n\n```TOML hl_lines=\"3\"\n[entryPoints]\n  [entryPoints.http]\n    address = \":9999\"\n\n[providers]\n  [providers.file]\n    filename = \"routes.toml\"\n```\n\nThis tells Traefik to listen on port 9999 and to use another file `routes.toml`.\n\n/// tip\n\nWe are using port 9999 instead of the standard HTTP port 80 so that you don't have to run it with admin (`sudo`) privileges.\n\n///\n\nNow create that other file `routes.toml`:\n\n```TOML hl_lines=\"5  12  20\"\n[http]\n  [http.middlewares]\n\n    [http.middlewares.api-stripprefix.stripPrefix]\n      prefixes = [\"/api/v1\"]\n\n  [http.routers]\n\n    [http.routers.app-http]\n      entryPoints = [\"http\"]\n      service = \"app\"\n      rule = \"PathPrefix(`/api/v1`)\"\n      middlewares = [\"api-stripprefix\"]\n\n  [http.services]\n\n    [http.services.app]\n      [http.services.app.loadBalancer]\n        [[http.services.app.loadBalancer.servers]]\n          url = \"http://127.0.0.1:8000\"\n```\n\nThis file configures Traefik to use the path prefix `/api/v1`.\n\nAnd then Traefik will redirect its requests to your Uvicorn running on `http://127.0.0.1:8000`.\n\nNow start Traefik:\n\n<div class=\"termy\">\n\n```console\n$ ./traefik --configFile=traefik.toml\n\nINFO[0000] Configuration loaded from file: /home/user/awesomeapi/traefik.toml\n```\n\n</div>\n\nAnd now start your app, using the `--root-path` option:\n\n<div class=\"termy\">\n\n```console\n$ fastapi run main.py --forwarded-allow-ips=\"*\" --root-path /api/v1\n\n<span style=\"color: green;\">INFO</span>:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)\n```\n\n</div>", "source": "advanced\\behind-a-proxy.md"}
{"doc_id": "fastapi_0951", "title": "Behind a Proxy { #behind-a-proxy }", "section": "Check the responses { #check-the-responses }", "content": "Now, if you go to the URL with the port for Uvicorn: <a href=\"http://127.0.0.1:8000/app\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/app</a>, you will see the normal response:\n\n```JSON\n{\n    \"message\": \"Hello World\",\n    \"root_path\": \"/api/v1\"\n}\n```\n\n/// tip\n\nNotice that even though you are accessing it at `http://127.0.0.1:8000/app` it shows the `root_path` of `/api/v1`, taken from the option `--root-path`.\n\n///\n\nAnd now open the URL with the port for Traefik, including the path prefix: <a href=\"http://127.0.0.1:9999/api/v1/app\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:9999/api/v1/app</a>.\n\nWe get the same response:\n\n```JSON\n{\n    \"message\": \"Hello World\",\n    \"root_path\": \"/api/v1\"\n}\n```\n\nbut this time at the URL with the prefix path provided by the proxy: `/api/v1`.\n\nOf course, the idea here is that everyone would access the app through the proxy, so the version with the path prefix `/api/v1` is the \"correct\" one.\n\nAnd the version without the path prefix (`http://127.0.0.1:8000/app`), provided by Uvicorn directly, would be exclusively for the _proxy_ (Traefik) to access it.\n\nThat demonstrates how the Proxy (Traefik) uses the path prefix and how the server (Uvicorn) uses the `root_path` from the option `--root-path`.", "source": "advanced\\behind-a-proxy.md"}
{"doc_id": "fastapi_0952", "title": "Behind a Proxy { #behind-a-proxy }", "section": "Check the docs UI { #check-the-docs-ui }", "content": "But here's the fun part. ‚ú®\n\nThe \"official\" way to access the app would be through the proxy with the path prefix that we defined. So, as we would expect, if you try the docs UI served by Uvicorn directly, without the path prefix in the URL, it won't work, because it expects to be accessed through the proxy.\n\nYou can check it at <a href=\"http://127.0.0.1:8000/docs\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/docs</a>:\n\n<img src=\"/img/tutorial/behind-a-proxy/image01.png\">\n\nBut if we access the docs UI at the \"official\" URL using the proxy with port `9999`, at `/api/v1/docs`, it works correctly! üéâ\n\nYou can check it at <a href=\"http://127.0.0.1:9999/api/v1/docs\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:9999/api/v1/docs</a>:\n\n<img src=\"/img/tutorial/behind-a-proxy/image02.png\">\n\nRight as we wanted it. ‚úîÔ∏è\n\nThis is because FastAPI uses this `root_path` to create the default `server` in OpenAPI with the URL provided by `root_path`.", "source": "advanced\\behind-a-proxy.md"}
{"doc_id": "fastapi_0953", "title": "Behind a Proxy { #behind-a-proxy }", "section": "Additional servers { #additional-servers }", "content": "/// warning\n\nThis is a more advanced use case. Feel free to skip it.\n\n///\n\nBy default, **FastAPI** will create a `server` in the OpenAPI schema with the URL for the `root_path`.\n\nBut you can also provide other alternative `servers`, for example if you want *the same* docs UI to interact with both a staging and a production environment.\n\nIf you pass a custom list of `servers` and there's a `root_path` (because your API lives behind a proxy), **FastAPI** will insert a \"server\" with this `root_path` at the beginning of the list.\n\nFor example:\n\n{* ../../docs_src/behind_a_proxy/tutorial003.py hl[4:7] *}\n\nWill generate an OpenAPI schema like:\n\n```JSON hl_lines=\"5-7\"\n{\n    \"openapi\": \"3.1.0\",\n    // More stuff here\n    \"servers\": [\n        {\n            \"url\": \"/api/v1\"\n        },\n        {\n            \"url\": \"https://stag.example.com\",\n            \"description\": \"Staging environment\"\n        },\n        {\n            \"url\": \"https://prod.example.com\",\n            \"description\": \"Production environment\"\n        }\n    ],\n    \"paths\": {\n            // More stuff here\n    }\n}\n```\n\n/// tip\n\nNotice the auto-generated server with a `url` value of `/api/v1`, taken from the `root_path`.\n\n///\n\nIn the docs UI at <a href=\"http://127.0.0.1:9999/api/v1/docs\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:9999/api/v1/docs</a> it would look like:\n\n<img src=\"/img/tutorial/behind-a-proxy/image03.png\">\n\n/// tip\n\nThe docs UI will interact with the server that you select.\n\n///\n\n/// note | Technical Details\n\nThe `servers` property in the OpenAPI specification is optional.\n\nIf you don't specify the `servers` parameter and `root_path` is equal to `/`, the `servers` property in the generated OpenAPI schema will be omitted entirely by default, which is the equivalent of a single server with a `url` value of `/`.\n\n///", "source": "advanced\\behind-a-proxy.md"}
{"doc_id": "fastapi_0954", "title": "Behind a Proxy { #behind-a-proxy }", "section": "Disable automatic server from `root_path` { #disable-automatic-server-from-root-path }", "content": "If you don't want **FastAPI** to include an automatic server using the `root_path`, you can use the parameter `root_path_in_servers=False`:\n\n{* ../../docs_src/behind_a_proxy/tutorial004.py hl[9] *}\n\nand then it won't include it in the OpenAPI schema.", "source": "advanced\\behind-a-proxy.md"}
{"doc_id": "fastapi_0955", "title": "Behind a Proxy { #behind-a-proxy }", "section": "Mounting a sub-application { #mounting-a-sub-application }", "content": "If you need to mount a sub-application (as described in [Sub Applications - Mounts](sub-applications.md){.internal-link target=_blank}) while also using a proxy with `root_path`, you can do it normally, as you would expect.\n\nFastAPI will internally use the `root_path` smartly, so it will just work. ‚ú®", "source": "advanced\\behind-a-proxy.md"}
{"doc_id": "fastapi_0956", "title": "Custom Response - HTML, Stream, File, others { #custom-response-html-stream-file-others }", "section": "Custom Response - HTML, Stream, File, others { #custom-response-html-stream-file-others }", "content": "By default, **FastAPI** will return the responses using `JSONResponse`.\n\nYou can override it by returning a `Response` directly as seen in [Return a Response directly](response-directly.md){.internal-link target=_blank}.\n\nBut if you return a `Response` directly (or any subclass, like `JSONResponse`), the data won't be automatically converted (even if you declare a `response_model`), and the documentation won't be automatically generated (for example, including the specific \"media type\", in the HTTP header `Content-Type` as part of the generated OpenAPI).\n\nBut you can also declare the `Response` that you want to be used (e.g. any `Response` subclass), in the *path operation decorator* using the `response_class` parameter.\n\nThe contents that you return from your *path operation function* will be put inside of that `Response`.\n\nAnd if that `Response` has a JSON media type (`application/json`), like is the case with the `JSONResponse` and `UJSONResponse`, the data you return will be automatically converted (and filtered) with any Pydantic `response_model` that you declared in the *path operation decorator*.\n\n/// note\n\nIf you use a response class with no media type, FastAPI will expect your response to have no content, so it will not document the response format in its generated OpenAPI docs.\n\n///", "source": "advanced\\custom-response.md"}
{"doc_id": "fastapi_0957", "title": "Custom Response - HTML, Stream, File, others { #custom-response-html-stream-file-others }", "section": "Use `ORJSONResponse` { #use-orjsonresponse }", "content": "For example, if you are squeezing performance, you can install and use <a href=\"https://github.com/ijl/orjson\" class=\"external-link\" target=\"_blank\">`orjson`</a> and set the response to be `ORJSONResponse`.\n\nImport the `Response` class (sub-class) you want to use and declare it in the *path operation decorator*.\n\nFor large responses, returning a `Response` directly is much faster than returning a dictionary.\n\nThis is because by default, FastAPI will inspect every item inside and make sure it is serializable as JSON, using the same [JSON Compatible Encoder](../tutorial/encoder.md){.internal-link target=_blank} explained in the tutorial. This is what allows you to return **arbitrary objects**, for example database models.\n\nBut if you are certain that the content that you are returning is **serializable with JSON**, you can pass it directly to the response class and avoid the extra overhead that FastAPI would have by passing your return content through the `jsonable_encoder` before passing it to the response class.\n\n{* ../../docs_src/custom_response/tutorial001b.py hl[2,7] *}\n\n/// info\n\nThe parameter `response_class` will also be used to define the \"media type\" of the response.\n\nIn this case, the HTTP header `Content-Type` will be set to `application/json`.\n\nAnd it will be documented as such in OpenAPI.\n\n///\n\n/// tip\n\nThe `ORJSONResponse` is only available in FastAPI, not in Starlette.\n\n///", "source": "advanced\\custom-response.md"}
{"doc_id": "fastapi_0958", "title": "Custom Response - HTML, Stream, File, others { #custom-response-html-stream-file-others }", "section": "HTML Response { #html-response }", "content": "To return a response with HTML directly from **FastAPI**, use `HTMLResponse`.\n\n* Import `HTMLResponse`.\n* Pass `HTMLResponse` as the parameter `response_class` of your *path operation decorator*.\n\n{* ../../docs_src/custom_response/tutorial002.py hl[2,7] *}\n\n/// info\n\nThe parameter `response_class` will also be used to define the \"media type\" of the response.\n\nIn this case, the HTTP header `Content-Type` will be set to `text/html`.\n\nAnd it will be documented as such in OpenAPI.\n\n///", "source": "advanced\\custom-response.md"}
{"doc_id": "fastapi_0959", "title": "Custom Response - HTML, Stream, File, others { #custom-response-html-stream-file-others }", "section": "Return a `Response` { #return-a-response }", "content": "As seen in [Return a Response directly](response-directly.md){.internal-link target=_blank}, you can also override the response directly in your *path operation*, by returning it.\n\nThe same example from above, returning an `HTMLResponse`, could look like:\n\n{* ../../docs_src/custom_response/tutorial003.py hl[2,7,19] *}\n\n/// warning\n\nA `Response` returned directly by your *path operation function* won't be documented in OpenAPI (for example, the `Content-Type` won't be documented) and won't be visible in the automatic interactive docs.\n\n///\n\n/// info\n\nOf course, the actual `Content-Type` header, status code, etc, will come from the `Response` object you returned.\n\n///", "source": "advanced\\custom-response.md"}
{"doc_id": "fastapi_0960", "title": "Custom Response - HTML, Stream, File, others { #custom-response-html-stream-file-others }", "section": "Document in OpenAPI and override `Response` { #document-in-openapi-and-override-response }", "content": "If you want to override the response from inside of the function but at the same time document the \"media type\" in OpenAPI, you can use the `response_class` parameter AND return a `Response` object.\n\nThe `response_class` will then be used only to document the OpenAPI *path operation*, but your `Response` will be used as is.\n\n#### Return an `HTMLResponse` directly { #return-an-htmlresponse-directly }\n\nFor example, it could be something like:\n\n{* ../../docs_src/custom_response/tutorial004.py hl[7,21,23] *}\n\nIn this example, the function `generate_html_response()` already generates and returns a `Response` instead of returning the HTML in a `str`.\n\nBy returning the result of calling `generate_html_response()`, you are already returning a `Response` that will override the default **FastAPI** behavior.\n\nBut as you passed the `HTMLResponse` in the `response_class` too, **FastAPI** will know how to document it in OpenAPI and the interactive docs as HTML with `text/html`:\n\n<img src=\"/img/tutorial/custom-response/image01.png\">", "source": "advanced\\custom-response.md"}
{"doc_id": "fastapi_0961", "title": "Custom Response - HTML, Stream, File, others { #custom-response-html-stream-file-others }", "section": "Available responses { #available-responses }", "content": "Here are some of the available responses.\n\nKeep in mind that you can use `Response` to return anything else, or even create a custom sub-class.\n\n/// note | Technical Details\n\nYou could also use `from starlette.responses import HTMLResponse`.\n\n**FastAPI** provides the same `starlette.responses` as `fastapi.responses` just as a convenience for you, the developer. But most of the available responses come directly from Starlette.\n\n///", "source": "advanced\\custom-response.md"}
{"doc_id": "fastapi_0962", "title": "Custom Response - HTML, Stream, File, others { #custom-response-html-stream-file-others }", "section": "`Response` { #response }", "content": "The main `Response` class, all the other responses inherit from it.\n\nYou can return it directly.\n\nIt accepts the following parameters:\n\n* `content` - A `str` or `bytes`.\n* `status_code` - An `int` HTTP status code.\n* `headers` - A `dict` of strings.\n* `media_type` - A `str` giving the media type. E.g. `\"text/html\"`.\n\nFastAPI (actually Starlette) will automatically include a Content-Length header. It will also include a Content-Type header, based on the `media_type` and appending a charset for text types.\n\n{* ../../docs_src/response_directly/tutorial002.py hl[1,18] *}", "source": "advanced\\custom-response.md"}
{"doc_id": "fastapi_0963", "title": "Custom Response - HTML, Stream, File, others { #custom-response-html-stream-file-others }", "section": "`HTMLResponse` { #htmlresponse }", "content": "Takes some text or bytes and returns an HTML response, as you read above.", "source": "advanced\\custom-response.md"}
{"doc_id": "fastapi_0964", "title": "Custom Response - HTML, Stream, File, others { #custom-response-html-stream-file-others }", "section": "`PlainTextResponse` { #plaintextresponse }", "content": "Takes some text or bytes and returns a plain text response.\n\n{* ../../docs_src/custom_response/tutorial005.py hl[2,7,9] *}", "source": "advanced\\custom-response.md"}
{"doc_id": "fastapi_0965", "title": "Custom Response - HTML, Stream, File, others { #custom-response-html-stream-file-others }", "section": "`JSONResponse` { #jsonresponse }", "content": "Takes some data and returns an `application/json` encoded response.\n\nThis is the default response used in **FastAPI**, as you read above.", "source": "advanced\\custom-response.md"}
{"doc_id": "fastapi_0966", "title": "Custom Response - HTML, Stream, File, others { #custom-response-html-stream-file-others }", "section": "`ORJSONResponse` { #orjsonresponse }", "content": "A fast alternative JSON response using <a href=\"https://github.com/ijl/orjson\" class=\"external-link\" target=\"_blank\">`orjson`</a>, as you read above.\n\n/// info\n\nThis requires installing `orjson` for example with `pip install orjson`.\n\n///", "source": "advanced\\custom-response.md"}
{"doc_id": "fastapi_0967", "title": "Custom Response - HTML, Stream, File, others { #custom-response-html-stream-file-others }", "section": "`UJSONResponse` { #ujsonresponse }", "content": "An alternative JSON response using <a href=\"https://github.com/ultrajson/ultrajson\" class=\"external-link\" target=\"_blank\">`ujson`</a>.\n\n/// info\n\nThis requires installing `ujson` for example with `pip install ujson`.\n\n///\n\n/// warning\n\n`ujson` is less careful than Python's built-in implementation in how it handles some edge-cases.\n\n///\n\n{* ../../docs_src/custom_response/tutorial001.py hl[2,7] *}\n\n/// tip\n\nIt's possible that `ORJSONResponse` might be a faster alternative.\n\n///", "source": "advanced\\custom-response.md"}
{"doc_id": "fastapi_0968", "title": "Custom Response - HTML, Stream, File, others { #custom-response-html-stream-file-others }", "section": "`RedirectResponse` { #redirectresponse }", "content": "Returns an HTTP redirect. Uses a 307 status code (Temporary Redirect) by default.\n\nYou can return a `RedirectResponse` directly:\n\n{* ../../docs_src/custom_response/tutorial006.py hl[2,9] *}\n\n---\n\nOr you can use it in the `response_class` parameter:\n\n\n{* ../../docs_src/custom_response/tutorial006b.py hl[2,7,9] *}\n\nIf you do that, then you can return the URL directly from your *path operation* function.\n\nIn this case, the `status_code` used will be the default one for the `RedirectResponse`, which is `307`.\n\n---\n\nYou can also use the `status_code` parameter combined with the `response_class` parameter:\n\n{* ../../docs_src/custom_response/tutorial006c.py hl[2,7,9] *}", "source": "advanced\\custom-response.md"}
{"doc_id": "fastapi_0969", "title": "Custom Response - HTML, Stream, File, others { #custom-response-html-stream-file-others }", "section": "`StreamingResponse` { #streamingresponse }", "content": "Takes an async generator or a normal generator/iterator and streams the response body.\n\n{* ../../docs_src/custom_response/tutorial007.py hl[2,14] *}\n\n#### Using `StreamingResponse` with file-like objects { #using-streamingresponse-with-file-like-objects }\n\nIf you have a <a href=\"https://docs.python.org/3/glossary.html#term-file-like-object\" class=\"external-link\" target=\"_blank\">file-like</a> object (e.g. the object returned by `open()`), you can create a generator function to iterate over that file-like object.\n\nThat way, you don't have to read it all first in memory, and you can pass that generator function to the `StreamingResponse`, and return it.\n\nThis includes many libraries to interact with cloud storage, video processing, and others.\n\n{* ../../docs_src/custom_response/tutorial008.py hl[2,10:12,14] *}\n\n1. This is the generator function. It's a \"generator function\" because it contains `yield` statements inside.\n2. By using a `with` block, we make sure that the file-like object is closed after the generator function is done. So, after it finishes sending the response.\n3. This `yield from` tells the function to iterate over that thing named `file_like`. And then, for each part iterated, yield that part as coming from this generator function (`iterfile`).\n\n    So, it is a generator function that transfers the \"generating\" work to something else internally.\n\n    By doing it this way, we can put it in a `with` block, and that way, ensure that the file-like object is closed after finishing.\n\n/// tip\n\nNotice that here as we are using standard `open()` that doesn't support `async` and `await`, we declare the path operation with normal `def`.\n\n///", "source": "advanced\\custom-response.md"}
{"doc_id": "fastapi_0970", "title": "Custom Response - HTML, Stream, File, others { #custom-response-html-stream-file-others }", "section": "`FileResponse` { #fileresponse }", "content": "Asynchronously streams a file as the response.\n\nTakes a different set of arguments to instantiate than the other response types:\n\n* `path` - The file path to the file to stream.\n* `headers` - Any custom headers to include, as a dictionary.\n* `media_type` - A string giving the media type. If unset, the filename or path will be used to infer a media type.\n* `filename` - If set, this will be included in the response `Content-Disposition`.\n\nFile responses will include appropriate `Content-Length`, `Last-Modified` and `ETag` headers.\n\n{* ../../docs_src/custom_response/tutorial009.py hl[2,10] *}\n\nYou can also use the `response_class` parameter:\n\n{* ../../docs_src/custom_response/tutorial009b.py hl[2,8,10] *}\n\nIn this case, you can return the file path directly from your *path operation* function.", "source": "advanced\\custom-response.md"}
{"doc_id": "fastapi_0971", "title": "Custom Response - HTML, Stream, File, others { #custom-response-html-stream-file-others }", "section": "Custom response class { #custom-response-class }", "content": "You can create your own custom response class, inheriting from `Response` and using it.\n\nFor example, let's say that you want to use <a href=\"https://github.com/ijl/orjson\" class=\"external-link\" target=\"_blank\">`orjson`</a>, but with some custom settings not used in the included `ORJSONResponse` class.\n\nLet's say you want it to return indented and formatted JSON, so you want to use the orjson option `orjson.OPT_INDENT_2`.\n\nYou could create a `CustomORJSONResponse`. The main thing you have to do is create a `Response.render(content)` method that returns the content as `bytes`:\n\n{* ../../docs_src/custom_response/tutorial009c.py hl[9:14,17] *}\n\nNow instead of returning:\n\n```json\n{\"message\": \"Hello World\"}\n```\n\n...this response will return:\n\n```json\n{\n  \"message\": \"Hello World\"\n}\n```\n\nOf course, you will probably find much better ways to take advantage of this than formatting JSON. üòâ", "source": "advanced\\custom-response.md"}
{"doc_id": "fastapi_0972", "title": "Custom Response - HTML, Stream, File, others { #custom-response-html-stream-file-others }", "section": "Default response class { #default-response-class }", "content": "When creating a **FastAPI** class instance or an `APIRouter` you can specify which response class to use by default.\n\nThe parameter that defines this is `default_response_class`.\n\nIn the example below, **FastAPI** will use `ORJSONResponse` by default, in all *path operations*, instead of `JSONResponse`.\n\n{* ../../docs_src/custom_response/tutorial010.py hl[2,4] *}\n\n/// tip\n\nYou can still override `response_class` in *path operations* as before.\n\n///", "source": "advanced\\custom-response.md"}
{"doc_id": "fastapi_0973", "title": "Custom Response - HTML, Stream, File, others { #custom-response-html-stream-file-others }", "section": "Additional documentation { #additional-documentation }", "content": "You can also declare the media type and many other details in OpenAPI using `responses`: [Additional Responses in OpenAPI](additional-responses.md){.internal-link target=_blank}.", "source": "advanced\\custom-response.md"}
{"doc_id": "fastapi_0974", "title": "Using Dataclasses { #using-dataclasses }", "section": "Using Dataclasses { #using-dataclasses }", "content": "FastAPI is built on top of **Pydantic**, and I have been showing you how to use Pydantic models to declare requests and responses.\n\nBut FastAPI also supports using <a href=\"https://docs.python.org/3/library/dataclasses.html\" class=\"external-link\" target=\"_blank\">`dataclasses`</a> the same way:\n\n{* ../../docs_src/dataclasses/tutorial001.py hl[1,7:12,19:20] *}\n\nThis is still supported thanks to **Pydantic**, as it has <a href=\"https://docs.pydantic.dev/latest/concepts/dataclasses/#use-of-stdlib-dataclasses-with-basemodel\" class=\"external-link\" target=\"_blank\">internal support for `dataclasses`</a>.\n\nSo, even with the code above that doesn't use Pydantic explicitly, FastAPI is using Pydantic to convert those standard dataclasses to Pydantic's own flavor of dataclasses.\n\nAnd of course, it supports the same:\n\n* data validation\n* data serialization\n* data documentation, etc.\n\nThis works the same way as with Pydantic models. And it is actually achieved in the same way underneath, using Pydantic.\n\n/// info\n\nKeep in mind that dataclasses can't do everything Pydantic models can do.\n\nSo, you might still need to use Pydantic models.\n\nBut if you have a bunch of dataclasses laying around, this is a nice trick to use them to power a web API using FastAPI. ü§ì\n\n///", "source": "advanced\\dataclasses.md"}
{"doc_id": "fastapi_0975", "title": "Using Dataclasses { #using-dataclasses }", "section": "Dataclasses in `response_model` { #dataclasses-in-response-model }", "content": "You can also use `dataclasses` in the `response_model` parameter:\n\n{* ../../docs_src/dataclasses/tutorial002.py hl[1,7:13,19] *}\n\nThe dataclass will be automatically converted to a Pydantic dataclass.\n\nThis way, its schema will show up in the API docs user interface:\n\n<img src=\"/img/tutorial/dataclasses/image01.png\">", "source": "advanced\\dataclasses.md"}
{"doc_id": "fastapi_0976", "title": "Using Dataclasses { #using-dataclasses }", "section": "Dataclasses in Nested Data Structures { #dataclasses-in-nested-data-structures }", "content": "You can also combine `dataclasses` with other type annotations to make nested data structures.\n\nIn some cases, you might still have to use Pydantic's version of `dataclasses`. For example, if you have errors with the automatically generated API documentation.\n\nIn that case, you can simply swap the standard `dataclasses` with `pydantic.dataclasses`, which is a drop-in replacement:\n\n{* ../../docs_src/dataclasses/tutorial003.py hl[1,5,8:11,14:17,23:25,28] *}\n\n1. We still import `field` from standard `dataclasses`.\n\n2. `pydantic.dataclasses` is a drop-in replacement for `dataclasses`.\n\n3. The `Author` dataclass includes a list of `Item` dataclasses.\n\n4. The `Author` dataclass is used as the `response_model` parameter.\n\n5. You can use other standard type annotations with dataclasses as the request body.\n\n    In this case, it's a list of `Item` dataclasses.\n\n6. Here we are returning a dictionary that contains `items` which is a list of dataclasses.\n\n    FastAPI is still capable of <abbr title=\"converting the data to a format that can be transmitted\">serializing</abbr> the data to JSON.\n\n7. Here the `response_model` is using a type annotation of a list of `Author` dataclasses.\n\n    Again, you can combine `dataclasses` with standard type annotations.\n\n8. Notice that this *path operation function* uses regular `def` instead of `async def`.\n\n    As always, in FastAPI you can combine `def` and `async def` as needed.\n\n    If you need a refresher about when to use which, check out the section _\"In a hurry?\"_ in the docs about [`async` and `await`](../async.md#in-a-hurry){.internal-link target=_blank}.\n\n9. This *path operation function* is not returning dataclasses (although it could), but a list of dictionaries with internal data.\n\n    FastAPI will use the `response_model` parameter (that includes dataclasses) to convert the response.\n\nYou can combine `dataclasses` with other type annotations in many different combinations to form complex data structures.\n\nCheck the in-code annotation tips above to see more specific details.", "source": "advanced\\dataclasses.md"}
{"doc_id": "fastapi_0977", "title": "Using Dataclasses { #using-dataclasses }", "section": "Learn More { #learn-more }", "content": "You can also combine `dataclasses` with other Pydantic models, inherit from them, include them in your own models, etc.\n\nTo learn more, check the <a href=\"https://docs.pydantic.dev/latest/concepts/dataclasses/\" class=\"external-link\" target=\"_blank\">Pydantic docs about dataclasses</a>.", "source": "advanced\\dataclasses.md"}
{"doc_id": "fastapi_0978", "title": "Using Dataclasses { #using-dataclasses }", "section": "Version { #version }", "content": "This is available since FastAPI version `0.67.0`. üîñ", "source": "advanced\\dataclasses.md"}
{"doc_id": "fastapi_0979", "title": "Lifespan Events { #lifespan-events }", "section": "Lifespan Events { #lifespan-events }", "content": "You can define logic (code) that should be executed before the application **starts up**. This means that this code will be executed **once**, **before** the application **starts receiving requests**.\n\nThe same way, you can define logic (code) that should be executed when the application is **shutting down**. In this case, this code will be executed **once**, **after** having handled possibly **many requests**.\n\nBecause this code is executed before the application **starts** taking requests, and right after it **finishes** handling requests, it covers the whole application **lifespan** (the word \"lifespan\" will be important in a second üòâ).\n\nThis can be very useful for setting up **resources** that you need to use for the whole app, and that are **shared** among requests, and/or that you need to **clean up** afterwards. For example, a database connection pool, or loading a shared machine learning model.", "source": "advanced\\events.md"}
{"doc_id": "fastapi_0980", "title": "Lifespan Events { #lifespan-events }", "section": "Use Case { #use-case }", "content": "Let's start with an example **use case** and then see how to solve it with this.\n\nLet's imagine that you have some **machine learning models** that you want to use to handle requests. ü§ñ\n\nThe same models are shared among requests, so, it's not one model per request, or one per user or something similar.\n\nLet's imagine that loading the model can **take quite some time**, because it has to read a lot of **data from disk**. So you don't want to do it for every request.\n\nYou could load it at the top level of the module/file, but that would also mean that it would **load the model** even if you are just running a simple automated test, then that test would be **slow** because it would have to wait for the model to load before being able to run an independent part of the code.\n\nThat's what we'll solve, let's load the model before the requests are handled, but only right before the application starts receiving requests, not while  the code is being loaded.", "source": "advanced\\events.md"}
{"doc_id": "fastapi_0981", "title": "Lifespan Events { #lifespan-events }", "section": "Lifespan { #lifespan }", "content": "You can define this *startup* and *shutdown* logic using the `lifespan` parameter of the `FastAPI` app, and a \"context manager\" (I'll show you what that is in a second).\n\nLet's start with an example and then see it in detail.\n\nWe create an async function `lifespan()` with `yield` like this:\n\n{* ../../docs_src/events/tutorial003.py hl[16,19] *}\n\nHere we are simulating the expensive *startup* operation of loading the model by putting the (fake) model function in the dictionary with machine learning models before the `yield`. This code will be executed **before** the application **starts taking requests**, during the *startup*.\n\nAnd then, right after the `yield`, we unload the model. This code will be executed **after** the application **finishes handling requests**, right before the *shutdown*. This could, for example, release resources like memory or a GPU.\n\n/// tip\n\nThe `shutdown` would happen when you are **stopping** the application.\n\nMaybe you need to start a new version, or you just got tired of running it. ü§∑\n\n///", "source": "advanced\\events.md"}
{"doc_id": "fastapi_0982", "title": "Lifespan Events { #lifespan-events }", "section": "Lifespan function { #lifespan-function }", "content": "The first thing to notice, is that we are defining an async function with `yield`. This is very similar to Dependencies with `yield`.\n\n{* ../../docs_src/events/tutorial003.py hl[14:19] *}\n\nThe first part of the function, before the `yield`, will be executed **before** the application starts.\n\nAnd the part after the `yield` will be executed **after** the application has finished.", "source": "advanced\\events.md"}
{"doc_id": "fastapi_0983", "title": "Lifespan Events { #lifespan-events }", "section": "Async Context Manager { #async-context-manager }", "content": "If you check, the function is decorated with an `@asynccontextmanager`.\n\nThat converts the function into something called an \"**async context manager**\".\n\n{* ../../docs_src/events/tutorial003.py hl[1,13] *}\n\nA **context manager** in Python is something that you can use in a `with` statement, for example, `open()` can be used as a context manager:\n\n```Python\nwith open(\"file.txt\") as file:\n    file.read()\n```\n\nIn recent versions of Python, there's also an **async context manager**. You would use it with `async with`:\n\n```Python\nasync with lifespan(app):\n    await do_stuff()\n```\n\nWhen you create a context manager or an async context manager like above, what it does is that, before entering the `with` block, it will execute the code before the `yield`, and after exiting the `with` block, it will execute the code after the `yield`.\n\nIn our code example above, we don't use it directly, but we pass it to FastAPI for it to use it.\n\nThe `lifespan` parameter of the `FastAPI` app takes an **async context manager**, so we can pass our new `lifespan` async context manager to it.\n\n{* ../../docs_src/events/tutorial003.py hl[22] *}", "source": "advanced\\events.md"}
{"doc_id": "fastapi_0984", "title": "Lifespan Events { #lifespan-events }", "section": "Alternative Events (deprecated) { #alternative-events-deprecated }", "content": "/// warning\n\nThe recommended way to handle the *startup* and *shutdown* is using the `lifespan` parameter of the `FastAPI` app as described above. If you provide a `lifespan` parameter, `startup` and `shutdown` event handlers will no longer be called. It's all `lifespan` or all events, not both.\n\nYou can probably skip this part.\n\n///\n\nThere's an alternative way to define this logic to be executed during *startup* and during *shutdown*.\n\nYou can define event handlers (functions) that need to be executed before the application starts up, or when the application is shutting down.\n\nThese functions can be declared with `async def` or normal `def`.", "source": "advanced\\events.md"}
{"doc_id": "fastapi_0985", "title": "Lifespan Events { #lifespan-events }", "section": "`startup` event { #startup-event }", "content": "To add a function that should be run before the application starts, declare it with the event `\"startup\"`:\n\n{* ../../docs_src/events/tutorial001.py hl[8] *}\n\nIn this case, the `startup` event handler function will initialize the items \"database\" (just a `dict`) with some values.\n\nYou can add more than one event handler function.\n\nAnd your application won't start receiving requests until all the `startup` event handlers have completed.", "source": "advanced\\events.md"}
{"doc_id": "fastapi_0986", "title": "Lifespan Events { #lifespan-events }", "section": "`shutdown` event { #shutdown-event }", "content": "To add a function that should be run when the application is shutting down, declare it with the event `\"shutdown\"`:\n\n{* ../../docs_src/events/tutorial002.py hl[6] *}\n\nHere, the `shutdown` event handler function will write a text line `\"Application shutdown\"` to a file `log.txt`.\n\n/// info\n\nIn the `open()` function, the `mode=\"a\"` means \"append\", so, the line will be added after whatever is on that file, without overwriting the previous contents.\n\n///\n\n/// tip\n\nNotice that in this case we are using a standard Python `open()` function that interacts with a file.\n\nSo, it involves I/O (input/output), that requires \"waiting\" for things to be written to disk.\n\nBut `open()` doesn't use `async` and `await`.\n\nSo, we declare the event handler function with standard `def` instead of `async def`.\n\n///", "source": "advanced\\events.md"}
{"doc_id": "fastapi_0987", "title": "Lifespan Events { #lifespan-events }", "section": "`startup` and `shutdown` together { #startup-and-shutdown-together }", "content": "There's a high chance that the logic for your *startup* and *shutdown* is connected, you might want to start something and then finish it, acquire a resource and then release it, etc.\n\nDoing that in separated functions that don't share logic or variables together is more difficult as you would need to store values in global variables or similar tricks.\n\nBecause of that, it's now recommended to instead use the `lifespan` as explained above.", "source": "advanced\\events.md"}
{"doc_id": "fastapi_0988", "title": "Lifespan Events { #lifespan-events }", "section": "Technical Details { #technical-details }", "content": "Just a technical detail for the curious nerds. ü§ì\n\nUnderneath, in the ASGI technical specification, this is part of the <a href=\"https://asgi.readthedocs.io/en/latest/specs/lifespan.html\" class=\"external-link\" target=\"_blank\">Lifespan Protocol</a>, and it defines events called `startup` and `shutdown`.\n\n/// info\n\nYou can read more about the Starlette `lifespan` handlers in <a href=\"https://www.starlette.dev/lifespan/\" class=\"external-link\" target=\"_blank\">Starlette's  Lifespan' docs</a>.\n\nIncluding how to handle lifespan state that can be used in other areas of your code.\n\n///", "source": "advanced\\events.md"}
{"doc_id": "fastapi_0989", "title": "Lifespan Events { #lifespan-events }", "section": "Sub Applications { #sub-applications }", "content": "üö® Keep in mind that these lifespan events (startup and shutdown) will only be executed for the main application, not for [Sub Applications - Mounts](sub-applications.md){.internal-link target=_blank}.", "source": "advanced\\events.md"}
{"doc_id": "fastapi_0990", "title": "Generating SDKs { #generating-sdks }", "section": "Generating SDKs { #generating-sdks }", "content": "Because **FastAPI** is based on the **OpenAPI** specification, its APIs can be described in a standard format that many tools understand.\n\nThis makes it easy to generate up-to-date **documentation**, client libraries (<abbr title=\"Software Development Kits\">**SDKs**</abbr>) in multiple languages, and **testing** or **automation workflows** that stay in sync with your code.\n\nIn this guide, you'll learn how to generate a **TypeScript SDK** for your FastAPI backend.", "source": "advanced\\generate-clients.md"}
{"doc_id": "fastapi_0991", "title": "Generating SDKs { #generating-sdks }", "section": "Open Source SDK Generators { #open-source-sdk-generators }", "content": "A versatile option is the <a href=\"https://openapi-generator.tech/\" class=\"external-link\" target=\"_blank\">OpenAPI Generator</a>, which supports **many programming languages** and can generate SDKs from your OpenAPI specification.\n\nFor **TypeScript clients**, <a href=\"https://heyapi.dev/\" class=\"external-link\" target=\"_blank\">Hey API</a> is a purpose-built solution, providing an optimized experience for the TypeScript ecosystem.\n\nYou can discover more SDK generators on <a href=\"https://openapi.tools/#sdk\" class=\"external-link\" target=\"_blank\">OpenAPI.Tools</a>.\n\n/// tip\n\nFastAPI automatically generates **OpenAPI 3.1** specifications, so any tool you use must support this version.\n\n///", "source": "advanced\\generate-clients.md"}
{"doc_id": "fastapi_0992", "title": "Generating SDKs { #generating-sdks }", "section": "SDK Generators from FastAPI Sponsors { #sdk-generators-from-fastapi-sponsors }", "content": "This section highlights **venture-backed** and **company-supported** solutions from companies that sponsor FastAPI. These products provide **additional features** and **integrations** on top of high-quality generated SDKs.\n\nBy ‚ú® [**sponsoring FastAPI**](../help-fastapi.md#sponsor-the-author){.internal-link target=_blank} ‚ú®, these companies help ensure the framework and its **ecosystem** remain healthy and **sustainable**.\n\nTheir sponsorship also demonstrates a strong commitment to the FastAPI **community** (you), showing that they care not only about offering a **great service** but also about supporting a **robust and thriving framework**, FastAPI. üôá\n\nFor example, you might want to try:\n\n* <a href=\"https://speakeasy.com/editor?utm_source=fastapi+repo&utm_medium=github+sponsorship\" class=\"external-link\" target=\"_blank\">Speakeasy</a>\n* <a href=\"https://www.stainless.com/?utm_source=fastapi&utm_medium=referral\" class=\"external-link\" target=\"_blank\">Stainless</a>\n* <a href=\"https://developers.liblab.com/tutorials/sdk-for-fastapi?utm_source=fastapi\" class=\"external-link\" target=\"_blank\">liblab</a>\n\nSome of these solutions may also be open source or offer free tiers, so you can try them without a financial commitment. Other commercial SDK generators are available and can be found online. ü§ì", "source": "advanced\\generate-clients.md"}
{"doc_id": "fastapi_0993", "title": "Generating SDKs { #generating-sdks }", "section": "Create a TypeScript SDK { #create-a-typescript-sdk }", "content": "Let's start with a simple FastAPI application:\n\n{* ../../docs_src/generate_clients/tutorial001_py39.py hl[7:9,12:13,16:17,21] *}\n\nNotice that the *path operations* define the models they use for request payload and response payload, using the models `Item` and `ResponseMessage`.", "source": "advanced\\generate-clients.md"}
{"doc_id": "fastapi_0994", "title": "Generating SDKs { #generating-sdks }", "section": "API Docs { #api-docs }", "content": "If you go to `/docs`, you will see that it has the **schemas** for the data to be sent in requests and received in responses:\n\n<img src=\"/img/tutorial/generate-clients/image01.png\">\n\nYou can see those schemas because they were declared with the models in the app.\n\nThat information is available in the app's **OpenAPI schema**, and then shown in the API docs.\n\nThat same information from the models that is included in OpenAPI is what can be used to **generate the client code**.", "source": "advanced\\generate-clients.md"}
{"doc_id": "fastapi_0995", "title": "Generating SDKs { #generating-sdks }", "section": "Hey API { #hey-api }", "content": "Once we have a FastAPI app with the models, we can use Hey API to generate a TypeScript client. The fastest way to do that is via npx.\n\n```sh\nnpx @hey-api/openapi-ts -i http://localhost:8000/openapi.json -o src/client\n```\n\nThis will generate a TypeScript SDK in `./src/client`.\n\nYou can learn how to <a href=\"https://heyapi.dev/openapi-ts/get-started\" class=\"external-link\" target=\"_blank\">install `@hey-api/openapi-ts`</a> and read about the <a href=\"https://heyapi.dev/openapi-ts/output\" class=\"external-link\" target=\"_blank\">generated output</a> on their website.", "source": "advanced\\generate-clients.md"}
{"doc_id": "fastapi_0996", "title": "Generating SDKs { #generating-sdks }", "section": "Using the SDK { #using-the-sdk }", "content": "Now you can import and use the client code. It could look like this, notice that you get autocompletion for the methods:\n\n<img src=\"/img/tutorial/generate-clients/image02.png\">\n\nYou will also get autocompletion for the payload to send:\n\n<img src=\"/img/tutorial/generate-clients/image03.png\">\n\n/// tip\n\nNotice the autocompletion for `name` and `price`, that was defined in the FastAPI application, in the `Item` model.\n\n///\n\nYou will have inline errors for the data that you send:\n\n<img src=\"/img/tutorial/generate-clients/image04.png\">\n\nThe response object will also have autocompletion:\n\n<img src=\"/img/tutorial/generate-clients/image05.png\">", "source": "advanced\\generate-clients.md"}
{"doc_id": "fastapi_0997", "title": "Generating SDKs { #generating-sdks }", "section": "FastAPI App with Tags { #fastapi-app-with-tags }", "content": "In many cases, your FastAPI app will be bigger, and you will probably use tags to separate different groups of *path operations*.\n\nFor example, you could have a section for **items** and another section for **users**, and they could be separated by tags:\n\n{* ../../docs_src/generate_clients/tutorial002_py39.py hl[21,26,34] *}", "source": "advanced\\generate-clients.md"}
{"doc_id": "fastapi_0998", "title": "Generating SDKs { #generating-sdks }", "section": "Generate a TypeScript Client with Tags { #generate-a-typescript-client-with-tags }", "content": "If you generate a client for a FastAPI app using tags, it will normally also separate the client code based on the tags.\n\nThis way, you will be able to have things ordered and grouped correctly for the client code:\n\n<img src=\"/img/tutorial/generate-clients/image06.png\">\n\nIn this case, you have:\n\n* `ItemsService`\n* `UsersService`", "source": "advanced\\generate-clients.md"}
{"doc_id": "fastapi_0999", "title": "Generating SDKs { #generating-sdks }", "section": "Client Method Names { #client-method-names }", "content": "Right now, the generated method names like `createItemItemsPost` don't look very clean:\n\n```TypeScript\nItemsService.createItemItemsPost({name: \"Plumbus\", price: 5})\n```\n\n...that's because the client generator uses the OpenAPI internal **operation ID** for each *path operation*.\n\nOpenAPI requires that each operation ID is unique across all the *path operations*, so FastAPI uses the **function name**, the **path**, and the **HTTP method/operation** to generate that operation ID, because that way it can make sure that the operation IDs are unique.\n\nBut I'll show you how to improve that next. ü§ì", "source": "advanced\\generate-clients.md"}
{"doc_id": "fastapi_1000", "title": "Generating SDKs { #generating-sdks }", "section": "Custom Operation IDs and Better Method Names { #custom-operation-ids-and-better-method-names }", "content": "You can **modify** the way these operation IDs are **generated** to make them simpler and have **simpler method names** in the clients.\n\nIn this case, you will have to ensure that each operation ID is **unique** in some other way.\n\nFor example, you could make sure that each *path operation* has a tag, and then generate the operation ID based on the **tag** and the *path operation* **name** (the function name).", "source": "advanced\\generate-clients.md"}
{"doc_id": "fastapi_1001", "title": "Generating SDKs { #generating-sdks }", "section": "Custom Generate Unique ID Function { #custom-generate-unique-id-function }", "content": "FastAPI uses a **unique ID** for each *path operation*, which is used for the **operation ID** and also for the names of any needed custom models, for requests or responses.\n\nYou can customize that function. It takes an `APIRoute` and outputs a string.\n\nFor example, here it is using the first tag (you will probably have only one tag) and the *path operation* name (the function name).\n\nYou can then pass that custom function to **FastAPI** as the `generate_unique_id_function` parameter:\n\n{* ../../docs_src/generate_clients/tutorial003_py39.py hl[6:7,10] *}", "source": "advanced\\generate-clients.md"}
{"doc_id": "fastapi_1002", "title": "Generating SDKs { #generating-sdks }", "section": "Generate a TypeScript Client with Custom Operation IDs { #generate-a-typescript-client-with-custom-operation-ids }", "content": "Now, if you generate the client again, you will see that it has the improved method names:\n\n<img src=\"/img/tutorial/generate-clients/image07.png\">\n\nAs you see, the method names now have the tag and then the function name, now they don't include information from the URL path and the HTTP operation.", "source": "advanced\\generate-clients.md"}
{"doc_id": "fastapi_1003", "title": "Generating SDKs { #generating-sdks }", "section": "Preprocess the OpenAPI Specification for the Client Generator { #preprocess-the-openapi-specification-for-the-client-generator }", "content": "The generated code still has some **duplicated information**.\n\nWe already know that this method is related to the **items** because that word is in the `ItemsService` (taken from the tag), but we still have the tag name prefixed in the method name too. üòï\n\nWe will probably still want to keep it for OpenAPI in general, as that will ensure that the operation IDs are **unique**.\n\nBut for the generated client, we could **modify** the OpenAPI operation IDs right before generating the clients, just to make those method names nicer and **cleaner**.\n\nWe could download the OpenAPI JSON to a file `openapi.json` and then we could **remove that prefixed tag** with a script like this:\n\n{* ../../docs_src/generate_clients/tutorial004.py *}\n\n//// tab | Node.js\n\n```Javascript\n{!> ../../docs_src/generate_clients/tutorial004.js!}\n```\n\n////\n\nWith that, the operation IDs would be renamed from things like `items-get_items` to just `get_items`, that way the client generator can generate simpler method names.", "source": "advanced\\generate-clients.md"}
{"doc_id": "fastapi_1004", "title": "Generating SDKs { #generating-sdks }", "section": "Generate a TypeScript Client with the Preprocessed OpenAPI { #generate-a-typescript-client-with-the-preprocessed-openapi }", "content": "Since the end result is now in an `openapi.json` file, you need to update your input location:\n\n```sh\nnpx @hey-api/openapi-ts -i ./openapi.json -o src/client\n```\n\nAfter generating the new client, you would now have **clean method names**, with all the **autocompletion**, **inline errors**, etc:\n\n<img src=\"/img/tutorial/generate-clients/image08.png\">", "source": "advanced\\generate-clients.md"}
{"doc_id": "fastapi_1005", "title": "Generating SDKs { #generating-sdks }", "section": "Benefits { #benefits }", "content": "When using the automatically generated clients, you would get **autocompletion** for:\n\n* Methods.\n* Request payloads in the body, query parameters, etc.\n* Response payloads.\n\nYou would also have **inline errors** for everything.\n\nAnd whenever you update the backend code, and **regenerate** the frontend, it would have any new *path operations* available as methods, the old ones removed, and any other change would be reflected on the generated code. ü§ì\n\nThis also means that if something changed, it will be **reflected** on the client code automatically. And if you **build** the client, it will error out if you have any **mismatch** in the data used.\n\nSo, you would **detect many errors** very early in the development cycle instead of having to wait for the errors to show up to your final users in production and then trying to debug where the problem is. ‚ú®", "source": "advanced\\generate-clients.md"}
{"doc_id": "fastapi_1006", "title": "Advanced User Guide { #advanced-user-guide }", "section": "Advanced User Guide { #advanced-user-guide }", "content": "", "source": "advanced\\index.md"}
{"doc_id": "fastapi_1007", "title": "Advanced User Guide { #advanced-user-guide }", "section": "Additional Features { #additional-features }", "content": "The main [Tutorial - User Guide](../tutorial/index.md){.internal-link target=_blank} should be enough to give you a tour through all the main features of **FastAPI**.\n\nIn the next sections you will see other options, configurations, and additional features.\n\n/// tip\n\nThe next sections are **not necessarily \"advanced\"**.\n\nAnd it's possible that for your use case, the solution is in one of them.\n\n///", "source": "advanced\\index.md"}
{"doc_id": "fastapi_1008", "title": "Advanced User Guide { #advanced-user-guide }", "section": "Read the Tutorial first { #read-the-tutorial-first }", "content": "You could still use most of the features in **FastAPI** with the knowledge from the main [Tutorial - User Guide](../tutorial/index.md){.internal-link target=_blank}.\n\nAnd the next sections assume you already read it, and assume that you know those main ideas.", "source": "advanced\\index.md"}
{"doc_id": "fastapi_1009", "title": "Advanced Middleware { #advanced-middleware }", "section": "Advanced Middleware { #advanced-middleware }", "content": "In the main tutorial you read how to add [Custom Middleware](../tutorial/middleware.md){.internal-link target=_blank} to your application.\n\nAnd then you also read how to handle [CORS with the `CORSMiddleware`](../tutorial/cors.md){.internal-link target=_blank}.\n\nIn this section we'll see how to use other middlewares.", "source": "advanced\\middleware.md"}
{"doc_id": "fastapi_1010", "title": "Advanced Middleware { #advanced-middleware }", "section": "Adding ASGI middlewares { #adding-asgi-middlewares }", "content": "As **FastAPI** is based on Starlette and implements the <abbr title=\"Asynchronous Server Gateway Interface\">ASGI</abbr> specification, you can use any ASGI middleware.\n\nA middleware doesn't have to be made for FastAPI or Starlette to work, as long as it follows the ASGI spec.\n\nIn general, ASGI middlewares are classes that expect to receive an ASGI app as the first argument.\n\nSo, in the documentation for third-party ASGI middlewares they will probably tell you to do something like:\n\n```Python\nfrom unicorn import UnicornMiddleware\n\napp = SomeASGIApp()\n\nnew_app = UnicornMiddleware(app, some_config=\"rainbow\")\n```\n\nBut FastAPI (actually Starlette) provides a simpler way to do it that makes sure that the internal middlewares handle server errors and custom exception handlers work properly.\n\nFor that, you use `app.add_middleware()` (as in the example for CORS).\n\n```Python\nfrom fastapi import FastAPI\nfrom unicorn import UnicornMiddleware\n\napp = FastAPI()\n\napp.add_middleware(UnicornMiddleware, some_config=\"rainbow\")\n```\n\n`app.add_middleware()` receives a middleware class as the first argument and any additional arguments to be passed to the middleware.", "source": "advanced\\middleware.md"}
{"doc_id": "fastapi_1011", "title": "Advanced Middleware { #advanced-middleware }", "section": "Integrated middlewares { #integrated-middlewares }", "content": "**FastAPI** includes several middlewares for common use cases, we'll see next how to use them.\n\n/// note | Technical Details\n\nFor the next examples, you could also use `from starlette.middleware.something import SomethingMiddleware`.\n\n**FastAPI** provides several middlewares in `fastapi.middleware` just as a convenience for you, the developer. But most of the available middlewares come directly from Starlette.\n\n///", "source": "advanced\\middleware.md"}
{"doc_id": "fastapi_1012", "title": "Advanced Middleware { #advanced-middleware }", "section": "`HTTPSRedirectMiddleware` { #httpsredirectmiddleware }", "content": "Enforces that all incoming requests must either be `https` or `wss`.\n\nAny incoming request to `http` or `ws` will be redirected to the secure scheme instead.\n\n{* ../../docs_src/advanced_middleware/tutorial001.py hl[2,6] *}", "source": "advanced\\middleware.md"}
{"doc_id": "fastapi_1013", "title": "Advanced Middleware { #advanced-middleware }", "section": "`TrustedHostMiddleware` { #trustedhostmiddleware }", "content": "Enforces that all incoming requests have a correctly set `Host` header, in order to guard against HTTP Host Header attacks.\n\n{* ../../docs_src/advanced_middleware/tutorial002.py hl[2,6:8] *}\n\nThe following arguments are supported:\n\n* `allowed_hosts` - A list of domain names that should be allowed as hostnames. Wildcard domains such as `*.example.com` are supported for matching subdomains. To allow any hostname either use `allowed_hosts=[\"*\"]` or omit the middleware.\n* `www_redirect` - If set to True, requests to non-www versions of the allowed hosts will be redirected to their www counterparts. Defaults to `True`.\n\nIf an incoming request does not validate correctly then a `400` response will be sent.", "source": "advanced\\middleware.md"}
{"doc_id": "fastapi_1014", "title": "Advanced Middleware { #advanced-middleware }", "section": "`GZipMiddleware` { #gzipmiddleware }", "content": "Handles GZip responses for any request that includes `\"gzip\"` in the `Accept-Encoding` header.\n\nThe middleware will handle both standard and streaming responses.\n\n{* ../../docs_src/advanced_middleware/tutorial003.py hl[2,6] *}\n\nThe following arguments are supported:\n\n* `minimum_size` - Do not GZip responses that are smaller than this minimum size in bytes. Defaults to `500`.\n* `compresslevel` - Used during GZip compression. It is an integer ranging from 1 to 9. Defaults to `9`. Lower value results in faster compression but larger file sizes, while higher value results in slower compression but smaller file sizes.", "source": "advanced\\middleware.md"}
{"doc_id": "fastapi_1015", "title": "Advanced Middleware { #advanced-middleware }", "section": "Other middlewares { #other-middlewares }", "content": "There are many other ASGI middlewares.\n\nFor example:\n\n* <a href=\"https://github.com/encode/uvicorn/blob/master/uvicorn/middleware/proxy_headers.py\" class=\"external-link\" target=\"_blank\">Uvicorn's `ProxyHeadersMiddleware`</a>\n* <a href=\"https://github.com/florimondmanca/msgpack-asgi\" class=\"external-link\" target=\"_blank\">MessagePack</a>\n\nTo see other available middlewares check <a href=\"https://www.starlette.dev/middleware/\" class=\"external-link\" target=\"_blank\">Starlette's Middleware docs</a> and the <a href=\"https://github.com/florimondmanca/awesome-asgi\" class=\"external-link\" target=\"_blank\">ASGI Awesome List</a>.", "source": "advanced\\middleware.md"}
{"doc_id": "fastapi_1016", "title": "OpenAPI Callbacks { #openapi-callbacks }", "section": "OpenAPI Callbacks { #openapi-callbacks }", "content": "You could create an API with a *path operation* that could trigger a request to an *external API* created by someone else (probably the same developer that would be *using* your API).\n\nThe process that happens when your API app calls the *external API* is named a \"callback\". Because the software that the external developer wrote sends a request to your API and then your API *calls back*, sending a request to an *external API* (that was probably created by the same developer).\n\nIn this case, you could want to document how that external API *should* look like. What *path operation* it should have, what body it should expect, what response it should return, etc.", "source": "advanced\\openapi-callbacks.md"}
{"doc_id": "fastapi_1017", "title": "OpenAPI Callbacks { #openapi-callbacks }", "section": "An app with callbacks { #an-app-with-callbacks }", "content": "Let's see all this with an example.\n\nImagine you develop an app that allows creating invoices.\n\nThese invoices will have an `id`, `title` (optional), `customer`, and `total`.\n\nThe user of your API (an external developer) will create an invoice in your API with a POST request.\n\nThen your API will (let's imagine):\n\n* Send the invoice to some customer of the external developer.\n* Collect the money.\n* Send a notification back to the API user (the external developer).\n    * This will be done by sending a POST request (from *your API*) to some *external API* provided by that external developer (this is the \"callback\").", "source": "advanced\\openapi-callbacks.md"}
{"doc_id": "fastapi_1018", "title": "OpenAPI Callbacks { #openapi-callbacks }", "section": "The normal **FastAPI** app { #the-normal-fastapi-app }", "content": "Let's first see how the normal API app would look like before adding the callback.\n\nIt will have a *path operation* that will receive an `Invoice` body, and a query parameter `callback_url` that will contain the URL for the callback.\n\nThis part is pretty normal, most of the code is probably already familiar to you:\n\n{* ../../docs_src/openapi_callbacks/tutorial001.py hl[9:13,36:53] *}\n\n/// tip\n\nThe `callback_url` query parameter uses a Pydantic <a href=\"https://docs.pydantic.dev/latest/api/networks/\" class=\"external-link\" target=\"_blank\">Url</a> type.\n\n///\n\nThe only new thing is the `callbacks=invoices_callback_router.routes` as an argument to the *path operation decorator*. We'll see what that is next.", "source": "advanced\\openapi-callbacks.md"}
{"doc_id": "fastapi_1019", "title": "OpenAPI Callbacks { #openapi-callbacks }", "section": "Documenting the callback { #documenting-the-callback }", "content": "The actual callback code will depend heavily on your own API app.\n\nAnd it will probably vary a lot from one app to the next.\n\nIt could be just one or two lines of code, like:\n\n```Python\ncallback_url = \"https://example.com/api/v1/invoices/events/\"\nhttpx.post(callback_url, json={\"description\": \"Invoice paid\", \"paid\": True})\n```\n\nBut possibly the most important part of the callback is making sure that your API user (the external developer) implements the *external API* correctly, according to the data that *your API* is going to send in the request body of the callback, etc.\n\nSo, what we will do next is add the code to document how that *external API* should look like to receive the callback from *your API*.\n\nThat documentation will show up in the Swagger UI at `/docs` in your API, and it will let external developers know how to build the *external API*.\n\nThis example doesn't implement the callback itself (that could be just a line of code), only the documentation part.\n\n/// tip\n\nThe actual callback is just an HTTP request.\n\nWhen implementing the callback yourself, you could use something like <a href=\"https://www.python-httpx.org\" class=\"external-link\" target=\"_blank\">HTTPX</a> or <a href=\"https://requests.readthedocs.io/\" class=\"external-link\" target=\"_blank\">Requests</a>.\n\n///", "source": "advanced\\openapi-callbacks.md"}
{"doc_id": "fastapi_1020", "title": "OpenAPI Callbacks { #openapi-callbacks }", "section": "Write the callback documentation code { #write-the-callback-documentation-code }", "content": "This code won't be executed in your app, we only need it to *document* how that *external API* should look like.\n\nBut, you already know how to easily create automatic documentation for an API with **FastAPI**.\n\nSo we are going to use that same knowledge to document how the *external API* should look like... by creating the *path operation(s)* that the external API should implement (the ones your API will call).\n\n/// tip\n\nWhen writing the code to document a callback, it might be useful to imagine that you are that *external developer*. And that you are currently implementing the *external API*, not *your API*.\n\nTemporarily adopting this point of view (of the *external developer*) can help you feel like it's more obvious where to put the parameters, the Pydantic model for the body, for the response, etc. for that *external API*.\n\n///", "source": "advanced\\openapi-callbacks.md"}
{"doc_id": "fastapi_1021", "title": "OpenAPI Callbacks { #openapi-callbacks }", "section": "Create a callback `APIRouter` { #create-a-callback-apirouter }", "content": "First create a new `APIRouter` that will contain one or more callbacks.\n\n{* ../../docs_src/openapi_callbacks/tutorial001.py hl[3,25] *}", "source": "advanced\\openapi-callbacks.md"}
{"doc_id": "fastapi_1022", "title": "OpenAPI Callbacks { #openapi-callbacks }", "section": "Create the callback *path operation* { #create-the-callback-path-operation }", "content": "To create the callback *path operation* use the same `APIRouter` you created above.\n\nIt should look just like a normal FastAPI *path operation*:\n\n* It should probably have a declaration of the body it should receive, e.g. `body: InvoiceEvent`.\n* And it could also have a declaration of the response it should return, e.g. `response_model=InvoiceEventReceived`.\n\n{* ../../docs_src/openapi_callbacks/tutorial001.py hl[16:18,21:22,28:32] *}\n\nThere are 2 main differences from a normal *path operation*:\n\n* It doesn't need to have any actual code, because your app will never call this code. It's only used to document the *external API*. So, the function could just have `pass`.\n* The *path* can contain an <a href=\"https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.1.0.md#key-expression\" class=\"external-link\" target=\"_blank\">OpenAPI 3 expression</a> (see more below) where it can use variables with parameters and parts of the original request sent to *your API*.", "source": "advanced\\openapi-callbacks.md"}
{"doc_id": "fastapi_1023", "title": "OpenAPI Callbacks { #openapi-callbacks }", "section": "The callback path expression { #the-callback-path-expression }", "content": "The callback *path* can have an <a href=\"https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.1.0.md#key-expression\" class=\"external-link\" target=\"_blank\">OpenAPI 3 expression</a> that can contain parts of the original request sent to *your API*.\n\nIn this case, it's the `str`:\n\n```Python\n\"{$callback_url}/invoices/{$request.body.id}\"\n```\n\nSo, if your API user (the external developer) sends a request to *your API* to:\n\n```\nhttps://yourapi.com/invoices/?callback_url=https://www.external.org/events\n```\n\nwith a JSON body of:\n\n```JSON\n{\n    \"id\": \"2expen51ve\",\n    \"customer\": \"Mr. Richie Rich\",\n    \"total\": \"9999\"\n}\n```\n\nthen *your API* will process the invoice, and at some point later, send a callback request to the `callback_url` (the *external API*):\n\n```\nhttps://www.external.org/events/invoices/2expen51ve\n```\n\nwith a JSON body containing something like:\n\n```JSON\n{\n    \"description\": \"Payment celebration\",\n    \"paid\": true\n}\n```\n\nand it would expect a response from that *external API* with a JSON body like:\n\n```JSON\n{\n    \"ok\": true\n}\n```\n\n/// tip\n\nNotice how the callback URL used contains the URL received as a query parameter in `callback_url` (`https://www.external.org/events`) and also the invoice `id` from inside of the JSON body (`2expen51ve`).\n\n///", "source": "advanced\\openapi-callbacks.md"}
{"doc_id": "fastapi_1024", "title": "OpenAPI Callbacks { #openapi-callbacks }", "section": "Add the callback router { #add-the-callback-router }", "content": "At this point you have the *callback path operation(s)* needed (the one(s) that the *external developer*  should implement in the *external API*) in the callback router you created above.\n\nNow use the parameter `callbacks` in *your API's path operation decorator* to pass the attribute `.routes` (that's actually just a `list` of routes/*path operations*) from that callback router:\n\n{* ../../docs_src/openapi_callbacks/tutorial001.py hl[35] *}\n\n/// tip\n\nNotice that you are not passing the router itself (`invoices_callback_router`) to `callback=`, but the attribute `.routes`, as in `invoices_callback_router.routes`.\n\n///", "source": "advanced\\openapi-callbacks.md"}
{"doc_id": "fastapi_1025", "title": "OpenAPI Callbacks { #openapi-callbacks }", "section": "Check the docs { #check-the-docs }", "content": "Now you can start your app and go to <a href=\"http://127.0.0.1:8000/docs\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/docs</a>.\n\nYou will see your docs including a \"Callbacks\" section for your *path operation* that shows how the *external API* should look like:\n\n<img src=\"/img/tutorial/openapi-callbacks/image01.png\">", "source": "advanced\\openapi-callbacks.md"}
{"doc_id": "fastapi_1026", "title": "OpenAPI Webhooks { #openapi-webhooks }", "section": "OpenAPI Webhooks { #openapi-webhooks }", "content": "There are cases where you want to tell your API **users** that your app could call *their* app (sending a request) with some data, normally to **notify** of some type of **event**.\n\nThis means that instead of the normal process of your users sending requests to your API, it's **your API** (or your app) that could **send requests to their system** (to their API, their app).\n\nThis is normally called a **webhook**.", "source": "advanced\\openapi-webhooks.md"}
{"doc_id": "fastapi_1027", "title": "OpenAPI Webhooks { #openapi-webhooks }", "section": "Webhooks steps { #webhooks-steps }", "content": "The process normally is that **you define** in your code what is the message that you will send, the **body of the request**.\n\nYou also define in some way at which **moments** your app will send those requests or events.\n\nAnd **your users** define in some way (for example in a web dashboard somewhere) the **URL** where your app should send those requests.\n\nAll the **logic** about how to register the URLs for webhooks and the code to actually send those requests is up to you. You write it however you want to in **your own code**.", "source": "advanced\\openapi-webhooks.md"}
{"doc_id": "fastapi_1028", "title": "OpenAPI Webhooks { #openapi-webhooks }", "section": "Documenting webhooks with **FastAPI** and OpenAPI { #documenting-webhooks-with-fastapi-and-openapi }", "content": "With **FastAPI**, using OpenAPI, you can define the names of these webhooks, the types of HTTP operations that your app can send (e.g. `POST`, `PUT`, etc.) and the request **bodies** that your app would send.\n\nThis can make it a lot easier for your users to **implement their APIs** to receive your **webhook** requests, they might even be able to autogenerate some of their own API code.\n\n/// info\n\nWebhooks are available in OpenAPI 3.1.0 and above, supported by FastAPI `0.99.0` and above.\n\n///", "source": "advanced\\openapi-webhooks.md"}
{"doc_id": "fastapi_1029", "title": "OpenAPI Webhooks { #openapi-webhooks }", "section": "An app with webhooks { #an-app-with-webhooks }", "content": "When you create a **FastAPI** application, there is a `webhooks` attribute that you can use to define *webhooks*, the same way you would define *path operations*, for example with `@app.webhooks.post()`.\n\n{* ../../docs_src/openapi_webhooks/tutorial001.py hl[9:13,36:53] *}\n\nThe webhooks that you define will end up in the **OpenAPI** schema and the automatic **docs UI**.\n\n/// info\n\nThe `app.webhooks` object is actually just an `APIRouter`, the same type you would use when structuring your app with multiple files.\n\n///\n\nNotice that with webhooks you are actually not declaring a *path* (like `/items/`), the text you pass there is just an **identifier** of the webhook (the name of the event), for example in `@app.webhooks.post(\"new-subscription\")`, the webhook name is `new-subscription`.\n\nThis is because it is expected that **your users** would define the actual **URL path** where they want to receive the webhook request in some other way (e.g. a web dashboard).", "source": "advanced\\openapi-webhooks.md"}
{"doc_id": "fastapi_1030", "title": "OpenAPI Webhooks { #openapi-webhooks }", "section": "Check the docs { #check-the-docs }", "content": "Now you can start your app and go to <a href=\"http://127.0.0.1:8000/docs\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/docs</a>.\n\nYou will see your docs have the normal *path operations* and now also some **webhooks**:\n\n<img src=\"/img/tutorial/openapi-webhooks/image01.png\">", "source": "advanced\\openapi-webhooks.md"}
{"doc_id": "fastapi_1031", "title": "Path Operation Advanced Configuration { #path-operation-advanced-configuration }", "section": "Path Operation Advanced Configuration { #path-operation-advanced-configuration }", "content": "", "source": "advanced\\path-operation-advanced-configuration.md"}
{"doc_id": "fastapi_1032", "title": "Path Operation Advanced Configuration { #path-operation-advanced-configuration }", "section": "OpenAPI operationId { #openapi-operationid }", "content": "/// warning\n\nIf you are not an \"expert\" in OpenAPI, you probably don't need this.\n\n///\n\nYou can set the OpenAPI `operationId` to be used in your *path operation* with the parameter `operation_id`.\n\nYou would have to make sure that it is unique for each operation.\n\n{* ../../docs_src/path_operation_advanced_configuration/tutorial001.py hl[6] *}", "source": "advanced\\path-operation-advanced-configuration.md"}
{"doc_id": "fastapi_1033", "title": "Path Operation Advanced Configuration { #path-operation-advanced-configuration }", "section": "Using the *path operation function* name as the operationId { #using-the-path-operation-function-name-as-the-operationid }", "content": "If you want to use your APIs' function names as `operationId`s, you can iterate over all of them and override each *path operation's* `operation_id` using their `APIRoute.name`.\n\nYou should do it after adding all your *path operations*.\n\n{* ../../docs_src/path_operation_advanced_configuration/tutorial002.py hl[2, 12:21, 24] *}\n\n/// tip\n\nIf you manually call `app.openapi()`, you should update the `operationId`s before that.\n\n///\n\n/// warning\n\nIf you do this, you have to make sure each one of your *path operation functions* has a unique name.\n\nEven if they are in different modules (Python files).\n\n///", "source": "advanced\\path-operation-advanced-configuration.md"}
{"doc_id": "fastapi_1034", "title": "Path Operation Advanced Configuration { #path-operation-advanced-configuration }", "section": "Exclude from OpenAPI { #exclude-from-openapi }", "content": "To exclude a *path operation* from the generated OpenAPI schema (and thus, from the automatic documentation systems), use the parameter `include_in_schema` and set it to `False`:\n\n{* ../../docs_src/path_operation_advanced_configuration/tutorial003.py hl[6] *}", "source": "advanced\\path-operation-advanced-configuration.md"}
{"doc_id": "fastapi_1035", "title": "Path Operation Advanced Configuration { #path-operation-advanced-configuration }", "section": "Advanced description from docstring { #advanced-description-from-docstring }", "content": "You can limit the lines used from the docstring of a *path operation function* for OpenAPI.\n\nAdding an `\\f` (an escaped \"form feed\" character) causes **FastAPI** to truncate the output used for OpenAPI at this point.\n\nIt won't show up in the documentation, but other tools (such as Sphinx) will be able to use the rest.\n\n{* ../../docs_src/path_operation_advanced_configuration/tutorial004.py hl[19:29] *}", "source": "advanced\\path-operation-advanced-configuration.md"}
{"doc_id": "fastapi_1036", "title": "Path Operation Advanced Configuration { #path-operation-advanced-configuration }", "section": "Additional Responses { #additional-responses }", "content": "You probably have seen how to declare the `response_model` and `status_code` for a *path operation*.\n\nThat defines the metadata about the main response of a *path operation*.\n\nYou can also declare additional responses with their models, status codes, etc.\n\nThere's a whole chapter here in the documentation about it, you can read it at [Additional Responses in OpenAPI](additional-responses.md){.internal-link target=_blank}.", "source": "advanced\\path-operation-advanced-configuration.md"}
{"doc_id": "fastapi_1037", "title": "Path Operation Advanced Configuration { #path-operation-advanced-configuration }", "section": "OpenAPI Extra { #openapi-extra }", "content": "When you declare a *path operation* in your application, **FastAPI** automatically generates the relevant metadata about that *path operation* to be included in the OpenAPI schema.\n\n/// note | Technical details\n\nIn the OpenAPI specification it is called the <a href=\"https://github.com/OAI/OpenAPI-Specification/blob/main/versions/3.0.3.md#operation-object\" class=\"external-link\" target=\"_blank\">Operation Object</a>.\n\n///\n\nIt has all the information about the *path operation* and is used to generate the automatic documentation.\n\nIt includes the `tags`, `parameters`, `requestBody`, `responses`, etc.\n\nThis *path operation*-specific OpenAPI schema is normally generated automatically by **FastAPI**, but you can also extend it.\n\n/// tip\n\nThis is a low level extension point.\n\nIf you only need to declare additional responses, a more convenient way to do it is with [Additional Responses in OpenAPI](additional-responses.md){.internal-link target=_blank}.\n\n///\n\nYou can extend the OpenAPI schema for a *path operation* using the parameter `openapi_extra`.", "source": "advanced\\path-operation-advanced-configuration.md"}
{"doc_id": "fastapi_1038", "title": "Path Operation Advanced Configuration { #path-operation-advanced-configuration }", "section": "OpenAPI Extensions { #openapi-extensions }", "content": "This `openapi_extra` can be helpful, for example, to declare [OpenAPI Extensions](https://github.com/OAI/OpenAPI-Specification/blob/main/versions/3.0.3.md#specificationExtensions):\n\n{* ../../docs_src/path_operation_advanced_configuration/tutorial005.py hl[6] *}\n\nIf you open the automatic API docs, your extension will show up at the bottom of the specific *path operation*.\n\n<img src=\"/img/tutorial/path-operation-advanced-configuration/image01.png\">\n\nAnd if you see the resulting OpenAPI (at `/openapi.json` in your API), you will see your extension as part of the specific *path operation* too:\n\n```JSON hl_lines=\"22\"\n{\n    \"openapi\": \"3.1.0\",\n    \"info\": {\n        \"title\": \"FastAPI\",\n        \"version\": \"0.1.0\"\n    },\n    \"paths\": {\n        \"/items/\": {\n            \"get\": {\n                \"summary\": \"Read Items\",\n                \"operationId\": \"read_items_items__get\",\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"Successful Response\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {}\n                            }\n                        }\n                    }\n                },\n                \"x-aperture-labs-portal\": \"blue\"\n            }\n        }\n    }\n}\n```", "source": "advanced\\path-operation-advanced-configuration.md"}
{"doc_id": "fastapi_1039", "title": "Path Operation Advanced Configuration { #path-operation-advanced-configuration }", "section": "Custom OpenAPI *path operation* schema { #custom-openapi-path-operation-schema }", "content": "The dictionary in `openapi_extra` will be deeply merged with the automatically generated OpenAPI schema for the *path operation*.\n\nSo, you could add additional data to the automatically generated schema.\n\nFor example, you could decide to read and validate the request with your own code, without using the automatic features of FastAPI with Pydantic, but you could still want to define the request in the OpenAPI schema.\n\nYou could do that with `openapi_extra`:\n\n{* ../../docs_src/path_operation_advanced_configuration/tutorial006.py hl[19:36, 39:40] *}\n\nIn this example, we didn't declare any Pydantic model. In fact, the request body is not even <abbr title=\"converted from some plain format, like bytes, into Python objects\">parsed</abbr> as JSON, it is read directly as `bytes`, and the function `magic_data_reader()` would be in charge of parsing it in some way.\n\nNevertheless, we can declare the expected schema for the request body.", "source": "advanced\\path-operation-advanced-configuration.md"}
{"doc_id": "fastapi_1040", "title": "Path Operation Advanced Configuration { #path-operation-advanced-configuration }", "section": "Custom OpenAPI content type { #custom-openapi-content-type }", "content": "Using this same trick, you could use a Pydantic model to define the JSON Schema that is then included in the custom OpenAPI schema section for the *path operation*.\n\nAnd you could do this even if the data type in the request is not JSON.\n\nFor example, in this application we don't use FastAPI's integrated functionality to extract the JSON Schema from Pydantic models nor the automatic validation for JSON. In fact, we are declaring the request content type as YAML, not JSON:\n\n//// tab | Pydantic v2\n\n{* ../../docs_src/path_operation_advanced_configuration/tutorial007.py hl[17:22, 24] *}\n\n////\n\n//// tab | Pydantic v1\n\n{* ../../docs_src/path_operation_advanced_configuration/tutorial007_pv1.py hl[17:22, 24] *}\n\n////\n\n/// info\n\nIn Pydantic version 1 the method to get the JSON Schema for a model was called `Item.schema()`, in Pydantic version 2, the method is called `Item.model_json_schema()`.\n\n///\n\nNevertheless, although we are not using the default integrated functionality, we are still using a Pydantic model to manually generate the JSON Schema for the data that we want to receive in YAML.\n\nThen we use the request directly, and extract the body as `bytes`. This means that FastAPI won't even try to parse the request payload as JSON.\n\nAnd then in our code, we parse that YAML content directly, and then we are again using the same Pydantic model to validate the YAML content:\n\n//// tab | Pydantic v2\n\n{* ../../docs_src/path_operation_advanced_configuration/tutorial007.py hl[26:33] *}\n\n////\n\n//// tab | Pydantic v1\n\n{* ../../docs_src/path_operation_advanced_configuration/tutorial007_pv1.py hl[26:33] *}\n\n////\n\n/// info\n\nIn Pydantic version 1 the method to parse and validate an object was `Item.parse_obj()`, in Pydantic version 2, the method is called `Item.model_validate()`.\n\n///\n\n/// tip\n\nHere we reuse the same Pydantic model.\n\nBut the same way, we could have validated it in some other way.\n\n///", "source": "advanced\\path-operation-advanced-configuration.md"}
{"doc_id": "fastapi_1041", "title": "Response - Change Status Code { #response-change-status-code }", "section": "Response - Change Status Code { #response-change-status-code }", "content": "You probably read before that you can set a default [Response Status Code](../tutorial/response-status-code.md){.internal-link target=_blank}.\n\nBut in some cases you need to return a different status code than the default.", "source": "advanced\\response-change-status-code.md"}
{"doc_id": "fastapi_1042", "title": "Response - Change Status Code { #response-change-status-code }", "section": "Use case { #use-case }", "content": "For example, imagine that you want to return an HTTP status code of \"OK\" `200` by default.\n\nBut if the data didn't exist, you want to create it, and return an HTTP status code of \"CREATED\" `201`.\n\nBut you still want to be able to filter and convert the data you return with a `response_model`.\n\nFor those cases, you can use a `Response` parameter.", "source": "advanced\\response-change-status-code.md"}
{"doc_id": "fastapi_1043", "title": "Response - Change Status Code { #response-change-status-code }", "section": "Use a `Response` parameter { #use-a-response-parameter }", "content": "You can declare a parameter of type `Response` in your *path operation function* (as you can do for cookies and headers).\n\nAnd then you can set the `status_code` in that *temporal* response object.\n\n{* ../../docs_src/response_change_status_code/tutorial001.py hl[1,9,12] *}\n\nAnd then you can return any object you need, as you normally would (a `dict`, a database model, etc).\n\nAnd if you declared a `response_model`, it will still be used to filter and convert the object you returned.\n\n**FastAPI** will use that *temporal* response to extract the status code (also cookies and headers), and will put them in the final response that contains the value you returned, filtered by any `response_model`.\n\nYou can also declare the `Response` parameter in dependencies, and set the status code in them. But keep in mind that the last one to be set will win.", "source": "advanced\\response-change-status-code.md"}
{"doc_id": "fastapi_1044", "title": "Response Cookies { #response-cookies }", "section": "Response Cookies { #response-cookies }", "content": "", "source": "advanced\\response-cookies.md"}
{"doc_id": "fastapi_1045", "title": "Response Cookies { #response-cookies }", "section": "Use a `Response` parameter { #use-a-response-parameter }", "content": "You can declare a parameter of type `Response` in your *path operation function*.\n\nAnd then you can set cookies in that *temporal* response object.\n\n{* ../../docs_src/response_cookies/tutorial002.py hl[1, 8:9] *}\n\nAnd then you can return any object you need, as you normally would (a `dict`, a database model, etc).\n\nAnd if you declared a `response_model`, it will still be used to filter and convert the object you returned.\n\n**FastAPI** will use that *temporal* response to extract the cookies (also headers and status code), and will put them in the final response that contains the value you returned, filtered by any `response_model`.\n\nYou can also declare the `Response` parameter in dependencies, and set cookies (and headers) in them.", "source": "advanced\\response-cookies.md"}
{"doc_id": "fastapi_1046", "title": "Response Cookies { #response-cookies }", "section": "Return a `Response` directly { #return-a-response-directly }", "content": "You can also create cookies when returning a `Response` directly in your code.\n\nTo do that, you can create a response as described in [Return a Response Directly](response-directly.md){.internal-link target=_blank}.\n\nThen set Cookies in it, and then return it:\n\n{* ../../docs_src/response_cookies/tutorial001.py hl[10:12] *}\n\n/// tip\n\nKeep in mind that if you return a response directly instead of using the `Response` parameter, FastAPI will return it directly.\n\nSo, you will have to make sure your data is of the correct type. E.g. it is compatible with JSON, if you are returning a `JSONResponse`.\n\nAnd also that you are not sending any data that should have been filtered by a `response_model`.\n\n///", "source": "advanced\\response-cookies.md"}
{"doc_id": "fastapi_1047", "title": "Response Cookies { #response-cookies }", "section": "More info { #more-info }", "content": "/// note | Technical Details\n\nYou could also use `from starlette.responses import Response` or `from starlette.responses import JSONResponse`.\n\n**FastAPI** provides the same `starlette.responses` as `fastapi.responses` just as a convenience for you, the developer. But most of the available responses come directly from Starlette.\n\nAnd as the `Response` can be used frequently to set headers and cookies, **FastAPI** also provides it at `fastapi.Response`.\n\n///\n\nTo see all the available parameters and options, check the <a href=\"https://www.starlette.dev/responses/#set-cookie\" class=\"external-link\" target=\"_blank\">documentation in Starlette</a>.", "source": "advanced\\response-cookies.md"}
{"doc_id": "fastapi_1048", "title": "Return a Response Directly { #return-a-response-directly }", "section": "Return a Response Directly { #return-a-response-directly }", "content": "When you create a **FastAPI** *path operation* you can normally return any data from it: a `dict`, a `list`, a Pydantic model, a database model, etc.\n\nBy default, **FastAPI** would automatically convert that return value to JSON using the `jsonable_encoder` explained in [JSON Compatible Encoder](../tutorial/encoder.md){.internal-link target=_blank}.\n\nThen, behind the scenes, it would put that JSON-compatible data (e.g. a `dict`) inside of a `JSONResponse` that would be used to send the response to the client.\n\nBut you can return a `JSONResponse` directly from your *path operations*.\n\nIt might be useful, for example, to return custom headers or cookies.", "source": "advanced\\response-directly.md"}
{"doc_id": "fastapi_1049", "title": "Return a Response Directly { #return-a-response-directly }", "section": "Return a `Response` { #return-a-response }", "content": "In fact, you can return any `Response` or any sub-class of it.\n\n/// tip\n\n`JSONResponse` itself is a sub-class of `Response`.\n\n///\n\nAnd when you return a `Response`, **FastAPI** will pass it directly.\n\nIt won't do any data conversion with Pydantic models, it won't convert the contents to any type, etc.\n\nThis gives you a lot of flexibility. You can return any data type, override any data declaration or validation, etc.", "source": "advanced\\response-directly.md"}
{"doc_id": "fastapi_1050", "title": "Return a Response Directly { #return-a-response-directly }", "section": "Using the `jsonable_encoder` in a `Response` { #using-the-jsonable-encoder-in-a-response }", "content": "Because **FastAPI** doesn't make any changes to a `Response` you return, you have to make sure its contents are ready for it.\n\nFor example, you cannot put a Pydantic model in a `JSONResponse` without first converting it to a `dict` with all the data types (like `datetime`, `UUID`, etc) converted to JSON-compatible types.\n\nFor those cases, you can use the `jsonable_encoder` to convert your data before passing it to a response:\n\n{* ../../docs_src/response_directly/tutorial001.py hl[6:7,21:22] *}\n\n/// note | Technical Details\n\nYou could also use `from starlette.responses import JSONResponse`.\n\n**FastAPI** provides the same `starlette.responses` as `fastapi.responses` just as a convenience for you, the developer. But most of the available responses come directly from Starlette.\n\n///", "source": "advanced\\response-directly.md"}
{"doc_id": "fastapi_1051", "title": "Return a Response Directly { #return-a-response-directly }", "section": "Returning a custom `Response` { #returning-a-custom-response }", "content": "The example above shows all the parts you need, but it's not very useful yet, as you could have just returned the `item` directly, and **FastAPI** would put it in a `JSONResponse` for you, converting it to a `dict`, etc. All that by default.\n\nNow, let's see how you could use that to return a custom response.\n\nLet's say that you want to return an <a href=\"https://en.wikipedia.org/wiki/XML\" class=\"external-link\" target=\"_blank\">XML</a> response.\n\nYou could put your XML content in a string, put that in a `Response`, and return it:\n\n{* ../../docs_src/response_directly/tutorial002.py hl[1,18] *}", "source": "advanced\\response-directly.md"}
{"doc_id": "fastapi_1052", "title": "Return a Response Directly { #return-a-response-directly }", "section": "Notes { #notes }", "content": "When you return a `Response` directly its data is not validated, converted (serialized), or documented automatically.\n\nBut you can still document it as described in [Additional Responses in OpenAPI](additional-responses.md){.internal-link target=_blank}.\n\nYou can see in later sections how to use/declare these custom `Response`s while still having automatic data conversion, documentation, etc.", "source": "advanced\\response-directly.md"}
{"doc_id": "fastapi_1053", "title": "Response Headers { #response-headers }", "section": "Response Headers { #response-headers }", "content": "", "source": "advanced\\response-headers.md"}
{"doc_id": "fastapi_1054", "title": "Response Headers { #response-headers }", "section": "Use a `Response` parameter { #use-a-response-parameter }", "content": "You can declare a parameter of type `Response` in your *path operation function* (as you can do for cookies).\n\nAnd then you can set headers in that *temporal* response object.\n\n{* ../../docs_src/response_headers/tutorial002.py hl[1, 7:8] *}\n\nAnd then you can return any object you need, as you normally would (a `dict`, a database model, etc).\n\nAnd if you declared a `response_model`, it will still be used to filter and convert the object you returned.\n\n**FastAPI** will use that *temporal* response to extract the headers (also cookies and status code), and will put them in the final response that contains the value you returned, filtered by any `response_model`.\n\nYou can also declare the `Response` parameter in dependencies, and set headers (and cookies) in them.", "source": "advanced\\response-headers.md"}
{"doc_id": "fastapi_1055", "title": "Response Headers { #response-headers }", "section": "Return a `Response` directly { #return-a-response-directly }", "content": "You can also add headers when you return a `Response` directly.\n\nCreate a response as described in [Return a Response Directly](response-directly.md){.internal-link target=_blank} and pass the headers as an additional parameter:\n\n{* ../../docs_src/response_headers/tutorial001.py hl[10:12] *}\n\n/// note | Technical Details\n\nYou could also use `from starlette.responses import Response` or `from starlette.responses import JSONResponse`.\n\n**FastAPI** provides the same `starlette.responses` as `fastapi.responses` just as a convenience for you, the developer. But most of the available responses come directly from Starlette.\n\nAnd as the `Response` can be used frequently to set headers and cookies, **FastAPI** also provides it at `fastapi.Response`.\n\n///", "source": "advanced\\response-headers.md"}
{"doc_id": "fastapi_1056", "title": "Response Headers { #response-headers }", "section": "Custom Headers { #custom-headers }", "content": "Keep in mind that custom proprietary headers can be added <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers\" class=\"external-link\" target=\"_blank\">using the `X-` prefix</a>.\n\nBut if you have custom headers that you want a client in a browser to be able to see, you need to add them to your CORS configurations (read more in [CORS (Cross-Origin Resource Sharing)](../tutorial/cors.md){.internal-link target=_blank}), using the parameter `expose_headers` documented in <a href=\"https://www.starlette.dev/middleware/#corsmiddleware\" class=\"external-link\" target=\"_blank\">Starlette's CORS docs</a>.", "source": "advanced\\response-headers.md"}
{"doc_id": "fastapi_1057", "title": "Settings and Environment Variables { #settings-and-environment-variables }", "section": "Settings and Environment Variables { #settings-and-environment-variables }", "content": "In many cases your application could need some external settings or configurations, for example secret keys, database credentials, credentials for email services, etc.\n\nMost of these settings are variable (can change), like database URLs. And many could be sensitive, like secrets.\n\nFor this reason it's common to provide them in environment variables that are read by the application.\n\n/// tip\n\nTo understand environment variables you can read [Environment Variables](../environment-variables.md){.internal-link target=_blank}.\n\n///", "source": "advanced\\settings.md"}
{"doc_id": "fastapi_1058", "title": "Settings and Environment Variables { #settings-and-environment-variables }", "section": "Types and validation { #types-and-validation }", "content": "These environment variables can only handle text strings, as they are external to Python and have to be compatible with other programs and the rest of the system (and even with different operating systems, as Linux, Windows, macOS).\n\nThat means that any value read in Python from an environment variable will be a `str`, and any conversion to a different type or any validation has to be done in code.", "source": "advanced\\settings.md"}
{"doc_id": "fastapi_1059", "title": "Settings and Environment Variables { #settings-and-environment-variables }", "section": "Pydantic `Settings` { #pydantic-settings }", "content": "Fortunately, Pydantic provides a great utility to handle these settings coming from environment variables with <a href=\"https://docs.pydantic.dev/latest/concepts/pydantic_settings/\" class=\"external-link\" target=\"_blank\">Pydantic: Settings management</a>.", "source": "advanced\\settings.md"}
{"doc_id": "fastapi_1060", "title": "Settings and Environment Variables { #settings-and-environment-variables }", "section": "Install `pydantic-settings` { #install-pydantic-settings }", "content": "First, make sure you create your [virtual environment](../virtual-environments.md){.internal-link target=_blank}, activate it, and then install the `pydantic-settings` package:\n\n<div class=\"termy\">\n\n```console\n$ pip install pydantic-settings\n---> 100%\n```\n\n</div>\n\nIt also comes included when you install the `all` extras with:\n\n<div class=\"termy\">\n\n```console\n$ pip install \"fastapi[all]\"\n---> 100%\n```\n\n</div>\n\n/// info\n\nIn Pydantic v1 it came included with the main package. Now it is distributed as this independent package so that you can choose to install it or not if you don't need that functionality.\n\n///", "source": "advanced\\settings.md"}
{"doc_id": "fastapi_1061", "title": "Settings and Environment Variables { #settings-and-environment-variables }", "section": "Create the `Settings` object { #create-the-settings-object }", "content": "Import `BaseSettings` from Pydantic and create a sub-class, very much like with a Pydantic model.\n\nThe same way as with Pydantic models, you declare class attributes with type annotations, and possibly default values.\n\nYou can use all the same validation features and tools you use for Pydantic models, like different data types and additional validations with `Field()`.\n\n//// tab | Pydantic v2\n\n{* ../../docs_src/settings/tutorial001.py hl[2,5:8,11] *}\n\n////\n\n//// tab | Pydantic v1\n\n/// info\n\nIn Pydantic v1 you would import `BaseSettings` directly from `pydantic` instead of from `pydantic_settings`.\n\n///\n\n{* ../../docs_src/settings/tutorial001_pv1.py hl[2,5:8,11] *}\n\n////\n\n/// tip\n\nIf you want something quick to copy and paste, don't use this example, use the last one below.\n\n///\n\nThen, when you create an instance of that `Settings` class (in this case, in the `settings` object), Pydantic will read the environment variables in a case-insensitive way, so, an upper-case variable `APP_NAME` will still be read for the attribute `app_name`.\n\nNext it will convert and validate the data. So, when you use that `settings` object, you will have data of the types you declared (e.g. `items_per_user` will be an `int`).", "source": "advanced\\settings.md"}
{"doc_id": "fastapi_1062", "title": "Settings and Environment Variables { #settings-and-environment-variables }", "section": "Use the `settings` { #use-the-settings }", "content": "Then you can use the new `settings` object in your application:\n\n{* ../../docs_src/settings/tutorial001.py hl[18:20] *}", "source": "advanced\\settings.md"}
{"doc_id": "fastapi_1063", "title": "Settings and Environment Variables { #settings-and-environment-variables }", "section": "Run the server { #run-the-server }", "content": "Next, you would run the server passing the configurations as environment variables, for example you could set an `ADMIN_EMAIL` and `APP_NAME` with:\n\n<div class=\"termy\">\n\n```console\n$ ADMIN_EMAIL=\"deadpool@example.com\" APP_NAME=\"ChimichangApp\" fastapi run main.py\n\n<span style=\"color: green;\">INFO</span>:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)\n```\n\n</div>\n\n/// tip\n\nTo set multiple env vars for a single command just separate them with a space, and put them all before the command.\n\n///\n\nAnd then the `admin_email` setting would be set to `\"deadpool@example.com\"`.\n\nThe `app_name` would be `\"ChimichangApp\"`.\n\nAnd the `items_per_user` would keep its default value of `50`.", "source": "advanced\\settings.md"}
{"doc_id": "fastapi_1064", "title": "Settings and Environment Variables { #settings-and-environment-variables }", "section": "Settings in another module { #settings-in-another-module }", "content": "You could put those settings in another module file as you saw in [Bigger Applications - Multiple Files](../tutorial/bigger-applications.md){.internal-link target=_blank}.\n\nFor example, you could have a file `config.py` with:\n\n{* ../../docs_src/settings/app01/config.py *}\n\nAnd then use it in a file `main.py`:\n\n{* ../../docs_src/settings/app01/main.py hl[3,11:13] *}\n\n/// tip\n\nYou would also need a file `__init__.py` as you saw in [Bigger Applications - Multiple Files](../tutorial/bigger-applications.md){.internal-link target=_blank}.\n\n///", "source": "advanced\\settings.md"}
{"doc_id": "fastapi_1065", "title": "Settings and Environment Variables { #settings-and-environment-variables }", "section": "Settings in a dependency { #settings-in-a-dependency }", "content": "In some occasions it might be useful to provide the settings from a dependency, instead of having a global object with `settings` that is used everywhere.\n\nThis could be especially useful during testing, as it's very easy to override a dependency with your own custom settings.", "source": "advanced\\settings.md"}
{"doc_id": "fastapi_1066", "title": "Settings and Environment Variables { #settings-and-environment-variables }", "section": "The config file { #the-config-file }", "content": "Coming from the previous example, your `config.py` file could look like:\n\n{* ../../docs_src/settings/app02/config.py hl[10] *}\n\nNotice that now we don't create a default instance `settings = Settings()`.", "source": "advanced\\settings.md"}
{"doc_id": "fastapi_1067", "title": "Settings and Environment Variables { #settings-and-environment-variables }", "section": "The main app file { #the-main-app-file }", "content": "Now we create a dependency that returns a new `config.Settings()`.\n\n{* ../../docs_src/settings/app02_an_py39/main.py hl[6,12:13] *}\n\n/// tip\n\nWe'll discuss the `@lru_cache` in a bit.\n\nFor now you can assume `get_settings()` is a normal function.\n\n///\n\nAnd then we can require it from the *path operation function* as a dependency and use it anywhere we need it.\n\n{* ../../docs_src/settings/app02_an_py39/main.py hl[17,19:21] *}", "source": "advanced\\settings.md"}
{"doc_id": "fastapi_1068", "title": "Settings and Environment Variables { #settings-and-environment-variables }", "section": "Settings and testing { #settings-and-testing }", "content": "Then it would be very easy to provide a different settings object during testing by creating a dependency override for `get_settings`:\n\n{* ../../docs_src/settings/app02/test_main.py hl[9:10,13,21] *}\n\nIn the dependency override we set a new value for the `admin_email` when creating the new `Settings` object, and then we return that new object.\n\nThen we can test that it is used.", "source": "advanced\\settings.md"}
{"doc_id": "fastapi_1069", "title": "Settings and Environment Variables { #settings-and-environment-variables }", "section": "Reading a `.env` file { #reading-a-env-file }", "content": "If you have many settings that possibly change a lot, maybe in different environments, it might be useful to put them on a file and then read them from it as if they were environment variables.\n\nThis practice is common enough that it has a name, these environment variables are commonly placed in a file `.env`, and the file is called a \"dotenv\".\n\n/// tip\n\nA file starting with a dot (`.`) is a hidden file in Unix-like systems, like Linux and macOS.\n\nBut a dotenv file doesn't really have to have that exact filename.\n\n///\n\nPydantic has support for reading from these types of files using an external library. You can read more at <a href=\"https://docs.pydantic.dev/latest/concepts/pydantic_settings/#dotenv-env-support\" class=\"external-link\" target=\"_blank\">Pydantic Settings: Dotenv (.env) support</a>.\n\n/// tip\n\nFor this to work, you need to `pip install python-dotenv`.\n\n///", "source": "advanced\\settings.md"}
{"doc_id": "fastapi_1070", "title": "Settings and Environment Variables { #settings-and-environment-variables }", "section": "The `.env` file { #the-env-file }", "content": "You could have a `.env` file with:\n\n```bash\nADMIN_EMAIL=\"deadpool@example.com\"\nAPP_NAME=\"ChimichangApp\"\n```", "source": "advanced\\settings.md"}
{"doc_id": "fastapi_1071", "title": "Settings and Environment Variables { #settings-and-environment-variables }", "section": "Read settings from `.env` { #read-settings-from-env }", "content": "And then update your `config.py` with:\n\n//// tab | Pydantic v2\n\n{* ../../docs_src/settings/app03_an/config.py hl[9] *}\n\n/// tip\n\nThe `model_config` attribute is used just for Pydantic configuration. You can read more at <a href=\"https://docs.pydantic.dev/latest/concepts/config/\" class=\"external-link\" target=\"_blank\">Pydantic: Concepts: Configuration</a>.\n\n///\n\n////\n\n//// tab | Pydantic v1\n\n{* ../../docs_src/settings/app03_an/config_pv1.py hl[9:10] *}\n\n/// tip\n\nThe `Config` class is used just for Pydantic configuration. You can read more at <a href=\"https://docs.pydantic.dev/1.10/usage/model_config/\" class=\"external-link\" target=\"_blank\">Pydantic Model Config</a>.\n\n///\n\n////\n\n/// info\n\nIn Pydantic version 1 the configuration was done in an internal class `Config`, in Pydantic version 2 it's done in an attribute `model_config`. This attribute takes a `dict`, and to get autocompletion and inline errors you can import and use `SettingsConfigDict` to define that `dict`.\n\n///\n\nHere we define the config `env_file` inside of your Pydantic `Settings` class, and set the value to the filename with the dotenv file we want to use.", "source": "advanced\\settings.md"}
{"doc_id": "fastapi_1072", "title": "Settings and Environment Variables { #settings-and-environment-variables }", "section": "Creating the `Settings` only once with `lru_cache` { #creating-the-settings-only-once-with-lru-cache }", "content": "Reading a file from disk is normally a costly (slow) operation, so you probably want to do it only once and then reuse the same settings object, instead of reading it for each request.\n\nBut every time we do:\n\n```Python\nSettings()\n```\n\na new `Settings` object would be created, and at creation it would read the `.env` file again.\n\nIf the dependency function was just like:\n\n```Python\ndef get_settings():\n    return Settings()\n```\n\nwe would create that object for each request, and we would be reading the `.env` file for each request. ‚ö†Ô∏è\n\nBut as we are using the `@lru_cache` decorator on top, the `Settings` object will be created only once, the first time it's called. ‚úîÔ∏è\n\n{* ../../docs_src/settings/app03_an_py39/main.py hl[1,11] *}\n\nThen for any subsequent call of `get_settings()` in the dependencies for the next requests, instead of executing the internal code of `get_settings()` and creating a new `Settings` object, it will return the same object that was returned on the first call, again and again.\n\n#### `lru_cache` Technical Details { #lru-cache-technical-details }\n\n`@lru_cache` modifies the function it decorates to return the same value that was returned the first time, instead of computing it again, executing the code of the function every time.\n\nSo, the function below it will be executed once for each combination of arguments. And then the values returned by each of those combinations of arguments will be used again and again whenever the function is called with exactly the same combination of arguments.\n\nFor example, if you have a function:\n\n```Python\n@lru_cache\ndef say_hi(name: str, salutation: str = \"Ms.\"):\n    return f\"Hello {salutation} {name}\"\n```\n\nyour program could execute like this:\n\n```mermaid\nsequenceDiagram\n\nparticipant code as Code\nparticipant function as say_hi()\nparticipant execute as Execute function\n\n    rect rgba(0, 255, 0, .1)\n        code ->> function: say_hi(name=\"Camila\")\n        function ->> execute: execute function code\n        execute ->> code: return the result\n    end\n\n    rect rgba(0, 255, 255, .1)\n        code ->> function: say_hi(name=\"Camila\")\n        function ->> code: return stored result\n    end\n\n    rect rgba(0, 255, 0, .1)\n        code ->> function: say_hi(name=\"Rick\")\n        function ->> execute: execute function code\n        execute ->> code: return the result\n    end\n\n    rect rgba(0, 255, 0, .1)\n        code ->> function: say_hi(name=\"Rick\", salutation=\"Mr.\")\n        function ->> execute: execute function code\n        execute ->> code: return the result\n    end\n\n    rect rgba(0, 255, 255, .1)\n        code ->> function: say_hi(name=\"Rick\")\n        function ->> code: return stored result\n    end\n\n    rect rgba(0, 255, 255, .1)\n        code ->> function: say_hi(name=\"Camila\")\n        function ->> code: return stored result\n    end\n```\n\nIn the case of our dependency `get_settings()`, the function doesn't even take any arguments, so it always returns the same value.\n\nThat way, it behaves almost as if it was just a global variable. But as it uses a dependency function, then we can override it easily for testing.\n\n`@lru_cache` is part of `functools` which is part of Python's standard library, you can read more about it in the <a href=\"https://docs.python.org/3/library/functools.html#functools.lru_cache\" class=\"external-link\" target=\"_blank\">Python docs for `@lru_cache`</a>.", "source": "advanced\\settings.md"}
{"doc_id": "fastapi_1073", "title": "Settings and Environment Variables { #settings-and-environment-variables }", "section": "Recap { #recap }", "content": "You can use Pydantic Settings to handle the settings or configurations for your application, with all the power of Pydantic models.\n\n* By using a dependency you can simplify testing.\n* You can use `.env` files with it.\n* Using `@lru_cache` lets you avoid reading the dotenv file again and again for each request, while allowing you to override it during testing.", "source": "advanced\\settings.md"}
{"doc_id": "fastapi_1074", "title": "Sub Applications - Mounts { #sub-applications-mounts }", "section": "Sub Applications - Mounts { #sub-applications-mounts }", "content": "If you need to have two independent FastAPI applications, with their own independent OpenAPI and their own docs UIs, you can have a main app and \"mount\" one (or more) sub-application(s).", "source": "advanced\\sub-applications.md"}
{"doc_id": "fastapi_1075", "title": "Sub Applications - Mounts { #sub-applications-mounts }", "section": "Mounting a **FastAPI** application { #mounting-a-fastapi-application }", "content": "\"Mounting\" means adding a completely \"independent\" application in a specific path, that then takes care of handling everything under that path, with the _path operations_ declared in that sub-application.", "source": "advanced\\sub-applications.md"}
{"doc_id": "fastapi_1076", "title": "Sub Applications - Mounts { #sub-applications-mounts }", "section": "Top-level application { #top-level-application }", "content": "First, create the main, top-level, **FastAPI** application, and its *path operations*:\n\n{* ../../docs_src/sub_applications/tutorial001.py hl[3, 6:8] *}", "source": "advanced\\sub-applications.md"}
{"doc_id": "fastapi_1077", "title": "Sub Applications - Mounts { #sub-applications-mounts }", "section": "Sub-application { #sub-application }", "content": "Then, create your sub-application, and its *path operations*.\n\nThis sub-application is just another standard FastAPI application, but this is the one that will be \"mounted\":\n\n{* ../../docs_src/sub_applications/tutorial001.py hl[11, 14:16] *}", "source": "advanced\\sub-applications.md"}
{"doc_id": "fastapi_1078", "title": "Sub Applications - Mounts { #sub-applications-mounts }", "section": "Mount the sub-application { #mount-the-sub-application }", "content": "In your top-level application, `app`, mount the sub-application, `subapi`.\n\nIn this case, it will be mounted at the path `/subapi`:\n\n{* ../../docs_src/sub_applications/tutorial001.py hl[11, 19] *}", "source": "advanced\\sub-applications.md"}
{"doc_id": "fastapi_1079", "title": "Sub Applications - Mounts { #sub-applications-mounts }", "section": "Check the automatic API docs { #check-the-automatic-api-docs }", "content": "Now, run the `fastapi` command with your file:\n\n<div class=\"termy\">\n\n```console\n$ fastapi dev main.py\n\n<span style=\"color: green;\">INFO</span>:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)\n```\n\n</div>\n\nAnd open the docs at <a href=\"http://127.0.0.1:8000/docs\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/docs</a>.\n\nYou will see the automatic API docs for the main app, including only its own _path operations_:\n\n<img src=\"/img/tutorial/sub-applications/image01.png\">\n\nAnd then, open the docs for the sub-application, at <a href=\"http://127.0.0.1:8000/subapi/docs\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/subapi/docs</a>.\n\nYou will see the automatic API docs for the sub-application, including only its own _path operations_, all under the correct sub-path prefix `/subapi`:\n\n<img src=\"/img/tutorial/sub-applications/image02.png\">\n\nIf you try interacting with any of the two user interfaces, they will work correctly, because the browser will be able to talk to each specific app or sub-app.", "source": "advanced\\sub-applications.md"}
{"doc_id": "fastapi_1080", "title": "Sub Applications - Mounts { #sub-applications-mounts }", "section": "Technical Details: `root_path` { #technical-details-root-path }", "content": "When you mount a sub-application as described above, FastAPI will take care of communicating the mount path for the sub-application using a mechanism from the ASGI specification called a `root_path`.\n\nThat way, the sub-application will know to use that path prefix for the docs UI.\n\nAnd the sub-application could also have its own mounted sub-applications and everything would work correctly, because FastAPI handles all these `root_path`s automatically.\n\nYou will learn more about the `root_path` and how to use it explicitly in the section about [Behind a Proxy](behind-a-proxy.md){.internal-link target=_blank}.", "source": "advanced\\sub-applications.md"}
{"doc_id": "fastapi_1081", "title": "Templates { #templates }", "section": "Templates { #templates }", "content": "You can use any template engine you want with **FastAPI**.\n\nA common choice is Jinja2, the same one used by Flask and other tools.\n\nThere are utilities to configure it easily that you can use directly in your **FastAPI** application (provided by Starlette).", "source": "advanced\\templates.md"}
{"doc_id": "fastapi_1082", "title": "Templates { #templates }", "section": "Install dependencies { #install-dependencies }", "content": "Make sure you create a [virtual environment](../virtual-environments.md){.internal-link target=_blank}, activate it, and install `jinja2`:\n\n<div class=\"termy\">\n\n```console\n$ pip install jinja2\n\n---> 100%\n```\n\n</div>", "source": "advanced\\templates.md"}
{"doc_id": "fastapi_1083", "title": "Templates { #templates }", "section": "Using `Jinja2Templates` { #using-jinja2templates }", "content": "* Import `Jinja2Templates`.\n* Create a `templates` object that you can reuse later.\n* Declare a `Request` parameter in the *path operation* that will return a template.\n* Use the `templates` you created to render and return a `TemplateResponse`, pass the name of the template, the request object, and a \"context\" dictionary with key-value pairs to be used inside of the Jinja2 template.\n\n{* ../../docs_src/templates/tutorial001.py hl[4,11,15:18] *}\n\n/// note\n\nBefore FastAPI 0.108.0, Starlette 0.29.0, the `name` was the first parameter.\n\nAlso, before that, in previous versions, the `request` object was passed as part of the key-value pairs in the context for Jinja2.\n\n///\n\n/// tip\n\nBy declaring `response_class=HTMLResponse` the docs UI will be able to know that the response will be HTML.\n\n///\n\n/// note | Technical Details\n\nYou could also use `from starlette.templating import Jinja2Templates`.\n\n**FastAPI** provides the same `starlette.templating` as `fastapi.templating` just as a convenience for you, the developer. But most of the available responses come directly from Starlette. The same with `Request` and `StaticFiles`.\n\n///", "source": "advanced\\templates.md"}
{"doc_id": "fastapi_1084", "title": "Templates { #templates }", "section": "Writing templates { #writing-templates }", "content": "Then you can write a template at `templates/item.html` with, for example:\n\n```jinja hl_lines=\"7\"\n{!../../docs_src/templates/templates/item.html!}\n```", "source": "advanced\\templates.md"}
{"doc_id": "fastapi_1085", "title": "Templates { #templates }", "section": "Template Context Values { #template-context-values }", "content": "In the HTML that contains:\n\n{% raw %}\n\n```jinja\nItem ID: {{ id }}\n```\n\n{% endraw %}\n\n...it will show the `id` taken from the \"context\" `dict` you passed:\n\n```Python\n{\"id\": id}\n```\n\nFor example, with an ID of `42`, this would render:\n\n```html\nItem ID: 42\n```", "source": "advanced\\templates.md"}
{"doc_id": "fastapi_1086", "title": "Templates { #templates }", "section": "Template `url_for` Arguments { #template-url-for-arguments }", "content": "You can also use `url_for()` inside of the template, it takes as arguments the same arguments that would be used by your *path operation function*.\n\nSo, the section with:\n\n{% raw %}\n\n```jinja\n<a href=\"{{ url_for('read_item', id=id) }}\">\n```\n\n{% endraw %}\n\n...will generate a link to the same URL that would be handled by the *path operation function* `read_item(id=id)`.\n\nFor example, with an ID of `42`, this would render:\n\n```html\n<a href=\"/items/42\">\n```", "source": "advanced\\templates.md"}
{"doc_id": "fastapi_1087", "title": "Templates { #templates }", "section": "Templates and static files { #templates-and-static-files }", "content": "You can also use `url_for()` inside of the template, and use it, for example, with the `StaticFiles` you mounted with the `name=\"static\"`.\n\n```jinja hl_lines=\"4\"\n{!../../docs_src/templates/templates/item.html!}\n```\n\nIn this example, it would link to a CSS file at `static/styles.css` with:\n\n```CSS hl_lines=\"4\"\n{!../../docs_src/templates/static/styles.css!}\n```\n\nAnd because you are using `StaticFiles`, that CSS file would be served automatically by your **FastAPI** application at the URL `/static/styles.css`.", "source": "advanced\\templates.md"}
{"doc_id": "fastapi_1088", "title": "Templates { #templates }", "section": "More details { #more-details }", "content": "For more details, including how to test templates, check <a href=\"https://www.starlette.dev/templates/\" class=\"external-link\" target=\"_blank\">Starlette's docs on templates</a>.", "source": "advanced\\templates.md"}
{"doc_id": "fastapi_1089", "title": "Testing Dependencies with Overrides { #testing-dependencies-with-overrides }", "section": "Testing Dependencies with Overrides { #testing-dependencies-with-overrides }", "content": "", "source": "advanced\\testing-dependencies.md"}
{"doc_id": "fastapi_1090", "title": "Testing Dependencies with Overrides { #testing-dependencies-with-overrides }", "section": "Overriding dependencies during testing { #overriding-dependencies-during-testing }", "content": "There are some scenarios where you might want to override a dependency during testing.\n\nYou don't want the original dependency to run (nor any of the sub-dependencies it might have).\n\nInstead, you want to provide a different dependency that will be used only during tests (possibly only some specific tests), and will provide a value that can be used where the value of the original dependency was used.", "source": "advanced\\testing-dependencies.md"}
{"doc_id": "fastapi_1091", "title": "Testing Dependencies with Overrides { #testing-dependencies-with-overrides }", "section": "Use cases: external service { #use-cases-external-service }", "content": "An example could be that you have an external authentication provider that you need to call.\n\nYou send it a token and it returns an authenticated user.\n\nThis provider might be charging you per request, and calling it might take some extra time than if you had a fixed mock user for tests.\n\nYou probably want to test the external provider once, but not necessarily call it for every test that runs.\n\nIn this case, you can override the dependency that calls that provider, and use a custom dependency that returns a mock user, only for your tests.", "source": "advanced\\testing-dependencies.md"}
{"doc_id": "fastapi_1092", "title": "Testing Dependencies with Overrides { #testing-dependencies-with-overrides }", "section": "Use the `app.dependency_overrides` attribute { #use-the-app-dependency-overrides-attribute }", "content": "For these cases, your **FastAPI** application has an attribute `app.dependency_overrides`, it is a simple `dict`.\n\nTo override a dependency for testing, you put as a key the original dependency (a function), and as the value, your dependency override (another function).\n\nAnd then **FastAPI** will call that override instead of the original dependency.\n\n{* ../../docs_src/dependency_testing/tutorial001_an_py310.py hl[26:27,30] *}\n\n/// tip\n\nYou can set a dependency override for a dependency used anywhere in your **FastAPI** application.\n\nThe original dependency could be used in a *path operation function*, a *path operation decorator* (when you don't use the return value), a `.include_router()` call, etc.\n\nFastAPI will still be able to override it.\n\n///\n\nThen you can reset your overrides (remove them) by setting `app.dependency_overrides` to be an empty `dict`:\n\n```Python\napp.dependency_overrides = {}\n```\n\n/// tip\n\nIf you want to override a dependency only during some tests, you can set the override at the beginning of the test (inside the test function) and reset it at the end (at the end of the test function).\n\n///", "source": "advanced\\testing-dependencies.md"}
{"doc_id": "fastapi_1093", "title": "Testing Events: lifespan and startup - shutdown { #testing-events-lifespan-and-startup-shutdown }", "section": "Testing Events: lifespan and startup - shutdown { #testing-events-lifespan-and-startup-shutdown }", "content": "When you need `lifespan` to run in your tests, you can use the `TestClient` with a `with` statement:\n\n{* ../../docs_src/app_testing/tutorial004.py hl[9:15,18,27:28,30:32,41:43] *}\n\n\nYou can read more details about the [\"Running lifespan in tests in the official Starlette documentation site.\"](https://www.starlette.dev/lifespan/#running-lifespan-in-tests)\n\nFor the deprecated `startup` and `shutdown` events, you can use the `TestClient` as follows:\n\n{* ../../docs_src/app_testing/tutorial003.py hl[9:12,20:24] *}", "source": "advanced\\testing-events.md"}
{"doc_id": "fastapi_1094", "title": "Testing WebSockets { #testing-websockets }", "section": "Testing WebSockets { #testing-websockets }", "content": "You can use the same `TestClient` to test WebSockets.\n\nFor this, you use the `TestClient` in a `with` statement, connecting to the WebSocket:\n\n{* ../../docs_src/app_testing/tutorial002.py hl[27:31] *}\n\n/// note\n\nFor more details, check Starlette's documentation for <a href=\"https://www.starlette.dev/testclient/#testing-websocket-sessions\" class=\"external-link\" target=\"_blank\">testing WebSockets</a>.\n\n///", "source": "advanced\\testing-websockets.md"}
{"doc_id": "fastapi_1095", "title": "Using the Request Directly { #using-the-request-directly }", "section": "Using the Request Directly { #using-the-request-directly }", "content": "Up to now, you have been declaring the parts of the request that you need with their types.\n\nTaking data from:\n\n* The path as parameters.\n* Headers.\n* Cookies.\n* etc.\n\nAnd by doing so, **FastAPI** is validating that data, converting it and generating documentation for your API automatically.\n\nBut there are situations where you might need to access the `Request` object directly.", "source": "advanced\\using-request-directly.md"}
{"doc_id": "fastapi_1096", "title": "Using the Request Directly { #using-the-request-directly }", "section": "Details about the `Request` object { #details-about-the-request-object }", "content": "As **FastAPI** is actually **Starlette** underneath, with a layer of several tools on top, you can use Starlette's <a href=\"https://www.starlette.dev/requests/\" class=\"external-link\" target=\"_blank\">`Request`</a> object directly when you need to.\n\nIt would also mean that if you get data from the `Request` object directly (for example, read the body) it won't be validated, converted or documented (with OpenAPI, for the automatic API user interface) by FastAPI.\n\nAlthough any other parameter declared normally (for example, the body with a Pydantic model) would still be validated, converted, annotated, etc.\n\nBut there are specific cases where it's useful to get the `Request` object.", "source": "advanced\\using-request-directly.md"}
{"doc_id": "fastapi_1097", "title": "Using the Request Directly { #using-the-request-directly }", "section": "Use the `Request` object directly { #use-the-request-object-directly }", "content": "Let's imagine you want to get the client's IP address/host inside of your *path operation function*.\n\nFor that you need to access the request directly.\n\n{* ../../docs_src/using_request_directly/tutorial001.py hl[1,7:8] *}\n\nBy declaring a *path operation function* parameter with the type being the `Request` **FastAPI** will know to pass the `Request` in that parameter.\n\n/// tip\n\nNote that in this case, we are declaring a path parameter beside the request parameter.\n\nSo, the path parameter will be extracted, validated, converted to the specified type and annotated with OpenAPI.\n\nThe same way, you can declare any other parameter as normally, and additionally, get the `Request` too.\n\n///", "source": "advanced\\using-request-directly.md"}
{"doc_id": "fastapi_1098", "title": "Using the Request Directly { #using-the-request-directly }", "section": "`Request` documentation { #request-documentation }", "content": "You can read more details about the <a href=\"https://www.starlette.dev/requests/\" class=\"external-link\" target=\"_blank\">`Request` object in the official Starlette documentation site</a>.\n\n/// note | Technical Details\n\nYou could also use `from starlette.requests import Request`.\n\n**FastAPI** provides it directly just as a convenience for you, the developer. But it comes directly from Starlette.\n\n///", "source": "advanced\\using-request-directly.md"}
{"doc_id": "fastapi_1099", "title": "WebSockets { #websockets }", "section": "WebSockets { #websockets }", "content": "You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API\" class=\"external-link\" target=\"_blank\">WebSockets</a> with **FastAPI**.", "source": "advanced\\websockets.md"}
{"doc_id": "fastapi_1100", "title": "WebSockets { #websockets }", "section": "Install `websockets` { #install-websockets }", "content": "Make sure you create a [virtual environment](../virtual-environments.md){.internal-link target=_blank}, activate it, and install `websockets` (a Python library that makes it easy to use the \"WebSocket\" protocol):\n\n<div class=\"termy\">\n\n```console\n$ pip install websockets\n\n---> 100%\n```\n\n</div>", "source": "advanced\\websockets.md"}
{"doc_id": "fastapi_1101", "title": "WebSockets { #websockets }", "section": "WebSockets client { #websockets-client }", "content": "", "source": "advanced\\websockets.md"}
{"doc_id": "fastapi_1102", "title": "WebSockets { #websockets }", "section": "In production { #in-production }", "content": "In your production system, you probably have a frontend created with a modern framework like React, Vue.js or Angular.\n\nAnd to communicate using WebSockets with your backend you would probably use your frontend's utilities.\n\nOr you might have a native mobile application that communicates with your WebSocket backend directly, in native code.\n\nOr you might have any other way to communicate with the WebSocket endpoint.\n\n---\n\nBut for this example, we'll use a very simple HTML document with some JavaScript, all inside a long string.\n\nThis, of course, is not optimal and you wouldn't use it for production.\n\nIn production you would have one of the options above.\n\nBut it's the simplest way to focus on the server-side of WebSockets and have a working example:\n\n{* ../../docs_src/websockets/tutorial001.py hl[2,6:38,41:43] *}", "source": "advanced\\websockets.md"}
{"doc_id": "fastapi_1103", "title": "WebSockets { #websockets }", "section": "Create a `websocket` { #create-a-websocket }", "content": "In your **FastAPI** application, create a `websocket`:\n\n{* ../../docs_src/websockets/tutorial001.py hl[1,46:47] *}\n\n/// note | Technical Details\n\nYou could also use `from starlette.websockets import WebSocket`.\n\n**FastAPI** provides the same `WebSocket` directly just as a convenience for you, the developer. But it comes directly from Starlette.\n\n///", "source": "advanced\\websockets.md"}
{"doc_id": "fastapi_1104", "title": "WebSockets { #websockets }", "section": "Await for messages and send messages { #await-for-messages-and-send-messages }", "content": "In your WebSocket route you can `await` for messages and send messages.\n\n{* ../../docs_src/websockets/tutorial001.py hl[48:52] *}\n\nYou can receive and send binary, text, and JSON data.", "source": "advanced\\websockets.md"}
{"doc_id": "fastapi_1105", "title": "WebSockets { #websockets }", "section": "Try it { #try-it }", "content": "If your file is named `main.py`, run your application with:\n\n<div class=\"termy\">\n\n```console\n$ fastapi dev main.py\n\n<span style=\"color: green;\">INFO</span>:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)\n```\n\n</div>\n\nOpen your browser at <a href=\"http://127.0.0.1:8000\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000</a>.\n\nYou will see a simple page like:\n\n<img src=\"/img/tutorial/websockets/image01.png\">\n\nYou can type messages in the input box, and send them:\n\n<img src=\"/img/tutorial/websockets/image02.png\">\n\nAnd your **FastAPI** application with WebSockets will respond back:\n\n<img src=\"/img/tutorial/websockets/image03.png\">\n\nYou can send (and receive) many messages:\n\n<img src=\"/img/tutorial/websockets/image04.png\">\n\nAnd all of them will use the same WebSocket connection.", "source": "advanced\\websockets.md"}
{"doc_id": "fastapi_1106", "title": "WebSockets { #websockets }", "section": "Using `Depends` and others { #using-depends-and-others }", "content": "In WebSocket endpoints you can import from `fastapi` and use:\n\n* `Depends`\n* `Security`\n* `Cookie`\n* `Header`\n* `Path`\n* `Query`\n\nThey work the same way as for other FastAPI endpoints/*path operations*:\n\n{* ../../docs_src/websockets/tutorial002_an_py310.py hl[68:69,82] *}\n\n/// info\n\nAs this is a WebSocket it doesn't really make sense to raise an `HTTPException`, instead we raise a `WebSocketException`.\n\nYou can use a closing code from the <a href=\"https://tools.ietf.org/html/rfc6455#section-7.4.1\" class=\"external-link\" target=\"_blank\">valid codes defined in the specification</a>.\n\n///", "source": "advanced\\websockets.md"}
{"doc_id": "fastapi_1107", "title": "WebSockets { #websockets }", "section": "Try the WebSockets with dependencies { #try-the-websockets-with-dependencies }", "content": "If your file is named `main.py`, run your application with:\n\n<div class=\"termy\">\n\n```console\n$ fastapi dev main.py\n\n<span style=\"color: green;\">INFO</span>:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)\n```\n\n</div>\n\nOpen your browser at <a href=\"http://127.0.0.1:8000\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000</a>.\n\nThere you can set:\n\n* The \"Item ID\", used in the path.\n* The \"Token\" used as a query parameter.\n\n/// tip\n\nNotice that the query `token` will be handled by a dependency.\n\n///\n\nWith that you can connect the WebSocket and then send and receive messages:\n\n<img src=\"/img/tutorial/websockets/image05.png\">", "source": "advanced\\websockets.md"}
{"doc_id": "fastapi_1108", "title": "WebSockets { #websockets }", "section": "Handling disconnections and multiple clients { #handling-disconnections-and-multiple-clients }", "content": "When a WebSocket connection is closed, the `await websocket.receive_text()` will raise a `WebSocketDisconnect` exception, which you can then catch and handle like in this example.\n\n{* ../../docs_src/websockets/tutorial003_py39.py hl[79:81] *}\n\nTo try it out:\n\n* Open the app with several browser tabs.\n* Write messages from them.\n* Then close one of the tabs.\n\nThat will raise the `WebSocketDisconnect` exception, and all the other clients will receive a message like:\n\n```\nClient #1596980209979 left the chat\n```\n\n/// tip\n\nThe app above is a minimal and simple example to demonstrate how to handle and broadcast messages to several WebSocket connections.\n\nBut keep in mind that, as everything is handled in memory, in a single list, it will only work while the process is running, and will only work with a single process.\n\nIf you need something easy to integrate with FastAPI but that is more robust, supported by Redis, PostgreSQL or others, check <a href=\"https://github.com/encode/broadcaster\" class=\"external-link\" target=\"_blank\">encode/broadcaster</a>.\n\n///", "source": "advanced\\websockets.md"}
{"doc_id": "fastapi_1109", "title": "WebSockets { #websockets }", "section": "More info { #more-info }", "content": "To learn more about the options, check Starlette's documentation for:\n\n* <a href=\"https://www.starlette.dev/websockets/\" class=\"external-link\" target=\"_blank\">The `WebSocket` class</a>.\n* <a href=\"https://www.starlette.dev/endpoints/#websocketendpoint\" class=\"external-link\" target=\"_blank\">Class-based WebSocket handling</a>.", "source": "advanced\\websockets.md"}
{"doc_id": "fastapi_1110", "title": "Including WSGI - Flask, Django, others { #including-wsgi-flask-django-others }", "section": "Including WSGI - Flask, Django, others { #including-wsgi-flask-django-others }", "content": "You can mount WSGI applications as you saw with [Sub Applications - Mounts](sub-applications.md){.internal-link target=_blank}, [Behind a Proxy](behind-a-proxy.md){.internal-link target=_blank}.\n\nFor that, you can use the `WSGIMiddleware` and use it to wrap your WSGI application, for example, Flask, Django, etc.", "source": "advanced\\wsgi.md"}
{"doc_id": "fastapi_1111", "title": "Including WSGI - Flask, Django, others { #including-wsgi-flask-django-others }", "section": "Using `WSGIMiddleware` { #using-wsgimiddleware }", "content": "You need to import `WSGIMiddleware`.\n\nThen wrap the WSGI (e.g. Flask) app with the middleware.\n\nAnd then mount that under a path.\n\n{* ../../docs_src/wsgi/tutorial001.py hl[2:3,3] *}", "source": "advanced\\wsgi.md"}
{"doc_id": "fastapi_1112", "title": "Including WSGI - Flask, Django, others { #including-wsgi-flask-django-others }", "section": "Check it { #check-it }", "content": "Now, every request under the path `/v1/` will be handled by the Flask application.\n\nAnd the rest will be handled by **FastAPI**.\n\nIf you run it and go to <a href=\"http://localhost:8000/v1/\" class=\"external-link\" target=\"_blank\">http://localhost:8000/v1/</a> you will see the response from Flask:\n\n```txt\nHello, World from Flask!\n```\n\nAnd if you go to <a href=\"http://localhost:8000/v2\" class=\"external-link\" target=\"_blank\">http://localhost:8000/v2</a> you will see the response from FastAPI:\n\n```JSON\n{\n    \"message\": \"Hello World\"\n}\n```", "source": "advanced\\wsgi.md"}
{"doc_id": "fastapi_1113", "title": "Deploy FastAPI on Cloud Providers { #deploy-fastapi-on-cloud-providers }", "section": "Deploy FastAPI on Cloud Providers { #deploy-fastapi-on-cloud-providers }", "content": "You can use virtually **any cloud provider** to deploy your FastAPI application.\n\nIn most of the cases, the main cloud providers have guides to deploy FastAPI with them.", "source": "deployment\\cloud.md"}
{"doc_id": "fastapi_1114", "title": "Deploy FastAPI on Cloud Providers { #deploy-fastapi-on-cloud-providers }", "section": "FastAPI Cloud { #fastapi-cloud }", "content": "**<a href=\"https://fastapicloud.com\" class=\"external-link\" target=\"_blank\">FastAPI Cloud</a>** is built by the same author and team behind **FastAPI**.\n\nIt streamlines the process of **building**, **deploying**, and **accessing** an API with minimal effort.\n\nIt brings the same **developer experience** of building apps with FastAPI to **deploying** them to the cloud. üéâ\n\nFastAPI Cloud is the primary sponsor and funding provider for the *FastAPI and friends* open source projects. ‚ú®", "source": "deployment\\cloud.md"}
{"doc_id": "fastapi_1115", "title": "Deploy FastAPI on Cloud Providers { #deploy-fastapi-on-cloud-providers }", "section": "Cloud Providers - Sponsors { #cloud-providers-sponsors }", "content": "Some other cloud providers ‚ú® [**sponsor FastAPI**](../help-fastapi.md#sponsor-the-author){.internal-link target=_blank} ‚ú® too. üôá\n\nYou might also want to consider them to follow their guides and try their services:\n\n* <a href=\"https://docs.render.com/deploy-fastapi?utm_source=deploydoc&utm_medium=referral&utm_campaign=fastapi\" class=\"external-link\" target=\"_blank\">Render</a>\n* <a href=\"https://docs.railway.com/guides/fastapi?utm_medium=integration&utm_source=docs&utm_campaign=fastapi\" class=\"external-link\" target=\"_blank\">Railway</a>", "source": "deployment\\cloud.md"}
{"doc_id": "fastapi_1116", "title": "Deployments Concepts { #deployments-concepts }", "section": "Deployments Concepts { #deployments-concepts }", "content": "When deploying a **FastAPI** application, or actually, any type of web API, there are several concepts that you probably care about, and using them you can find the **most appropriate** way to **deploy your application**.\n\nSome of the important concepts are:\n\n* Security - HTTPS\n* Running on startup\n* Restarts\n* Replication (the number of processes running)\n* Memory\n* Previous steps before starting\n\nWe'll see how they would affect **deployments**.\n\nIn the end, the ultimate objective is to be able to **serve your API clients** in a way that is **secure**, to **avoid disruptions**, and to use the **compute resources** (for example remote servers/virtual machines) as efficiently as possible. üöÄ\n\nI'll tell you a bit more about these **concepts** here, and that would hopefully give you the **intuition** you would need to decide how to deploy your API in very different environments, possibly even in **future** ones that don't exist yet.\n\nBy considering these concepts, you will be able to **evaluate and design** the best way to deploy **your own APIs**.\n\nIn the next chapters, I'll give you more **concrete recipes** to deploy FastAPI applications.\n\nBut for now, let's check these important **conceptual ideas**. These concepts also apply to any other type of web API. üí°", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1117", "title": "Deployments Concepts { #deployments-concepts }", "section": "Security - HTTPS { #security-https }", "content": "In the [previous chapter about HTTPS](https.md){.internal-link target=_blank} we learned about how HTTPS provides encryption for your API.\n\nWe also saw that HTTPS is normally provided by a component **external** to your application server, a **TLS Termination Proxy**.\n\nAnd there has to be something in charge of **renewing the HTTPS certificates**, it could be the same component or it could be something different.", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1118", "title": "Deployments Concepts { #deployments-concepts }", "section": "Example Tools for HTTPS { #example-tools-for-https }", "content": "Some of the tools you could use as a TLS Termination Proxy are:\n\n* Traefik\n    * Automatically handles certificates renewals ‚ú®\n* Caddy\n    * Automatically handles certificates renewals ‚ú®\n* Nginx\n    * With an external component like Certbot for certificate renewals\n* HAProxy\n    * With an external component like Certbot for certificate renewals\n* Kubernetes with an Ingress Controller like Nginx\n    * With an external component like cert-manager for certificate renewals\n* Handled internally by a cloud provider as part of their services (read below üëá)\n\nAnother option is that you could use a **cloud service** that does more of the work including setting up HTTPS. It could have some restrictions or charge you more, etc. But in that case, you wouldn't have to set up a TLS Termination Proxy yourself.\n\nI'll show you some concrete examples in the next chapters.\n\n---\n\nThen the next concepts to consider are all about the program running your actual API (e.g. Uvicorn).", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1119", "title": "Deployments Concepts { #deployments-concepts }", "section": "Program and Process { #program-and-process }", "content": "We will talk a lot about the running \"**process**\", so it's useful to have clarity about what it means, and what's the difference with the word \"**program**\".", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1120", "title": "Deployments Concepts { #deployments-concepts }", "section": "What is a Program { #what-is-a-program }", "content": "The word **program** is commonly used to describe many things:\n\n* The **code** that you write, the **Python files**.\n* The **file** that can be **executed** by the operating system, for example: `python`, `python.exe` or `uvicorn`.\n* A particular program while it is **running** on the operating system, using the CPU, and storing things in memory. This is also called a **process**.", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1121", "title": "Deployments Concepts { #deployments-concepts }", "section": "What is a Process { #what-is-a-process }", "content": "The word **process** is normally used in a more specific way, only referring to the thing that is running in the operating system (like in the last point above):\n\n* A particular program while it is **running** on the operating system.\n    * This doesn't refer to the file, nor to the code, it refers **specifically** to the thing that is being **executed** and managed by the operating system.\n* Any program, any code, **can only do things** when it is being **executed**. So, when there's a **process running**.\n* The process can be **terminated** (or \"killed\") by you, or by the operating system. At that point, it stops running/being executed, and it can **no longer do things**.\n* Each application that you have running on your computer has some process behind it, each running program, each window, etc. And there are normally many processes running **at the same time** while a computer is on.\n* There can be **multiple processes** of the **same program** running at the same time.\n\nIf you check out the \"task manager\" or \"system monitor\" (or similar tools) in your operating system, you will be able to see many of those processes running.\n\nAnd, for example, you will probably see that there are multiple processes running the same browser program (Firefox, Chrome, Edge, etc). They normally run one process per tab, plus some other extra processes.\n\n<img class=\"shadow\" src=\"/img/deployment/concepts/image01.png\">\n\n---\n\nNow that we know the difference between the terms **process** and **program**, let's continue talking about deployments.", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1122", "title": "Deployments Concepts { #deployments-concepts }", "section": "Running on Startup { #running-on-startup }", "content": "In most cases, when you create a web API, you want it to be **always running**, uninterrupted, so that your clients can always access it. This is of course, unless you have a specific reason why you want it to run only in certain situations, but most of the time you want it constantly running and **available**.", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1123", "title": "Deployments Concepts { #deployments-concepts }", "section": "In a Remote Server { #in-a-remote-server }", "content": "When you set up a remote server (a cloud server, a virtual machine, etc.) the simplest thing you can do is use `fastapi run` (which uses Uvicorn) or something  similar, manually, the same way you do when developing locally.\n\nAnd it will work and will be useful **during development**.\n\nBut if your connection to the server is lost, the **running process** will probably die.\n\nAnd if the server is restarted (for example after updates, or migrations from the cloud provider) you probably **won't notice it**. And because of that, you won't even know that you have to restart the process manually. So, your API will just stay dead. üò±", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1124", "title": "Deployments Concepts { #deployments-concepts }", "section": "Run Automatically on Startup { #run-automatically-on-startup }", "content": "In general, you will probably want the server program (e.g. Uvicorn) to be started automatically on server startup, and without needing any **human intervention**, to have a process always running with your API (e.g. Uvicorn running your FastAPI app).", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1125", "title": "Deployments Concepts { #deployments-concepts }", "section": "Separate Program { #separate-program }", "content": "To achieve this, you will normally have a **separate program** that would make sure your application is run on startup. And in many cases, it would also make sure other components or applications are also run, for example, a database.", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1126", "title": "Deployments Concepts { #deployments-concepts }", "section": "Example Tools to Run at Startup { #example-tools-to-run-at-startup }", "content": "Some examples of the tools that can do this job are:\n\n* Docker\n* Kubernetes\n* Docker Compose\n* Docker in Swarm Mode\n* Systemd\n* Supervisor\n* Handled internally by a cloud provider as part of their services\n* Others...\n\nI'll give you more concrete examples in the next chapters.", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1127", "title": "Deployments Concepts { #deployments-concepts }", "section": "Restarts { #restarts }", "content": "Similar to making sure your application is run on startup, you probably also want to make sure it is **restarted** after failures.", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1128", "title": "Deployments Concepts { #deployments-concepts }", "section": "We Make Mistakes { #we-make-mistakes }", "content": "We, as humans, make **mistakes**, all the time. Software almost *always* has **bugs** hidden in different places. üêõ\n\nAnd we as developers keep improving the code as we find those bugs and as we implement new features (possibly adding new bugs too üòÖ).", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1129", "title": "Deployments Concepts { #deployments-concepts }", "section": "Small Errors Automatically Handled { #small-errors-automatically-handled }", "content": "When building web APIs with FastAPI, if there's an error in our code, FastAPI will normally contain it to the single request that triggered the error. üõ°\n\nThe client will get a **500 Internal Server Error** for that request, but the application will continue working for the next requests instead of just crashing completely.", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1130", "title": "Deployments Concepts { #deployments-concepts }", "section": "Bigger Errors - Crashes { #bigger-errors-crashes }", "content": "Nevertheless, there might be cases where we write some code that **crashes the entire application** making Uvicorn and Python crash. üí•\n\nAnd still, you would probably not want the application to stay dead because there was an error in one place, you probably want it to **continue running** at least for the *path operations* that are not broken.", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1131", "title": "Deployments Concepts { #deployments-concepts }", "section": "Restart After Crash { #restart-after-crash }", "content": "But in those cases with really bad errors that crash the running **process**, you would want an external component that is in charge of **restarting** the process, at least a couple of times...\n\n/// tip\n\n...Although if the whole application is just **crashing immediately** it probably doesn't make sense to keep restarting it forever. But in those cases, you will probably notice it during development, or at least right after deployment.\n\nSo let's focus on the main cases, where it could crash entirely in some particular cases **in the future**, and it still makes sense to restart it.\n\n///\n\nYou would probably want to have the thing in charge of restarting your application as an **external component**, because by that point, the same application with Uvicorn and Python already crashed, so there's nothing in the same code of the same app that could do anything about it.", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1132", "title": "Deployments Concepts { #deployments-concepts }", "section": "Example Tools to Restart Automatically { #example-tools-to-restart-automatically }", "content": "In most cases, the same tool that is used to **run the program on startup** is also used to handle automatic **restarts**.\n\nFor example, this could be handled by:\n\n* Docker\n* Kubernetes\n* Docker Compose\n* Docker in Swarm Mode\n* Systemd\n* Supervisor\n* Handled internally by a cloud provider as part of their services\n* Others...", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1133", "title": "Deployments Concepts { #deployments-concepts }", "section": "Replication - Processes and Memory { #replication-processes-and-memory }", "content": "With a FastAPI application, using a server program like the `fastapi` command that runs Uvicorn, running it once in **one process** can serve multiple clients concurrently.\n\nBut in many cases, you will want to run several worker processes at the same time.", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1134", "title": "Deployments Concepts { #deployments-concepts }", "section": "Multiple Processes - Workers { #multiple-processes-workers }", "content": "If you have more clients than what a single process can handle (for example if the virtual machine is not too big) and you have **multiple cores** in the server's CPU, then you could have **multiple processes** running with the same application at the same time, and distribute all the requests among them.\n\nWhen you run **multiple processes** of the same API program, they are commonly called **workers**.", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1135", "title": "Deployments Concepts { #deployments-concepts }", "section": "Worker Processes and Ports { #worker-processes-and-ports }", "content": "Remember from the docs [About HTTPS](https.md){.internal-link target=_blank} that only one process can be listening on one combination of port and IP address in a server?\n\nThis is still true.\n\nSo, to be able to have **multiple processes** at the same time, there has to be a **single process listening on a port** that then transmits the communication to each worker process in some way.", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1136", "title": "Deployments Concepts { #deployments-concepts }", "section": "Memory per Process { #memory-per-process }", "content": "Now, when the program loads things in memory, for example, a machine learning model in a variable, or the contents of a large file in a variable, all that **consumes a bit of the memory (RAM)** of the server.\n\nAnd multiple processes normally **don't share any memory**. This means that each running process has its own things, variables, and memory. And if you are consuming a large amount of memory in your code, **each process** will consume an equivalent amount of memory.", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1137", "title": "Deployments Concepts { #deployments-concepts }", "section": "Server Memory { #server-memory }", "content": "For example, if your code loads a Machine Learning model with **1 GB in size**, when you run one process with your API, it will consume at least 1 GB of RAM. And if you start **4 processes** (4 workers), each will consume 1 GB of RAM. So in total, your API will consume **4 GB of RAM**.\n\nAnd if your remote server or virtual machine only has 3 GB of RAM, trying to load more than 4 GB of RAM will cause problems. üö®", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1138", "title": "Deployments Concepts { #deployments-concepts }", "section": "Multiple Processes - An Example { #multiple-processes-an-example }", "content": "In this example, there's a **Manager Process** that starts and controls two **Worker Processes**.\n\nThis Manager Process would probably be the one listening on the **port** in the IP. And it would transmit all the communication to the worker processes.\n\nThose worker processes would be the ones running your application, they would perform the main computations to receive a **request** and return a **response**, and they would load anything you put in variables in RAM.\n\n<img src=\"/img/deployment/concepts/process-ram.drawio.svg\">\n\nAnd of course, the same machine would probably have **other processes** running as well, apart from your application.\n\nAn interesting detail is that the percentage of the **CPU used** by each process can **vary** a lot over time, but the **memory (RAM)** normally stays more or less **stable**.\n\nIf you have an API that does a comparable amount of computations every time and you have a lot of clients, then the **CPU utilization** will probably *also be stable* (instead of constantly going up and down quickly).", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1139", "title": "Deployments Concepts { #deployments-concepts }", "section": "Examples of Replication Tools and Strategies { #examples-of-replication-tools-and-strategies }", "content": "There can be several approaches to achieve this, and I'll tell you more about specific strategies in the next chapters, for example when talking about Docker and containers.\n\nThe main constraint to consider is that there has to be a **single** component handling the **port** in the **public IP**. And then it has to have a way to **transmit** the communication to the replicated **processes/workers**.\n\nHere are some possible combinations and strategies:\n\n* **Uvicorn** with `--workers`\n    * One Uvicorn **process manager** would listen on the **IP** and **port**, and it would start **multiple Uvicorn worker processes**.\n* **Kubernetes** and other distributed **container systems**\n    * Something in the **Kubernetes** layer would listen on the **IP** and **port**. The replication would be by having **multiple containers**, each with **one Uvicorn process** running.\n* **Cloud services** that handle this for you\n    * The cloud service will probably **handle replication for you**. It would possibly let you define **a process to run**, or a **container image** to use, in any case, it would most probably be **a single Uvicorn process**, and the cloud service would be in charge of replicating it.\n\n/// tip\n\nDon't worry if some of these items about **containers**, Docker, or Kubernetes don't make a lot of sense yet.\n\nI'll tell you more about container images, Docker, Kubernetes, etc. in a future chapter: [FastAPI in Containers - Docker](docker.md){.internal-link target=_blank}.\n\n///", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1140", "title": "Deployments Concepts { #deployments-concepts }", "section": "Previous Steps Before Starting { #previous-steps-before-starting }", "content": "There are many cases where you want to perform some steps **before starting** your application.\n\nFor example, you might want to run **database migrations**.\n\nBut in most cases, you will want to perform these steps only **once**.\n\nSo, you will want to have a **single process** to perform those **previous steps**, before starting the application.\n\nAnd you will have to make sure that it's a single process running those previous steps *even* if afterwards, you start **multiple processes** (multiple workers) for the application itself. If those steps were run by **multiple processes**, they would **duplicate** the work by running it in **parallel**, and if the steps were something delicate like a database migration, they could cause conflicts with each other.\n\nOf course, there are some cases where there's no problem in running the previous steps multiple times, in that case, it's a lot easier to handle.\n\n/// tip\n\nAlso, keep in mind that depending on your setup, in some cases you **might not even need any previous steps** before starting your application.\n\nIn that case, you wouldn't have to worry about any of this. ü§∑\n\n///", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1141", "title": "Deployments Concepts { #deployments-concepts }", "section": "Examples of Previous Steps Strategies { #examples-of-previous-steps-strategies }", "content": "This will **depend heavily** on the way you **deploy your system**, and it would probably be connected to the way you start programs, handling restarts, etc.\n\nHere are some possible ideas:\n\n* An \"Init Container\" in Kubernetes that runs before your app container\n* A bash script that runs the previous steps and then starts your application\n    * You would still need a way to start/restart *that* bash script, detect errors, etc.\n\n/// tip\n\nI'll give you more concrete examples for doing this with containers in a future chapter: [FastAPI in Containers - Docker](docker.md){.internal-link target=_blank}.\n\n///", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1142", "title": "Deployments Concepts { #deployments-concepts }", "section": "Resource Utilization { #resource-utilization }", "content": "Your server(s) is (are) a **resource**, you can consume or **utilize**, with your programs, the computation time on the CPUs, and the RAM memory available.\n\nHow much of the system resources do you want to be consuming/utilizing? It might be easy to think \"not much\", but in reality, you will probably want to consume **as much as possible without crashing**.\n\nIf you are paying for 3 servers but you are using only a little bit of their RAM and CPU, you are probably **wasting money** üí∏, and probably **wasting server electric power** üåé, etc.\n\nIn that case, it could be better to have only 2 servers and use a higher percentage of their resources (CPU, memory, disk, network bandwidth, etc).\n\nOn the other hand, if you have 2 servers and you are using **100% of their CPU and RAM**, at some point one process will ask for more memory, and the server will have to use the disk as \"memory\" (which can be thousands of times slower), or even **crash**. Or one process might need to do some computation and would have to wait until the CPU is free again.\n\nIn this case, it would be better to get **one extra server** and run some processes on it so that they all have **enough RAM and CPU time**.\n\nThere's also the chance that for some reason you have a **spike** of usage of your API. Maybe it went viral, or maybe some other services or bots start using it. And you might want to have extra resources to be safe in those cases.\n\nYou could put an **arbitrary number** to target, for example, something **between 50% to 90%** of resource utilization. The point is that those are probably the main things you will want to measure and use to tweak your deployments.\n\nYou can use simple tools like `htop` to see the CPU and RAM used in your server or the amount used by each process. Or you can use more complex monitoring tools, which may be distributed across servers, etc.", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1143", "title": "Deployments Concepts { #deployments-concepts }", "section": "Recap { #recap }", "content": "You have been reading here some of the main concepts that you would probably need to keep in mind when deciding how to deploy your application:\n\n* Security - HTTPS\n* Running on startup\n* Restarts\n* Replication (the number of processes running)\n* Memory\n* Previous steps before starting\n\nUnderstanding these ideas and how to apply them should give you the intuition necessary to take any decisions when configuring and tweaking your deployments. ü§ì\n\nIn the next sections, I'll give you more concrete examples of possible strategies you can follow. üöÄ", "source": "deployment\\concepts.md"}
{"doc_id": "fastapi_1144", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "content": "When deploying FastAPI applications a common approach is to build a **Linux container image**. It's normally done using <a href=\"https://www.docker.com/\" class=\"external-link\" target=\"_blank\">**Docker**</a>. You can then deploy that container image in one of a few possible ways.\n\nUsing Linux containers has several advantages including **security**, **replicability**, **simplicity**, and others.\n\n/// tip\n\nIn a hurry and already know this stuff? Jump to the [`Dockerfile` below üëá](#build-a-docker-image-for-fastapi).\n\n///\n\n<details>\n<summary>Dockerfile Preview üëÄ</summary>\n\n```Dockerfile\nFROM python:3.9\n\nWORKDIR /code\n\nCOPY ./requirements.txt /code/requirements.txt\n\nRUN pip install --no-cache-dir --upgrade -r /code/requirements.txt\n\nCOPY ./app /code/app\n\nCMD [\"fastapi\", \"run\", \"app/main.py\", \"--port\", \"80\"]\n\n# If running behind a proxy like Nginx or Traefik add --proxy-headers\n# CMD [\"fastapi\", \"run\", \"app/main.py\", \"--port\", \"80\", \"--proxy-headers\"]\n```\n\n</details>", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1145", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "What is a Container { #what-is-a-container }", "content": "Containers (mainly Linux containers) are a very **lightweight** way to package applications including all their dependencies and necessary files while keeping them isolated from other containers (other applications or components) in the same system.\n\nLinux containers run using the same Linux kernel of the host (machine, virtual machine, cloud server, etc). This just means that they are very lightweight (compared to full virtual machines emulating an entire operating system).\n\nThis way, containers consume **little resources**, an amount comparable to running the processes directly (a virtual machine would consume much more).\n\nContainers also have their own **isolated** running processes (commonly just one process), file system, and network, simplifying deployment, security, development, etc.", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1146", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "What is a Container Image { #what-is-a-container-image }", "content": "A **container** is run from a **container image**.\n\nA container image is a **static** version of all the files, environment variables, and the default command/program that should be present in a container. **Static** here means that the container **image** is not running, it's not being executed, it's only the packaged files and metadata.\n\nIn contrast to a \"**container image**\" that is the stored static contents, a \"**container**\" normally refers to the running instance, the thing that is being **executed**.\n\nWhen the **container** is started and running (started from a **container image**) it could create or change files, environment variables, etc. Those changes will exist only in that container, but would not persist in the underlying container image (would not be saved to disk).\n\nA container image is comparable to the **program** file and contents, e.g. `python` and some file `main.py`.\n\nAnd the **container** itself (in contrast to the **container image**) is the actual running instance of the image, comparable to a **process**. In fact, a container is running only when it has a **process running** (and normally it's only a single process). The container stops when there's no process running in it.", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1147", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "Container Images { #container-images }", "content": "Docker has been one of the main tools to create and manage **container images** and **containers**.\n\nAnd there's a public <a href=\"https://hub.docker.com/\" class=\"external-link\" target=\"_blank\">Docker Hub</a> with pre-made **official container images** for many tools, environments, databases, and applications.\n\nFor example, there's an official <a href=\"https://hub.docker.com/_/python\" class=\"external-link\" target=\"_blank\">Python Image</a>.\n\nAnd there are many other images for different things like databases, for example for:\n\n* <a href=\"https://hub.docker.com/_/postgres\" class=\"external-link\" target=\"_blank\">PostgreSQL</a>\n* <a href=\"https://hub.docker.com/_/mysql\" class=\"external-link\" target=\"_blank\">MySQL</a>\n* <a href=\"https://hub.docker.com/_/mongo\" class=\"external-link\" target=\"_blank\">MongoDB</a>\n* <a href=\"https://hub.docker.com/_/redis\" class=\"external-link\" target=\"_blank\">Redis</a>, etc.\n\nBy using a pre-made container image it's very easy to **combine** and use different tools. For example, to try out a new database. In most cases, you can use the **official images**, and just configure them with environment variables.\n\nThat way, in many cases you can learn about containers and Docker and reuse that knowledge with many different tools and components.\n\nSo, you would run **multiple containers** with different things, like a database, a Python application, a web server with a React frontend application, and connect them together via their internal network.\n\nAll the container management systems (like Docker or Kubernetes) have these networking features integrated into them.", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1148", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "Containers and Processes { #containers-and-processes }", "content": "A **container image** normally includes in its metadata the default program or command that should be run when the **container** is started and the parameters to be passed to that program. Very similar to what would be if it was in the command line.\n\nWhen a **container** is started, it will run that command/program (although you can override it and make it run a different command/program).\n\nA container is running as long as the **main process** (command or program) is running.\n\nA container normally has a **single process**, but it's also possible to start subprocesses from the main process, and that way you will have **multiple processes** in the same container.\n\nBut it's not possible to have a running container without **at least one running process**. If the main process stops, the container stops.", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1149", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "Build a Docker Image for FastAPI { #build-a-docker-image-for-fastapi }", "content": "Okay, let's build something now! üöÄ\n\nI'll show you how to build a **Docker image** for FastAPI **from scratch**, based on the **official Python** image.\n\nThis is what you would want to do in **most cases**, for example:\n\n* Using **Kubernetes** or similar tools\n* When running on a **Raspberry Pi**\n* Using a cloud service that would run a container image for you, etc.", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1150", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "Package Requirements { #package-requirements }", "content": "You would normally have the **package requirements** for your application in some file.\n\nIt would depend mainly on the tool you use to **install** those requirements.\n\nThe most common way to do it is to have a file `requirements.txt` with the package names and their versions, one per line.\n\nYou would of course use the same ideas you read in [About FastAPI versions](versions.md){.internal-link target=_blank} to set the ranges of versions.\n\nFor example, your `requirements.txt` could look like:\n\n```\nfastapi[standard]>=0.113.0,<0.114.0\npydantic>=2.7.0,<3.0.0\n```\n\nAnd you would normally install those package dependencies with `pip`, for example:\n\n<div class=\"termy\">\n\n```console\n$ pip install -r requirements.txt\n---> 100%\nSuccessfully installed fastapi pydantic\n```\n\n</div>\n\n/// info\n\nThere are other formats and tools to define and install package dependencies.\n\n///", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1151", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "Create the **FastAPI** Code { #create-the-fastapi-code }", "content": "* Create an `app` directory and enter it.\n* Create an empty file `__init__.py`.\n* Create a `main.py` file with:\n\n```Python\nfrom typing import Union\n\nfrom fastapi import FastAPI\n\napp = FastAPI()\n\n\n@app.get(\"/\")\ndef read_root():\n    return {\"Hello\": \"World\"}\n\n\n@app.get(\"/items/{item_id}\")\ndef read_item(item_id: int, q: Union[str, None] = None):\n    return {\"item_id\": item_id, \"q\": q}\n```", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1152", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "Dockerfile { #dockerfile }", "content": "Now in the same project directory create a file `Dockerfile` with:\n\n```{ .dockerfile .annotate }\n# (1)!\nFROM python:3.9\n\n# (2)!\nWORKDIR /code\n\n# (3)!\nCOPY ./requirements.txt /code/requirements.txt\n\n# (4)!\nRUN pip install --no-cache-dir --upgrade -r /code/requirements.txt\n\n# (5)!\nCOPY ./app /code/app\n\n# (6)!\nCMD [\"fastapi\", \"run\", \"app/main.py\", \"--port\", \"80\"]\n```\n\n1. Start from the official Python base image.\n\n2. Set the current working directory to `/code`.\n\n    This is where we'll put the `requirements.txt` file and the `app` directory.\n\n3. Copy the file with the requirements to the `/code` directory.\n\n    Copy **only** the file with the requirements first, not the rest of the code.\n\n    As this file **doesn't change often**, Docker will detect it and use the **cache** for this step, enabling the cache for the next step too.\n\n4. Install the package dependencies in the requirements file.\n\n    The `--no-cache-dir` option tells `pip` to not save the downloaded packages locally, as that is only if `pip` was going to be run again to install the same packages, but that's not the case when working with containers.\n\n    /// note\n\n    The `--no-cache-dir` is only related to `pip`, it has nothing to do with Docker or containers.\n\n    ///\n\n    The `--upgrade` option tells `pip` to upgrade the packages if they are already installed.\n\n    Because the previous step copying the file could be detected by the **Docker cache**, this step will also **use the Docker cache** when available.\n\n    Using the cache in this step will **save** you a lot of **time** when building the image again and again during development, instead of **downloading and installing** all the dependencies **every time**.\n\n5. Copy the `./app` directory inside the `/code` directory.\n\n    As this has all the code which is what **changes most frequently** the Docker **cache** won't be used for this or any **following steps** easily.\n\n    So, it's important to put this **near the end** of the `Dockerfile`, to optimize the container image build times.\n\n6. Set the **command** to use `fastapi run`, which uses Uvicorn underneath.\n\n    `CMD` takes a list of strings, each of these strings is what you would type in the command line separated by spaces.\n\n    This command will be run from the **current working directory**, the same `/code` directory you set above with `WORKDIR /code`.\n\n/// tip\n\nReview what each line does by clicking each number bubble in the code. üëÜ\n\n///\n\n/// warning\n\nMake sure to **always** use the **exec form** of the `CMD` instruction, as explained below.\n\n///\n\n#### Use `CMD` - Exec Form { #use-cmd-exec-form }\n\nThe <a href=\"https://docs.docker.com/reference/dockerfile/#cmd\" class=\"external-link\" target=\"_blank\">`CMD`</a> Docker instruction can be written using two forms:\n\n‚úÖ **Exec** form:\n\n```Dockerfile\n# ‚úÖ Do this\nCMD [\"fastapi\", \"run\", \"app/main.py\", \"--port\", \"80\"]\n```\n\n‚õîÔ∏è **Shell** form:\n\n```Dockerfile\n# ‚õîÔ∏è Don't do this\nCMD fastapi run app/main.py --port 80\n```\n\nMake sure to always use the **exec** form to ensure that FastAPI can shutdown gracefully and [lifespan events](../advanced/events.md){.internal-link target=_blank} are triggered.\n\nYou can read more about it in the <a href=\"https://docs.docker.com/reference/dockerfile/#shell-and-exec-form\" class=\"external-link\" target=\"_blank\">Docker docs for shell and exec form</a>.\n\nThis can be quite noticeable when using `docker compose`. See this Docker Compose FAQ section for more technical details: <a href=\"https://docs.docker.com/compose/faq/#why-do-my-services-take-10-seconds-to-recreate-or-stop\" class=\"external-link\" target=\"_blank\">Why do my services take 10 seconds to recreate or stop?</a>.\n\n#### Directory Structure { #directory-structure }\n\nYou should now have a directory structure like:\n\n```\n.\n‚îú‚îÄ‚îÄ app\n‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __init__.py\n‚îÇ   ‚îî‚îÄ‚îÄ main.py\n‚îú‚îÄ‚îÄ Dockerfile\n‚îî‚îÄ‚îÄ requirements.txt\n```\n\n#### Behind a TLS Termination Proxy { #behind-a-tls-termination-proxy }\n\nIf you are running your container behind a TLS Termination Proxy (load balancer) like Nginx or Traefik, add the option `--proxy-headers`, this will tell Uvicorn (through the FastAPI CLI) to trust the headers sent by that proxy telling it that the application is running behind HTTPS, etc.\n\n```Dockerfile\nCMD [\"fastapi\", \"run\", \"app/main.py\", \"--proxy-headers\", \"--port\", \"80\"]\n```\n\n#### Docker Cache { #docker-cache }\n\nThere's an important trick in this `Dockerfile`, we first copy the **file with the dependencies alone**, not the rest of the code. Let me tell you why is that.\n\n```Dockerfile\nCOPY ./requirements.txt /code/requirements.txt\n```\n\nDocker and other tools **build** these container images **incrementally**, adding **one layer on top of the other**, starting from the top of the `Dockerfile` and adding any files created by each of the instructions of the `Dockerfile`.\n\nDocker and similar tools also use an **internal cache** when building the image, if a file hasn't changed since the last time building the container image, then it will **reuse the same layer** created the last time, instead of copying the file again and creating a new layer from scratch.\n\nJust avoiding the copy of files doesn't necessarily improve things too much, but because it used the cache for that step, it can **use the cache for the next step**. For example, it could use the cache for the instruction that installs dependencies with:\n\n```Dockerfile\nRUN pip install --no-cache-dir --upgrade -r /code/requirements.txt\n```\n\nThe file with the package requirements **won't change frequently**. So, by copying only that file, Docker will be able to **use the cache** for that step.\n\nAnd then, Docker will be able to **use the cache for the next step** that downloads and install those dependencies. And here's where we **save a lot of time**. ‚ú® ...and avoid boredom waiting. üò™üòÜ\n\nDownloading and installing the package dependencies **could take minutes**, but using the **cache** would **take seconds** at most.\n\nAnd as you would be building the container image again and again during development to check that your code changes are working, there's a lot of accumulated time this would save.\n\nThen, near the end of the `Dockerfile`, we copy all the code. As this is what **changes most frequently**, we put it near the end, because almost always, anything after this step will not be able to use the cache.\n\n```Dockerfile\nCOPY ./app /code/app\n```", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1153", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "Build the Docker Image { #build-the-docker-image }", "content": "Now that all the files are in place, let's build the container image.\n\n* Go to the project directory (in where your `Dockerfile` is, containing your `app` directory).\n* Build your FastAPI image:\n\n<div class=\"termy\">\n\n```console\n$ docker build -t myimage .\n\n---> 100%\n```\n\n</div>\n\n/// tip\n\nNotice the `.` at the end, it's equivalent to `./`, it tells Docker the directory to use to build the container image.\n\nIn this case, it's the same current directory (`.`).\n\n///", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1154", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "Start the Docker Container { #start-the-docker-container }", "content": "* Run a container based on your image:\n\n<div class=\"termy\">\n\n```console\n$ docker run -d --name mycontainer -p 80:80 myimage\n```\n\n</div>", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1155", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "Check it { #check-it }", "content": "You should be able to check it in your Docker container's URL, for example: <a href=\"http://192.168.99.100/items/5?q=somequery\" class=\"external-link\" target=\"_blank\">http://192.168.99.100/items/5?q=somequery</a> or <a href=\"http://127.0.0.1/items/5?q=somequery\" class=\"external-link\" target=\"_blank\">http://127.0.0.1/items/5?q=somequery</a> (or equivalent, using your Docker host).\n\nYou will see something like:\n\n```JSON\n{\"item_id\": 5, \"q\": \"somequery\"}\n```", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1156", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "Interactive API docs { #interactive-api-docs }", "content": "Now you can go to <a href=\"http://192.168.99.100/docs\" class=\"external-link\" target=\"_blank\">http://192.168.99.100/docs</a> or <a href=\"http://127.0.0.1/docs\" class=\"external-link\" target=\"_blank\">http://127.0.0.1/docs</a> (or equivalent, using your Docker host).\n\nYou will see the automatic interactive API documentation (provided by <a href=\"https://github.com/swagger-api/swagger-ui\" class=\"external-link\" target=\"_blank\">Swagger UI</a>):\n\n![Swagger UI](https://fastapi.tiangolo.com/img/index/index-01-swagger-ui-simple.png)", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1157", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "Alternative API docs { #alternative-api-docs }", "content": "And you can also go to <a href=\"http://192.168.99.100/redoc\" class=\"external-link\" target=\"_blank\">http://192.168.99.100/redoc</a> or <a href=\"http://127.0.0.1/redoc\" class=\"external-link\" target=\"_blank\">http://127.0.0.1/redoc</a> (or equivalent, using your Docker host).\n\nYou will see the alternative automatic documentation (provided by <a href=\"https://github.com/Rebilly/ReDoc\" class=\"external-link\" target=\"_blank\">ReDoc</a>):\n\n![ReDoc](https://fastapi.tiangolo.com/img/index/index-02-redoc-simple.png)", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1158", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "Build a Docker Image with a Single-File FastAPI { #build-a-docker-image-with-a-single-file-fastapi }", "content": "If your FastAPI is a single file, for example, `main.py` without an `./app` directory, your file structure could look like this:\n\n```\n.\n‚îú‚îÄ‚îÄ Dockerfile\n‚îú‚îÄ‚îÄ main.py\n‚îî‚îÄ‚îÄ requirements.txt\n```\n\nThen you would just have to change the corresponding paths to copy the file inside the `Dockerfile`:\n\n```{ .dockerfile .annotate hl_lines=\"10  13\" }\nFROM python:3.9\n\nWORKDIR /code\n\nCOPY ./requirements.txt /code/requirements.txt\n\nRUN pip install --no-cache-dir --upgrade -r /code/requirements.txt\n\n# (1)!\nCOPY ./main.py /code/\n\n# (2)!\nCMD [\"fastapi\", \"run\", \"main.py\", \"--port\", \"80\"]\n```\n\n1. Copy the `main.py` file to the `/code` directory directly (without any `./app` directory).\n\n2. Use `fastapi run` to serve your application in the single file `main.py`.\n\nWhen you pass the file to `fastapi run` it will detect automatically that it is a single file and not part of a package and will know how to import it and serve your FastAPI app. üòé", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1159", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "Deployment Concepts { #deployment-concepts }", "content": "Let's talk again about some of the same [Deployment Concepts](concepts.md){.internal-link target=_blank} in terms of containers.\n\nContainers are mainly a tool to simplify the process of **building and deploying** an application, but they don't enforce a particular approach to handle these **deployment concepts**, and there are several possible strategies.\n\nThe **good news** is that with each different strategy there's a way to cover all of the deployment concepts. üéâ\n\nLet's review these **deployment concepts** in terms of containers:\n\n* HTTPS\n* Running on startup\n* Restarts\n* Replication (the number of processes running)\n* Memory\n* Previous steps before starting", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1160", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "HTTPS { #https }", "content": "If we focus just on the **container image** for a FastAPI application (and later the running **container**), HTTPS normally would be handled **externally** by another tool.\n\nIt could be another container, for example with <a href=\"https://traefik.io/\" class=\"external-link\" target=\"_blank\">Traefik</a>, handling **HTTPS** and **automatic** acquisition of **certificates**.\n\n/// tip\n\nTraefik has integrations with Docker, Kubernetes, and others, so it's very easy to set up and configure HTTPS for your containers with it.\n\n///\n\nAlternatively, HTTPS could be handled by a cloud provider as one of their services (while still running the application in a container).", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1161", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "Running on Startup and Restarts { #running-on-startup-and-restarts }", "content": "There is normally another tool in charge of **starting and running** your container.\n\nIt could be **Docker** directly, **Docker Compose**, **Kubernetes**, a **cloud service**, etc.\n\nIn most (or all) cases, there's a simple option to enable running the container on startup and enabling restarts on failures. For example, in Docker, it's the command line option `--restart`.\n\nWithout using containers, making applications run on startup and with restarts can be cumbersome and difficult. But when **working with containers** in most cases that functionality is included by default. ‚ú®", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1162", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "Replication - Number of Processes { #replication-number-of-processes }", "content": "If you have a <abbr title=\"A group of machines that are configured to be connected and work together in some way.\">cluster</abbr> of machines with **Kubernetes**, Docker Swarm Mode, Nomad, or another similar complex system to manage distributed containers on multiple machines, then you will probably want to **handle replication** at the **cluster level** instead of using a **process manager** (like Uvicorn with workers) in each container.\n\nOne of those distributed container management systems like Kubernetes normally has some integrated way of handling **replication of containers** while still supporting **load balancing** for the incoming requests. All at the **cluster level**.\n\nIn those cases, you would probably want to build a **Docker image from scratch** as [explained above](#dockerfile), installing your dependencies, and running **a single Uvicorn process** instead of using multiple Uvicorn workers.", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1163", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "Load Balancer { #load-balancer }", "content": "When using containers, you would normally have some component **listening on the main port**. It could possibly be another container that is also a **TLS Termination Proxy** to handle **HTTPS** or some similar tool.\n\nAs this component would take the **load** of requests and distribute that among the workers in a (hopefully) **balanced** way, it is also commonly called a **Load Balancer**.\n\n/// tip\n\nThe same **TLS Termination Proxy** component used for HTTPS would probably also be a **Load Balancer**.\n\n///\n\nAnd when working with containers, the same system you use to start and manage them would already have internal tools to transmit the **network communication** (e.g. HTTP requests) from that **load balancer** (that could also be a **TLS Termination Proxy**) to the container(s) with your app.", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1164", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "One Load Balancer - Multiple Worker Containers { #one-load-balancer-multiple-worker-containers }", "content": "When working with **Kubernetes** or similar distributed container management systems, using their internal networking mechanisms would allow the single **load balancer** that is listening on the main **port** to transmit communication (requests) to possibly **multiple containers** running your app.\n\nEach of these containers running your app would normally have **just one process** (e.g. a Uvicorn process running your FastAPI application). They would all be **identical containers**, running the same thing, but each with its own process, memory, etc. That way you would take advantage of **parallelization** in **different cores** of the CPU, or even in **different machines**.\n\nAnd the distributed container system with the **load balancer** would **distribute the requests** to each one of the containers with your app **in turns**. So, each request could be handled by one of the multiple **replicated containers** running your app.\n\nAnd normally this **load balancer** would be able to handle requests that go to *other* apps in your cluster (e.g. to a different domain, or under a different URL path prefix), and would transmit that communication to the right containers for *that other* application running in your cluster.", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1165", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "One Process per Container { #one-process-per-container }", "content": "In this type of scenario, you probably would want to have **a single (Uvicorn) process per container**, as you would already be handling replication at the cluster level.\n\nSo, in this case, you **would not** want to have a multiple workers in the container, for example with the `--workers` command line option. You would want to have just a **single Uvicorn process** per container (but probably multiple containers).\n\nHaving another process manager inside the container (as would be with multiple workers) would only add **unnecessary complexity** that you are most probably already taking care of with your cluster system.", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1166", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "Containers with Multiple Processes and Special Cases { #containers-with-multiple-processes-and-special-cases }", "content": "Of course, there are **special cases** where you could want to have **a container** with several **Uvicorn worker processes** inside.\n\nIn those cases, you can use the `--workers` command line option to set the number of workers that you want to run:\n\n```{ .dockerfile .annotate }\nFROM python:3.9\n\nWORKDIR /code\n\nCOPY ./requirements.txt /code/requirements.txt\n\nRUN pip install --no-cache-dir --upgrade -r /code/requirements.txt\n\nCOPY ./app /code/app\n\n# (1)!\nCMD [\"fastapi\", \"run\", \"app/main.py\", \"--port\", \"80\", \"--workers\", \"4\"]\n```\n\n1. Here we use the `--workers` command line option to set the number of workers to 4.\n\nHere are some examples of when that could make sense:\n\n#### A Simple App { #a-simple-app }\n\nYou could want a process manager in the container if your application is **simple enough** that can run it on a **single server**, not a cluster.\n\n#### Docker Compose { #docker-compose }\n\nYou could be deploying to a **single server** (not a cluster) with **Docker Compose**, so you wouldn't have an easy way to manage replication of containers (with Docker Compose) while preserving the shared network and **load balancing**.\n\nThen you could want to have **a single container** with a **process manager** starting **several worker processes** inside.\n\n---\n\nThe main point is, **none** of these are **rules written in stone** that you have to blindly follow. You can use these ideas to **evaluate your own use case** and decide what is the best approach for your system, checking out how to manage the concepts of:\n\n* Security - HTTPS\n* Running on startup\n* Restarts\n* Replication (the number of processes running)\n* Memory\n* Previous steps before starting", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1167", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "Memory { #memory }", "content": "If you run **a single process per container** you will have a more or less well-defined, stable, and limited amount of memory consumed by each of those containers (more than one if they are replicated).\n\nAnd then you can set those same memory limits and requirements in your configurations for your container management system (for example in **Kubernetes**). That way it will be able to **replicate the containers** in the **available machines** taking into account the amount of memory needed by them, and the amount available in the machines in the cluster.\n\nIf your application is **simple**, this will probably **not be a problem**, and you might not need to specify hard memory limits. But if you are **using a lot of memory** (for example with **machine learning** models), you should check how much memory you are consuming and adjust the **number of containers** that runs in **each machine** (and maybe add more machines to your cluster).\n\nIf you run **multiple processes per container** you will have to make sure that the number of processes started doesn't **consume more memory** than what is available.", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1168", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "Previous Steps Before Starting and Containers { #previous-steps-before-starting-and-containers }", "content": "If you are using containers (e.g. Docker, Kubernetes), then there are two main approaches you can use.", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1169", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "Multiple Containers { #multiple-containers }", "content": "If you have **multiple containers**, probably each one running a **single process** (for example, in a **Kubernetes** cluster), then you would probably want to have a **separate container** doing the work of the **previous steps** in a single container, running a single process, **before** running the replicated worker containers.\n\n/// info\n\nIf you are using Kubernetes, this would probably be an <a href=\"https://kubernetes.io/docs/concepts/workloads/pods/init-containers/\" class=\"external-link\" target=\"_blank\">Init Container</a>.\n\n///\n\nIf in your use case there's no problem in running those previous steps **multiple times in parallel** (for example if you are not running database migrations, but just checking if the database is ready yet), then you could also just put them in each container right before starting the main process.", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1170", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "Single Container { #single-container }", "content": "If you have a simple setup, with a **single container** that then starts multiple **worker processes** (or also just one process), then you could run those previous steps in the same container, right before starting the process with the app.", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1171", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "Base Docker Image { #base-docker-image }", "content": "There used to be an official FastAPI Docker image: <a href=\"https://github.com/tiangolo/uvicorn-gunicorn-fastapi-docker\" class=\"external-link\" target=\"_blank\">tiangolo/uvicorn-gunicorn-fastapi</a>. But it is now deprecated. ‚õîÔ∏è\n\nYou should probably **not** use this base Docker image (or any other similar one).\n\nIf you are using **Kubernetes** (or others) and you are already setting **replication** at the cluster level, with multiple **containers**. In those cases, you are better off **building an image from scratch** as described above: [Build a Docker Image for FastAPI](#build-a-docker-image-for-fastapi).\n\nAnd if you need to have multiple workers, you can simply use the `--workers` command line option.\n\n/// note | Technical Details\n\nThe Docker image was created when Uvicorn didn't support managing and restarting dead workers, so it was needed to use Gunicorn with Uvicorn, which added quite some complexity, just to have Gunicorn manage and restart the Uvicorn worker processes.\n\nBut now that Uvicorn (and the `fastapi` command) support using `--workers`, there's no reason to use a base Docker image instead of building your own (it's pretty much the same amount of code üòÖ).\n\n///", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1172", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "Deploy the Container Image { #deploy-the-container-image }", "content": "After having a Container (Docker) Image there are several ways to deploy it.\n\nFor example:\n\n* With **Docker Compose** in a single server\n* With a **Kubernetes** cluster\n* With a Docker Swarm Mode cluster\n* With another tool like Nomad\n* With a cloud service that takes your container image and deploys it", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1173", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "Docker Image with `uv` { #docker-image-with-uv }", "content": "If you are using <a href=\"https://github.com/astral-sh/uv\" class=\"external-link\" target=\"_blank\">uv</a> to install and manage your project, you can follow their <a href=\"https://docs.astral.sh/uv/guides/integration/docker/\" class=\"external-link\" target=\"_blank\">uv Docker guide</a>.", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1174", "title": "FastAPI in Containers - Docker { #fastapi-in-containers-docker }", "section": "Recap { #recap }", "content": "Using container systems (e.g. with **Docker** and **Kubernetes**) it becomes fairly straightforward to handle all the **deployment concepts**:\n\n* HTTPS\n* Running on startup\n* Restarts\n* Replication (the number of processes running)\n* Memory\n* Previous steps before starting\n\nIn most cases, you probably won't want to use any base image, and instead **build a container image from scratch** based on the official Python Docker image.\n\nTaking care of the **order** of instructions in the `Dockerfile` and the **Docker cache** you can **minimize build times**, to maximize your productivity (and avoid boredom). üòé", "source": "deployment\\docker.md"}
{"doc_id": "fastapi_1175", "title": "FastAPI Cloud { #fastapi-cloud }", "section": "FastAPI Cloud { #fastapi-cloud }", "content": "You can deploy your FastAPI app to <a href=\"https://fastapicloud.com\" class=\"external-link\" target=\"_blank\">FastAPI Cloud</a> with **one command**, go and join the waiting list if you haven't. üöÄ", "source": "deployment\\fastapicloud.md"}
{"doc_id": "fastapi_1176", "title": "FastAPI Cloud { #fastapi-cloud }", "section": "Login { #login }", "content": "Make sure you already have a **FastAPI Cloud** account (we invited you from the waiting list üòâ).\n\nThen log in:\n\n<div class=\"termy\">\n\n```console\n$ fastapi login\n\nYou are logged in to FastAPI Cloud üöÄ\n```\n\n</div>", "source": "deployment\\fastapicloud.md"}
{"doc_id": "fastapi_1177", "title": "FastAPI Cloud { #fastapi-cloud }", "section": "Deploy { #deploy }", "content": "Now deploy your app, with **one command**:\n\n<div class=\"termy\">\n\n```console\n$ fastapi deploy\n\nDeploying to FastAPI Cloud...\n\n‚úÖ Deployment successful!\n\nüêî Ready the chicken! Your app is ready at https://myapp.fastapicloud.dev\n```\n\n</div>\n\nThat's it! Now you can access your app at that URL. ‚ú®", "source": "deployment\\fastapicloud.md"}
{"doc_id": "fastapi_1178", "title": "FastAPI Cloud { #fastapi-cloud }", "section": "About FastAPI Cloud { #about-fastapi-cloud }", "content": "**<a href=\"https://fastapicloud.com\" class=\"external-link\" target=\"_blank\">FastAPI Cloud</a>** is built by the same author and team behind **FastAPI**.\n\nIt streamlines the process of **building**, **deploying**, and **accessing** an API with minimal effort.\n\nIt brings the same **developer experience** of building apps with FastAPI to **deploying** them to the cloud. üéâ\n\nIt will also take care of most of the things you would need when deploying an app, like:\n\n* HTTPS\n* Replication, with autoscaling based on requests\n* etc.\n\nFastAPI Cloud is the primary sponsor and funding provider for the *FastAPI and friends* open source projects. ‚ú®", "source": "deployment\\fastapicloud.md"}
{"doc_id": "fastapi_1179", "title": "FastAPI Cloud { #fastapi-cloud }", "section": "Deploy to other cloud providers { #deploy-to-other-cloud-providers }", "content": "FastAPI is open source and based on standards. You can deploy FastAPI apps to any cloud provider you choose.\n\nFollow your cloud provider's guides to deploy FastAPI apps with them. ü§ì", "source": "deployment\\fastapicloud.md"}
{"doc_id": "fastapi_1180", "title": "FastAPI Cloud { #fastapi-cloud }", "section": "Deploy your own server { #deploy-your-own-server }", "content": "I will also teach you later in this **Deployment** guide all the details, so you can understand what is going on, what needs to happen, or how to deploy FastAPI apps on your own, also with your own servers. ü§ì", "source": "deployment\\fastapicloud.md"}
{"doc_id": "fastapi_1181", "title": "About HTTPS { #about-https }", "section": "About HTTPS { #about-https }", "content": "It is easy to assume that HTTPS is something that is just \"enabled\" or not.\n\nBut it is way more complex than that.\n\n/// tip\n\nIf you are in a hurry or don't care, continue with the next sections for step by step instructions to set everything up with different techniques.\n\n///\n\nTo **learn the basics of HTTPS**, from a consumer perspective, check <a href=\"https://howhttps.works/\" class=\"external-link\" target=\"_blank\">https://howhttps.works/</a>.\n\nNow, from a **developer's perspective**, here are several things to keep in mind while thinking about HTTPS:\n\n* For HTTPS, **the server** needs to **have \"certificates\"** generated by a **third party**.\n    * Those certificates are actually **acquired** from the third party, not \"generated\".\n* Certificates have a **lifetime**.\n    * They **expire**.\n    * And then they need to be **renewed**, **acquired again** from the third party.\n* The encryption of the connection happens at the **TCP level**.\n    * That's one layer **below HTTP**.\n    * So, the **certificate and encryption** handling is done **before HTTP**.\n* **TCP doesn't know about \"domains\"**. Only about IP addresses.\n    * The information about the **specific domain** requested goes in the **HTTP data**.\n* The **HTTPS certificates** \"certify\" a **certain domain**, but the protocol and encryption happen at the TCP level, **before knowing** which domain is being dealt with.\n* **By default**, that would mean that you can only have **one HTTPS certificate per IP address**.\n    * No matter how big your server is or how small each application you have on it might be.\n    * There is a **solution** to this, however.\n* There's an **extension** to the **TLS** protocol (the one handling the encryption at the TCP level, before HTTP) called **<a href=\"https://en.wikipedia.org/wiki/Server_Name_Indication\" class=\"external-link\" target=\"_blank\"><abbr title=\"Server Name Indication\">SNI</abbr></a>**.\n    * This SNI extension allows one single server (with a **single IP address**) to have **several HTTPS certificates** and serve **multiple HTTPS domains/applications**.\n    * For this to work, a **single** component (program) running on the server, listening on the **public IP address**, must have **all the HTTPS certificates** in the server.\n* **After** obtaining a secure connection, the communication protocol is **still HTTP**.\n    * The contents are **encrypted**, even though they are being sent with the **HTTP protocol**.\n\nIt is a common practice to have **one program/HTTP server** running on the server (the machine, host, etc.) and **managing all the HTTPS parts**: receiving the **encrypted HTTPS requests**, sending the **decrypted HTTP requests** to the actual HTTP application running in the same server (the **FastAPI** application, in this case), take the **HTTP response** from the application, **encrypt it** using the appropriate **HTTPS certificate** and sending it back to the client using **HTTPS**. This server is often called a **<a href=\"https://en.wikipedia.org/wiki/TLS_termination_proxy\" class=\"external-link\" target=\"_blank\">TLS Termination Proxy</a>**.\n\nSome of the options you could use as a TLS Termination Proxy are:\n\n* Traefik (that can also handle certificate renewals)\n* Caddy (that can also handle certificate renewals)\n* Nginx\n* HAProxy", "source": "deployment\\https.md"}
{"doc_id": "fastapi_1182", "title": "About HTTPS { #about-https }", "section": "Let's Encrypt { #lets-encrypt }", "content": "Before Let's Encrypt, these **HTTPS certificates** were sold by trusted third parties.\n\nThe process to acquire one of these certificates used to be cumbersome, require quite some paperwork and the certificates were quite expensive.\n\nBut then **<a href=\"https://letsencrypt.org/\" class=\"external-link\" target=\"_blank\">Let's Encrypt</a>** was created.\n\nIt is a project from the Linux Foundation. It provides **HTTPS certificates for free**, in an automated way. These certificates use all the standard cryptographic security, and are short-lived (about 3 months), so the **security is actually better** because of their reduced lifespan.\n\nThe domains are securely verified and the certificates are generated automatically. This also allows automating the renewal of these certificates.\n\nThe idea is to automate the acquisition and renewal of these certificates so that you can have **secure HTTPS, for free, forever**.", "source": "deployment\\https.md"}
{"doc_id": "fastapi_1183", "title": "About HTTPS { #about-https }", "section": "HTTPS for Developers { #https-for-developers }", "content": "Here's an example of how an HTTPS API could look like, step by step, paying attention mainly to the ideas important for developers.", "source": "deployment\\https.md"}
{"doc_id": "fastapi_1184", "title": "About HTTPS { #about-https }", "section": "Domain Name { #domain-name }", "content": "It would probably all start by you **acquiring** some **domain name**. Then, you would configure it in a DNS server (possibly your same cloud provider).\n\nYou would probably get a cloud server (a virtual machine) or something similar, and it would have a <abbr title=\"That doesn't change\">fixed</abbr> **public IP address**.\n\nIn the DNS server(s) you would configure a record (an \"`A record`\") to point **your domain** to the public **IP address of your server**.\n\nYou would probably do this just once, the first time, when setting everything up.\n\n/// tip\n\nThis Domain Name part is way before HTTPS, but as everything depends on the domain and the IP address, it's worth mentioning it here.\n\n///", "source": "deployment\\https.md"}
{"doc_id": "fastapi_1185", "title": "About HTTPS { #about-https }", "section": "DNS { #dns }", "content": "Now let's focus on all the actual HTTPS parts.\n\nFirst, the browser would check with the **DNS servers** what is the **IP for the domain**, in this case, `someapp.example.com`.\n\nThe DNS servers would tell the browser to use some specific **IP address**. That would be the public IP address used by your server, that you configured in the DNS servers.\n\n<img src=\"/img/deployment/https/https01.drawio.svg\">", "source": "deployment\\https.md"}
{"doc_id": "fastapi_1186", "title": "About HTTPS { #about-https }", "section": "TLS Handshake Start { #tls-handshake-start }", "content": "The browser would then communicate with that IP address on **port 443** (the HTTPS port).\n\nThe first part of the communication is just to establish the connection between the client and the server and to decide the cryptographic keys they will use, etc.\n\n<img src=\"/img/deployment/https/https02.drawio.svg\">\n\nThis interaction between the client and the server to establish the TLS connection is called the **TLS handshake**.", "source": "deployment\\https.md"}
{"doc_id": "fastapi_1187", "title": "About HTTPS { #about-https }", "section": "TLS with SNI Extension { #tls-with-sni-extension }", "content": "**Only one process** in the server can be listening on a specific **port** in a specific **IP address**. There could be other processes listening on other ports in the same IP address, but only one for each combination of IP address and port.\n\nTLS (HTTPS) uses the specific port `443` by default. So that's the port we would need.\n\nAs only one process can be listening on this port, the process that would do it would be the **TLS Termination Proxy**.\n\nThe TLS Termination Proxy would have access to one or more **TLS certificates** (HTTPS certificates).\n\nUsing the **SNI extension** discussed above, the TLS Termination Proxy would check which of the TLS (HTTPS) certificates available it should use for this connection, using the one that matches the domain expected by the client.\n\nIn this case, it would use the certificate for `someapp.example.com`.\n\n<img src=\"/img/deployment/https/https03.drawio.svg\">\n\nThe client already **trusts** the entity that generated that TLS certificate (in this case Let's Encrypt, but we'll see about that later), so it can **verify** that the certificate is valid.\n\nThen, using the certificate, the client and the TLS Termination Proxy **decide how to encrypt** the rest of the **TCP communication**. This completes the **TLS Handshake** part.\n\nAfter this, the client and the server have an **encrypted TCP connection**, this is what TLS provides. And then they can use that connection to start the actual **HTTP communication**.\n\nAnd that's what **HTTPS** is, it's just plain **HTTP** inside a **secure TLS connection** instead of a pure (unencrypted) TCP connection.\n\n/// tip\n\nNotice that the encryption of the communication happens at the **TCP level**, not at the HTTP level.\n\n///", "source": "deployment\\https.md"}
{"doc_id": "fastapi_1188", "title": "About HTTPS { #about-https }", "section": "HTTPS Request { #https-request }", "content": "Now that the client and server (specifically the browser and the TLS Termination Proxy) have an **encrypted TCP connection**, they can start the **HTTP communication**.\n\nSo, the client sends an **HTTPS request**. This is just an HTTP request through an encrypted TLS connection.\n\n<img src=\"/img/deployment/https/https04.drawio.svg\">", "source": "deployment\\https.md"}
{"doc_id": "fastapi_1189", "title": "About HTTPS { #about-https }", "section": "Decrypt the Request { #decrypt-the-request }", "content": "The TLS Termination Proxy would use the encryption agreed to **decrypt the request**, and would transmit the **plain (decrypted) HTTP request** to the process running the application (for example a process with Uvicorn running the FastAPI application).\n\n<img src=\"/img/deployment/https/https05.drawio.svg\">", "source": "deployment\\https.md"}
{"doc_id": "fastapi_1190", "title": "About HTTPS { #about-https }", "section": "HTTP Response { #http-response }", "content": "The application would process the request and send a **plain (unencrypted) HTTP response** to the TLS Termination Proxy.\n\n<img src=\"/img/deployment/https/https06.drawio.svg\">", "source": "deployment\\https.md"}
{"doc_id": "fastapi_1191", "title": "About HTTPS { #about-https }", "section": "HTTPS Response { #https-response }", "content": "The TLS Termination Proxy would then **encrypt the response** using the cryptography agreed before (that started with the certificate for `someapp.example.com`), and send it back to the browser.\n\nNext, the browser would verify that the response is valid and encrypted with the right cryptographic key, etc. It would then **decrypt the response** and process it.\n\n<img src=\"/img/deployment/https/https07.drawio.svg\">\n\nThe client (browser) will know that the response comes from the correct server because it is using the cryptography they agreed using the **HTTPS certificate** before.", "source": "deployment\\https.md"}
{"doc_id": "fastapi_1192", "title": "About HTTPS { #about-https }", "section": "Multiple Applications { #multiple-applications }", "content": "In the same server (or servers), there could be **multiple applications**, for example, other API programs or a database.\n\nOnly one process can be handling the specific IP and port (the TLS Termination Proxy in our example) but the other applications/processes can be running on the server(s) too, as long as they don't try to use the same **combination of public IP and port**.\n\n<img src=\"/img/deployment/https/https08.drawio.svg\">\n\nThat way, the TLS Termination Proxy could handle HTTPS and certificates for **multiple domains**, for multiple applications, and then transmit the requests to the right application in each case.", "source": "deployment\\https.md"}
{"doc_id": "fastapi_1193", "title": "About HTTPS { #about-https }", "section": "Certificate Renewal { #certificate-renewal }", "content": "At some point in the future, each certificate would **expire** (about 3 months after acquiring it).\n\nAnd then, there would be another program (in some cases it's another program, in some cases it could be the same TLS Termination Proxy) that would talk to Let's Encrypt, and renew the certificate(s).\n\n<img src=\"/img/deployment/https/https.drawio.svg\">\n\nThe **TLS certificates** are **associated with a domain name**, not with an IP address.\n\nSo, to renew the certificates, the renewal program needs to **prove** to the authority (Let's Encrypt) that it indeed **\"owns\" and controls that domain**.\n\nTo do that, and to accommodate different application needs, there are several ways it can do it. Some popular ways are:\n\n* **Modify some DNS records**.\n    * For this, the renewal program needs to support the APIs of the DNS provider, so, depending on the DNS provider you are using, this might or might not be an option.\n* **Run as a server** (at least during the certificate acquisition process) on the public IP address associated with the domain.\n    * As we said above, only one process can be listening on a specific IP and port.\n    * This is one of the reasons why it's very useful when the same TLS Termination Proxy also takes care of the certificate renewal process.\n    * Otherwise, you might have to stop the TLS Termination Proxy momentarily, start the renewal program to acquire the certificates, then configure them with the TLS Termination Proxy, and then restart the TLS Termination Proxy. This is not ideal, as your app(s) will not be available during the time that the TLS Termination Proxy is off.\n\nAll this renewal process, while still serving the app, is one of the main reasons why you would want to have a **separate system to handle HTTPS** with a TLS Termination Proxy instead of just using the TLS certificates with the application server directly (e.g. Uvicorn).", "source": "deployment\\https.md"}
{"doc_id": "fastapi_1194", "title": "About HTTPS { #about-https }", "section": "Proxy Forwarded Headers { #proxy-forwarded-headers }", "content": "When using a proxy to handle HTTPS, your **application server** (for example Uvicorn via FastAPI CLI) doesn't known anything about the HTTPS process, it communicates with plain HTTP with the **TLS Termination Proxy**.\n\nThis **proxy** would normally set some HTTP headers on the fly before transmitting the request to the **application server**, to let the application server know that the request is being **forwarded** by the proxy.\n\n/// note | Technical Details\n\nThe proxy headers are:\n\n* <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/X-Forwarded-For\" class=\"external-link\" target=\"_blank\">X-Forwarded-For</a>\n* <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/X-Forwarded-Proto\" class=\"external-link\" target=\"_blank\">X-Forwarded-Proto</a>\n* <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/X-Forwarded-Host\" class=\"external-link\" target=\"_blank\">X-Forwarded-Host</a>\n\n///\n\nNevertheless, as the **application server** doesn't know it is behind a trusted **proxy**, by default, it wouldn't trust those headers.\n\nBut you can configure the **application server** to trust the *forwarded* headers sent by the **proxy**. If you are using FastAPI CLI, you can use the *CLI Option* `--forwarded-allow-ips` to tell it from which IPs it should trust those *forwarded* headers.\n\nFor example, if the **application server** is only receiving communication from the trusted **proxy**, you can set it to `--forwarded-allow-ips=\"*\"` to make it trust all incoming IPs, as it will only receive requests from whatever is the IP used by the **proxy**.\n\nThis way the application would be able to know what is its own public URL, if it is using HTTPS, the domain, etc.\n\nThis would be useful for example to properly handle redirects.\n\n/// tip\n\nYou can learn more about this in the documentation for [Behind a Proxy - Enable Proxy Forwarded Headers](../advanced/behind-a-proxy.md#enable-proxy-forwarded-headers){.internal-link target=_blank}\n\n///", "source": "deployment\\https.md"}
{"doc_id": "fastapi_1195", "title": "About HTTPS { #about-https }", "section": "Recap { #recap }", "content": "Having **HTTPS** is very important, and quite **critical** in most cases. Most of the effort you as a developer have to put around HTTPS is just about **understanding these concepts** and how they work.\n\nBut once you know the basic information of **HTTPS for developers** you can easily combine and configure different tools to help you manage everything in a simple way.\n\nIn some of the next chapters, I'll show you several concrete examples of how to set up **HTTPS** for **FastAPI** applications. üîí", "source": "deployment\\https.md"}
{"doc_id": "fastapi_1196", "title": "Deployment { #deployment }", "section": "Deployment { #deployment }", "content": "Deploying a **FastAPI** application is relatively easy.", "source": "deployment\\index.md"}
{"doc_id": "fastapi_1197", "title": "Deployment { #deployment }", "section": "What Does Deployment Mean { #what-does-deployment-mean }", "content": "To **deploy** an application means to perform the necessary steps to make it **available to the users**.\n\nFor a **web API**, it normally involves putting it in a **remote machine**, with a **server program** that provides good performance, stability, etc, so that your **users** can **access** the application efficiently and without interruptions or problems.\n\nThis is in contrast to the **development** stages, where you are constantly changing the code, breaking it and fixing it, stopping and restarting the development server, etc.", "source": "deployment\\index.md"}
{"doc_id": "fastapi_1198", "title": "Deployment { #deployment }", "section": "Deployment Strategies { #deployment-strategies }", "content": "There are several ways to do it depending on your specific use case and the tools that you use.\n\nYou could **deploy a server** yourself using a combination of tools, you could use a **cloud service** that does part of the work for you, or other possible options.\n\nFor example, we, the team behind FastAPI, built <a href=\"https://fastapicloud.com\" class=\"external-link\" target=\"_blank\">**FastAPI Cloud**</a>, to make deploying FastAPI apps to the cloud as streamlined as possible, with the same developer experience of working with FastAPI.\n\nI will show you some of the main concepts you should probably keep in mind when deploying a **FastAPI** application (although most of it applies to any other type of web application).\n\nYou will see more details to keep in mind and some of the techniques to do it in the next sections. ‚ú®", "source": "deployment\\index.md"}
{"doc_id": "fastapi_1199", "title": "Run a Server Manually { #run-a-server-manually }", "section": "Run a Server Manually { #run-a-server-manually }", "content": "", "source": "deployment\\manually.md"}
{"doc_id": "fastapi_1200", "title": "Run a Server Manually { #run-a-server-manually }", "section": "Use the `fastapi run` Command { #use-the-fastapi-run-command }", "content": "In short, use `fastapi run` to serve your FastAPI application:\n\n<div class=\"termy\">\n\n```console\n$ <font color=\"#4E9A06\">fastapi</font> run <u style=\"text-decoration-style:solid\">main.py</u>\n\n  <span style=\"background-color:#009485\"><font color=\"#D3D7CF\"> FastAPI </font></span>  Starting production server üöÄ\n\n             Searching for package file structure from directories\n             with <font color=\"#3465A4\">__init__.py</font> files\n             Importing from <font color=\"#75507B\">/home/user/code/</font><font color=\"#AD7FA8\">awesomeapp</font>\n\n   <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> module </font></span>  üêç main.py\n\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> code </font></span>  Importing the FastAPI app object from the module with\n             the following code:\n\n             <u style=\"text-decoration-style:solid\">from </u><u style=\"text-decoration-style:solid\"><b>main</b></u><u style=\"text-decoration-style:solid\"> import </u><u style=\"text-decoration-style:solid\"><b>app</b></u>\n\n      <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> app </font></span>  Using import string: <font color=\"#3465A4\">main:app</font>\n\n   <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> server </font></span>  Server started at <font color=\"#729FCF\"><u style=\"text-decoration-style:solid\">http://0.0.0.0:8000</u></font>\n   <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> server </font></span>  Documentation at <font color=\"#729FCF\"><u style=\"text-decoration-style:solid\">http://0.0.0.0:8000/docs</u></font>\n\n             Logs:\n\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Started server process <b>[</b><font color=\"#34E2E2\"><b>2306215</b></font><b>]</b>\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Waiting for application startup.\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Application startup complete.\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Uvicorn running on <font color=\"#729FCF\"><u style=\"text-decoration-style:solid\">http://0.0.0.0:8000</u></font> <b>(</b>Press CTRL+C\n             to quit<b>)</b>\n```\n\n</div>\n\nThat would work for most of the cases. üòé\n\nYou could use that command for example to start your **FastAPI** app in a container, in a server, etc.", "source": "deployment\\manually.md"}
{"doc_id": "fastapi_1201", "title": "Run a Server Manually { #run-a-server-manually }", "section": "ASGI Servers { #asgi-servers }", "content": "Let's go a little deeper into the details.\n\nFastAPI uses a standard for building Python web frameworks and servers called <abbr title=\"Asynchronous Server Gateway Interface\">ASGI</abbr>. FastAPI is an ASGI web framework.\n\nThe main thing you need to run a **FastAPI** application (or any other ASGI application) in a remote server machine is an ASGI server program like **Uvicorn**, this is the one that comes by default in the `fastapi` command.\n\nThere are several alternatives, including:\n\n* <a href=\"https://www.uvicorn.dev/\" class=\"external-link\" target=\"_blank\">Uvicorn</a>: a high performance ASGI server.\n* <a href=\"https://hypercorn.readthedocs.io/\" class=\"external-link\" target=\"_blank\">Hypercorn</a>: an ASGI server compatible with HTTP/2 and Trio among other features.\n* <a href=\"https://github.com/django/daphne\" class=\"external-link\" target=\"_blank\">Daphne</a>: the ASGI server built for Django Channels.\n* <a href=\"https://github.com/emmett-framework/granian\" class=\"external-link\" target=\"_blank\">Granian</a>: A Rust HTTP server for Python applications.\n* <a href=\"https://unit.nginx.org/howto/fastapi/\" class=\"external-link\" target=\"_blank\">NGINX Unit</a>: NGINX Unit is a lightweight and versatile web application runtime.", "source": "deployment\\manually.md"}
{"doc_id": "fastapi_1202", "title": "Run a Server Manually { #run-a-server-manually }", "section": "Server Machine and Server Program { #server-machine-and-server-program }", "content": "There's a small detail about names to keep in mind. üí°\n\nThe word \"**server**\" is commonly used to refer to both the remote/cloud computer (the physical or virtual machine) and also the program that is running on that machine (e.g. Uvicorn).\n\nJust keep in mind that when you read \"server\" in general, it could refer to one of those two things.\n\nWhen referring to the remote machine, it's common to call it **server**, but also **machine**, **VM** (virtual machine), **node**. Those all refer to some type of remote machine, normally running Linux, where you run programs.", "source": "deployment\\manually.md"}
{"doc_id": "fastapi_1203", "title": "Run a Server Manually { #run-a-server-manually }", "section": "Install the Server Program { #install-the-server-program }", "content": "When you install FastAPI, it comes with a production server, Uvicorn, and you can start it with the `fastapi run` command.\n\nBut you can also install an ASGI server manually.\n\nMake sure you create a [virtual environment](../virtual-environments.md){.internal-link target=_blank}, activate it, and then you can install the server application.\n\nFor example, to install Uvicorn:\n\n<div class=\"termy\">\n\n```console\n$ pip install \"uvicorn[standard]\"\n\n---> 100%\n```\n\n</div>\n\nA similar process would apply to any other ASGI server program.\n\n/// tip\n\nBy adding the `standard`, Uvicorn will install and use some recommended extra dependencies.\n\nThat including `uvloop`, the high-performance drop-in replacement for `asyncio`, that provides the big concurrency performance boost.\n\nWhen you install FastAPI with something like `pip install \"fastapi[standard]\"` you already get `uvicorn[standard]` as well.\n\n///", "source": "deployment\\manually.md"}
{"doc_id": "fastapi_1204", "title": "Run a Server Manually { #run-a-server-manually }", "section": "Run the Server Program { #run-the-server-program }", "content": "If you installed an ASGI server manually, you would normally need to pass an import string in a special format for it to import your FastAPI application:\n\n<div class=\"termy\">\n\n```console\n$ uvicorn main:app --host 0.0.0.0 --port 80\n\n<span style=\"color: green;\">INFO</span>:     Uvicorn running on http://0.0.0.0:80 (Press CTRL+C to quit)\n```\n\n</div>\n\n/// note\n\nThe command `uvicorn main:app` refers to:\n\n* `main`: the file `main.py` (the Python \"module\").\n* `app`: the object created inside of `main.py` with the line `app = FastAPI()`.\n\nIt is equivalent to:\n\n```Python\nfrom main import app\n```\n\n///\n\nEach alternative ASGI server program would have a similar command, you can read more in their respective documentation.\n\n/// warning\n\nUvicorn and other servers support a `--reload` option that is useful during development.\n\nThe `--reload` option consumes much more resources, is more unstable, etc.\n\nIt helps a lot during **development**, but you **shouldn't** use it in **production**.\n\n///", "source": "deployment\\manually.md"}
{"doc_id": "fastapi_1205", "title": "Run a Server Manually { #run-a-server-manually }", "section": "Deployment Concepts { #deployment-concepts }", "content": "These examples run the server program (e.g Uvicorn), starting **a single process**, listening on all the IPs (`0.0.0.0`) on a predefined port (e.g. `80`).\n\nThis is the basic idea. But you will probably want to take care of some additional things, like:\n\n* Security - HTTPS\n* Running on startup\n* Restarts\n* Replication (the number of processes running)\n* Memory\n* Previous steps before starting\n\nI'll tell you more about each of these concepts, how to think about them, and some concrete examples with strategies to handle them in the next chapters. üöÄ", "source": "deployment\\manually.md"}
{"doc_id": "fastapi_1206", "title": "Server Workers - Uvicorn with Workers { #server-workers-uvicorn-with-workers }", "section": "Server Workers - Uvicorn with Workers { #server-workers-uvicorn-with-workers }", "content": "Let's check back those deployment concepts from before:\n\n* Security - HTTPS\n* Running on startup\n* Restarts\n* **Replication (the number of processes running)**\n* Memory\n* Previous steps before starting\n\nUp to this point, with all the tutorials in the docs, you have probably been running a **server program**, for example, using the `fastapi` command, that runs Uvicorn, running a **single process**.\n\nWhen deploying applications you will probably want to have some **replication of processes** to take advantage of **multiple cores** and to be able to handle more requests.\n\nAs you saw in the previous chapter about [Deployment Concepts](concepts.md){.internal-link target=_blank}, there are multiple strategies you can use.\n\nHere I'll show you how to use **Uvicorn** with **worker processes** using the `fastapi` command or the `uvicorn` command directly.\n\n/// info\n\nIf you are using containers, for example with Docker or Kubernetes, I'll tell you more about that in the next chapter: [FastAPI in Containers - Docker](docker.md){.internal-link target=_blank}.\n\nIn particular, when running on **Kubernetes** you will probably **not** want to use workers and instead run **a single Uvicorn process per container**, but I'll tell you about it later in that chapter.\n\n///", "source": "deployment\\server-workers.md"}
{"doc_id": "fastapi_1207", "title": "Server Workers - Uvicorn with Workers { #server-workers-uvicorn-with-workers }", "section": "Multiple Workers { #multiple-workers }", "content": "You can start multiple workers with the `--workers` command line option:\n\n//// tab | `fastapi`\n\nIf you use the `fastapi` command:\n\n<div class=\"termy\">\n\n```console\n$ <font color=\"#4E9A06\">fastapi</font> run --workers 4 <u style=\"text-decoration-style:solid\">main.py</u>\n\n  <span style=\"background-color:#009485\"><font color=\"#D3D7CF\"> FastAPI </font></span>  Starting production server üöÄ\n\n             Searching for package file structure from directories with\n             <font color=\"#3465A4\">__init__.py</font> files\n             Importing from <font color=\"#75507B\">/home/user/code/</font><font color=\"#AD7FA8\">awesomeapp</font>\n\n   <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> module </font></span>  üêç main.py\n\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> code </font></span>  Importing the FastAPI app object from the module with the\n             following code:\n\n             <u style=\"text-decoration-style:solid\">from </u><u style=\"text-decoration-style:solid\"><b>main</b></u><u style=\"text-decoration-style:solid\"> import </u><u style=\"text-decoration-style:solid\"><b>app</b></u>\n\n      <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> app </font></span>  Using import string: <font color=\"#3465A4\">main:app</font>\n\n   <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> server </font></span>  Server started at <font color=\"#729FCF\"><u style=\"text-decoration-style:solid\">http://0.0.0.0:8000</u></font>\n   <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> server </font></span>  Documentation at <font color=\"#729FCF\"><u style=\"text-decoration-style:solid\">http://0.0.0.0:8000/docs</u></font>\n\n             Logs:\n\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Uvicorn running on <font color=\"#729FCF\"><u style=\"text-decoration-style:solid\">http://0.0.0.0:8000</u></font> <b>(</b>Press CTRL+C to\n             quit<b>)</b>\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Started parent process <b>[</b><font color=\"#34E2E2\"><b>27365</b></font><b>]</b>\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Started server process <b>[</b><font color=\"#34E2E2\"><b>27368</b></font><b>]</b>\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Started server process <b>[</b><font color=\"#34E2E2\"><b>27369</b></font><b>]</b>\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Started server process <b>[</b><font color=\"#34E2E2\"><b>27370</b></font><b>]</b>\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Started server process <b>[</b><font color=\"#34E2E2\"><b>27367</b></font><b>]</b>\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Waiting for application startup.\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Waiting for application startup.\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Waiting for application startup.\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Waiting for application startup.\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Application startup complete.\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Application startup complete.\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Application startup complete.\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Application startup complete.\n```\n\n</div>\n\n////\n\n//// tab | `uvicorn`\n\nIf you prefer to use the `uvicorn` command directly:\n\n<div class=\"termy\">\n\n```console\n$ uvicorn main:app --host 0.0.0.0 --port 8080 --workers 4\n<font color=\"#A6E22E\">INFO</font>:     Uvicorn running on <b>http://0.0.0.0:8080</b> (Press CTRL+C to quit)\n<font color=\"#A6E22E\">INFO</font>:     Started parent process [<font color=\"#A1EFE4\"><b>27365</b></font>]\n<font color=\"#A6E22E\">INFO</font>:     Started server process [<font color=\"#A1EFE4\">27368</font>]\n<font color=\"#A6E22E\">INFO</font>:     Waiting for application startup.\n<font color=\"#A6E22E\">INFO</font>:     Application startup complete.\n<font color=\"#A6E22E\">INFO</font>:     Started server process [<font color=\"#A1EFE4\">27369</font>]\n<font color=\"#A6E22E\">INFO</font>:     Waiting for application startup.\n<font color=\"#A6E22E\">INFO</font>:     Application startup complete.\n<font color=\"#A6E22E\">INFO</font>:     Started server process [<font color=\"#A1EFE4\">27370</font>]\n<font color=\"#A6E22E\">INFO</font>:     Waiting for application startup.\n<font color=\"#A6E22E\">INFO</font>:     Application startup complete.\n<font color=\"#A6E22E\">INFO</font>:     Started server process [<font color=\"#A1EFE4\">27367</font>]\n<font color=\"#A6E22E\">INFO</font>:     Waiting for application startup.\n<font color=\"#A6E22E\">INFO</font>:     Application startup complete.\n```\n\n</div>\n\n////\n\nThe only new option here is `--workers` telling Uvicorn to start 4 worker processes.\n\nYou can also see that it shows the **PID** of each process, `27365` for the parent process (this is the **process manager**) and one for each worker process: `27368`, `27369`, `27370`, and `27367`.", "source": "deployment\\server-workers.md"}
{"doc_id": "fastapi_1208", "title": "Server Workers - Uvicorn with Workers { #server-workers-uvicorn-with-workers }", "section": "Deployment Concepts { #deployment-concepts }", "content": "Here you saw how to use multiple **workers** to **parallelize** the execution of the application, take advantage of **multiple cores** in the CPU, and be able to serve **more requests**.\n\nFrom the list of deployment concepts from above, using workers would mainly help with the **replication** part, and a little bit with the **restarts**, but you still need to take care of the others:\n\n* **Security - HTTPS**\n* **Running on startup**\n* ***Restarts***\n* Replication (the number of processes running)\n* **Memory**\n* **Previous steps before starting**", "source": "deployment\\server-workers.md"}
{"doc_id": "fastapi_1209", "title": "Server Workers - Uvicorn with Workers { #server-workers-uvicorn-with-workers }", "section": "Containers and Docker { #containers-and-docker }", "content": "In the next chapter about [FastAPI in Containers - Docker](docker.md){.internal-link target=_blank} I'll explain some strategies you could use to handle the other **deployment concepts**.\n\nI'll show you how to **build your own image from scratch** to run a single Uvicorn process. It is a simple process and is probably what you would want to do when using a distributed container management system like **Kubernetes**.", "source": "deployment\\server-workers.md"}
{"doc_id": "fastapi_1210", "title": "Server Workers - Uvicorn with Workers { #server-workers-uvicorn-with-workers }", "section": "Recap { #recap }", "content": "You can use multiple worker processes with the `--workers` CLI option with the `fastapi` or `uvicorn` commands to take advantage of **multi-core CPUs**, to run **multiple processes in parallel**.\n\nYou could use these tools and ideas if you are setting up **your own deployment system** while taking care of the other deployment concepts yourself.\n\nCheck out the next chapter to learn about **FastAPI** with containers (e.g. Docker and Kubernetes). You will see that those tools have simple ways to solve the other **deployment concepts** as well. ‚ú®", "source": "deployment\\server-workers.md"}
{"doc_id": "fastapi_1211", "title": "About FastAPI versions { #about-fastapi-versions }", "section": "About FastAPI versions { #about-fastapi-versions }", "content": "**FastAPI** is already being used in production in many applications and systems. And the test coverage is kept at 100%. But its development is still moving quickly.\n\nNew features are added frequently, bugs are fixed regularly, and the code is still continuously improving.\n\nThat's why the current versions are still `0.x.x`, this reflects that each version could potentially have breaking changes. This follows the <a href=\"https://semver.org/\" class=\"external-link\" target=\"_blank\">Semantic Versioning</a> conventions.\n\nYou can create production applications with **FastAPI** right now (and you have probably been doing it for some time), you just have to make sure that you use a version that works correctly with the rest of your code.", "source": "deployment\\versions.md"}
{"doc_id": "fastapi_1212", "title": "About FastAPI versions { #about-fastapi-versions }", "section": "Pin your `fastapi` version { #pin-your-fastapi-version }", "content": "The first thing you should do is to \"pin\" the version of **FastAPI** you are using to the specific latest version that you know works correctly for your application.\n\nFor example, let's say you are using version `0.112.0` in your app.\n\nIf you use a `requirements.txt` file you could specify the version with:\n\n```txt\nfastapi[standard]==0.112.0\n```\n\nthat would mean that you would use exactly the version `0.112.0`.\n\nOr you could also pin it with:\n\n```txt\nfastapi[standard]>=0.112.0,<0.113.0\n```\n\nthat would mean that you would use the versions `0.112.0` or above, but less than `0.113.0`, for example, a version `0.112.2` would still be accepted.\n\nIf you use any other tool to manage your installations, like `uv`, Poetry, Pipenv, or others, they all have a way that you can use to define specific versions for your packages.", "source": "deployment\\versions.md"}
{"doc_id": "fastapi_1213", "title": "About FastAPI versions { #about-fastapi-versions }", "section": "Available versions { #available-versions }", "content": "You can see the available versions (e.g. to check what is the current latest) in the [Release Notes](../release-notes.md){.internal-link target=_blank}.", "source": "deployment\\versions.md"}
{"doc_id": "fastapi_1214", "title": "About FastAPI versions { #about-fastapi-versions }", "section": "About versions { #about-versions }", "content": "Following the Semantic Versioning conventions, any version below `1.0.0` could potentially add breaking changes.\n\nFastAPI also follows the convention that any \"PATCH\" version change is for bug fixes and non-breaking changes.\n\n/// tip\n\nThe \"PATCH\" is the last number, for example, in `0.2.3`, the PATCH version is `3`.\n\n///\n\nSo, you should be able to pin to a version like:\n\n```txt\nfastapi>=0.45.0,<0.46.0\n```\n\nBreaking changes and new features are added in \"MINOR\" versions.\n\n/// tip\n\nThe \"MINOR\" is the number in the middle, for example, in `0.2.3`, the MINOR version is `2`.\n\n///", "source": "deployment\\versions.md"}
{"doc_id": "fastapi_1215", "title": "About FastAPI versions { #about-fastapi-versions }", "section": "Upgrading the FastAPI versions { #upgrading-the-fastapi-versions }", "content": "You should add tests for your app.\n\nWith **FastAPI** it's very easy (thanks to Starlette), check the docs: [Testing](../tutorial/testing.md){.internal-link target=_blank}\n\nAfter you have tests, then you can upgrade the **FastAPI** version to a more recent one, and make sure that all your code is working correctly by running your tests.\n\nIf everything is working, or after you make the necessary changes, and all your tests are passing, then you can pin your `fastapi` to that new recent version.", "source": "deployment\\versions.md"}
{"doc_id": "fastapi_1216", "title": "About FastAPI versions { #about-fastapi-versions }", "section": "About Starlette { #about-starlette }", "content": "You shouldn't pin the version of `starlette`.\n\nDifferent versions of **FastAPI** will use a specific newer version of Starlette.\n\nSo, you can just let **FastAPI** use the correct Starlette version.", "source": "deployment\\versions.md"}
{"doc_id": "fastapi_1217", "title": "About FastAPI versions { #about-fastapi-versions }", "section": "About Pydantic { #about-pydantic }", "content": "Pydantic includes the tests for **FastAPI** with its own tests, so new versions of Pydantic (above `1.0.0`) are always compatible with FastAPI.\n\nYou can pin Pydantic to any version above `1.0.0` that works for you.\n\nFor example:\n\n```txt\npydantic>=2.7.0,<3.0.0\n```", "source": "deployment\\versions.md"}
{"doc_id": "fastapi_1218", "title": "Use Old 403 Authentication Error Status Codes { #use-old-403-authentication-error-status-codes }", "section": "Use Old 403 Authentication Error Status Codes { #use-old-403-authentication-error-status-codes }", "content": "Before FastAPI version `0.122.0`, when the integrated security utilities returned an error to the client after a failed authentication, they used the HTTP status code `403 Forbidden`.\n\nStarting with FastAPI version `0.122.0`, they use the more appropriate HTTP status code `401 Unauthorized`, and return a sensible `WWW-Authenticate` header in the response, following the HTTP specifications, <a href=\"https://datatracker.ietf.org/doc/html/rfc7235#section-3.1\" class=\"external-link\" target=\"_blank\">RFC 7235</a>, <a href=\"https://datatracker.ietf.org/doc/html/rfc9110#name-401-unauthorized\" class=\"external-link\" target=\"_blank\">RFC 9110</a>.\n\nBut if for some reason your clients depend on the old behavior, you can revert to it by overriding the method `make_not_authenticated_error` in your security classes.\n\nFor example, you can create a subclass of `HTTPBearer` that returns a `403 Forbidden` error instead of the default `401 Unauthorized` error:\n\n{* ../../docs_src/authentication_error_status_code/tutorial001_an_py39.py hl[9:13] *}\n\n/// tip\n\nNotice that the function returns the exception instance, it doesn't raise it. The raising is done in the rest of the internal code.\n\n///", "source": "how-to\\authentication-error-status-code.md"}
{"doc_id": "fastapi_1219", "title": "Conditional OpenAPI { #conditional-openapi }", "section": "Conditional OpenAPI { #conditional-openapi }", "content": "If you needed to, you could use settings and environment variables to configure OpenAPI conditionally depending on the environment, and even disable it entirely.", "source": "how-to\\conditional-openapi.md"}
{"doc_id": "fastapi_1220", "title": "Conditional OpenAPI { #conditional-openapi }", "section": "About security, APIs, and docs { #about-security-apis-and-docs }", "content": "Hiding your documentation user interfaces in production *shouldn't* be the way to protect your API.\n\nThat doesn't add any extra security to your API, the *path operations* will still be available where they are.\n\nIf there's a security flaw in your code, it will still exist.\n\nHiding the documentation just makes it more difficult to understand how to interact with your API, and could make it more difficult for you to debug it in production. It could be considered simply a form of <a href=\"https://en.wikipedia.org/wiki/Security_through_obscurity\" class=\"external-link\" target=\"_blank\">Security through obscurity</a>.\n\nIf you want to secure your API, there are several better things you can do, for example:\n\n* Make sure you have well defined Pydantic models for your request bodies and responses.\n* Configure any required permissions and roles using dependencies.\n* Never store plaintext passwords, only password hashes.\n* Implement and use well-known cryptographic tools, like pwdlib and JWT tokens, etc.\n* Add more granular permission controls with OAuth2 scopes where needed.\n* ...etc.\n\nNevertheless, you might have a very specific use case where you really need to disable the API docs for some environment (e.g. for production) or depending on configurations from environment variables.", "source": "how-to\\conditional-openapi.md"}
{"doc_id": "fastapi_1221", "title": "Conditional OpenAPI { #conditional-openapi }", "section": "Conditional OpenAPI from settings and env vars { #conditional-openapi-from-settings-and-env-vars }", "content": "You can easily use the same Pydantic settings to configure your generated OpenAPI and the docs UIs.\n\nFor example:\n\n{* ../../docs_src/conditional_openapi/tutorial001.py hl[6,11] *}\n\nHere we declare the setting `openapi_url` with the same default of `\"/openapi.json\"`.\n\nAnd then we use it when creating the `FastAPI` app.\n\nThen you could disable OpenAPI (including the UI docs) by setting the environment variable `OPENAPI_URL` to the empty string, like:\n\n<div class=\"termy\">\n\n```console\n$ OPENAPI_URL= uvicorn main:app\n\n<span style=\"color: green;\">INFO</span>:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)\n```\n\n</div>\n\nThen if you go to the URLs at `/openapi.json`, `/docs`, or `/redoc` you will just get a `404 Not Found` error like:\n\n```JSON\n{\n    \"detail\": \"Not Found\"\n}\n```", "source": "how-to\\conditional-openapi.md"}
{"doc_id": "fastapi_1222", "title": "Configure Swagger UI { #configure-swagger-ui }", "section": "Configure Swagger UI { #configure-swagger-ui }", "content": "You can configure some extra <a href=\"https://swagger.io/docs/open-source-tools/swagger-ui/usage/configuration/\" class=\"external-link\" target=\"_blank\">Swagger UI parameters</a>.\n\nTo configure them, pass the `swagger_ui_parameters` argument when creating the `FastAPI()` app object or to the `get_swagger_ui_html()` function.\n\n`swagger_ui_parameters` receives a dictionary with the configurations passed to Swagger UI directly.\n\nFastAPI converts the configurations to **JSON** to make them compatible with JavaScript, as that's what Swagger UI needs.", "source": "how-to\\configure-swagger-ui.md"}
{"doc_id": "fastapi_1223", "title": "Configure Swagger UI { #configure-swagger-ui }", "section": "Disable Syntax Highlighting { #disable-syntax-highlighting }", "content": "For example, you could disable syntax highlighting in Swagger UI.\n\nWithout changing the settings, syntax highlighting is enabled by default:\n\n<img src=\"/img/tutorial/extending-openapi/image02.png\">\n\nBut you can disable it by setting `syntaxHighlight` to `False`:\n\n{* ../../docs_src/configure_swagger_ui/tutorial001.py hl[3] *}\n\n...and then Swagger UI won't show the syntax highlighting anymore:\n\n<img src=\"/img/tutorial/extending-openapi/image03.png\">", "source": "how-to\\configure-swagger-ui.md"}
{"doc_id": "fastapi_1224", "title": "Configure Swagger UI { #configure-swagger-ui }", "section": "Change the Theme { #change-the-theme }", "content": "The same way you could set the syntax highlighting theme with the key `\"syntaxHighlight.theme\"` (notice that it has a dot in the middle):\n\n{* ../../docs_src/configure_swagger_ui/tutorial002.py hl[3] *}\n\nThat configuration would change the syntax highlighting color theme:\n\n<img src=\"/img/tutorial/extending-openapi/image04.png\">", "source": "how-to\\configure-swagger-ui.md"}
{"doc_id": "fastapi_1225", "title": "Configure Swagger UI { #configure-swagger-ui }", "section": "Change Default Swagger UI Parameters { #change-default-swagger-ui-parameters }", "content": "FastAPI includes some default configuration parameters appropriate for most of the use cases.\n\nIt includes these default configurations:\n\n{* ../../fastapi/openapi/docs.py ln[8:23] hl[17:23] *}\n\nYou can override any of them by setting a different value in the argument `swagger_ui_parameters`.\n\nFor example, to disable `deepLinking` you could pass these settings to `swagger_ui_parameters`:\n\n{* ../../docs_src/configure_swagger_ui/tutorial003.py hl[3] *}", "source": "how-to\\configure-swagger-ui.md"}
{"doc_id": "fastapi_1226", "title": "Configure Swagger UI { #configure-swagger-ui }", "section": "Other Swagger UI Parameters { #other-swagger-ui-parameters }", "content": "To see all the other possible configurations you can use, read the official <a href=\"https://swagger.io/docs/open-source-tools/swagger-ui/usage/configuration/\" class=\"external-link\" target=\"_blank\">docs for Swagger UI parameters</a>.", "source": "how-to\\configure-swagger-ui.md"}
{"doc_id": "fastapi_1227", "title": "Configure Swagger UI { #configure-swagger-ui }", "section": "JavaScript-only settings { #javascript-only-settings }", "content": "Swagger UI also allows other configurations to be **JavaScript-only** objects (for example, JavaScript functions).\n\nFastAPI also includes these JavaScript-only `presets` settings:\n\n```JavaScript\npresets: [\n    SwaggerUIBundle.presets.apis,\n    SwaggerUIBundle.SwaggerUIStandalonePreset\n]\n```\n\nThese are **JavaScript** objects, not strings, so you can't pass them from Python code directly.\n\nIf you need to use JavaScript-only configurations like those, you can use one of the methods above. Override all the Swagger UI *path operation* and manually write any JavaScript you need.", "source": "how-to\\configure-swagger-ui.md"}
{"doc_id": "fastapi_1228", "title": "Custom Docs UI Static Assets (Self-Hosting) { #custom-docs-ui-static-assets-self-hosting }", "section": "Custom Docs UI Static Assets (Self-Hosting) { #custom-docs-ui-static-assets-self-hosting }", "content": "The API docs use **Swagger UI** and **ReDoc**, and each of those need some JavaScript and CSS files.\n\nBy default, those files are served from a <abbr title=\"Content Delivery Network: A service, normally composed of several servers, that provides static files, like JavaScript and CSS. It's commonly used to serve those files from the server closer to the client, improving performance.\">CDN</abbr>.\n\nBut it's possible to customize it, you can set a specific CDN, or serve the files yourself.", "source": "how-to\\custom-docs-ui-assets.md"}
{"doc_id": "fastapi_1229", "title": "Custom Docs UI Static Assets (Self-Hosting) { #custom-docs-ui-static-assets-self-hosting }", "section": "Custom CDN for JavaScript and CSS { #custom-cdn-for-javascript-and-css }", "content": "Let's say that you want to use a different <abbr title=\"Content Delivery Network\">CDN</abbr>, for example you want to use `https://unpkg.com/`.\n\nThis could be useful if for example you live in a country that restricts some URLs.", "source": "how-to\\custom-docs-ui-assets.md"}
{"doc_id": "fastapi_1230", "title": "Custom Docs UI Static Assets (Self-Hosting) { #custom-docs-ui-static-assets-self-hosting }", "section": "Disable the automatic docs { #disable-the-automatic-docs }", "content": "The first step is to disable the automatic docs, as by default, those use the default CDN.\n\nTo disable them, set their URLs to `None` when creating your `FastAPI` app:\n\n{* ../../docs_src/custom_docs_ui/tutorial001.py hl[8] *}", "source": "how-to\\custom-docs-ui-assets.md"}
{"doc_id": "fastapi_1231", "title": "Custom Docs UI Static Assets (Self-Hosting) { #custom-docs-ui-static-assets-self-hosting }", "section": "Include the custom docs { #include-the-custom-docs }", "content": "Now you can create the *path operations* for the custom docs.\n\nYou can reuse FastAPI's internal functions to create the HTML pages for the docs, and pass them the needed arguments:\n\n* `openapi_url`: the URL where the HTML page for the docs can get the OpenAPI schema for your API. You can use here the attribute `app.openapi_url`.\n* `title`: the title of your API.\n* `oauth2_redirect_url`: you can use `app.swagger_ui_oauth2_redirect_url` here to use the default.\n* `swagger_js_url`: the URL where the HTML for your Swagger UI docs can get the **JavaScript** file. This is the custom CDN URL.\n* `swagger_css_url`: the URL where the HTML for your Swagger UI docs can get the **CSS** file. This is the custom CDN URL.\n\nAnd similarly for ReDoc...\n\n{* ../../docs_src/custom_docs_ui/tutorial001.py hl[2:6,11:19,22:24,27:33] *}\n\n/// tip\n\nThe *path operation* for `swagger_ui_redirect` is a helper for when you use OAuth2.\n\nIf you integrate your API with an OAuth2 provider, you will be able to authenticate and come back to the API docs with the acquired credentials. And interact with it using the real OAuth2 authentication.\n\nSwagger UI will handle it behind the scenes for you, but it needs this \"redirect\" helper.\n\n///", "source": "how-to\\custom-docs-ui-assets.md"}
{"doc_id": "fastapi_1232", "title": "Custom Docs UI Static Assets (Self-Hosting) { #custom-docs-ui-static-assets-self-hosting }", "section": "Create a *path operation* to test it { #create-a-path-operation-to-test-it }", "content": "Now, to be able to test that everything works, create a *path operation*:\n\n{* ../../docs_src/custom_docs_ui/tutorial001.py hl[36:38] *}", "source": "how-to\\custom-docs-ui-assets.md"}
{"doc_id": "fastapi_1233", "title": "Custom Docs UI Static Assets (Self-Hosting) { #custom-docs-ui-static-assets-self-hosting }", "section": "Test it { #test-it }", "content": "Now, you should be able to go to your docs at <a href=\"http://127.0.0.1:8000/docs\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/docs</a>, and reload the page, it will load those assets from the new CDN.", "source": "how-to\\custom-docs-ui-assets.md"}
{"doc_id": "fastapi_1234", "title": "Custom Docs UI Static Assets (Self-Hosting) { #custom-docs-ui-static-assets-self-hosting }", "section": "Self-hosting JavaScript and CSS for docs { #self-hosting-javascript-and-css-for-docs }", "content": "Self-hosting the JavaScript and CSS could be useful if, for example, you need your app to keep working even while offline, without open Internet access, or in a local network.\n\nHere you'll see how to serve those files yourself, in the same FastAPI app, and configure the docs to use them.", "source": "how-to\\custom-docs-ui-assets.md"}
{"doc_id": "fastapi_1235", "title": "Custom Docs UI Static Assets (Self-Hosting) { #custom-docs-ui-static-assets-self-hosting }", "section": "Project file structure { #project-file-structure }", "content": "Let's say your project file structure looks like this:\n\n```\n.\n‚îú‚îÄ‚îÄ app\n‚îÇ   ‚îú‚îÄ‚îÄ __init__.py\n‚îÇ   ‚îú‚îÄ‚îÄ main.py\n```\n\nNow create a directory to store those static files.\n\nYour new file structure could look like this:\n\n```\n.\n‚îú‚îÄ‚îÄ app\n‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __init__.py\n‚îÇ¬†¬† ‚îú‚îÄ‚îÄ main.py\n‚îî‚îÄ‚îÄ static/\n```", "source": "how-to\\custom-docs-ui-assets.md"}
{"doc_id": "fastapi_1236", "title": "Custom Docs UI Static Assets (Self-Hosting) { #custom-docs-ui-static-assets-self-hosting }", "section": "Download the files { #download-the-files }", "content": "Download the static files needed for the docs and put them on that `static/` directory.\n\nYou can probably right-click each link and select an option similar to \"Save link as...\".\n\n**Swagger UI** uses the files:\n\n* <a href=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui-bundle.js\" class=\"external-link\" target=\"_blank\">`swagger-ui-bundle.js`</a>\n* <a href=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui.css\" class=\"external-link\" target=\"_blank\">`swagger-ui.css`</a>\n\nAnd **ReDoc** uses the file:\n\n* <a href=\"https://cdn.jsdelivr.net/npm/redoc@2/bundles/redoc.standalone.js\" class=\"external-link\" target=\"_blank\">`redoc.standalone.js`</a>\n\nAfter that, your file structure could look like:\n\n```\n.\n‚îú‚îÄ‚îÄ app\n‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __init__.py\n‚îÇ¬†¬† ‚îú‚îÄ‚îÄ main.py\n‚îî‚îÄ‚îÄ static\n    ‚îú‚îÄ‚îÄ redoc.standalone.js\n    ‚îú‚îÄ‚îÄ swagger-ui-bundle.js\n    ‚îî‚îÄ‚îÄ swagger-ui.css\n```", "source": "how-to\\custom-docs-ui-assets.md"}
{"doc_id": "fastapi_1237", "title": "Custom Docs UI Static Assets (Self-Hosting) { #custom-docs-ui-static-assets-self-hosting }", "section": "Serve the static files { #serve-the-static-files }", "content": "* Import `StaticFiles`.\n* \"Mount\" a `StaticFiles()` instance in a specific path.\n\n{* ../../docs_src/custom_docs_ui/tutorial002.py hl[7,11] *}", "source": "how-to\\custom-docs-ui-assets.md"}
{"doc_id": "fastapi_1238", "title": "Custom Docs UI Static Assets (Self-Hosting) { #custom-docs-ui-static-assets-self-hosting }", "section": "Test the static files { #test-the-static-files }", "content": "Start your application and go to <a href=\"http://127.0.0.1:8000/static/redoc.standalone.js\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/static/redoc.standalone.js</a>.\n\nYou should see a very long JavaScript file for **ReDoc**.\n\nIt could start with something like:\n\n```JavaScript\n/*! For license information please see redoc.standalone.js.LICENSE.txt */\n!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"null\")):\n...\n```\n\nThat confirms that you are being able to serve static files from your app, and that you placed the static files for the docs in the correct place.\n\nNow we can configure the app to use those static files for the docs.", "source": "how-to\\custom-docs-ui-assets.md"}
{"doc_id": "fastapi_1239", "title": "Custom Docs UI Static Assets (Self-Hosting) { #custom-docs-ui-static-assets-self-hosting }", "section": "Disable the automatic docs for static files { #disable-the-automatic-docs-for-static-files }", "content": "The same as when using a custom CDN, the first step is to disable the automatic docs, as those use the CDN by default.\n\nTo disable them, set their URLs to `None` when creating your `FastAPI` app:\n\n{* ../../docs_src/custom_docs_ui/tutorial002.py hl[9] *}", "source": "how-to\\custom-docs-ui-assets.md"}
{"doc_id": "fastapi_1240", "title": "Custom Docs UI Static Assets (Self-Hosting) { #custom-docs-ui-static-assets-self-hosting }", "section": "Include the custom docs for static files { #include-the-custom-docs-for-static-files }", "content": "And the same way as with a custom CDN, now you can create the *path operations* for the custom docs.\n\nAgain, you can reuse FastAPI's internal functions to create the HTML pages for the docs, and pass them the needed arguments:\n\n* `openapi_url`: the URL where the HTML page for the docs can get the OpenAPI schema for your API. You can use here the attribute `app.openapi_url`.\n* `title`: the title of your API.\n* `oauth2_redirect_url`: you can use `app.swagger_ui_oauth2_redirect_url` here to use the default.\n* `swagger_js_url`: the URL where the HTML for your Swagger UI docs can get the **JavaScript** file. **This is the one that your own app is now serving**.\n* `swagger_css_url`: the URL where the HTML for your Swagger UI docs can get the **CSS** file. **This is the one that your own app is now serving**.\n\nAnd similarly for ReDoc...\n\n{* ../../docs_src/custom_docs_ui/tutorial002.py hl[2:6,14:22,25:27,30:36] *}\n\n/// tip\n\nThe *path operation* for `swagger_ui_redirect` is a helper for when you use OAuth2.\n\nIf you integrate your API with an OAuth2 provider, you will be able to authenticate and come back to the API docs with the acquired credentials. And interact with it using the real OAuth2 authentication.\n\nSwagger UI will handle it behind the scenes for you, but it needs this \"redirect\" helper.\n\n///", "source": "how-to\\custom-docs-ui-assets.md"}
{"doc_id": "fastapi_1241", "title": "Custom Docs UI Static Assets (Self-Hosting) { #custom-docs-ui-static-assets-self-hosting }", "section": "Create a *path operation* to test static files { #create-a-path-operation-to-test-static-files }", "content": "Now, to be able to test that everything works, create a *path operation*:\n\n{* ../../docs_src/custom_docs_ui/tutorial002.py hl[39:41] *}", "source": "how-to\\custom-docs-ui-assets.md"}
{"doc_id": "fastapi_1242", "title": "Custom Docs UI Static Assets (Self-Hosting) { #custom-docs-ui-static-assets-self-hosting }", "section": "Test Static Files UI { #test-static-files-ui }", "content": "Now, you should be able to disconnect your WiFi, go to your docs at <a href=\"http://127.0.0.1:8000/docs\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/docs</a>, and reload the page.\n\nAnd even without Internet, you would be able to see the docs for your API and interact with it.", "source": "how-to\\custom-docs-ui-assets.md"}
{"doc_id": "fastapi_1243", "title": "Custom Request and APIRoute class { #custom-request-and-apiroute-class }", "section": "Custom Request and APIRoute class { #custom-request-and-apiroute-class }", "content": "In some cases, you may want to override the logic used by the `Request` and `APIRoute` classes.\n\nIn particular, this may be a good alternative to logic in a middleware.\n\nFor example, if you want to read or manipulate the request body before it is processed by your application.\n\n/// danger\n\nThis is an \"advanced\" feature.\n\nIf you are just starting with **FastAPI** you might want to skip this section.\n\n///", "source": "how-to\\custom-request-and-route.md"}
{"doc_id": "fastapi_1244", "title": "Custom Request and APIRoute class { #custom-request-and-apiroute-class }", "section": "Use cases { #use-cases }", "content": "Some use cases include:\n\n* Converting non-JSON request bodies to JSON (e.g. <a href=\"https://msgpack.org/index.html\" class=\"external-link\" target=\"_blank\">`msgpack`</a>).\n* Decompressing gzip-compressed request bodies.\n* Automatically logging all request bodies.", "source": "how-to\\custom-request-and-route.md"}
{"doc_id": "fastapi_1245", "title": "Custom Request and APIRoute class { #custom-request-and-apiroute-class }", "section": "Handling custom request body encodings { #handling-custom-request-body-encodings }", "content": "Let's see how to make use of a custom `Request` subclass to decompress gzip requests.\n\nAnd an `APIRoute` subclass to use that custom request class.", "source": "how-to\\custom-request-and-route.md"}
{"doc_id": "fastapi_1246", "title": "Custom Request and APIRoute class { #custom-request-and-apiroute-class }", "section": "Create a custom `GzipRequest` class { #create-a-custom-gziprequest-class }", "content": "/// tip\n\nThis is a toy example to demonstrate how it works, if you need Gzip support, you can use the provided [`GzipMiddleware`](../advanced/middleware.md#gzipmiddleware){.internal-link target=_blank}.\n\n///\n\nFirst, we create a `GzipRequest` class, which will overwrite the `Request.body()` method to decompress the body in the presence of an appropriate header.\n\nIf there's no `gzip` in the header, it will not try to decompress the body.\n\nThat way, the same route class can handle gzip compressed or uncompressed requests.\n\n{* ../../docs_src/custom_request_and_route/tutorial001.py hl[8:15] *}", "source": "how-to\\custom-request-and-route.md"}
{"doc_id": "fastapi_1247", "title": "Custom Request and APIRoute class { #custom-request-and-apiroute-class }", "section": "Create a custom `GzipRoute` class { #create-a-custom-gziproute-class }", "content": "Next, we create a custom subclass of `fastapi.routing.APIRoute` that will make use of the `GzipRequest`.\n\nThis time, it will overwrite the method `APIRoute.get_route_handler()`.\n\nThis method returns a function. And that function is what will receive a request and return a response.\n\nHere we use it to create a `GzipRequest` from the original request.\n\n{* ../../docs_src/custom_request_and_route/tutorial001.py hl[18:26] *}\n\n/// note | Technical Details\n\nA `Request` has a `request.scope` attribute, that's just a Python `dict` containing the metadata related to the request.\n\nA `Request` also has a `request.receive`, that's a function to \"receive\" the body of the request.\n\nThe `scope` `dict` and `receive` function are both part of the ASGI specification.\n\nAnd those two things, `scope` and `receive`, are what is needed to create a new `Request` instance.\n\nTo learn more about the `Request` check <a href=\"https://www.starlette.dev/requests/\" class=\"external-link\" target=\"_blank\">Starlette's docs about Requests</a>.\n\n///\n\nThe only thing the function returned by `GzipRequest.get_route_handler` does differently is convert the `Request` to a `GzipRequest`.\n\nDoing this, our `GzipRequest` will take care of decompressing the data (if necessary) before passing it to our *path operations*.\n\nAfter that, all of the processing logic is the same.\n\nBut because of our changes in `GzipRequest.body`, the request body will be automatically decompressed when it is loaded by **FastAPI** when needed.", "source": "how-to\\custom-request-and-route.md"}
{"doc_id": "fastapi_1248", "title": "Custom Request and APIRoute class { #custom-request-and-apiroute-class }", "section": "Accessing the request body in an exception handler { #accessing-the-request-body-in-an-exception-handler }", "content": "/// tip\n\nTo solve this same problem, it's probably a lot easier to use the `body` in a custom handler for `RequestValidationError` ([Handling Errors](../tutorial/handling-errors.md#use-the-requestvalidationerror-body){.internal-link target=_blank}).\n\nBut this example is still valid and it shows how to interact with the internal components.\n\n///\n\nWe can also use this same approach to access the request body in an exception handler.\n\nAll we need to do is handle the request inside a `try`/`except` block:\n\n{* ../../docs_src/custom_request_and_route/tutorial002.py hl[13,15] *}\n\nIf an exception occurs, the`Request` instance will still be in scope, so we can read and make use of the request body when handling the error:\n\n{* ../../docs_src/custom_request_and_route/tutorial002.py hl[16:18] *}", "source": "how-to\\custom-request-and-route.md"}
{"doc_id": "fastapi_1249", "title": "Custom Request and APIRoute class { #custom-request-and-apiroute-class }", "section": "Custom `APIRoute` class in a router { #custom-apiroute-class-in-a-router }", "content": "You can also set the `route_class` parameter of an `APIRouter`:\n\n{* ../../docs_src/custom_request_and_route/tutorial003.py hl[26] *}\n\nIn this example, the *path operations* under the `router` will use the custom `TimedRoute` class, and will have an extra `X-Response-Time` header in the response with the time it took to generate the response:\n\n{* ../../docs_src/custom_request_and_route/tutorial003.py hl[13:20] *}", "source": "how-to\\custom-request-and-route.md"}
{"doc_id": "fastapi_1250", "title": "Extending OpenAPI { #extending-openapi }", "section": "Extending OpenAPI { #extending-openapi }", "content": "There are some cases where you might need to modify the generated OpenAPI schema.\n\nIn this section you will see how.", "source": "how-to\\extending-openapi.md"}
{"doc_id": "fastapi_1251", "title": "Extending OpenAPI { #extending-openapi }", "section": "The normal process { #the-normal-process }", "content": "The normal (default) process, is as follows.\n\nA `FastAPI` application (instance) has an `.openapi()` method that is expected to return the OpenAPI schema.\n\nAs part of the application object creation, a *path operation* for `/openapi.json` (or for whatever you set your `openapi_url`) is registered.\n\nIt just returns a JSON response with the result of the application's `.openapi()` method.\n\nBy default, what the method `.openapi()` does is check the property `.openapi_schema` to see if it has contents and return them.\n\nIf it doesn't, it generates them using the utility function at `fastapi.openapi.utils.get_openapi`.\n\nAnd that function `get_openapi()` receives as parameters:\n\n* `title`: The OpenAPI title, shown in the docs.\n* `version`: The version of your API, e.g. `2.5.0`.\n* `openapi_version`: The version of the OpenAPI specification used. By default, the latest: `3.1.0`.\n* `summary`: A short summary of the API.\n* `description`: The description of your API, this can include markdown and will be shown in the docs.\n* `routes`: A list of routes, these are each of the registered *path operations*. They are taken from `app.routes`.\n\n/// info\n\nThe parameter `summary` is available in OpenAPI 3.1.0 and above, supported by FastAPI 0.99.0 and above.\n\n///", "source": "how-to\\extending-openapi.md"}
{"doc_id": "fastapi_1252", "title": "Extending OpenAPI { #extending-openapi }", "section": "Overriding the defaults { #overriding-the-defaults }", "content": "Using the information above, you can use the same utility function to generate the OpenAPI schema and override each part that you need.\n\nFor example, let's add <a href=\"https://github.com/Rebilly/ReDoc/blob/master/docs/redoc-vendor-extensions.md#x-logo\" class=\"external-link\" target=\"_blank\">ReDoc's OpenAPI extension to include a custom logo</a>.", "source": "how-to\\extending-openapi.md"}
{"doc_id": "fastapi_1253", "title": "Extending OpenAPI { #extending-openapi }", "section": "Normal **FastAPI** { #normal-fastapi }", "content": "First, write all your **FastAPI** application as normally:\n\n{* ../../docs_src/extending_openapi/tutorial001.py hl[1,4,7:9] *}", "source": "how-to\\extending-openapi.md"}
{"doc_id": "fastapi_1254", "title": "Extending OpenAPI { #extending-openapi }", "section": "Generate the OpenAPI schema { #generate-the-openapi-schema }", "content": "Then, use the same utility function to generate the OpenAPI schema, inside a `custom_openapi()` function:\n\n{* ../../docs_src/extending_openapi/tutorial001.py hl[2,15:21] *}", "source": "how-to\\extending-openapi.md"}
{"doc_id": "fastapi_1255", "title": "Extending OpenAPI { #extending-openapi }", "section": "Modify the OpenAPI schema { #modify-the-openapi-schema }", "content": "Now you can add the ReDoc extension, adding a custom `x-logo` to the `info` \"object\" in the OpenAPI schema:\n\n{* ../../docs_src/extending_openapi/tutorial001.py hl[22:24] *}", "source": "how-to\\extending-openapi.md"}
{"doc_id": "fastapi_1256", "title": "Extending OpenAPI { #extending-openapi }", "section": "Cache the OpenAPI schema { #cache-the-openapi-schema }", "content": "You can use the property `.openapi_schema` as a \"cache\", to store your generated schema.\n\nThat way, your application won't have to generate the schema every time a user opens your API docs.\n\nIt will be generated only once, and then the same cached schema will be used for the next requests.\n\n{* ../../docs_src/extending_openapi/tutorial001.py hl[13:14,25:26] *}", "source": "how-to\\extending-openapi.md"}
{"doc_id": "fastapi_1257", "title": "Extending OpenAPI { #extending-openapi }", "section": "Override the method { #override-the-method }", "content": "Now you can replace the `.openapi()` method with your new function.\n\n{* ../../docs_src/extending_openapi/tutorial001.py hl[29] *}", "source": "how-to\\extending-openapi.md"}
{"doc_id": "fastapi_1258", "title": "Extending OpenAPI { #extending-openapi }", "section": "Check it { #check-it }", "content": "Once you go to <a href=\"http://127.0.0.1:8000/redoc\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/redoc</a> you will see that you are using your custom logo (in this example, **FastAPI**'s logo):\n\n<img src=\"/img/tutorial/extending-openapi/image01.png\">", "source": "how-to\\extending-openapi.md"}
{"doc_id": "fastapi_1259", "title": "General - How To - Recipes { #general-how-to-recipes }", "section": "General - How To - Recipes { #general-how-to-recipes }", "content": "Here are several pointers to other places in the docs, for general or frequent questions.", "source": "how-to\\general.md"}
{"doc_id": "fastapi_1260", "title": "General - How To - Recipes { #general-how-to-recipes }", "section": "Filter Data - Security { #filter-data-security }", "content": "To ensure that you don't return more data than you should, read the docs for [Tutorial - Response Model - Return Type](../tutorial/response-model.md){.internal-link target=_blank}.", "source": "how-to\\general.md"}
{"doc_id": "fastapi_1261", "title": "General - How To - Recipes { #general-how-to-recipes }", "section": "Documentation Tags - OpenAPI { #documentation-tags-openapi }", "content": "To add tags to your *path operations*, and group them in the docs UI, read the docs for [Tutorial - Path Operation Configurations - Tags](../tutorial/path-operation-configuration.md#tags){.internal-link target=_blank}.", "source": "how-to\\general.md"}
{"doc_id": "fastapi_1262", "title": "General - How To - Recipes { #general-how-to-recipes }", "section": "Documentation Summary and Description - OpenAPI { #documentation-summary-and-description-openapi }", "content": "To add a summary and description to your *path operations*, and show them in the docs UI, read the docs for [Tutorial - Path Operation Configurations - Summary and Description](../tutorial/path-operation-configuration.md#summary-and-description){.internal-link target=_blank}.", "source": "how-to\\general.md"}
{"doc_id": "fastapi_1263", "title": "General - How To - Recipes { #general-how-to-recipes }", "section": "Documentation Response description - OpenAPI { #documentation-response-description-openapi }", "content": "To define the description of the response, shown in the docs UI, read the docs for [Tutorial - Path Operation Configurations - Response description](../tutorial/path-operation-configuration.md#response-description){.internal-link target=_blank}.", "source": "how-to\\general.md"}
{"doc_id": "fastapi_1264", "title": "General - How To - Recipes { #general-how-to-recipes }", "section": "Documentation Deprecate a *Path Operation* - OpenAPI { #documentation-deprecate-a-path-operation-openapi }", "content": "To deprecate a *path operation*, and show it in the docs UI, read the docs for [Tutorial - Path Operation Configurations - Deprecation](../tutorial/path-operation-configuration.md#deprecate-a-path-operation){.internal-link target=_blank}.", "source": "how-to\\general.md"}
{"doc_id": "fastapi_1265", "title": "General - How To - Recipes { #general-how-to-recipes }", "section": "Convert any Data to JSON-compatible { #convert-any-data-to-json-compatible }", "content": "To convert any data to JSON-compatible, read the docs for [Tutorial - JSON Compatible Encoder](../tutorial/encoder.md){.internal-link target=_blank}.", "source": "how-to\\general.md"}
{"doc_id": "fastapi_1266", "title": "General - How To - Recipes { #general-how-to-recipes }", "section": "OpenAPI Metadata - Docs { #openapi-metadata-docs }", "content": "To add metadata to your OpenAPI schema, including a license, version, contact, etc, read the docs for [Tutorial - Metadata and Docs URLs](../tutorial/metadata.md){.internal-link target=_blank}.", "source": "how-to\\general.md"}
{"doc_id": "fastapi_1267", "title": "General - How To - Recipes { #general-how-to-recipes }", "section": "OpenAPI Custom URL { #openapi-custom-url }", "content": "To customize the OpenAPI URL (or remove it), read the docs for [Tutorial - Metadata and Docs URLs](../tutorial/metadata.md#openapi-url){.internal-link target=_blank}.", "source": "how-to\\general.md"}
{"doc_id": "fastapi_1268", "title": "General - How To - Recipes { #general-how-to-recipes }", "section": "OpenAPI Docs URLs { #openapi-docs-urls }", "content": "To update the URLs used for the automatically generated docs user interfaces, read the docs for [Tutorial - Metadata and Docs URLs](../tutorial/metadata.md#docs-urls){.internal-link target=_blank}.", "source": "how-to\\general.md"}
{"doc_id": "fastapi_1269", "title": "GraphQL { #graphql }", "section": "GraphQL { #graphql }", "content": "As **FastAPI** is based on the **ASGI** standard, it's very easy to integrate any **GraphQL** library also compatible with ASGI.\n\nYou can combine normal FastAPI *path operations* with GraphQL on the same application.\n\n/// tip\n\n**GraphQL** solves some very specific use cases.\n\nIt has **advantages** and **disadvantages** when compared to common **web APIs**.\n\nMake sure you evaluate if the **benefits** for your use case compensate the **drawbacks**. ü§ì\n\n///", "source": "how-to\\graphql.md"}
{"doc_id": "fastapi_1270", "title": "GraphQL { #graphql }", "section": "GraphQL Libraries { #graphql-libraries }", "content": "Here are some of the **GraphQL** libraries that have **ASGI** support. You could use them with **FastAPI**:\n\n* <a href=\"https://strawberry.rocks/\" class=\"external-link\" target=\"_blank\">Strawberry</a> üçì\n    * With <a href=\"https://strawberry.rocks/docs/integrations/fastapi\" class=\"external-link\" target=\"_blank\">docs for FastAPI</a>\n* <a href=\"https://ariadnegraphql.org/\" class=\"external-link\" target=\"_blank\">Ariadne</a>\n    * With <a href=\"https://ariadnegraphql.org/docs/fastapi-integration\" class=\"external-link\" target=\"_blank\">docs for FastAPI</a>\n* <a href=\"https://tartiflette.io/\" class=\"external-link\" target=\"_blank\">Tartiflette</a>\n    * With <a href=\"https://tartiflette.github.io/tartiflette-asgi/\" class=\"external-link\" target=\"_blank\">Tartiflette ASGI</a> to provide ASGI integration\n* <a href=\"https://graphene-python.org/\" class=\"external-link\" target=\"_blank\">Graphene</a>\n    * With <a href=\"https://github.com/ciscorn/starlette-graphene3\" class=\"external-link\" target=\"_blank\">starlette-graphene3</a>", "source": "how-to\\graphql.md"}
{"doc_id": "fastapi_1271", "title": "GraphQL { #graphql }", "section": "GraphQL with Strawberry { #graphql-with-strawberry }", "content": "If you need or want to work with **GraphQL**, <a href=\"https://strawberry.rocks/\" class=\"external-link\" target=\"_blank\">**Strawberry**</a> is the **recommended** library as it has the design closest to **FastAPI's** design, it's all based on **type annotations**.\n\nDepending on your use case, you might prefer to use a different library, but if you asked me, I would probably suggest you try **Strawberry**.\n\nHere's a small preview of how you could integrate Strawberry with FastAPI:\n\n{* ../../docs_src/graphql/tutorial001.py hl[3,22,25] *}\n\nYou can learn more about Strawberry in the <a href=\"https://strawberry.rocks/\" class=\"external-link\" target=\"_blank\">Strawberry documentation</a>.\n\nAnd also the docs about <a href=\"https://strawberry.rocks/docs/integrations/fastapi\" class=\"external-link\" target=\"_blank\">Strawberry with FastAPI</a>.", "source": "how-to\\graphql.md"}
{"doc_id": "fastapi_1272", "title": "GraphQL { #graphql }", "section": "Older `GraphQLApp` from Starlette { #older-graphqlapp-from-starlette }", "content": "Previous versions of Starlette included a `GraphQLApp` class to integrate with <a href=\"https://graphene-python.org/\" class=\"external-link\" target=\"_blank\">Graphene</a>.\n\nIt was deprecated from Starlette, but if you have code that used it, you can easily **migrate** to <a href=\"https://github.com/ciscorn/starlette-graphene3\" class=\"external-link\" target=\"_blank\">starlette-graphene3</a>, that covers the same use case and has an **almost identical interface**.\n\n/// tip\n\nIf you need GraphQL, I still would recommend you check out <a href=\"https://strawberry.rocks/\" class=\"external-link\" target=\"_blank\">Strawberry</a>, as it's based on type annotations instead of custom classes and types.\n\n///", "source": "how-to\\graphql.md"}
{"doc_id": "fastapi_1273", "title": "GraphQL { #graphql }", "section": "Learn More { #learn-more }", "content": "You can learn more about **GraphQL** in the <a href=\"https://graphql.org/\" class=\"external-link\" target=\"_blank\">official GraphQL documentation</a>.\n\nYou can also read more about each those libraries described above in their links.", "source": "how-to\\graphql.md"}
{"doc_id": "fastapi_1274", "title": "How To - Recipes { #how-to-recipes }", "section": "How To - Recipes { #how-to-recipes }", "content": "Here you will see different recipes or \"how to\" guides for **several topics**.\n\nMost of these ideas would be more or less **independent**, and in most cases you should only need to study them if they apply directly to **your project**.\n\nIf something seems interesting and useful to your project, go ahead and check it, but otherwise, you might probably just skip them.\n\n/// tip\n\nIf you want to **learn FastAPI** in a structured way (recommended), go and read the [Tutorial - User Guide](../tutorial/index.md){.internal-link target=_blank} chapter by chapter instead.\n\n///", "source": "how-to\\index.md"}
{"doc_id": "fastapi_1275", "title": "Migrate from Pydantic v1 to Pydantic v2 { #migrate-from-pydantic-v1-to-pydantic-v2 }", "section": "Migrate from Pydantic v1 to Pydantic v2 { #migrate-from-pydantic-v1-to-pydantic-v2 }", "content": "If you have an old FastAPI app, you might be using Pydantic version 1.\n\nFastAPI has had support for either Pydantic v1 or v2 since version 0.100.0.\n\nIf you had installed Pydantic v2, it would use it. If instead you had Pydantic v1, it would use that.\n\nPydantic v1 is now deprecated and support for it will be removed in the next versions of FastAPI, you should **migrate to Pydantic v2**. This way you will get the latest features, improvements, and fixes.\n\n/// warning\n\nAlso, the Pydantic team stopped support for Pydantic v1 for the latest versions of Python, starting with **Python 3.14**.\n\nIf you want to use the latest features of Python, you will need to make sure you use Pydantic v2.\n\n///\n\nIf you have an old FastAPI app with Pydantic v1, here I'll show you how to migrate it to Pydantic v2, and the **new features in FastAPI 0.119.0** to help you with a gradual migration.", "source": "how-to\\migrate-from-pydantic-v1-to-pydantic-v2.md"}
{"doc_id": "fastapi_1276", "title": "Migrate from Pydantic v1 to Pydantic v2 { #migrate-from-pydantic-v1-to-pydantic-v2 }", "section": "Official Guide { #official-guide }", "content": "Pydantic has an official <a href=\"https://docs.pydantic.dev/latest/migration/\" class=\"external-link\" target=\"_blank\">Migration Guide</a> from v1 to v2.\n\nIt also includes what has changed, how validations are now more correct and strict, possible caveats, etc.\n\nYou can read it to understand better what has changed.", "source": "how-to\\migrate-from-pydantic-v1-to-pydantic-v2.md"}
{"doc_id": "fastapi_1277", "title": "Migrate from Pydantic v1 to Pydantic v2 { #migrate-from-pydantic-v1-to-pydantic-v2 }", "section": "Tests { #tests }", "content": "Make sure you have [tests](../tutorial/testing.md){.internal-link target=_blank} for your app and you run them on continuous integration (CI).\n\nThis way, you can do the upgrade and make sure everything is still working as expected.", "source": "how-to\\migrate-from-pydantic-v1-to-pydantic-v2.md"}
{"doc_id": "fastapi_1278", "title": "Migrate from Pydantic v1 to Pydantic v2 { #migrate-from-pydantic-v1-to-pydantic-v2 }", "section": "`bump-pydantic` { #bump-pydantic }", "content": "In many cases, when you use regular Pydantic models without customizations, you will be able to automate most of the process of migrating from Pydantic v1 to Pydantic v2.\n\nYou can use <a href=\"https://github.com/pydantic/bump-pydantic\" class=\"external-link\" target=\"_blank\">`bump-pydantic`</a> from the same Pydantic team.\n\nThis tool will help you to automatically change most of the code that needs to be changed.\n\nAfter this, you can run the tests and check if everything works. If it does, you are done. üòé", "source": "how-to\\migrate-from-pydantic-v1-to-pydantic-v2.md"}
{"doc_id": "fastapi_1279", "title": "Migrate from Pydantic v1 to Pydantic v2 { #migrate-from-pydantic-v1-to-pydantic-v2 }", "section": "Pydantic v1 in v2 { #pydantic-v1-in-v2 }", "content": "Pydantic v2 includes everything from Pydantic v1 as a submodule `pydantic.v1`.\n\nThis means that you can install the latest version of Pydantic v2 and import and use the old Pydantic v1 components from this submodule, as if you had the old Pydantic v1 installed.\n\n{* ../../docs_src/pydantic_v1_in_v2/tutorial001_an_py310.py hl[1,4] *}", "source": "how-to\\migrate-from-pydantic-v1-to-pydantic-v2.md"}
{"doc_id": "fastapi_1280", "title": "Migrate from Pydantic v1 to Pydantic v2 { #migrate-from-pydantic-v1-to-pydantic-v2 }", "section": "FastAPI support for Pydantic v1 in v2 { #fastapi-support-for-pydantic-v1-in-v2 }", "content": "Since FastAPI 0.119.0, there's also partial support for Pydantic v1 from inside of Pydantic v2, to facilitate the migration to v2.\n\nSo, you could upgrade Pydantic to the latest version 2, and change the imports to use the `pydantic.v1` submodule, and in many cases it would just work.\n\n{* ../../docs_src/pydantic_v1_in_v2/tutorial002_an_py310.py hl[2,5,15] *}\n\n/// warning\n\nHave in mind that as the Pydantic team no longer supports Pydantic v1 in recent versions of Python, starting from Python 3.14, using `pydantic.v1` is also not supported in Python 3.14 and above.\n\n///", "source": "how-to\\migrate-from-pydantic-v1-to-pydantic-v2.md"}
{"doc_id": "fastapi_1281", "title": "Migrate from Pydantic v1 to Pydantic v2 { #migrate-from-pydantic-v1-to-pydantic-v2 }", "section": "Pydantic v1 and v2 on the same app { #pydantic-v1-and-v2-on-the-same-app }", "content": "It's **not supported** by Pydantic to have a model of Pydantic v2 with its own fields defined as Pydantic v1 models or vice versa.\n\n```mermaid\ngraph TB\n    subgraph \"‚ùå Not Supported\"\n        direction TB\n        subgraph V2[\"Pydantic v2 Model\"]\n            V1Field[\"Pydantic v1 Model\"]\n        end\n        subgraph V1[\"Pydantic v1 Model\"]\n            V2Field[\"Pydantic v2 Model\"]\n        end\n    end\n\n    style V2 fill:#f9fff3\n    style V1 fill:#fff6f0\n    style V1Field fill:#fff6f0\n    style V2Field fill:#f9fff3\n```\n\n...but, you can have separated models using Pydantic v1 and v2 in the same app.\n\n```mermaid\ngraph TB\n    subgraph \"‚úÖ Supported\"\n        direction TB\n        subgraph V2[\"Pydantic v2 Model\"]\n            V2Field[\"Pydantic v2 Model\"]\n        end\n        subgraph V1[\"Pydantic v1 Model\"]\n            V1Field[\"Pydantic v1 Model\"]\n        end\n    end\n\n    style V2 fill:#f9fff3\n    style V1 fill:#fff6f0\n    style V1Field fill:#fff6f0\n    style V2Field fill:#f9fff3\n```\n\nIn some cases, it's even possible to have both Pydantic v1 and v2 models in the same **path operation** in your FastAPI app:\n\n{* ../../docs_src/pydantic_v1_in_v2/tutorial003_an_py310.py hl[2:3,6,12,21:22] *}\n\nIn this example above, the input model is a Pydantic v1 model, and the output model (defined in `response_model=ItemV2`) is a Pydantic v2 model.", "source": "how-to\\migrate-from-pydantic-v1-to-pydantic-v2.md"}
{"doc_id": "fastapi_1282", "title": "Migrate from Pydantic v1 to Pydantic v2 { #migrate-from-pydantic-v1-to-pydantic-v2 }", "section": "Pydantic v1 parameters { #pydantic-v1-parameters }", "content": "If you need to use some of the FastAPI-specific tools for parameters like `Body`, `Query`, `Form`, etc. with Pydantic v1 models, you can import them from `fastapi.temp_pydantic_v1_params` while you finish the migration to Pydantic v2:\n\n{* ../../docs_src/pydantic_v1_in_v2/tutorial004_an_py310.py hl[4,18] *}", "source": "how-to\\migrate-from-pydantic-v1-to-pydantic-v2.md"}
{"doc_id": "fastapi_1283", "title": "Migrate from Pydantic v1 to Pydantic v2 { #migrate-from-pydantic-v1-to-pydantic-v2 }", "section": "Migrate in steps { #migrate-in-steps }", "content": "/// tip\n\nFirst try with `bump-pydantic`, if your tests pass and that works, then you're done in one command. ‚ú®\n\n///\n\nIf `bump-pydantic` doesn't work for your use case, you can use the support for both Pydantic v1 and v2 models in the same app to do the migration to Pydantic v2 gradually.\n\nYou could fist upgrade Pydantic to use the latest version 2, and change the imports to use `pydantic.v1` for all your models.\n\nThen, you can start migrating your models from Pydantic v1 to v2 in groups, in gradual steps. üö∂", "source": "how-to\\migrate-from-pydantic-v1-to-pydantic-v2.md"}
{"doc_id": "fastapi_1284", "title": "Separate OpenAPI Schemas for Input and Output or Not { #separate-openapi-schemas-for-input-and-output-or-not }", "section": "Separate OpenAPI Schemas for Input and Output or Not { #separate-openapi-schemas-for-input-and-output-or-not }", "content": "When using **Pydantic v2**, the generated OpenAPI is a bit more exact and **correct** than before. üòé\n\nIn fact, in some cases, it will even have **two JSON Schemas** in OpenAPI for the same Pydantic model, for input and output, depending on if they have **default values**.\n\nLet's see how that works and how to change it if you need to do that.", "source": "how-to\\separate-openapi-schemas.md"}
{"doc_id": "fastapi_1285", "title": "Separate OpenAPI Schemas for Input and Output or Not { #separate-openapi-schemas-for-input-and-output-or-not }", "section": "Pydantic Models for Input and Output { #pydantic-models-for-input-and-output }", "content": "Let's say you have a Pydantic model with default values, like this one:\n\n{* ../../docs_src/separate_openapi_schemas/tutorial001_py310.py ln[1:7] hl[7] *}", "source": "how-to\\separate-openapi-schemas.md"}
{"doc_id": "fastapi_1286", "title": "Separate OpenAPI Schemas for Input and Output or Not { #separate-openapi-schemas-for-input-and-output-or-not }", "section": "Model for Input { #model-for-input }", "content": "If you use this model as an input like here:\n\n{* ../../docs_src/separate_openapi_schemas/tutorial001_py310.py ln[1:15] hl[14] *}\n\n...then the `description` field will **not be required**. Because it has a default value of `None`.", "source": "how-to\\separate-openapi-schemas.md"}
{"doc_id": "fastapi_1287", "title": "Separate OpenAPI Schemas for Input and Output or Not { #separate-openapi-schemas-for-input-and-output-or-not }", "section": "Input Model in Docs { #input-model-in-docs }", "content": "You can confirm that in the docs, the `description` field doesn't have a **red asterisk**, it's not marked as required:\n\n<div class=\"screenshot\">\n<img src=\"/img/tutorial/separate-openapi-schemas/image01.png\">\n</div>", "source": "how-to\\separate-openapi-schemas.md"}
{"doc_id": "fastapi_1288", "title": "Separate OpenAPI Schemas for Input and Output or Not { #separate-openapi-schemas-for-input-and-output-or-not }", "section": "Model for Output { #model-for-output }", "content": "But if you use the same model as an output, like here:\n\n{* ../../docs_src/separate_openapi_schemas/tutorial001_py310.py hl[19] *}\n\n...then because `description` has a default value, if you **don't return anything** for that field, it will still have that **default value**.", "source": "how-to\\separate-openapi-schemas.md"}
{"doc_id": "fastapi_1289", "title": "Separate OpenAPI Schemas for Input and Output or Not { #separate-openapi-schemas-for-input-and-output-or-not }", "section": "Model for Output Response Data { #model-for-output-response-data }", "content": "If you interact with the docs and check the response, even though the code didn't add anything in one of the `description` fields, the JSON response contains the default value (`null`):\n\n<div class=\"screenshot\">\n<img src=\"/img/tutorial/separate-openapi-schemas/image02.png\">\n</div>\n\nThis means that it will **always have a value**, it's just that sometimes the value could be `None` (or `null` in JSON).\n\nThat means that, clients using your API don't have to check if the value exists or not, they can **assume the field will always be there**, but just that in some cases it will have the default value of `None`.\n\nThe way to describe this in OpenAPI, is to mark that field as **required**, because it will always be there.\n\nBecause of that, the JSON Schema for a model can be different depending on if it's used for **input or output**:\n\n* for **input** the `description` will **not be required**\n* for **output** it will be **required** (and possibly `None`, or in JSON terms, `null`)", "source": "how-to\\separate-openapi-schemas.md"}
{"doc_id": "fastapi_1290", "title": "Separate OpenAPI Schemas for Input and Output or Not { #separate-openapi-schemas-for-input-and-output-or-not }", "section": "Model for Output in Docs { #model-for-output-in-docs }", "content": "You can check the output model in the docs too, **both** `name` and `description` are marked as **required** with a **red asterisk**:\n\n<div class=\"screenshot\">\n<img src=\"/img/tutorial/separate-openapi-schemas/image03.png\">\n</div>", "source": "how-to\\separate-openapi-schemas.md"}
{"doc_id": "fastapi_1291", "title": "Separate OpenAPI Schemas for Input and Output or Not { #separate-openapi-schemas-for-input-and-output-or-not }", "section": "Model for Input and Output in Docs { #model-for-input-and-output-in-docs }", "content": "And if you check all the available Schemas (JSON Schemas) in OpenAPI, you will see that there are two, one `Item-Input` and one `Item-Output`.\n\nFor `Item-Input`, `description` is **not required**, it doesn't have a red asterisk.\n\nBut for `Item-Output`, `description` is **required**, it has a red asterisk.\n\n<div class=\"screenshot\">\n<img src=\"/img/tutorial/separate-openapi-schemas/image04.png\">\n</div>\n\nWith this feature from **Pydantic v2**, your API documentation is more **precise**, and if you have autogenerated clients and SDKs, they will be more precise too, with a better **developer experience** and consistency. üéâ", "source": "how-to\\separate-openapi-schemas.md"}
{"doc_id": "fastapi_1292", "title": "Separate OpenAPI Schemas for Input and Output or Not { #separate-openapi-schemas-for-input-and-output-or-not }", "section": "Do not Separate Schemas { #do-not-separate-schemas }", "content": "Now, there are some cases where you might want to have the **same schema for input and output**.\n\nProbably the main use case for this is if you already have some autogenerated client code/SDKs and you don't want to update all the autogenerated client code/SDKs yet, you probably will want to do it at some point, but maybe not right now.\n\nIn that case, you can disable this feature in **FastAPI**, with the parameter `separate_input_output_schemas=False`.\n\n/// info\n\nSupport for `separate_input_output_schemas` was added in FastAPI `0.102.0`. ü§ì\n\n///\n\n{* ../../docs_src/separate_openapi_schemas/tutorial002_py310.py hl[10] *}", "source": "how-to\\separate-openapi-schemas.md"}
{"doc_id": "fastapi_1293", "title": "Separate OpenAPI Schemas for Input and Output or Not { #separate-openapi-schemas-for-input-and-output-or-not }", "section": "Same Schema for Input and Output Models in Docs { #same-schema-for-input-and-output-models-in-docs }", "content": "And now there will be one single schema for input and output for the model, only `Item`, and it will have `description` as **not required**:\n\n<div class=\"screenshot\">\n<img src=\"/img/tutorial/separate-openapi-schemas/image05.png\">\n</div>\n\nThis is the same behavior as in Pydantic v1. ü§ì", "source": "how-to\\separate-openapi-schemas.md"}
{"doc_id": "fastapi_1294", "title": "Testing a Database { #testing-a-database }", "section": "Testing a Database { #testing-a-database }", "content": "You can study about databases, SQL, and SQLModel in the <a href=\"https://sqlmodel.tiangolo.com/\" class=\"external-link\" target=\"_blank\">SQLModel docs</a>. ü§ì\n\nThere's a mini <a href=\"https://sqlmodel.tiangolo.com/tutorial/fastapi/\" class=\"external-link\" target=\"_blank\">tutorial on using SQLModel with FastAPI</a>. ‚ú®\n\nThat tutorial includes a section about <a href=\"https://sqlmodel.tiangolo.com/tutorial/fastapi/tests/\" class=\"external-link\" target=\"_blank\">testing SQL databases</a>. üòé", "source": "how-to\\testing-database.md"}
{"doc_id": "fastapi_1295", "title": "Learn { #learn }", "section": "Learn { #learn }", "content": "Here are the introductory sections and the tutorials to learn **FastAPI**.\n\nYou could consider this a **book**, a **course**, the **official** and recommended way to learn FastAPI. üòé", "source": "learn\\index.md"}
{"doc_id": "fastapi_1296", "title": "`APIRouter` class", "section": "`APIRouter` class", "content": "Here's the reference information for the `APIRouter` class, with all its parameters, attributes and methods.\n\nYou can import the `APIRouter` class directly from `fastapi`:\n\n```python\nfrom fastapi import APIRouter\n```\n\n::: fastapi.APIRouter\n    options:\n        members:\n            - websocket\n            - include_router\n            - get\n            - put\n            - post\n            - delete\n            - options\n            - head\n            - patch\n            - trace\n            - on_event", "source": "reference\\apirouter.md"}
{"doc_id": "fastapi_1297", "title": "Background Tasks - `BackgroundTasks`", "section": "Background Tasks - `BackgroundTasks`", "content": "You can declare a parameter in a *path operation function* or dependency function with the type `BackgroundTasks`, and then you can use it to schedule the execution of background tasks after the response is sent.\n\nYou can import it directly from `fastapi`:\n\n```python\nfrom fastapi import BackgroundTasks\n```\n\n::: fastapi.BackgroundTasks", "source": "reference\\background.md"}
{"doc_id": "fastapi_1298", "title": "Dependencies - `Depends()` and `Security()`", "section": "Dependencies - `Depends()` and `Security()`", "content": "", "source": "reference\\dependencies.md"}
{"doc_id": "fastapi_1299", "title": "Dependencies - `Depends()` and `Security()`", "section": "`Depends()`", "content": "Dependencies are handled mainly with the special function `Depends()` that takes a callable.\n\nHere is the reference for it and its parameters.\n\nYou can import it directly from `fastapi`:\n\n```python\nfrom fastapi import Depends\n```\n\n::: fastapi.Depends", "source": "reference\\dependencies.md"}
{"doc_id": "fastapi_1300", "title": "Dependencies - `Depends()` and `Security()`", "section": "`Security()`", "content": "For many scenarios, you can handle security (authorization, authentication, etc.) with dependencies, using `Depends()`.\n\nBut when you want to also declare OAuth2 scopes, you can use `Security()` instead of `Depends()`.\n\nYou can import `Security()` directly from `fastapi`:\n\n```python\nfrom fastapi import Security\n```\n\n::: fastapi.Security", "source": "reference\\dependencies.md"}
{"doc_id": "fastapi_1301", "title": "Encoders - `jsonable_encoder`", "section": "Encoders - `jsonable_encoder`", "content": "::: fastapi.encoders.jsonable_encoder", "source": "reference\\encoders.md"}
{"doc_id": "fastapi_1302", "title": "Exceptions - `HTTPException` and `WebSocketException`", "section": "Exceptions - `HTTPException` and `WebSocketException`", "content": "These are the exceptions that you can raise to show errors to the client.\n\nWhen you raise an exception, as would happen with normal Python, the rest of the execution is aborted. This way you can raise these exceptions from anywhere in the code to abort a request and show the error to the client.\n\nYou can use:\n\n* `HTTPException`\n* `WebSocketException`\n\nThese exceptions can be imported directly from `fastapi`:\n\n```python\nfrom fastapi import HTTPException, WebSocketException\n```\n\n::: fastapi.HTTPException\n\n::: fastapi.WebSocketException", "source": "reference\\exceptions.md"}
{"doc_id": "fastapi_1303", "title": "`FastAPI` class", "section": "`FastAPI` class", "content": "Here's the reference information for the `FastAPI` class, with all its parameters, attributes and methods.\n\nYou can import the `FastAPI` class directly from `fastapi`:\n\n```python\nfrom fastapi import FastAPI\n```\n\n::: fastapi.FastAPI\n    options:\n        members:\n            - openapi_version\n            - webhooks\n            - state\n            - dependency_overrides\n            - openapi\n            - websocket\n            - include_router\n            - get\n            - put\n            - post\n            - delete\n            - options\n            - head\n            - patch\n            - trace\n            - on_event\n            - middleware\n            - exception_handler", "source": "reference\\fastapi.md"}
{"doc_id": "fastapi_1304", "title": "`HTTPConnection` class", "section": "`HTTPConnection` class", "content": "When you want to define dependencies that should be compatible with both HTTP and WebSockets, you can define a parameter that takes an `HTTPConnection` instead of a `Request` or a `WebSocket`.\n\nYou can import it from `fastapi.requests`:\n\n```python\nfrom fastapi.requests import HTTPConnection\n```\n\n::: fastapi.requests.HTTPConnection", "source": "reference\\httpconnection.md"}
{"doc_id": "fastapi_1305", "title": "Reference", "section": "Reference", "content": "Here's the reference or code API, the classes, functions, parameters, attributes, and\nall the FastAPI parts you can use in your applications.\n\nIf you want to **learn FastAPI** you are much better off reading the\n[FastAPI Tutorial](https://fastapi.tiangolo.com/tutorial/).", "source": "reference\\index.md"}
{"doc_id": "fastapi_1306", "title": "Middleware", "section": "Middleware", "content": "There are several middlewares available provided by Starlette directly.\n\nRead more about them in the [FastAPI docs for Middleware](https://fastapi.tiangolo.com/advanced/middleware/).\n\n::: fastapi.middleware.cors.CORSMiddleware\n\nIt can be imported from `fastapi`:\n\n```python\nfrom fastapi.middleware.cors import CORSMiddleware\n```\n\n::: fastapi.middleware.gzip.GZipMiddleware\n\nIt can be imported from `fastapi`:\n\n```python\nfrom fastapi.middleware.gzip import GZipMiddleware\n```\n\n::: fastapi.middleware.httpsredirect.HTTPSRedirectMiddleware\n\nIt can be imported from `fastapi`:\n\n```python\nfrom fastapi.middleware.httpsredirect import HTTPSRedirectMiddleware\n```\n\n::: fastapi.middleware.trustedhost.TrustedHostMiddleware\n\nIt can be imported from `fastapi`:\n\n```python\nfrom fastapi.middleware.trustedhost import TrustedHostMiddleware\n```\n\n::: fastapi.middleware.wsgi.WSGIMiddleware\n\nIt can be imported from `fastapi`:\n\n```python\nfrom fastapi.middleware.wsgi import WSGIMiddleware\n```", "source": "reference\\middleware.md"}
{"doc_id": "fastapi_1307", "title": "Request Parameters", "section": "Request Parameters", "content": "Here's the reference information for the request parameters.\n\nThese are the special functions that you can put in *path operation function* parameters or dependency functions with `Annotated` to get data from the request.\n\nIt includes:\n\n* `Query()`\n* `Path()`\n* `Body()`\n* `Cookie()`\n* `Header()`\n* `Form()`\n* `File()`\n\nYou can import them all directly from `fastapi`:\n\n```python\nfrom fastapi import Body, Cookie, File, Form, Header, Path, Query\n```\n\n::: fastapi.Query\n\n::: fastapi.Path\n\n::: fastapi.Body\n\n::: fastapi.Cookie\n\n::: fastapi.Header\n\n::: fastapi.Form\n\n::: fastapi.File", "source": "reference\\parameters.md"}
{"doc_id": "fastapi_1308", "title": "`Request` class", "section": "`Request` class", "content": "You can declare a parameter in a *path operation function* or dependency to be of type `Request` and then you can access the raw request object directly, without any validation, etc.\n\nYou can import it directly from `fastapi`:\n\n```python\nfrom fastapi import Request\n```\n\n/// tip\n\nWhen you want to define dependencies that should be compatible with both HTTP and WebSockets, you can define a parameter that takes an `HTTPConnection` instead of a `Request` or a `WebSocket`.\n\n///\n\n::: fastapi.Request", "source": "reference\\request.md"}
{"doc_id": "fastapi_1309", "title": "`Response` class", "section": "`Response` class", "content": "You can declare a parameter in a *path operation function* or dependency to be of type `Response` and then you can set data for the response like headers or cookies.\n\nYou can also use it directly to create an instance of it and return it from your *path operations*.\n\nYou can import it directly from `fastapi`:\n\n```python\nfrom fastapi import Response\n```\n\n::: fastapi.Response", "source": "reference\\response.md"}
{"doc_id": "fastapi_1310", "title": "Custom Response Classes - File, HTML, Redirect, Streaming, etc.", "section": "Custom Response Classes - File, HTML, Redirect, Streaming, etc.", "content": "There are several custom response classes you can use to create an instance and return them directly from your *path operations*.\n\nRead more about it in the [FastAPI docs for Custom Response - HTML, Stream, File, others](https://fastapi.tiangolo.com/advanced/custom-response/).\n\nYou can import them directly from `fastapi.responses`:\n\n```python\nfrom fastapi.responses import (\n    FileResponse,\n    HTMLResponse,\n    JSONResponse,\n    ORJSONResponse,\n    PlainTextResponse,\n    RedirectResponse,\n    Response,\n    StreamingResponse,\n    UJSONResponse,\n)\n```", "source": "reference\\responses.md"}
{"doc_id": "fastapi_1311", "title": "Custom Response Classes - File, HTML, Redirect, Streaming, etc.", "section": "FastAPI Responses", "content": "There are a couple of custom FastAPI response classes, you can use them to optimize JSON performance.\n\n::: fastapi.responses.UJSONResponse\n    options:\n        members:\n            - charset\n            - status_code\n            - media_type\n            - body\n            - background\n            - raw_headers\n            - render\n            - init_headers\n            - headers\n            - set_cookie\n            - delete_cookie\n\n::: fastapi.responses.ORJSONResponse\n    options:\n        members:\n            - charset\n            - status_code\n            - media_type\n            - body\n            - background\n            - raw_headers\n            - render\n            - init_headers\n            - headers\n            - set_cookie\n            - delete_cookie", "source": "reference\\responses.md"}
{"doc_id": "fastapi_1312", "title": "Custom Response Classes - File, HTML, Redirect, Streaming, etc.", "section": "Starlette Responses", "content": "::: fastapi.responses.FileResponse\n    options:\n        members:\n            - chunk_size\n            - charset\n            - status_code\n            - media_type\n            - body\n            - background\n            - raw_headers\n            - render\n            - init_headers\n            - headers\n            - set_cookie\n            - delete_cookie\n\n::: fastapi.responses.HTMLResponse\n    options:\n        members:\n            - charset\n            - status_code\n            - media_type\n            - body\n            - background\n            - raw_headers\n            - render\n            - init_headers\n            - headers\n            - set_cookie\n            - delete_cookie\n\n::: fastapi.responses.JSONResponse\n    options:\n        members:\n            - charset\n            - status_code\n            - media_type\n            - body\n            - background\n            - raw_headers\n            - render\n            - init_headers\n            - headers\n            - set_cookie\n            - delete_cookie\n\n::: fastapi.responses.PlainTextResponse\n    options:\n        members:\n            - charset\n            - status_code\n            - media_type\n            - body\n            - background\n            - raw_headers\n            - render\n            - init_headers\n            - headers\n            - set_cookie\n            - delete_cookie\n\n::: fastapi.responses.RedirectResponse\n    options:\n        members:\n            - charset\n            - status_code\n            - media_type\n            - body\n            - background\n            - raw_headers\n            - render\n            - init_headers\n            - headers\n            - set_cookie\n            - delete_cookie\n\n::: fastapi.responses.Response\n    options:\n        members:\n            - charset\n            - status_code\n            - media_type\n            - body\n            - background\n            - raw_headers\n            - render\n            - init_headers\n            - headers\n            - set_cookie\n            - delete_cookie\n\n::: fastapi.responses.StreamingResponse\n    options:\n        members:\n            - body_iterator\n            - charset\n            - status_code\n            - media_type\n            - body\n            - background\n            - raw_headers\n            - render\n            - init_headers\n            - headers\n            - set_cookie\n            - delete_cookie", "source": "reference\\responses.md"}
{"doc_id": "fastapi_1313", "title": "Static Files - `StaticFiles`", "section": "Static Files - `StaticFiles`", "content": "You can use the `StaticFiles` class to serve static files, like JavaScript, CSS, images, etc.\n\nRead more about it in the [FastAPI docs for Static Files](https://fastapi.tiangolo.com/tutorial/static-files/).\n\nYou can import it directly from `fastapi.staticfiles`:\n\n```python\nfrom fastapi.staticfiles import StaticFiles\n```\n\n::: fastapi.staticfiles.StaticFiles", "source": "reference\\staticfiles.md"}
{"doc_id": "fastapi_1314", "title": "Status Codes", "section": "Status Codes", "content": "You can import the `status` module from `fastapi`:\n\n```python\nfrom fastapi import status\n```\n\n`status` is provided directly by Starlette.\n\nIt contains a group of named constants (variables) with integer status codes.\n\nFor example:\n\n* 200: `status.HTTP_200_OK`\n* 403: `status.HTTP_403_FORBIDDEN`\n* etc.\n\nIt can be convenient to quickly access HTTP (and WebSocket) status codes in your app, using autocompletion for the name without having to remember the integer status codes by memory.\n\nRead more about it in the [FastAPI docs about Response Status Code](https://fastapi.tiangolo.com/tutorial/response-status-code/).", "source": "reference\\status.md"}
{"doc_id": "fastapi_1315", "title": "Status Codes", "section": "Example", "content": "```python\nfrom fastapi import FastAPI, status\n\napp = FastAPI()\n\n\n@app.get(\"/items/\", status_code=status.HTTP_418_IM_A_TEAPOT)\ndef read_items():\n    return [{\"name\": \"Plumbus\"}, {\"name\": \"Portal Gun\"}]\n```\n\n::: fastapi.status", "source": "reference\\status.md"}
{"doc_id": "fastapi_1316", "title": "Templating - `Jinja2Templates`", "section": "Templating - `Jinja2Templates`", "content": "You can use the `Jinja2Templates` class to render Jinja templates.\n\nRead more about it in the [FastAPI docs for Templates](https://fastapi.tiangolo.com/advanced/templates/).\n\nYou can import it directly from `fastapi.templating`:\n\n```python\nfrom fastapi.templating import Jinja2Templates\n```\n\n::: fastapi.templating.Jinja2Templates", "source": "reference\\templating.md"}
{"doc_id": "fastapi_1317", "title": "Test Client - `TestClient`", "section": "Test Client - `TestClient`", "content": "You can use the `TestClient` class to test FastAPI applications without creating an actual HTTP and socket connection, just communicating directly with the FastAPI code.\n\nRead more about it in the [FastAPI docs for Testing](https://fastapi.tiangolo.com/tutorial/testing/).\n\nYou can import it directly from `fastapi.testclient`:\n\n```python\nfrom fastapi.testclient import TestClient\n```\n\n::: fastapi.testclient.TestClient", "source": "reference\\testclient.md"}
{"doc_id": "fastapi_1318", "title": "`UploadFile` class", "section": "`UploadFile` class", "content": "You can define *path operation function* parameters to be of the type `UploadFile` to receive files from the request.\n\nYou can import it directly from `fastapi`:\n\n```python\nfrom fastapi import UploadFile\n```\n\n::: fastapi.UploadFile\n    options:\n        members:\n            - file\n            - filename\n            - size\n            - headers\n            - content_type\n            - read\n            - write\n            - seek\n            - close", "source": "reference\\uploadfile.md"}
{"doc_id": "fastapi_1319", "title": "WebSockets", "section": "WebSockets", "content": "When defining WebSockets, you normally declare a parameter of type `WebSocket` and with it you can read data from the client and send data to it.\n\nIt is provided directly by Starlette, but you can import it from `fastapi`:\n\n```python\nfrom fastapi import WebSocket\n```\n\n/// tip\n\nWhen you want to define dependencies that should be compatible with both HTTP and WebSockets, you can define a parameter that takes an `HTTPConnection` instead of a `Request` or a `WebSocket`.\n\n///\n\n::: fastapi.WebSocket\n    options:\n        members:\n            - scope\n            - app\n            - url\n            - base_url\n            - headers\n            - query_params\n            - path_params\n            - cookies\n            - client\n            - state\n            - url_for\n            - client_state\n            - application_state\n            - receive\n            - send\n            - accept\n            - receive_text\n            - receive_bytes\n            - receive_json\n            - iter_text\n            - iter_bytes\n            - iter_json\n            - send_text\n            - send_bytes\n            - send_json\n            - close\n\nWhen a client disconnects, a `WebSocketDisconnect` exception is raised, you can catch it.\n\nYou can import it directly form `fastapi`:\n\n```python\nfrom fastapi import WebSocketDisconnect\n```\n\n::: fastapi.WebSocketDisconnect", "source": "reference\\websockets.md"}
{"doc_id": "fastapi_1320", "title": "WebSockets", "section": "WebSockets - additional classes", "content": "Additional classes for handling WebSockets.\n\nProvided directly by Starlette, but you can import it from `fastapi`:\n\n```python\nfrom fastapi.websockets import WebSocketDisconnect, WebSocketState\n```\n\n::: fastapi.websockets.WebSocketDisconnect\n\n::: fastapi.websockets.WebSocketState", "source": "reference\\websockets.md"}
{"doc_id": "fastapi_1321", "title": "Resources { #resources }", "section": "Resources { #resources }", "content": "Additional resources, external links, articles and more. ‚úàÔ∏è", "source": "resources\\index.md"}
{"doc_id": "fastapi_1322", "title": "Background Tasks { #background-tasks }", "section": "Background Tasks { #background-tasks }", "content": "You can define background tasks to be run *after* returning a response.\n\nThis is useful for operations that need to happen after a request, but that the client doesn't really have to be waiting for the operation to complete before receiving the response.\n\nThis includes, for example:\n\n* Email notifications sent after performing an action:\n    * As connecting to an email server and sending an email tends to be \"slow\" (several seconds), you can return the response right away and send the email notification in the background.\n* Processing data:\n    * For example, let's say you receive a file that must go through a slow process, you can return a response of \"Accepted\" (HTTP 202) and process the file in the background.", "source": "tutorial\\background-tasks.md"}
{"doc_id": "fastapi_1323", "title": "Background Tasks { #background-tasks }", "section": "Using `BackgroundTasks` { #using-backgroundtasks }", "content": "First, import `BackgroundTasks` and define a parameter in your *path operation function* with a type declaration of `BackgroundTasks`:\n\n{* ../../docs_src/background_tasks/tutorial001.py hl[1,13] *}\n\n**FastAPI** will create the object of type `BackgroundTasks` for you and pass it as that parameter.", "source": "tutorial\\background-tasks.md"}
{"doc_id": "fastapi_1324", "title": "Background Tasks { #background-tasks }", "section": "Create a task function { #create-a-task-function }", "content": "Create a function to be run as the background task.\n\nIt is just a standard function that can receive parameters.\n\nIt can be an `async def` or normal `def` function, **FastAPI** will know how to handle it correctly.\n\nIn this case, the task function will write to a file (simulating sending an email).\n\nAnd as the write operation doesn't use `async` and `await`, we define the function with normal `def`:\n\n{* ../../docs_src/background_tasks/tutorial001.py hl[6:9] *}", "source": "tutorial\\background-tasks.md"}
{"doc_id": "fastapi_1325", "title": "Background Tasks { #background-tasks }", "section": "Add the background task { #add-the-background-task }", "content": "Inside of your *path operation function*, pass your task function to the *background tasks* object with the method `.add_task()`:\n\n{* ../../docs_src/background_tasks/tutorial001.py hl[14] *}\n\n`.add_task()` receives as arguments:\n\n* A task function to be run in the background (`write_notification`).\n* Any sequence of arguments that should be passed to the task function in order (`email`).\n* Any keyword arguments that should be passed to the task function (`message=\"some notification\"`).", "source": "tutorial\\background-tasks.md"}
{"doc_id": "fastapi_1326", "title": "Background Tasks { #background-tasks }", "section": "Dependency Injection { #dependency-injection }", "content": "Using `BackgroundTasks` also works with the dependency injection system, you can declare a parameter of type `BackgroundTasks` at multiple levels: in a *path operation function*, in a dependency (dependable), in a sub-dependency, etc.\n\n**FastAPI** knows what to do in each case and how to reuse the same object, so that all the background tasks are merged together and are run in the background afterwards:\n\n\n{* ../../docs_src/background_tasks/tutorial002_an_py310.py hl[13,15,22,25] *}\n\n\nIn this example, the messages will be written to the `log.txt` file *after* the response is sent.\n\nIf there was a query in the request, it will be written to the log in a background task.\n\nAnd then another background task generated at the *path operation function* will write a message using the `email` path parameter.", "source": "tutorial\\background-tasks.md"}
{"doc_id": "fastapi_1327", "title": "Background Tasks { #background-tasks }", "section": "Technical Details { #technical-details }", "content": "The class `BackgroundTasks` comes directly from <a href=\"https://www.starlette.dev/background/\" class=\"external-link\" target=\"_blank\">`starlette.background`</a>.\n\nIt is imported/included directly into FastAPI so that you can import it from `fastapi` and avoid accidentally importing the alternative `BackgroundTask` (without the `s` at the end) from `starlette.background`.\n\nBy only using `BackgroundTasks` (and not `BackgroundTask`), it's then possible to use it as a *path operation function* parameter and have **FastAPI** handle the rest for you, just like when using the `Request` object directly.\n\nIt's still possible to use `BackgroundTask` alone in FastAPI, but you have to create the object in your code and return a Starlette `Response` including it.\n\nYou can see more details in <a href=\"https://www.starlette.dev/background/\" class=\"external-link\" target=\"_blank\">Starlette's official docs for Background Tasks</a>.", "source": "tutorial\\background-tasks.md"}
{"doc_id": "fastapi_1328", "title": "Background Tasks { #background-tasks }", "section": "Caveat { #caveat }", "content": "If you need to perform heavy background computation and you don't necessarily need it to be run by the same process (for example, you don't need to share memory, variables, etc), you might benefit from using other bigger tools like <a href=\"https://docs.celeryq.dev\" class=\"external-link\" target=\"_blank\">Celery</a>.\n\nThey tend to require more complex configurations, a message/job queue manager, like RabbitMQ or Redis, but they allow you to run background tasks in multiple processes, and especially, in multiple servers.\n\nBut if you need to access variables and objects from the same **FastAPI** app, or you need to perform small background tasks (like sending an email notification), you can simply just use `BackgroundTasks`.", "source": "tutorial\\background-tasks.md"}
{"doc_id": "fastapi_1329", "title": "Background Tasks { #background-tasks }", "section": "Recap { #recap }", "content": "Import and use `BackgroundTasks` with parameters in *path operation functions* and dependencies to add background tasks.", "source": "tutorial\\background-tasks.md"}
{"doc_id": "fastapi_1330", "title": "Bigger Applications - Multiple Files { #bigger-applications-multiple-files }", "section": "Bigger Applications - Multiple Files { #bigger-applications-multiple-files }", "content": "If you are building an application or a web API, it's rarely the case that you can put everything in a single file.\n\n**FastAPI** provides a convenience tool to structure your application while keeping all the flexibility.\n\n/// info\n\nIf you come from Flask, this would be the equivalent of Flask's Blueprints.\n\n///", "source": "tutorial\\bigger-applications.md"}
{"doc_id": "fastapi_1331", "title": "Bigger Applications - Multiple Files { #bigger-applications-multiple-files }", "section": "An example file structure { #an-example-file-structure }", "content": "Let's say you have a file structure like this:\n\n```\n.\n‚îú‚îÄ‚îÄ app\n‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __init__.py\n‚îÇ¬†¬† ‚îú‚îÄ‚îÄ main.py\n‚îÇ¬†¬† ‚îú‚îÄ‚îÄ dependencies.py\n‚îÇ¬†¬† ‚îî‚îÄ‚îÄ routers\n‚îÇ¬†¬† ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py\n‚îÇ¬†¬† ‚îÇ   ‚îú‚îÄ‚îÄ items.py\n‚îÇ¬†¬† ‚îÇ   ‚îî‚îÄ‚îÄ users.py\n‚îÇ¬†¬† ‚îî‚îÄ‚îÄ internal\n‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ __init__.py\n‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ admin.py\n```\n\n/// tip\n\nThere are several `__init__.py` files: one in each directory or subdirectory.\n\nThis is what allows importing code from one file into another.\n\nFor example, in `app/main.py` you could have a line like:\n\n```\nfrom app.routers import items\n```\n\n///\n\n* The `app` directory contains everything. And it has an empty file `app/__init__.py`, so it is a \"Python package\" (a collection of \"Python modules\"): `app`.\n* It contains an `app/main.py` file. As it is inside a Python package (a directory with a file `__init__.py`), it is a \"module\" of that package: `app.main`.\n* There's also an `app/dependencies.py` file, just like `app/main.py`, it is a \"module\": `app.dependencies`.\n* There's a subdirectory `app/routers/` with another file `__init__.py`, so it's a \"Python subpackage\": `app.routers`.\n* The file `app/routers/items.py` is inside a package, `app/routers/`, so, it's a submodule: `app.routers.items`.\n* The same with `app/routers/users.py`, it's another submodule: `app.routers.users`.\n* There's also a subdirectory `app/internal/` with another file `__init__.py`, so it's another \"Python subpackage\": `app.internal`.\n* And the file `app/internal/admin.py` is another submodule: `app.internal.admin`.\n\n<img src=\"/img/tutorial/bigger-applications/package.drawio.svg\">\n\nThe same file structure with comments:\n\n```\n.\n‚îú‚îÄ‚îÄ app                  # \"app\" is a Python package\n‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __init__.py      # this file makes \"app\" a \"Python package\"\n‚îÇ¬†¬† ‚îú‚îÄ‚îÄ main.py          # \"main\" module, e.g. import app.main\n‚îÇ¬†¬† ‚îú‚îÄ‚îÄ dependencies.py  # \"dependencies\" module, e.g. import app.dependencies\n‚îÇ¬†¬† ‚îî‚îÄ‚îÄ routers          # \"routers\" is a \"Python subpackage\"\n‚îÇ¬†¬† ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py  # makes \"routers\" a \"Python subpackage\"\n‚îÇ¬†¬† ‚îÇ   ‚îú‚îÄ‚îÄ items.py     # \"items\" submodule, e.g. import app.routers.items\n‚îÇ¬†¬† ‚îÇ   ‚îî‚îÄ‚îÄ users.py     # \"users\" submodule, e.g. import app.routers.users\n‚îÇ¬†¬† ‚îî‚îÄ‚îÄ internal         # \"internal\" is a \"Python subpackage\"\n‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ __init__.py  # makes \"internal\" a \"Python subpackage\"\n‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ admin.py     # \"admin\" submodule, e.g. import app.internal.admin\n```", "source": "tutorial\\bigger-applications.md"}
{"doc_id": "fastapi_1332", "title": "Bigger Applications - Multiple Files { #bigger-applications-multiple-files }", "section": "`APIRouter` { #apirouter }", "content": "Let's say the file dedicated to handling just users is the submodule at `/app/routers/users.py`.\n\nYou want to have the *path operations* related to your users separated from the rest of the code, to keep it organized.\n\nBut it's still part of the same **FastAPI** application/web API (it's part of the same \"Python Package\").\n\nYou can create the *path operations* for that module using `APIRouter`.", "source": "tutorial\\bigger-applications.md"}
{"doc_id": "fastapi_1333", "title": "Bigger Applications - Multiple Files { #bigger-applications-multiple-files }", "section": "Import `APIRouter` { #import-apirouter }", "content": "You import it and create an \"instance\" the same way you would with the class `FastAPI`:\n\n```Python hl_lines=\"1  3\" title=\"app/routers/users.py\"\n{!../../docs_src/bigger_applications/app/routers/users.py!}\n```", "source": "tutorial\\bigger-applications.md"}
{"doc_id": "fastapi_1334", "title": "Bigger Applications - Multiple Files { #bigger-applications-multiple-files }", "section": "*Path operations* with `APIRouter` { #path-operations-with-apirouter }", "content": "And then you use it to declare your *path operations*.\n\nUse it the same way you would use the `FastAPI` class:\n\n```Python hl_lines=\"6  11  16\" title=\"app/routers/users.py\"\n{!../../docs_src/bigger_applications/app/routers/users.py!}\n```\n\nYou can think of `APIRouter` as a \"mini `FastAPI`\" class.\n\nAll the same options are supported.\n\nAll the same `parameters`, `responses`, `dependencies`, `tags`, etc.\n\n/// tip\n\nIn this example, the variable is called `router`, but you can name it however you want.\n\n///\n\nWe are going to include this `APIRouter` in the main `FastAPI` app, but first, let's check the dependencies and another `APIRouter`.", "source": "tutorial\\bigger-applications.md"}
{"doc_id": "fastapi_1335", "title": "Bigger Applications - Multiple Files { #bigger-applications-multiple-files }", "section": "Dependencies { #dependencies }", "content": "We see that we are going to need some dependencies used in several places of the application.\n\nSo we put them in their own `dependencies` module (`app/dependencies.py`).\n\nWe will now use a simple dependency to read a custom `X-Token` header:\n\n//// tab | Python 3.9+\n\n```Python hl_lines=\"3  6-8\" title=\"app/dependencies.py\"\n{!> ../../docs_src/bigger_applications/app_an_py39/dependencies.py!}\n```\n\n////\n\n//// tab | Python 3.8+\n\n```Python hl_lines=\"1  5-7\" title=\"app/dependencies.py\"\n{!> ../../docs_src/bigger_applications/app_an/dependencies.py!}\n```\n\n////\n\n//// tab | Python 3.8+ non-Annotated\n\n/// tip\n\nPrefer to use the `Annotated` version if possible.\n\n///\n\n```Python hl_lines=\"1  4-6\" title=\"app/dependencies.py\"\n{!> ../../docs_src/bigger_applications/app/dependencies.py!}\n```\n\n////\n\n/// tip\n\nWe are using an invented header to simplify this example.\n\nBut in real cases you will get better results using the integrated [Security utilities](security/index.md){.internal-link target=_blank}.\n\n///", "source": "tutorial\\bigger-applications.md"}
{"doc_id": "fastapi_1336", "title": "Bigger Applications - Multiple Files { #bigger-applications-multiple-files }", "section": "Another module with `APIRouter` { #another-module-with-apirouter }", "content": "Let's say you also have the endpoints dedicated to handling \"items\" from your application in the module at `app/routers/items.py`.\n\nYou have *path operations* for:\n\n* `/items/`\n* `/items/{item_id}`\n\nIt's all the same structure as with `app/routers/users.py`.\n\nBut we want to be smarter and simplify the code a bit.\n\nWe know all the *path operations* in this module have the same:\n\n* Path `prefix`: `/items`.\n* `tags`: (just one tag: `items`).\n* Extra `responses`.\n* `dependencies`: they all need that `X-Token` dependency we created.\n\nSo, instead of adding all that to each *path operation*, we can add it to the `APIRouter`.\n\n```Python hl_lines=\"5-10  16  21\" title=\"app/routers/items.py\"\n{!../../docs_src/bigger_applications/app/routers/items.py!}\n```\n\nAs the path of each *path operation* has to start with `/`, like in:\n\n```Python hl_lines=\"1\"\n@router.get(\"/{item_id}\")\nasync def read_item(item_id: str):\n    ...\n```\n\n...the prefix must not include a final `/`.\n\nSo, the prefix in this case is `/items`.\n\nWe can also add a list of `tags` and extra `responses` that will be applied to all the *path operations* included in this router.\n\nAnd we can add a list of `dependencies` that will be added to all the *path operations* in the router and will be executed/solved for each request made to them.\n\n/// tip\n\nNote that, much like [dependencies in *path operation decorators*](dependencies/dependencies-in-path-operation-decorators.md){.internal-link target=_blank}, no value will be passed to your *path operation function*.\n\n///\n\nThe end result is that the item paths are now:\n\n* `/items/`\n* `/items/{item_id}`\n\n...as we intended.\n\n* They will be marked with a list of tags that contain a single string `\"items\"`.\n    * These \"tags\" are especially useful for the automatic interactive documentation systems (using OpenAPI).\n* All of them will include the predefined `responses`.\n* All these *path operations* will have the list of `dependencies` evaluated/executed before them.\n    * If you also declare dependencies in a specific *path operation*, **they will be executed too**.\n    * The router dependencies are executed first, then the [`dependencies` in the decorator](dependencies/dependencies-in-path-operation-decorators.md){.internal-link target=_blank}, and then the normal parameter dependencies.\n    * You can also add [`Security` dependencies with `scopes`](../advanced/security/oauth2-scopes.md){.internal-link target=_blank}.\n\n/// tip\n\nHaving `dependencies` in the `APIRouter` can be used, for example, to require authentication for a whole group of *path operations*. Even if the dependencies are not added individually to each one of them.\n\n///\n\n/// check\n\nThe `prefix`, `tags`, `responses`, and `dependencies` parameters are (as in many other cases) just a feature from **FastAPI** to help you avoid code duplication.\n\n///", "source": "tutorial\\bigger-applications.md"}
{"doc_id": "fastapi_1337", "title": "Bigger Applications - Multiple Files { #bigger-applications-multiple-files }", "section": "Import the dependencies { #import-the-dependencies }", "content": "This code lives in the module `app.routers.items`, the file `app/routers/items.py`.\n\nAnd we need to get the dependency function from the module `app.dependencies`, the file `app/dependencies.py`.\n\nSo we use a relative import with `..` for the dependencies:\n\n```Python hl_lines=\"3\" title=\"app/routers/items.py\"\n{!../../docs_src/bigger_applications/app/routers/items.py!}\n```\n\n#### How relative imports work { #how-relative-imports-work }\n\n/// tip\n\nIf you know perfectly how imports work, continue to the next section below.\n\n///\n\nA single dot `.`, like in:\n\n```Python\nfrom .dependencies import get_token_header\n```\n\nwould mean:\n\n* Starting in the same package that this module (the file `app/routers/items.py`) lives in (the directory `app/routers/`)...\n* find the module `dependencies` (an imaginary file at `app/routers/dependencies.py`)...\n* and from it, import the function `get_token_header`.\n\nBut that file doesn't exist, our dependencies are in a file at `app/dependencies.py`.\n\nRemember how our app/file structure looks like:\n\n<img src=\"/img/tutorial/bigger-applications/package.drawio.svg\">\n\n---\n\nThe two dots `..`, like in:\n\n```Python\nfrom ..dependencies import get_token_header\n```\n\nmean:\n\n* Starting in the same package that this module (the file `app/routers/items.py`) lives in (the directory `app/routers/`)...\n* go to the parent package (the directory `app/`)...\n* and in there, find the module `dependencies` (the file at `app/dependencies.py`)...\n* and from it, import the function `get_token_header`.\n\nThat works correctly! üéâ\n\n---\n\nThe same way, if we had used three dots `...`, like in:\n\n```Python\nfrom ...dependencies import get_token_header\n```\n\nthat would mean:\n\n* Starting in the same package that this module (the file `app/routers/items.py`) lives in (the directory `app/routers/`)...\n* go to the parent package (the directory `app/`)...\n* then go to the parent of that package (there's no parent package, `app` is the top level üò±)...\n* and in there, find the module `dependencies` (the file at `app/dependencies.py`)...\n* and from it, import the function `get_token_header`.\n\nThat would refer to some package above `app/`, with its own file `__init__.py`, etc. But we don't have that. So, that would throw an error in our example. üö®\n\nBut now you know how it works, so you can use relative imports in your own apps no matter how complex they are. ü§ì", "source": "tutorial\\bigger-applications.md"}
{"doc_id": "fastapi_1338", "title": "Bigger Applications - Multiple Files { #bigger-applications-multiple-files }", "section": "Add some custom `tags`, `responses`, and `dependencies` { #add-some-custom-tags-responses-and-dependencies }", "content": "We are not adding the prefix `/items` nor the `tags=[\"items\"]` to each *path operation* because we added them to the `APIRouter`.\n\nBut we can still add _more_ `tags` that will be applied to a specific *path operation*, and also some extra `responses` specific to that *path operation*:\n\n```Python hl_lines=\"30-31\" title=\"app/routers/items.py\"\n{!../../docs_src/bigger_applications/app/routers/items.py!}\n```\n\n/// tip\n\nThis last path operation will have the combination of tags: `[\"items\", \"custom\"]`.\n\nAnd it will also have both responses in the documentation, one for `404` and one for `403`.\n\n///", "source": "tutorial\\bigger-applications.md"}
{"doc_id": "fastapi_1339", "title": "Bigger Applications - Multiple Files { #bigger-applications-multiple-files }", "section": "The main `FastAPI` { #the-main-fastapi }", "content": "Now, let's see the module at `app/main.py`.\n\nHere's where you import and use the class `FastAPI`.\n\nThis will be the main file in your application that ties everything together.\n\nAnd as most of your logic will now live in its own specific module, the main file will be quite simple.", "source": "tutorial\\bigger-applications.md"}
{"doc_id": "fastapi_1340", "title": "Bigger Applications - Multiple Files { #bigger-applications-multiple-files }", "section": "Import `FastAPI` { #import-fastapi }", "content": "You import and create a `FastAPI` class as normally.\n\nAnd we can even declare [global dependencies](dependencies/global-dependencies.md){.internal-link target=_blank} that will be combined with the dependencies for each `APIRouter`:\n\n```Python hl_lines=\"1  3  7\" title=\"app/main.py\"\n{!../../docs_src/bigger_applications/app/main.py!}\n```", "source": "tutorial\\bigger-applications.md"}
{"doc_id": "fastapi_1341", "title": "Bigger Applications - Multiple Files { #bigger-applications-multiple-files }", "section": "Import the `APIRouter` { #import-the-apirouter }", "content": "Now we import the other submodules that have `APIRouter`s:\n\n```Python hl_lines=\"4-5\" title=\"app/main.py\"\n{!../../docs_src/bigger_applications/app/main.py!}\n```\n\nAs the files `app/routers/users.py` and `app/routers/items.py` are submodules that are part of the same Python package `app`, we can use a single dot `.` to import them using \"relative imports\".", "source": "tutorial\\bigger-applications.md"}
{"doc_id": "fastapi_1342", "title": "Bigger Applications - Multiple Files { #bigger-applications-multiple-files }", "section": "How the importing works { #how-the-importing-works }", "content": "The section:\n\n```Python\nfrom .routers import items, users\n```\n\nmeans:\n\n* Starting in the same package that this module (the file `app/main.py`) lives in (the directory `app/`)...\n* look for the subpackage `routers` (the directory at `app/routers/`)...\n* and from it, import the submodule `items` (the file at `app/routers/items.py`) and `users` (the file at `app/routers/users.py`)...\n\nThe module `items` will have a variable `router` (`items.router`). This is the same one we created in the file `app/routers/items.py`, it's an `APIRouter` object.\n\nAnd then we do the same for the module `users`.\n\nWe could also import them like:\n\n```Python\nfrom app.routers import items, users\n```\n\n/// info\n\nThe first version is a \"relative import\":\n\n```Python\nfrom .routers import items, users\n```\n\nThe second version is an \"absolute import\":\n\n```Python\nfrom app.routers import items, users\n```\n\nTo learn more about Python Packages and Modules, read <a href=\"https://docs.python.org/3/tutorial/modules.html\" class=\"external-link\" target=\"_blank\">the official Python documentation about Modules</a>.\n\n///", "source": "tutorial\\bigger-applications.md"}
{"doc_id": "fastapi_1343", "title": "Bigger Applications - Multiple Files { #bigger-applications-multiple-files }", "section": "Avoid name collisions { #avoid-name-collisions }", "content": "We are importing the submodule `items` directly, instead of importing just its variable `router`.\n\nThis is because we also have another variable named `router` in the submodule `users`.\n\nIf we had imported one after the other, like:\n\n```Python\nfrom .routers.items import router\nfrom .routers.users import router\n```\n\nthe `router` from `users` would overwrite the one from `items` and we wouldn't be able to use them at the same time.\n\nSo, to be able to use both of them in the same file, we import the submodules directly:\n\n```Python hl_lines=\"5\" title=\"app/main.py\"\n{!../../docs_src/bigger_applications/app/main.py!}\n```", "source": "tutorial\\bigger-applications.md"}
{"doc_id": "fastapi_1344", "title": "Bigger Applications - Multiple Files { #bigger-applications-multiple-files }", "section": "Include the `APIRouter`s for `users` and `items` { #include-the-apirouters-for-users-and-items }", "content": "Now, let's include the `router`s from the submodules `users` and `items`:\n\n```Python hl_lines=\"10-11\" title=\"app/main.py\"\n{!../../docs_src/bigger_applications/app/main.py!}\n```\n\n/// info\n\n`users.router` contains the `APIRouter` inside of the file `app/routers/users.py`.\n\nAnd `items.router` contains the `APIRouter` inside of the file `app/routers/items.py`.\n\n///\n\nWith `app.include_router()` we can add each `APIRouter` to the main `FastAPI` application.\n\nIt will include all the routes from that router as part of it.\n\n/// note | Technical Details\n\nIt will actually internally create a *path operation* for each *path operation* that was declared in the `APIRouter`.\n\nSo, behind the scenes, it will actually work as if everything was the same single app.\n\n///\n\n/// check\n\nYou don't have to worry about performance when including routers.\n\nThis will take microseconds and will only happen at startup.\n\nSo it won't affect performance. ‚ö°\n\n///", "source": "tutorial\\bigger-applications.md"}
{"doc_id": "fastapi_1345", "title": "Bigger Applications - Multiple Files { #bigger-applications-multiple-files }", "section": "Include an `APIRouter` with a custom `prefix`, `tags`, `responses`, and `dependencies` { #include-an-apirouter-with-a-custom-prefix-tags-responses-and-dependencies }", "content": "Now, let's imagine your organization gave you the `app/internal/admin.py` file.\n\nIt contains an `APIRouter` with some admin *path operations* that your organization shares between several projects.\n\nFor this example it will be super simple. But let's say that because it is shared with other projects in the organization, we cannot modify it and add a `prefix`, `dependencies`, `tags`, etc. directly to the `APIRouter`:\n\n```Python hl_lines=\"3\" title=\"app/internal/admin.py\"\n{!../../docs_src/bigger_applications/app/internal/admin.py!}\n```\n\nBut we still want to set a custom `prefix` when including the `APIRouter` so that all its *path operations* start with `/admin`, we want to secure it with the `dependencies` we already have for this project, and we want to include `tags` and `responses`.\n\nWe can declare all that without having to modify the original `APIRouter` by passing those parameters to `app.include_router()`:\n\n```Python hl_lines=\"14-17\" title=\"app/main.py\"\n{!../../docs_src/bigger_applications/app/main.py!}\n```\n\nThat way, the original `APIRouter` will stay unmodified, so we can still share that same `app/internal/admin.py` file with other projects in the organization.\n\nThe result is that in our app, each of the *path operations* from the `admin` module will have:\n\n* The prefix `/admin`.\n* The tag `admin`.\n* The dependency `get_token_header`.\n* The response `418`. üçµ\n\nBut that will only affect that `APIRouter` in our app, not in any other code that uses it.\n\nSo, for example, other projects could use the same `APIRouter` with a different authentication method.", "source": "tutorial\\bigger-applications.md"}
{"doc_id": "fastapi_1346", "title": "Bigger Applications - Multiple Files { #bigger-applications-multiple-files }", "section": "Include a *path operation* { #include-a-path-operation }", "content": "We can also add *path operations* directly to the `FastAPI` app.\n\nHere we do it... just to show that we can ü§∑:\n\n```Python hl_lines=\"21-23\" title=\"app/main.py\"\n{!../../docs_src/bigger_applications/app/main.py!}\n```\n\nand it will work correctly, together with all the other *path operations* added with `app.include_router()`.\n\n/// info | Very Technical Details\n\n**Note**: this is a very technical detail that you probably can **just skip**.\n\n---\n\nThe `APIRouter`s are not \"mounted\", they are not isolated from the rest of the application.\n\nThis is because we want to include their *path operations* in the OpenAPI schema and the user interfaces.\n\nAs we cannot just isolate them and \"mount\" them independently of the rest, the *path operations* are \"cloned\" (re-created), not included directly.\n\n///", "source": "tutorial\\bigger-applications.md"}
{"doc_id": "fastapi_1347", "title": "Bigger Applications - Multiple Files { #bigger-applications-multiple-files }", "section": "Check the automatic API docs { #check-the-automatic-api-docs }", "content": "Now, run your app:\n\n<div class=\"termy\">\n\n```console\n$ fastapi dev app/main.py\n\n<span style=\"color: green;\">INFO</span>:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)\n```\n\n</div>\n\nAnd open the docs at <a href=\"http://127.0.0.1:8000/docs\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/docs</a>.\n\nYou will see the automatic API docs, including the paths from all the submodules, using the correct paths (and prefixes) and the correct tags:\n\n<img src=\"/img/tutorial/bigger-applications/image01.png\">", "source": "tutorial\\bigger-applications.md"}
{"doc_id": "fastapi_1348", "title": "Bigger Applications - Multiple Files { #bigger-applications-multiple-files }", "section": "Include the same router multiple times with different `prefix` { #include-the-same-router-multiple-times-with-different-prefix }", "content": "You can also use `.include_router()` multiple times with the *same* router using different prefixes.\n\nThis could be useful, for example, to expose the same API under different prefixes, e.g. `/api/v1` and `/api/latest`.\n\nThis is an advanced usage that you might not really need, but it's there in case you do.", "source": "tutorial\\bigger-applications.md"}
{"doc_id": "fastapi_1349", "title": "Bigger Applications - Multiple Files { #bigger-applications-multiple-files }", "section": "Include an `APIRouter` in another { #include-an-apirouter-in-another }", "content": "The same way you can include an `APIRouter` in a `FastAPI` application, you can include an `APIRouter` in another `APIRouter` using:\n\n```Python\nrouter.include_router(other_router)\n```\n\nMake sure you do it before including `router` in the `FastAPI` app, so that the *path operations* from `other_router` are also included.", "source": "tutorial\\bigger-applications.md"}
{"doc_id": "fastapi_1350", "title": "Body - Fields { #body-fields }", "section": "Body - Fields { #body-fields }", "content": "The same way you can declare additional validation and metadata in *path operation function* parameters with `Query`, `Path` and `Body`, you can declare validation and metadata inside of Pydantic models using Pydantic's `Field`.", "source": "tutorial\\body-fields.md"}
{"doc_id": "fastapi_1351", "title": "Body - Fields { #body-fields }", "section": "Import `Field` { #import-field }", "content": "First, you have to import it:\n\n{* ../../docs_src/body_fields/tutorial001_an_py310.py hl[4] *}\n\n\n/// warning\n\nNotice that `Field` is imported directly from `pydantic`, not from `fastapi` as are all the rest (`Query`, `Path`, `Body`, etc).\n\n///", "source": "tutorial\\body-fields.md"}
{"doc_id": "fastapi_1352", "title": "Body - Fields { #body-fields }", "section": "Declare model attributes { #declare-model-attributes }", "content": "You can then use `Field` with model attributes:\n\n{* ../../docs_src/body_fields/tutorial001_an_py310.py hl[11:14] *}\n\n`Field` works the same way as `Query`, `Path` and `Body`, it has all the same parameters, etc.\n\n/// note | Technical Details\n\nActually, `Query`, `Path` and others you'll see next create objects of subclasses of a common `Param` class, which is itself a subclass of Pydantic's `FieldInfo` class.\n\nAnd Pydantic's `Field` returns an instance of `FieldInfo` as well.\n\n`Body` also returns objects of a subclass of `FieldInfo` directly. And there are others you will see later that are subclasses of the `Body` class.\n\nRemember that when you import `Query`, `Path`, and others from `fastapi`, those are actually functions that return special classes.\n\n///\n\n/// tip\n\nNotice how each model's attribute with a type, default value and `Field` has the same structure as a *path operation function's* parameter, with `Field` instead of `Path`, `Query` and `Body`.\n\n///", "source": "tutorial\\body-fields.md"}
{"doc_id": "fastapi_1353", "title": "Body - Fields { #body-fields }", "section": "Add extra information { #add-extra-information }", "content": "You can declare extra information in `Field`, `Query`, `Body`, etc. And it will be included in the generated JSON Schema.\n\nYou will learn more about adding extra information later in the docs, when learning to declare examples.\n\n/// warning\n\nExtra keys passed to `Field` will also be present in the resulting OpenAPI schema for your application.\nAs these keys may not necessarily be part of the OpenAPI specification, some OpenAPI tools, for example [the OpenAPI validator](https://validator.swagger.io/), may not work with your generated schema.\n\n///", "source": "tutorial\\body-fields.md"}
{"doc_id": "fastapi_1354", "title": "Body - Fields { #body-fields }", "section": "Recap { #recap }", "content": "You can use Pydantic's `Field` to declare extra validations and metadata for model attributes.\n\nYou can also use the extra keyword arguments to pass additional JSON Schema metadata.", "source": "tutorial\\body-fields.md"}
{"doc_id": "fastapi_1355", "title": "Body - Multiple Parameters { #body-multiple-parameters }", "section": "Body - Multiple Parameters { #body-multiple-parameters }", "content": "Now that we have seen how to use `Path` and `Query`, let's see more advanced uses of request body declarations.", "source": "tutorial\\body-multiple-params.md"}
{"doc_id": "fastapi_1356", "title": "Body - Multiple Parameters { #body-multiple-parameters }", "section": "Mix `Path`, `Query` and body parameters { #mix-path-query-and-body-parameters }", "content": "First, of course, you can mix `Path`, `Query` and request body parameter declarations freely and **FastAPI** will know what to do.\n\nAnd you can also declare body parameters as optional, by setting the default to `None`:\n\n{* ../../docs_src/body_multiple_params/tutorial001_an_py310.py hl[18:20] *}\n\n/// note\n\nNotice that, in this case, the `item` that would be taken from the body is optional. As it has a `None` default value.\n\n///", "source": "tutorial\\body-multiple-params.md"}
{"doc_id": "fastapi_1357", "title": "Body - Multiple Parameters { #body-multiple-parameters }", "section": "Multiple body parameters { #multiple-body-parameters }", "content": "In the previous example, the *path operations* would expect a JSON body with the attributes of an `Item`, like:\n\n```JSON\n{\n    \"name\": \"Foo\",\n    \"description\": \"The pretender\",\n    \"price\": 42.0,\n    \"tax\": 3.2\n}\n```\n\nBut you can also declare multiple body parameters, e.g. `item` and `user`:\n\n{* ../../docs_src/body_multiple_params/tutorial002_py310.py hl[20] *}\n\n\nIn this case, **FastAPI** will notice that there is more than one body parameter in the function (there are two parameters that are Pydantic models).\n\nSo, it will then use the parameter names as keys (field names) in the body, and expect a body like:\n\n```JSON\n{\n    \"item\": {\n        \"name\": \"Foo\",\n        \"description\": \"The pretender\",\n        \"price\": 42.0,\n        \"tax\": 3.2\n    },\n    \"user\": {\n        \"username\": \"dave\",\n        \"full_name\": \"Dave Grohl\"\n    }\n}\n```\n\n/// note\n\nNotice that even though the `item` was declared the same way as before, it is now expected to be inside of the body with a key `item`.\n\n///\n\n**FastAPI** will do the automatic conversion from the request, so that the parameter `item` receives its specific content and the same for `user`.\n\nIt will perform the validation of the compound data, and will document it like that for the OpenAPI schema and automatic docs.", "source": "tutorial\\body-multiple-params.md"}
{"doc_id": "fastapi_1358", "title": "Body - Multiple Parameters { #body-multiple-parameters }", "section": "Singular values in body { #singular-values-in-body }", "content": "The same way there is a `Query` and `Path` to define extra data for query and path parameters, **FastAPI** provides an equivalent `Body`.\n\nFor example, extending the previous model, you could decide that you want to have another key `importance` in the same body, besides the `item` and `user`.\n\nIf you declare it as is, because it is a singular value, **FastAPI** will assume that it is a query parameter.\n\nBut you can instruct **FastAPI** to treat it as another body key using `Body`:\n\n{* ../../docs_src/body_multiple_params/tutorial003_an_py310.py hl[23] *}\n\n\nIn this case, **FastAPI** will expect a body like:\n\n```JSON\n{\n    \"item\": {\n        \"name\": \"Foo\",\n        \"description\": \"The pretender\",\n        \"price\": 42.0,\n        \"tax\": 3.2\n    },\n    \"user\": {\n        \"username\": \"dave\",\n        \"full_name\": \"Dave Grohl\"\n    },\n    \"importance\": 5\n}\n```\n\nAgain, it will convert the data types, validate, document, etc.", "source": "tutorial\\body-multiple-params.md"}
{"doc_id": "fastapi_1359", "title": "Body - Multiple Parameters { #body-multiple-parameters }", "section": "Multiple body params and query { #multiple-body-params-and-query }", "content": "Of course, you can also declare additional query parameters whenever you need, additional to any body parameters.\n\nAs, by default, singular values are interpreted as query parameters, you don't have to explicitly add a `Query`, you can just do:\n\n```Python\nq: Union[str, None] = None\n```\n\nOr in Python 3.10 and above:\n\n```Python\nq: str | None = None\n```\n\nFor example:\n\n{* ../../docs_src/body_multiple_params/tutorial004_an_py310.py hl[28] *}\n\n\n/// info\n\n`Body` also has all the same extra validation and metadata parameters as `Query`, `Path` and others you will see later.\n\n///", "source": "tutorial\\body-multiple-params.md"}
{"doc_id": "fastapi_1360", "title": "Body - Multiple Parameters { #body-multiple-parameters }", "section": "Embed a single body parameter { #embed-a-single-body-parameter }", "content": "Let's say you only have a single `item` body parameter from a Pydantic model `Item`.\n\nBy default, **FastAPI** will then expect its body directly.\n\nBut if you want it to expect a JSON with a key `item` and inside of it the model contents, as it does when you declare extra body parameters, you can use the special `Body` parameter `embed`:\n\n```Python\nitem: Item = Body(embed=True)\n```\n\nas in:\n\n{* ../../docs_src/body_multiple_params/tutorial005_an_py310.py hl[17] *}\n\n\nIn this case **FastAPI** will expect a body like:\n\n```JSON hl_lines=\"2\"\n{\n    \"item\": {\n        \"name\": \"Foo\",\n        \"description\": \"The pretender\",\n        \"price\": 42.0,\n        \"tax\": 3.2\n    }\n}\n```\n\ninstead of:\n\n```JSON\n{\n    \"name\": \"Foo\",\n    \"description\": \"The pretender\",\n    \"price\": 42.0,\n    \"tax\": 3.2\n}\n```", "source": "tutorial\\body-multiple-params.md"}
{"doc_id": "fastapi_1361", "title": "Body - Multiple Parameters { #body-multiple-parameters }", "section": "Recap { #recap }", "content": "You can add multiple body parameters to your *path operation function*, even though a request can only have a single body.\n\nBut **FastAPI** will handle it, give you the correct data in your function, and validate and document the correct schema in the *path operation*.\n\nYou can also declare singular values to be received as part of the body.\n\nAnd you can instruct **FastAPI** to embed the body in a key even when there is only a single parameter declared.", "source": "tutorial\\body-multiple-params.md"}
{"doc_id": "fastapi_1362", "title": "Body - Nested Models { #body-nested-models }", "section": "Body - Nested Models { #body-nested-models }", "content": "With **FastAPI**, you can define, validate, document, and use arbitrarily deeply nested models (thanks to Pydantic).", "source": "tutorial\\body-nested-models.md"}
{"doc_id": "fastapi_1363", "title": "Body - Nested Models { #body-nested-models }", "section": "List fields { #list-fields }", "content": "You can define an attribute to be a subtype. For example, a Python `list`:\n\n{* ../../docs_src/body_nested_models/tutorial001_py310.py hl[12] *}\n\nThis will make `tags` be a list, although it doesn't declare the type of the elements of the list.", "source": "tutorial\\body-nested-models.md"}
{"doc_id": "fastapi_1364", "title": "Body - Nested Models { #body-nested-models }", "section": "List fields with type parameter { #list-fields-with-type-parameter }", "content": "But Python has a specific way to declare lists with internal types, or \"type parameters\":", "source": "tutorial\\body-nested-models.md"}
{"doc_id": "fastapi_1365", "title": "Body - Nested Models { #body-nested-models }", "section": "Import typing's `List` { #import-typings-list }", "content": "In Python 3.9 and above you can use the standard `list` to declare these type annotations as we'll see below. üí°\n\nBut in Python versions before 3.9 (3.6 and above), you first need to import `List` from standard Python's `typing` module:\n\n{* ../../docs_src/body_nested_models/tutorial002.py hl[1] *}", "source": "tutorial\\body-nested-models.md"}
{"doc_id": "fastapi_1366", "title": "Body - Nested Models { #body-nested-models }", "section": "Declare a `list` with a type parameter { #declare-a-list-with-a-type-parameter }", "content": "To declare types that have type parameters (internal types), like `list`, `dict`, `tuple`:\n\n* If you are in a Python version lower than 3.9, import their equivalent version from the `typing` module\n* Pass the internal type(s) as \"type parameters\" using square brackets: `[` and `]`\n\nIn Python 3.9 it would be:\n\n```Python\nmy_list: list[str]\n```\n\nIn versions of Python before 3.9, it would be:\n\n```Python\nfrom typing import List\n\nmy_list: List[str]\n```\n\nThat's all standard Python syntax for type declarations.\n\nUse that same standard syntax for model attributes with internal types.\n\nSo, in our example, we can make `tags` be specifically a \"list of strings\":\n\n{* ../../docs_src/body_nested_models/tutorial002_py310.py hl[12] *}", "source": "tutorial\\body-nested-models.md"}
{"doc_id": "fastapi_1367", "title": "Body - Nested Models { #body-nested-models }", "section": "Set types { #set-types }", "content": "But then we think about it, and realize that tags shouldn't repeat, they would probably be unique strings.\n\nAnd Python has a special data type for sets of unique items, the `set`.\n\nThen we can declare `tags` as a set of strings:\n\n{* ../../docs_src/body_nested_models/tutorial003_py310.py hl[12] *}\n\nWith this, even if you receive a request with duplicate data, it will be converted to a set of unique items.\n\nAnd whenever you output that data, even if the source had duplicates, it will be output as a set of unique items.\n\nAnd it will be annotated / documented accordingly too.", "source": "tutorial\\body-nested-models.md"}
{"doc_id": "fastapi_1368", "title": "Body - Nested Models { #body-nested-models }", "section": "Nested Models { #nested-models }", "content": "Each attribute of a Pydantic model has a type.\n\nBut that type can itself be another Pydantic model.\n\nSo, you can declare deeply nested JSON \"objects\" with specific attribute names, types and validations.\n\nAll that, arbitrarily nested.", "source": "tutorial\\body-nested-models.md"}
{"doc_id": "fastapi_1369", "title": "Body - Nested Models { #body-nested-models }", "section": "Define a submodel { #define-a-submodel }", "content": "For example, we can define an `Image` model:\n\n{* ../../docs_src/body_nested_models/tutorial004_py310.py hl[7:9] *}", "source": "tutorial\\body-nested-models.md"}
{"doc_id": "fastapi_1370", "title": "Body - Nested Models { #body-nested-models }", "section": "Use the submodel as a type { #use-the-submodel-as-a-type }", "content": "And then we can use it as the type of an attribute:\n\n{* ../../docs_src/body_nested_models/tutorial004_py310.py hl[18] *}\n\nThis would mean that **FastAPI** would expect a body similar to:\n\n```JSON\n{\n    \"name\": \"Foo\",\n    \"description\": \"The pretender\",\n    \"price\": 42.0,\n    \"tax\": 3.2,\n    \"tags\": [\"rock\", \"metal\", \"bar\"],\n    \"image\": {\n        \"url\": \"http://example.com/baz.jpg\",\n        \"name\": \"The Foo live\"\n    }\n}\n```\n\nAgain, doing just that declaration, with **FastAPI** you get:\n\n* Editor support (completion, etc.), even for nested models\n* Data conversion\n* Data validation\n* Automatic documentation", "source": "tutorial\\body-nested-models.md"}
{"doc_id": "fastapi_1371", "title": "Body - Nested Models { #body-nested-models }", "section": "Special types and validation { #special-types-and-validation }", "content": "Apart from normal singular types like `str`, `int`, `float`, etc. you can use more complex singular types that inherit from `str`.\n\nTo see all the options you have, checkout <a href=\"https://docs.pydantic.dev/latest/concepts/types/\" class=\"external-link\" target=\"_blank\">Pydantic's Type Overview</a>. You will see some examples in the next chapter.\n\nFor example, as in the `Image` model we have a `url` field, we can declare it to be an instance of Pydantic's `HttpUrl` instead of a `str`:\n\n{* ../../docs_src/body_nested_models/tutorial005_py310.py hl[2,8] *}\n\nThe string will be checked to be a valid URL, and documented in JSON Schema / OpenAPI as such.", "source": "tutorial\\body-nested-models.md"}
{"doc_id": "fastapi_1372", "title": "Body - Nested Models { #body-nested-models }", "section": "Attributes with lists of submodels { #attributes-with-lists-of-submodels }", "content": "You can also use Pydantic models as subtypes of `list`, `set`, etc.:\n\n{* ../../docs_src/body_nested_models/tutorial006_py310.py hl[18] *}\n\nThis will expect (convert, validate, document, etc.) a JSON body like:\n\n```JSON hl_lines=\"11\"\n{\n    \"name\": \"Foo\",\n    \"description\": \"The pretender\",\n    \"price\": 42.0,\n    \"tax\": 3.2,\n    \"tags\": [\n        \"rock\",\n        \"metal\",\n        \"bar\"\n    ],\n    \"images\": [\n        {\n            \"url\": \"http://example.com/baz.jpg\",\n            \"name\": \"The Foo live\"\n        },\n        {\n            \"url\": \"http://example.com/dave.jpg\",\n            \"name\": \"The Baz\"\n        }\n    ]\n}\n```\n\n/// info\n\nNotice how the `images` key now has a list of image objects.\n\n///", "source": "tutorial\\body-nested-models.md"}
{"doc_id": "fastapi_1373", "title": "Body - Nested Models { #body-nested-models }", "section": "Deeply nested models { #deeply-nested-models }", "content": "You can define arbitrarily deeply nested models:\n\n{* ../../docs_src/body_nested_models/tutorial007_py310.py hl[7,12,18,21,25] *}\n\n/// info\n\nNotice how `Offer` has a list of `Item`s, which in turn have an optional list of `Image`s\n\n///", "source": "tutorial\\body-nested-models.md"}
{"doc_id": "fastapi_1374", "title": "Body - Nested Models { #body-nested-models }", "section": "Bodies of pure lists { #bodies-of-pure-lists }", "content": "If the top level value of the JSON body you expect is a JSON `array` (a Python `list`), you can declare the type in the parameter of the function, the same as in Pydantic models:\n\n```Python\nimages: List[Image]\n```\n\nor in Python 3.9 and above:\n\n```Python\nimages: list[Image]\n```\n\nas in:\n\n{* ../../docs_src/body_nested_models/tutorial008_py39.py hl[13] *}", "source": "tutorial\\body-nested-models.md"}
{"doc_id": "fastapi_1375", "title": "Body - Nested Models { #body-nested-models }", "section": "Editor support everywhere { #editor-support-everywhere }", "content": "And you get editor support everywhere.\n\nEven for items inside of lists:\n\n<img src=\"/img/tutorial/body-nested-models/image01.png\">\n\nYou couldn't get this kind of editor support if you were working directly with `dict` instead of Pydantic models.\n\nBut you don't have to worry about them either, incoming dicts are converted automatically and your output is converted automatically to JSON too.", "source": "tutorial\\body-nested-models.md"}
{"doc_id": "fastapi_1376", "title": "Body - Nested Models { #body-nested-models }", "section": "Bodies of arbitrary `dict`s { #bodies-of-arbitrary-dicts }", "content": "You can also declare a body as a `dict` with keys of some type and values of some other type.\n\nThis way, you don't have to know beforehand what the valid field/attribute names are (as would be the case with Pydantic models).\n\nThis would be useful if you want to receive keys that you don't already know.\n\n---\n\nAnother useful case is when you want to have keys of another type (e.g., `int`).\n\nThat's what we are going to see here.\n\nIn this case, you would accept any `dict` as long as it has `int` keys with `float` values:\n\n{* ../../docs_src/body_nested_models/tutorial009_py39.py hl[7] *}\n\n/// tip\n\nKeep in mind that JSON only supports `str` as keys.\n\nBut Pydantic has automatic data conversion.\n\nThis means that, even though your API clients can only send strings as keys, as long as those strings contain pure integers, Pydantic will convert them and validate them.\n\nAnd the `dict` you receive as `weights` will actually have `int` keys and `float` values.\n\n///", "source": "tutorial\\body-nested-models.md"}
{"doc_id": "fastapi_1377", "title": "Body - Nested Models { #body-nested-models }", "section": "Recap { #recap }", "content": "With **FastAPI** you have the maximum flexibility provided by Pydantic models, while keeping your code simple, short and elegant.\n\nBut with all the benefits:\n\n* Editor support (completion everywhere!)\n* Data conversion (a.k.a. parsing / serialization)\n* Data validation\n* Schema documentation\n* Automatic docs", "source": "tutorial\\body-nested-models.md"}
{"doc_id": "fastapi_1378", "title": "Body - Updates { #body-updates }", "section": "Body - Updates { #body-updates }", "content": "", "source": "tutorial\\body-updates.md"}
{"doc_id": "fastapi_1379", "title": "Body - Updates { #body-updates }", "section": "Update replacing with `PUT` { #update-replacing-with-put }", "content": "To update an item you can use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PUT\" class=\"external-link\" target=\"_blank\">HTTP `PUT`</a> operation.\n\nYou can use the `jsonable_encoder` to convert the input data to data that can be stored as JSON (e.g. with a NoSQL database). For example, converting `datetime` to `str`.\n\n{* ../../docs_src/body_updates/tutorial001_py310.py hl[28:33] *}\n\n`PUT` is used to receive data that should replace the existing data.", "source": "tutorial\\body-updates.md"}
{"doc_id": "fastapi_1380", "title": "Body - Updates { #body-updates }", "section": "Warning about replacing { #warning-about-replacing }", "content": "That means that if you want to update the item `bar` using `PUT` with a body containing:\n\n```Python\n{\n    \"name\": \"Barz\",\n    \"price\": 3,\n    \"description\": None,\n}\n```\n\nbecause it doesn't include the already stored attribute `\"tax\": 20.2`, the input model would take the default value of `\"tax\": 10.5`.\n\nAnd the data would be saved with that \"new\" `tax` of `10.5`.", "source": "tutorial\\body-updates.md"}
{"doc_id": "fastapi_1381", "title": "Body - Updates { #body-updates }", "section": "Partial updates with `PATCH` { #partial-updates-with-patch }", "content": "You can also use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PATCH\" class=\"external-link\" target=\"_blank\">HTTP `PATCH`</a> operation to *partially* update data.\n\nThis means that you can send only the data that you want to update, leaving the rest intact.\n\n/// note\n\n`PATCH` is less commonly used and known than `PUT`.\n\nAnd many teams use only `PUT`, even for partial updates.\n\nYou are **free** to use them however you want, **FastAPI** doesn't impose any restrictions.\n\nBut this guide shows you, more or less, how they are intended to be used.\n\n///", "source": "tutorial\\body-updates.md"}
{"doc_id": "fastapi_1382", "title": "Body - Updates { #body-updates }", "section": "Using Pydantic's `exclude_unset` parameter { #using-pydantics-exclude-unset-parameter }", "content": "If you want to receive partial updates, it's very useful to use the parameter `exclude_unset` in Pydantic's model's `.model_dump()`.\n\nLike `item.model_dump(exclude_unset=True)`.\n\n/// info\n\nIn Pydantic v1 the method was called `.dict()`, it was deprecated (but still supported) in Pydantic v2, and renamed to `.model_dump()`.\n\nThe examples here use `.dict()` for compatibility with Pydantic v1, but you should use `.model_dump()` instead if you can use Pydantic v2.\n\n///\n\nThat would generate a `dict` with only the data that was set when creating the `item` model, excluding default values.\n\nThen you can use this to generate a `dict` with only the data that was set (sent in the request), omitting default values:\n\n{* ../../docs_src/body_updates/tutorial002_py310.py hl[32] *}", "source": "tutorial\\body-updates.md"}
{"doc_id": "fastapi_1383", "title": "Body - Updates { #body-updates }", "section": "Using Pydantic's `update` parameter { #using-pydantics-update-parameter }", "content": "Now, you can create a copy of the existing model using `.model_copy()`, and pass the `update` parameter with a `dict` containing the data to update.\n\n/// info\n\nIn Pydantic v1 the method was called `.copy()`, it was deprecated (but still supported) in Pydantic v2, and renamed to `.model_copy()`.\n\nThe examples here use `.copy()` for compatibility with Pydantic v1, but you should use `.model_copy()` instead if you can use Pydantic v2.\n\n///\n\nLike `stored_item_model.model_copy(update=update_data)`:\n\n{* ../../docs_src/body_updates/tutorial002_py310.py hl[33] *}", "source": "tutorial\\body-updates.md"}
{"doc_id": "fastapi_1384", "title": "Body - Updates { #body-updates }", "section": "Partial updates recap { #partial-updates-recap }", "content": "In summary, to apply partial updates you would:\n\n* (Optionally) use `PATCH` instead of `PUT`.\n* Retrieve the stored data.\n* Put that data in a Pydantic model.\n* Generate a `dict` without default values from the input model (using `exclude_unset`).\n    * This way you can update only the values actually set by the user, instead of overriding values already stored with default values in your model.\n* Create a copy of the stored model, updating its attributes with the received partial updates (using the `update` parameter).\n* Convert the copied model to something that can be stored in your DB (for example, using the `jsonable_encoder`).\n    * This is comparable to using the model's `.model_dump()` method again, but it makes sure (and converts) the values to data types that can be converted to JSON, for example, `datetime` to `str`.\n* Save the data to your DB.\n* Return the updated model.\n\n{* ../../docs_src/body_updates/tutorial002_py310.py hl[28:35] *}\n\n/// tip\n\nYou can actually use this same technique with an HTTP `PUT` operation.\n\nBut the example here uses `PATCH` because it was created for these use cases.\n\n///\n\n/// note\n\nNotice that the input model is still validated.\n\nSo, if you want to receive partial updates that can omit all the attributes, you need to have a model with all the attributes marked as optional (with default values or `None`).\n\nTo distinguish from the models with all optional values for **updates** and models with required values for **creation**, you can use the ideas described in [Extra Models](extra-models.md){.internal-link target=_blank}.\n\n///", "source": "tutorial\\body-updates.md"}
{"doc_id": "fastapi_1385", "title": "Request Body { #request-body }", "section": "Request Body { #request-body }", "content": "When you need to send data from a client (let's say, a browser) to your API, you send it as a **request body**.\n\nA **request** body is data sent by the client to your API. A **response** body is the data your API sends to the client.\n\nYour API almost always has to send a **response** body. But clients don't necessarily need to send **request bodies** all the time, sometimes they only request a path, maybe with some query parameters, but don't send a body.\n\nTo declare a **request** body, you use <a href=\"https://docs.pydantic.dev/\" class=\"external-link\" target=\"_blank\">Pydantic</a> models with all their power and benefits.\n\n/// info\n\nTo send data, you should use one of: `POST` (the more common), `PUT`, `DELETE` or `PATCH`.\n\nSending a body with a `GET` request has an undefined behavior in the specifications, nevertheless, it is supported by FastAPI, only for very complex/extreme use cases.\n\nAs it is discouraged, the interactive docs with Swagger UI won't show the documentation for the body when using `GET`, and proxies in the middle might not support it.\n\n///", "source": "tutorial\\body.md"}
{"doc_id": "fastapi_1386", "title": "Request Body { #request-body }", "section": "Import Pydantic's `BaseModel` { #import-pydantics-basemodel }", "content": "First, you need to import `BaseModel` from `pydantic`:\n\n{* ../../docs_src/body/tutorial001_py310.py hl[2] *}", "source": "tutorial\\body.md"}
{"doc_id": "fastapi_1387", "title": "Request Body { #request-body }", "section": "Create your data model { #create-your-data-model }", "content": "Then you declare your data model as a class that inherits from `BaseModel`.\n\nUse standard Python types for all the attributes:\n\n{* ../../docs_src/body/tutorial001_py310.py hl[5:9] *}\n\n\nThe same as when declaring query parameters, when a model attribute has a default value, it is not required. Otherwise, it is required. Use `None` to make it just optional.\n\nFor example, this model above declares a JSON \"`object`\" (or Python `dict`) like:\n\n```JSON\n{\n    \"name\": \"Foo\",\n    \"description\": \"An optional description\",\n    \"price\": 45.2,\n    \"tax\": 3.5\n}\n```\n\n...as `description` and `tax` are optional (with a default value of `None`), this JSON \"`object`\" would also be valid:\n\n```JSON\n{\n    \"name\": \"Foo\",\n    \"price\": 45.2\n}\n```", "source": "tutorial\\body.md"}
{"doc_id": "fastapi_1388", "title": "Request Body { #request-body }", "section": "Declare it as a parameter { #declare-it-as-a-parameter }", "content": "To add it to your *path operation*, declare it the same way you declared path and query parameters:\n\n{* ../../docs_src/body/tutorial001_py310.py hl[16] *}\n\n...and declare its type as the model you created, `Item`.", "source": "tutorial\\body.md"}
{"doc_id": "fastapi_1389", "title": "Request Body { #request-body }", "section": "Results { #results }", "content": "With just that Python type declaration, **FastAPI** will:\n\n* Read the body of the request as JSON.\n* Convert the corresponding types (if needed).\n* Validate the data.\n    * If the data is invalid, it will return a nice and clear error, indicating exactly where and what was the incorrect data.\n* Give you the received data in the parameter `item`.\n    * As you declared it in the function to be of type `Item`, you will also have all the editor support (completion, etc) for all of the attributes and their types.\n* Generate <a href=\"https://json-schema.org\" class=\"external-link\" target=\"_blank\">JSON Schema</a> definitions for your model, you can also use them anywhere else you like if it makes sense for your project.\n* Those schemas will be part of the generated OpenAPI schema, and used by the automatic documentation <abbr title=\"User Interfaces\">UIs</abbr>.", "source": "tutorial\\body.md"}
{"doc_id": "fastapi_1390", "title": "Request Body { #request-body }", "section": "Automatic docs { #automatic-docs }", "content": "The JSON Schemas of your models will be part of your OpenAPI generated schema, and will be shown in the interactive API docs:\n\n<img src=\"/img/tutorial/body/image01.png\">\n\nAnd will also be used in the API docs inside each *path operation* that needs them:\n\n<img src=\"/img/tutorial/body/image02.png\">", "source": "tutorial\\body.md"}
{"doc_id": "fastapi_1391", "title": "Request Body { #request-body }", "section": "Editor support { #editor-support }", "content": "In your editor, inside your function you will get type hints and completion everywhere (this wouldn't happen if you received a `dict` instead of a Pydantic model):\n\n<img src=\"/img/tutorial/body/image03.png\">\n\nYou also get error checks for incorrect type operations:\n\n<img src=\"/img/tutorial/body/image04.png\">\n\nThis is not by chance, the whole framework was built around that design.\n\nAnd it was thoroughly tested at the design phase, before any implementation, to ensure it would work with all the editors.\n\nThere were even some changes to Pydantic itself to support this.\n\nThe previous screenshots were taken with <a href=\"https://code.visualstudio.com\" class=\"external-link\" target=\"_blank\">Visual Studio Code</a>.\n\nBut you would get the same editor support with <a href=\"https://www.jetbrains.com/pycharm/\" class=\"external-link\" target=\"_blank\">PyCharm</a> and most of the other Python editors:\n\n<img src=\"/img/tutorial/body/image05.png\">\n\n/// tip\n\nIf you use <a href=\"https://www.jetbrains.com/pycharm/\" class=\"external-link\" target=\"_blank\">PyCharm</a> as your editor, you can use the <a href=\"https://github.com/koxudaxi/pydantic-pycharm-plugin/\" class=\"external-link\" target=\"_blank\">Pydantic PyCharm Plugin</a>.\n\nIt improves editor support for Pydantic models, with:\n\n* auto-completion\n* type checks\n* refactoring\n* searching\n* inspections\n\n///", "source": "tutorial\\body.md"}
{"doc_id": "fastapi_1392", "title": "Request Body { #request-body }", "section": "Use the model { #use-the-model }", "content": "Inside of the function, you can access all the attributes of the model object directly:\n\n{* ../../docs_src/body/tutorial002_py310.py *}\n\n/// info\n\nIn Pydantic v1 the method was called `.dict()`, it was deprecated (but still supported) in Pydantic v2, and renamed to `.model_dump()`.\n\nThe examples here use `.dict()` for compatibility with Pydantic v1, but you should use `.model_dump()` instead if you can use Pydantic v2.\n\n///", "source": "tutorial\\body.md"}
{"doc_id": "fastapi_1393", "title": "Request Body { #request-body }", "section": "Request body + path parameters { #request-body-path-parameters }", "content": "You can declare path parameters and request body at the same time.\n\n**FastAPI** will recognize that the function parameters that match path parameters should be **taken from the path**, and that function parameters that are declared to be Pydantic models should be **taken from the request body**.\n\n{* ../../docs_src/body/tutorial003_py310.py hl[15:16] *}", "source": "tutorial\\body.md"}
{"doc_id": "fastapi_1394", "title": "Request Body { #request-body }", "section": "Request body + path + query parameters { #request-body-path-query-parameters }", "content": "You can also declare **body**, **path** and **query** parameters, all at the same time.\n\n**FastAPI** will recognize each of them and take the data from the correct place.\n\n{* ../../docs_src/body/tutorial004_py310.py hl[16] *}\n\nThe function parameters will be recognized as follows:\n\n* If the parameter is also declared in the **path**, it will be used as a path parameter.\n* If the parameter is of a **singular type** (like `int`, `float`, `str`, `bool`, etc) it will be interpreted as a **query** parameter.\n* If the parameter is declared to be of the type of a **Pydantic model**, it will be interpreted as a request **body**.\n\n/// note\n\nFastAPI will know that the value of `q` is not required because of the default value `= None`.\n\nThe `str | None` (Python 3.10+) or `Union` in `Union[str, None]` (Python 3.8+) is not used by FastAPI to determine that the value is not required, it will know it's not required because it has a default value of `= None`.\n\nBut adding the type annotations will allow your editor to give you better support and detect errors.\n\n///", "source": "tutorial\\body.md"}
{"doc_id": "fastapi_1395", "title": "Request Body { #request-body }", "section": "Without Pydantic { #without-pydantic }", "content": "If you don't want to use Pydantic models, you can also use **Body** parameters. See the docs for [Body - Multiple Parameters: Singular values in body](body-multiple-params.md#singular-values-in-body){.internal-link target=_blank}.", "source": "tutorial\\body.md"}
{"doc_id": "fastapi_1396", "title": "Cookie Parameter Models { #cookie-parameter-models }", "section": "Cookie Parameter Models { #cookie-parameter-models }", "content": "If you have a group of **cookies** that are related, you can create a **Pydantic model** to declare them. üç™\n\nThis would allow you to **re-use the model** in **multiple places** and also to declare validations and metadata for all the parameters at once. üòé\n\n/// note\n\nThis is supported since FastAPI version `0.115.0`. ü§ì\n\n///\n\n/// tip\n\nThis same technique applies to `Query`, `Cookie`, and `Header`. üòé\n\n///", "source": "tutorial\\cookie-param-models.md"}
{"doc_id": "fastapi_1397", "title": "Cookie Parameter Models { #cookie-parameter-models }", "section": "Cookies with a Pydantic Model { #cookies-with-a-pydantic-model }", "content": "Declare the **cookie** parameters that you need in a **Pydantic model**, and then declare the parameter as `Cookie`:\n\n{* ../../docs_src/cookie_param_models/tutorial001_an_py310.py hl[9:12,16] *}\n\n**FastAPI** will **extract** the data for **each field** from the **cookies** received in the request and give you the Pydantic model you defined.", "source": "tutorial\\cookie-param-models.md"}
{"doc_id": "fastapi_1398", "title": "Cookie Parameter Models { #cookie-parameter-models }", "section": "Check the Docs { #check-the-docs }", "content": "You can see the defined cookies in the docs UI at `/docs`:\n\n<div class=\"screenshot\">\n<img src=\"/img/tutorial/cookie-param-models/image01.png\">\n</div>\n\n/// info\n\nHave in mind that, as **browsers handle cookies** in special ways and behind the scenes, they **don't** easily allow **JavaScript** to touch them.\n\nIf you go to the **API docs UI** at `/docs` you will be able to see the **documentation** for cookies for your *path operations*.\n\nBut even if you **fill the data** and click \"Execute\", because the docs UI works with **JavaScript**, the cookies won't be sent, and you will see an **error** message as if you didn't write any values.\n\n///", "source": "tutorial\\cookie-param-models.md"}
{"doc_id": "fastapi_1399", "title": "Cookie Parameter Models { #cookie-parameter-models }", "section": "Forbid Extra Cookies { #forbid-extra-cookies }", "content": "In some special use cases (probably not very common), you might want to **restrict** the cookies that you want to receive.\n\nYour API now has the power to control its own <abbr title=\"This is a joke, just in case. It has nothing to do with cookie consents, but it's funny that even the API can now reject the poor cookies. Have a cookie. üç™\">cookie consent</abbr>. ü§™üç™\n\nYou can use Pydantic's model configuration to `forbid` any `extra` fields:\n\n{* ../../docs_src/cookie_param_models/tutorial002_an_py39.py hl[10] *}\n\nIf a client tries to send some **extra cookies**, they will receive an **error** response.\n\nPoor cookie banners with all their effort to get your consent for the <abbr title=\"This is another joke. Don't pay attention to me. Have some coffee for your cookie. ‚òï\">API to reject it</abbr>. üç™\n\nFor example, if the client tries to send a `santa_tracker` cookie with a value of `good-list-please`, the client will receive an **error** response telling them that the `santa_tracker` <abbr title=\"Santa disapproves the lack of cookies. üéÖ Okay, no more cookie jokes.\">cookie is not allowed</abbr>:\n\n```json\n{\n    \"detail\": [\n        {\n            \"type\": \"extra_forbidden\",\n            \"loc\": [\"cookie\", \"santa_tracker\"],\n            \"msg\": \"Extra inputs are not permitted\",\n            \"input\": \"good-list-please\",\n        }\n    ]\n}\n```", "source": "tutorial\\cookie-param-models.md"}
{"doc_id": "fastapi_1400", "title": "Cookie Parameter Models { #cookie-parameter-models }", "section": "Summary { #summary }", "content": "You can use **Pydantic models** to declare <abbr title=\"Have a last cookie before you go. üç™\">**cookies**</abbr> in **FastAPI**. üòé", "source": "tutorial\\cookie-param-models.md"}
{"doc_id": "fastapi_1401", "title": "Cookie Parameters { #cookie-parameters }", "section": "Cookie Parameters { #cookie-parameters }", "content": "You can define Cookie parameters the same way you define `Query` and `Path` parameters.", "source": "tutorial\\cookie-params.md"}
{"doc_id": "fastapi_1402", "title": "Cookie Parameters { #cookie-parameters }", "section": "Import `Cookie` { #import-cookie }", "content": "First import `Cookie`:\n\n{* ../../docs_src/cookie_params/tutorial001_an_py310.py hl[3] *}", "source": "tutorial\\cookie-params.md"}
{"doc_id": "fastapi_1403", "title": "Cookie Parameters { #cookie-parameters }", "section": "Declare `Cookie` parameters { #declare-cookie-parameters }", "content": "Then declare the cookie parameters using the same structure as with `Path` and `Query`.\n\nYou can define the default value as well as all the extra validation or annotation parameters:\n\n{* ../../docs_src/cookie_params/tutorial001_an_py310.py hl[9] *}\n\n/// note | Technical Details\n\n`Cookie` is a \"sister\" class of `Path` and `Query`. It also inherits from the same common `Param` class.\n\nBut remember that when you import `Query`, `Path`, `Cookie` and others from `fastapi`, those are actually functions that return special classes.\n\n///\n\n/// info\n\nTo declare cookies, you need to use `Cookie`, because otherwise the parameters would be interpreted as query parameters.\n\n///\n\n/// info\n\nHave in mind that, as **browsers handle cookies** in special ways and behind the scenes, they **don't** easily allow **JavaScript** to touch them.\n\nIf you go to the **API docs UI** at `/docs` you will be able to see the **documentation** for cookies for your *path operations*.\n\nBut even if you **fill the data** and click \"Execute\", because the docs UI works with **JavaScript**, the cookies won't be sent, and you will see an **error** message as if you didn't write any values.\n\n///", "source": "tutorial\\cookie-params.md"}
{"doc_id": "fastapi_1404", "title": "Cookie Parameters { #cookie-parameters }", "section": "Recap { #recap }", "content": "Declare cookies with `Cookie`, using the same common pattern as `Query` and `Path`.", "source": "tutorial\\cookie-params.md"}
{"doc_id": "fastapi_1405", "title": "CORS (Cross-Origin Resource Sharing) { #cors-cross-origin-resource-sharing }", "section": "CORS (Cross-Origin Resource Sharing) { #cors-cross-origin-resource-sharing }", "content": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\" class=\"external-link\" target=\"_blank\">CORS or \"Cross-Origin Resource Sharing\"</a> refers to the situations when a frontend running in a browser has JavaScript code that communicates with a backend, and the backend is in a different \"origin\" than the frontend.", "source": "tutorial\\cors.md"}
{"doc_id": "fastapi_1406", "title": "CORS (Cross-Origin Resource Sharing) { #cors-cross-origin-resource-sharing }", "section": "Origin { #origin }", "content": "An origin is the combination of protocol (`http`, `https`), domain (`myapp.com`, `localhost`, `localhost.tiangolo.com`), and port (`80`, `443`, `8080`).\n\nSo, all these are different origins:\n\n* `http://localhost`\n* `https://localhost`\n* `http://localhost:8080`\n\nEven if they are all in `localhost`, they use different protocols or ports, so, they are different \"origins\".", "source": "tutorial\\cors.md"}
{"doc_id": "fastapi_1407", "title": "CORS (Cross-Origin Resource Sharing) { #cors-cross-origin-resource-sharing }", "section": "Steps { #steps }", "content": "So, let's say you have a frontend running in your browser at `http://localhost:8080`, and its JavaScript is trying to communicate with a backend running at `http://localhost` (because we don't specify a port, the browser will assume the default port `80`).\n\nThen, the browser will send an HTTP `OPTIONS` request to the `:80`-backend, and if the backend sends the appropriate headers authorizing the communication from this different origin (`http://localhost:8080`) then the `:8080`-browser will let the JavaScript in the frontend send its request to the `:80`-backend.\n\nTo achieve this, the `:80`-backend must have a list of \"allowed origins\".\n\nIn this case, the list would have to include `http://localhost:8080` for the `:8080`-frontend to work correctly.", "source": "tutorial\\cors.md"}
{"doc_id": "fastapi_1408", "title": "CORS (Cross-Origin Resource Sharing) { #cors-cross-origin-resource-sharing }", "section": "Wildcards { #wildcards }", "content": "It's also possible to declare the list as `\"*\"` (a \"wildcard\") to say that all are allowed.\n\nBut that will only allow certain types of communication, excluding everything that involves credentials: Cookies, Authorization headers like those used with Bearer Tokens, etc.\n\nSo, for everything to work correctly, it's better to specify explicitly the allowed origins.", "source": "tutorial\\cors.md"}
{"doc_id": "fastapi_1409", "title": "CORS (Cross-Origin Resource Sharing) { #cors-cross-origin-resource-sharing }", "section": "Use `CORSMiddleware` { #use-corsmiddleware }", "content": "You can configure it in your **FastAPI** application using the `CORSMiddleware`.\n\n* Import `CORSMiddleware`.\n* Create a list of allowed origins (as strings).\n* Add it as a \"middleware\" to your **FastAPI** application.\n\nYou can also specify whether your backend allows:\n\n* Credentials (Authorization headers, Cookies, etc).\n* Specific HTTP methods (`POST`, `PUT`) or all of them with the wildcard `\"*\"`.\n* Specific HTTP headers or all of them with the wildcard `\"*\"`.\n\n{* ../../docs_src/cors/tutorial001.py hl[2,6:11,13:19] *}\n\n\nThe default parameters used by the `CORSMiddleware` implementation are restrictive by default, so you'll need to explicitly enable particular origins, methods, or headers, in order for browsers to be permitted to use them in a Cross-Domain context.\n\nThe following arguments are supported:\n\n* `allow_origins` - A list of origins that should be permitted to make cross-origin requests. E.g. `['https://example.org', 'https://www.example.org']`. You can use `['*']` to allow any origin.\n* `allow_origin_regex` - A regex string to match against origins that should be permitted to make cross-origin requests. e.g. `'https://.*\\.example\\.org'`.\n* `allow_methods` - A list of HTTP methods that should be allowed for cross-origin requests. Defaults to `['GET']`. You can use `['*']` to allow all standard methods.\n* `allow_headers` - A list of HTTP request headers that should be supported for cross-origin requests. Defaults to `[]`. You can use `['*']` to allow all headers. The `Accept`, `Accept-Language`, `Content-Language` and `Content-Type` headers are always allowed for <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#simple_requests\" class=\"external-link\" rel=\"noopener\" target=\"_blank\">simple CORS requests</a>.\n* `allow_credentials` - Indicate that cookies should be supported for cross-origin requests. Defaults to `False`.\n\n    None of `allow_origins`, `allow_methods` and `allow_headers` can be set to `['*']` if `allow_credentials` is set to `True`. All of them must be <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#credentialed_requests_and_wildcards\" class=\"external-link\" rel=\"noopener\" target=\"_blank\">explicitly specified</a>.\n\n* `expose_headers` - Indicate any response headers that should be made accessible to the browser. Defaults to `[]`.\n* `max_age` - Sets a maximum time in seconds for browsers to cache CORS responses. Defaults to `600`.\n\nThe middleware responds to two particular types of HTTP request...", "source": "tutorial\\cors.md"}
{"doc_id": "fastapi_1410", "title": "CORS (Cross-Origin Resource Sharing) { #cors-cross-origin-resource-sharing }", "section": "CORS preflight requests { #cors-preflight-requests }", "content": "These are any `OPTIONS` request with `Origin` and `Access-Control-Request-Method` headers.\n\nIn this case the middleware will intercept the incoming request and respond with appropriate CORS headers, and either a `200` or `400` response for informational purposes.", "source": "tutorial\\cors.md"}
{"doc_id": "fastapi_1411", "title": "CORS (Cross-Origin Resource Sharing) { #cors-cross-origin-resource-sharing }", "section": "Simple requests { #simple-requests }", "content": "Any request with an `Origin` header. In this case the middleware will pass the request through as normal, but will include appropriate CORS headers on the response.", "source": "tutorial\\cors.md"}
{"doc_id": "fastapi_1412", "title": "CORS (Cross-Origin Resource Sharing) { #cors-cross-origin-resource-sharing }", "section": "More info { #more-info }", "content": "For more info about <abbr title=\"Cross-Origin Resource Sharing\">CORS</abbr>, check the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\" class=\"external-link\" target=\"_blank\">Mozilla CORS documentation</a>.\n\n/// note | Technical Details\n\nYou could also use `from starlette.middleware.cors import CORSMiddleware`.\n\n**FastAPI** provides several middlewares in `fastapi.middleware` just as a convenience for you, the developer. But most of the available middlewares come directly from Starlette.\n\n///", "source": "tutorial\\cors.md"}
{"doc_id": "fastapi_1413", "title": "Debugging { #debugging }", "section": "Debugging { #debugging }", "content": "You can connect the debugger in your editor, for example with Visual Studio Code or PyCharm.", "source": "tutorial\\debugging.md"}
{"doc_id": "fastapi_1414", "title": "Debugging { #debugging }", "section": "Call `uvicorn` { #call-uvicorn }", "content": "In your FastAPI application, import and run `uvicorn` directly:\n\n{* ../../docs_src/debugging/tutorial001.py hl[1,15] *}", "source": "tutorial\\debugging.md"}
{"doc_id": "fastapi_1415", "title": "Debugging { #debugging }", "section": "About `__name__ == \"__main__\"` { #about-name-main }", "content": "The main purpose of the `__name__ == \"__main__\"` is to have some code that is executed when your file is called with:\n\n<div class=\"termy\">\n\n```console\n$ python myapp.py\n```\n\n</div>\n\nbut is not called when another file imports it, like in:\n\n```Python\nfrom myapp import app\n```\n\n#### More details { #more-details }\n\nLet's say your file is named `myapp.py`.\n\nIf you run it with:\n\n<div class=\"termy\">\n\n```console\n$ python myapp.py\n```\n\n</div>\n\nthen the internal variable `__name__` in your file, created automatically by Python, will have as value the string `\"__main__\"`.\n\nSo, the section:\n\n```Python\n    uvicorn.run(app, host=\"0.0.0.0\", port=8000)\n```\n\nwill run.\n\n---\n\nThis won't happen if you import that module (file).\n\nSo, if you have another file `importer.py` with:\n\n```Python\nfrom myapp import app\n\n# Some more code\n```\n\nin that case, the automatically created variable `__name__` inside of `myapp.py` will not have the value `\"__main__\"`.\n\nSo, the line:\n\n```Python\n    uvicorn.run(app, host=\"0.0.0.0\", port=8000)\n```\n\nwill not be executed.\n\n/// info\n\nFor more information, check <a href=\"https://docs.python.org/3/library/__main__.html\" class=\"external-link\" target=\"_blank\">the official Python docs</a>.\n\n///", "source": "tutorial\\debugging.md"}
{"doc_id": "fastapi_1416", "title": "Debugging { #debugging }", "section": "Run your code with your debugger { #run-your-code-with-your-debugger }", "content": "Because you are running the Uvicorn server directly from your code, you can call your Python program (your FastAPI application) directly from the debugger.\n\n---\n\nFor example, in Visual Studio Code, you can:\n\n* Go to the \"Debug\" panel.\n* \"Add configuration...\".\n* Select \"Python\"\n* Run the debugger with the option \"`Python: Current File (Integrated Terminal)`\".\n\nIt will then start the server with your **FastAPI** code, stop at your breakpoints, etc.\n\nHere's how it might look:\n\n<img src=\"/img/tutorial/debugging/image01.png\">\n\n---\n\nIf you use Pycharm, you can:\n\n* Open the \"Run\" menu.\n* Select the option \"Debug...\".\n* Then a context menu shows up.\n* Select the file to debug (in this case, `main.py`).\n\nIt will then start the server with your **FastAPI** code, stop at your breakpoints, etc.\n\nHere's how it might look:\n\n<img src=\"/img/tutorial/debugging/image02.png\">", "source": "tutorial\\debugging.md"}
{"doc_id": "fastapi_1417", "title": "JSON Compatible Encoder { #json-compatible-encoder }", "section": "JSON Compatible Encoder { #json-compatible-encoder }", "content": "There are some cases where you might need to convert a data type (like a Pydantic model) to something compatible with JSON (like a `dict`, `list`, etc).\n\nFor example, if you need to store it in a database.\n\nFor that, **FastAPI** provides a `jsonable_encoder()` function.", "source": "tutorial\\encoder.md"}
{"doc_id": "fastapi_1418", "title": "JSON Compatible Encoder { #json-compatible-encoder }", "section": "Using the `jsonable_encoder` { #using-the-jsonable-encoder }", "content": "Let's imagine that you have a database `fake_db` that only receives JSON compatible data.\n\nFor example, it doesn't receive `datetime` objects, as those are not compatible with JSON.\n\nSo, a `datetime` object would have to be converted to a `str` containing the data in <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" class=\"external-link\" target=\"_blank\">ISO format</a>.\n\nThe same way, this database wouldn't receive a Pydantic model (an object with attributes), only a `dict`.\n\nYou can use `jsonable_encoder` for that.\n\nIt receives an object, like a Pydantic model, and returns a JSON compatible version:\n\n{* ../../docs_src/encoder/tutorial001_py310.py hl[4,21] *}\n\nIn this example, it would convert the Pydantic model to a `dict`, and the `datetime` to a `str`.\n\nThe result of calling it is something that can be encoded with the Python standard <a href=\"https://docs.python.org/3/library/json.html#json.dumps\" class=\"external-link\" target=\"_blank\">`json.dumps()`</a>.\n\nIt doesn't return a large `str` containing the data in JSON format (as a string). It returns a Python standard data structure (e.g. a `dict`) with values and sub-values that are all compatible with JSON.\n\n/// note\n\n`jsonable_encoder` is actually used by **FastAPI** internally to convert data. But it is useful in many other scenarios.\n\n///", "source": "tutorial\\encoder.md"}
{"doc_id": "fastapi_1419", "title": "Extra Data Types { #extra-data-types }", "section": "Extra Data Types { #extra-data-types }", "content": "Up to now, you have been using common data types, like:\n\n* `int`\n* `float`\n* `str`\n* `bool`\n\nBut you can also use more complex data types.\n\nAnd you will still have the same features as seen up to now:\n\n* Great editor support.\n* Data conversion from incoming requests.\n* Data conversion for response data.\n* Data validation.\n* Automatic annotation and documentation.", "source": "tutorial\\extra-data-types.md"}
{"doc_id": "fastapi_1420", "title": "Extra Data Types { #extra-data-types }", "section": "Other data types { #other-data-types }", "content": "Here are some of the additional data types you can use:\n\n* `UUID`:\n    * A standard \"Universally Unique Identifier\", common as an ID in many databases and systems.\n    * In requests and responses will be represented as a `str`.\n* `datetime.datetime`:\n    * A Python `datetime.datetime`.\n    * In requests and responses will be represented as a `str` in ISO 8601 format, like: `2008-09-15T15:53:00+05:00`.\n* `datetime.date`:\n    * Python `datetime.date`.\n    * In requests and responses will be represented as a `str` in ISO 8601 format, like: `2008-09-15`.\n* `datetime.time`:\n    * A Python `datetime.time`.\n    * In requests and responses will be represented as a `str` in ISO 8601 format, like: `14:23:55.003`.\n* `datetime.timedelta`:\n    * A Python `datetime.timedelta`.\n    * In requests and responses will be represented as a `float` of total seconds.\n    * Pydantic also allows representing it as a \"ISO 8601 time diff encoding\", <a href=\"https://docs.pydantic.dev/latest/concepts/serialization/#custom-serializers\" class=\"external-link\" target=\"_blank\">see the docs for more info</a>.\n* `frozenset`:\n    * In requests and responses, treated the same as a `set`:\n        * In requests, a list will be read, eliminating duplicates and converting it to a `set`.\n        * In responses, the `set` will be converted to a `list`.\n        * The generated schema will specify that the `set` values are unique (using JSON Schema's `uniqueItems`).\n* `bytes`:\n    * Standard Python `bytes`.\n    * In requests and responses will be treated as `str`.\n    * The generated schema will specify that it's a `str` with `binary` \"format\".\n* `Decimal`:\n    * Standard Python `Decimal`.\n    * In requests and responses, handled the same as a `float`.\n* You can check all the valid Pydantic data types here: <a href=\"https://docs.pydantic.dev/latest/usage/types/types/\" class=\"external-link\" target=\"_blank\">Pydantic data types</a>.", "source": "tutorial\\extra-data-types.md"}
{"doc_id": "fastapi_1421", "title": "Extra Data Types { #extra-data-types }", "section": "Example { #example }", "content": "Here's an example *path operation* with parameters using some of the above types.\n\n{* ../../docs_src/extra_data_types/tutorial001_an_py310.py hl[1,3,12:16] *}\n\nNote that the parameters inside the function have their natural data type, and you can, for example, perform normal date manipulations, like:\n\n{* ../../docs_src/extra_data_types/tutorial001_an_py310.py hl[18:19] *}", "source": "tutorial\\extra-data-types.md"}
{"doc_id": "fastapi_1422", "title": "Extra Models { #extra-models }", "section": "Extra Models { #extra-models }", "content": "Continuing with the previous example, it will be common to have more than one related model.\n\nThis is especially the case for user models, because:\n\n* The **input model** needs to be able to have a password.\n* The **output model** should not have a password.\n* The **database model** would probably need to have a hashed password.\n\n/// danger\n\nNever store user's plaintext passwords. Always store a \"secure hash\" that you can then verify.\n\nIf you don't know, you will learn what a \"password hash\" is in the [security chapters](security/simple-oauth2.md#password-hashing){.internal-link target=_blank}.\n\n///", "source": "tutorial\\extra-models.md"}
{"doc_id": "fastapi_1423", "title": "Extra Models { #extra-models }", "section": "Multiple models { #multiple-models }", "content": "Here's a general idea of how the models could look like with their password fields and the places where they are used:\n\n{* ../../docs_src/extra_models/tutorial001_py310.py hl[7,9,14,20,22,27:28,31:33,38:39] *}\n\n\n/// info\n\nIn Pydantic v1 the method was called `.dict()`, it was deprecated (but still supported) in Pydantic v2, and renamed to `.model_dump()`.\n\nThe examples here use `.dict()` for compatibility with Pydantic v1, but you should use `.model_dump()` instead if you can use Pydantic v2.\n\n///", "source": "tutorial\\extra-models.md"}
{"doc_id": "fastapi_1424", "title": "Extra Models { #extra-models }", "section": "About `**user_in.dict()` { #about-user-in-dict }", "content": "#### Pydantic's `.dict()` { #pydantics-dict }\n\n`user_in` is a Pydantic model of class `UserIn`.\n\nPydantic models have a `.dict()` method that returns a `dict` with the model's data.\n\nSo, if we create a Pydantic object `user_in` like:\n\n```Python\nuser_in = UserIn(username=\"john\", password=\"secret\", email=\"john.doe@example.com\")\n```\n\nand then we call:\n\n```Python\nuser_dict = user_in.dict()\n```\n\nwe now have a `dict` with the data in the variable `user_dict` (it's a `dict` instead of a Pydantic model object).\n\nAnd if we call:\n\n```Python\nprint(user_dict)\n```\n\nwe would get a Python `dict` with:\n\n```Python\n{\n    'username': 'john',\n    'password': 'secret',\n    'email': 'john.doe@example.com',\n    'full_name': None,\n}\n```\n\n#### Unpacking a `dict` { #unpacking-a-dict }\n\nIf we take a `dict` like `user_dict` and pass it to a function (or class) with `**user_dict`, Python will \"unpack\" it. It will pass the keys and values of the `user_dict` directly as key-value arguments.\n\nSo, continuing with the `user_dict` from above, writing:\n\n```Python\nUserInDB(**user_dict)\n```\n\nwould result in something equivalent to:\n\n```Python\nUserInDB(\n    username=\"john\",\n    password=\"secret\",\n    email=\"john.doe@example.com\",\n    full_name=None,\n)\n```\n\nOr more exactly, using `user_dict` directly, with whatever contents it might have in the future:\n\n```Python\nUserInDB(\n    username = user_dict[\"username\"],\n    password = user_dict[\"password\"],\n    email = user_dict[\"email\"],\n    full_name = user_dict[\"full_name\"],\n)\n```\n\n#### A Pydantic model from the contents of another { #a-pydantic-model-from-the-contents-of-another }\n\nAs in the example above we got `user_dict` from `user_in.dict()`, this code:\n\n```Python\nuser_dict = user_in.dict()\nUserInDB(**user_dict)\n```\n\nwould be equivalent to:\n\n```Python\nUserInDB(**user_in.dict())\n```\n\n...because `user_in.dict()` is a `dict`, and then we make Python \"unpack\" it by passing it to `UserInDB` prefixed with `**`.\n\nSo, we get a Pydantic model from the data in another Pydantic model.\n\n#### Unpacking a `dict` and extra keywords { #unpacking-a-dict-and-extra-keywords }\n\nAnd then adding the extra keyword argument `hashed_password=hashed_password`, like in:\n\n```Python\nUserInDB(**user_in.dict(), hashed_password=hashed_password)\n```\n\n...ends up being like:\n\n```Python\nUserInDB(\n    username = user_dict[\"username\"],\n    password = user_dict[\"password\"],\n    email = user_dict[\"email\"],\n    full_name = user_dict[\"full_name\"],\n    hashed_password = hashed_password,\n)\n```\n\n/// warning\n\nThe supporting additional functions `fake_password_hasher` and `fake_save_user` are just to demo a possible flow of the data, but they of course are not providing any real security.\n\n///", "source": "tutorial\\extra-models.md"}
{"doc_id": "fastapi_1425", "title": "Extra Models { #extra-models }", "section": "Reduce duplication { #reduce-duplication }", "content": "Reducing code duplication is one of the core ideas in **FastAPI**.\n\nAs code duplication increments the chances of bugs, security issues, code desynchronization issues (when you update in one place but not in the others), etc.\n\nAnd these models are all sharing a lot of the data and duplicating attribute names and types.\n\nWe could do better.\n\nWe can declare a `UserBase` model that serves as a base for our other models. And then we can make subclasses of that model that inherit its attributes (type declarations, validation, etc).\n\nAll the data conversion, validation, documentation, etc. will still work as normally.\n\nThat way, we can declare just the differences between the models (with plaintext `password`, with `hashed_password` and without password):\n\n{* ../../docs_src/extra_models/tutorial002_py310.py hl[7,13:14,17:18,21:22] *}", "source": "tutorial\\extra-models.md"}
{"doc_id": "fastapi_1426", "title": "Extra Models { #extra-models }", "section": "`Union` or `anyOf` { #union-or-anyof }", "content": "You can declare a response to be the `Union` of two or more types, that means, that the response would be any of them.\n\nIt will be defined in OpenAPI with `anyOf`.\n\nTo do that, use the standard Python type hint <a href=\"https://docs.python.org/3/library/typing.html#typing.Union\" class=\"external-link\" target=\"_blank\">`typing.Union`</a>:\n\n/// note\n\nWhen defining a <a href=\"https://docs.pydantic.dev/latest/concepts/types/#unions\" class=\"external-link\" target=\"_blank\">`Union`</a>, include the most specific type first, followed by the less specific type. In the example below, the more specific `PlaneItem` comes before `CarItem` in `Union[PlaneItem, CarItem]`.\n\n///\n\n{* ../../docs_src/extra_models/tutorial003_py310.py hl[1,14:15,18:20,33] *}", "source": "tutorial\\extra-models.md"}
{"doc_id": "fastapi_1427", "title": "Extra Models { #extra-models }", "section": "`Union` in Python 3.10 { #union-in-python-3-10 }", "content": "In this example we pass `Union[PlaneItem, CarItem]` as the value of the argument `response_model`.\n\nBecause we are passing it as a **value to an argument** instead of putting it in a **type annotation**, we have to use `Union` even in Python 3.10.\n\nIf it was in a type annotation we could have used the vertical bar, as:\n\n```Python\nsome_variable: PlaneItem | CarItem\n```\n\nBut if we put that in the assignment `response_model=PlaneItem | CarItem` we would get an error, because Python would try to perform an **invalid operation** between `PlaneItem` and `CarItem` instead of interpreting that as a type annotation.", "source": "tutorial\\extra-models.md"}
{"doc_id": "fastapi_1428", "title": "Extra Models { #extra-models }", "section": "List of models { #list-of-models }", "content": "The same way, you can declare responses of lists of objects.\n\nFor that, use the standard Python `typing.List` (or just `list` in Python 3.9 and above):\n\n{* ../../docs_src/extra_models/tutorial004_py39.py hl[18] *}", "source": "tutorial\\extra-models.md"}
{"doc_id": "fastapi_1429", "title": "Extra Models { #extra-models }", "section": "Response with arbitrary `dict` { #response-with-arbitrary-dict }", "content": "You can also declare a response using a plain arbitrary `dict`, declaring just the type of the keys and values, without using a Pydantic model.\n\nThis is useful if you don't know the valid field/attribute names (that would be needed for a Pydantic model) beforehand.\n\nIn this case, you can use `typing.Dict` (or just `dict` in Python 3.9 and above):\n\n{* ../../docs_src/extra_models/tutorial005_py39.py hl[6] *}", "source": "tutorial\\extra-models.md"}
{"doc_id": "fastapi_1430", "title": "Extra Models { #extra-models }", "section": "Recap { #recap }", "content": "Use multiple Pydantic models and inherit freely for each case.\n\nYou don't need to have a single data model per entity if that entity must be able to have different \"states\". As the case with the user \"entity\" with a state including `password`, `password_hash` and no password.", "source": "tutorial\\extra-models.md"}
{"doc_id": "fastapi_1431", "title": "First Steps { #first-steps }", "section": "First Steps { #first-steps }", "content": "The simplest FastAPI file could look like this:\n\n{* ../../docs_src/first_steps/tutorial001.py *}\n\nCopy that to a file `main.py`.\n\nRun the live server:\n\n<div class=\"termy\">\n\n```console\n$ <font color=\"#4E9A06\">fastapi</font> dev <u style=\"text-decoration-style:solid\">main.py</u>\n\n  <span style=\"background-color:#009485\"><font color=\"#D3D7CF\"> FastAPI </font></span>  Starting development server üöÄ\n\n             Searching for package file structure from directories\n             with <font color=\"#3465A4\">__init__.py</font> files\n             Importing from <font color=\"#75507B\">/home/user/code/</font><font color=\"#AD7FA8\">awesomeapp</font>\n\n   <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> module </font></span>  üêç main.py\n\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> code </font></span>  Importing the FastAPI app object from the module with\n             the following code:\n\n             <u style=\"text-decoration-style:solid\">from </u><u style=\"text-decoration-style:solid\"><b>main</b></u><u style=\"text-decoration-style:solid\"> import </u><u style=\"text-decoration-style:solid\"><b>app</b></u>\n\n      <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> app </font></span>  Using import string: <font color=\"#3465A4\">main:app</font>\n\n   <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> server </font></span>  Server started at <font color=\"#729FCF\"><u style=\"text-decoration-style:solid\">http://127.0.0.1:8000</u></font>\n   <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> server </font></span>  Documentation at <font color=\"#729FCF\"><u style=\"text-decoration-style:solid\">http://127.0.0.1:8000/docs</u></font>\n\n      <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> tip </font></span>  Running in development mode, for production use:\n             <b>fastapi run</b>\n\n             Logs:\n\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Will watch for changes in these directories:\n             <b>[</b><font color=\"#4E9A06\">&apos;/home/user/code/awesomeapp&apos;</font><b>]</b>\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Uvicorn running on <font color=\"#729FCF\"><u style=\"text-decoration-style:solid\">http://127.0.0.1:8000</u></font> <b>(</b>Press CTRL+C\n             to quit<b>)</b>\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Started reloader process <b>[</b><font color=\"#34E2E2\"><b>383138</b></font><b>]</b> using WatchFiles\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Started server process <b>[</b><font color=\"#34E2E2\"><b>383153</b></font><b>]</b>\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Waiting for application startup.\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Application startup complete.\n```\n\n</div>\n\nIn the output, there's a line with something like:\n\n```hl_lines=\"4\"\nINFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)\n```\n\nThat line shows the URL where your app is being served, in your local machine.", "source": "tutorial\\first-steps.md"}
{"doc_id": "fastapi_1432", "title": "First Steps { #first-steps }", "section": "Check it { #check-it }", "content": "Open your browser at <a href=\"http://127.0.0.1:8000\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000</a>.\n\nYou will see the JSON response as:\n\n```JSON\n{\"message\": \"Hello World\"}\n```", "source": "tutorial\\first-steps.md"}
{"doc_id": "fastapi_1433", "title": "First Steps { #first-steps }", "section": "Interactive API docs { #interactive-api-docs }", "content": "Now go to <a href=\"http://127.0.0.1:8000/docs\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/docs</a>.\n\nYou will see the automatic interactive API documentation (provided by <a href=\"https://github.com/swagger-api/swagger-ui\" class=\"external-link\" target=\"_blank\">Swagger UI</a>):\n\n![Swagger UI](https://fastapi.tiangolo.com/img/index/index-01-swagger-ui-simple.png)", "source": "tutorial\\first-steps.md"}
{"doc_id": "fastapi_1434", "title": "First Steps { #first-steps }", "section": "Alternative API docs { #alternative-api-docs }", "content": "And now, go to <a href=\"http://127.0.0.1:8000/redoc\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/redoc</a>.\n\nYou will see the alternative automatic documentation (provided by <a href=\"https://github.com/Rebilly/ReDoc\" class=\"external-link\" target=\"_blank\">ReDoc</a>):\n\n![ReDoc](https://fastapi.tiangolo.com/img/index/index-02-redoc-simple.png)", "source": "tutorial\\first-steps.md"}
{"doc_id": "fastapi_1435", "title": "First Steps { #first-steps }", "section": "OpenAPI { #openapi }", "content": "**FastAPI** generates a \"schema\" with all your API using the **OpenAPI** standard for defining APIs.\n\n#### \"Schema\" { #schema }\n\nA \"schema\" is a definition or description of something. Not the code that implements it, but just an abstract description.\n\n#### API \"schema\" { #api-schema }\n\nIn this case, <a href=\"https://github.com/OAI/OpenAPI-Specification\" class=\"external-link\" target=\"_blank\">OpenAPI</a> is a specification that dictates how to define a schema of your API.\n\nThis schema definition includes your API paths, the possible parameters they take, etc.\n\n#### Data \"schema\" { #data-schema }\n\nThe term \"schema\" might also refer to the shape of some data, like a JSON content.\n\nIn that case, it would mean the JSON attributes, and data types they have, etc.\n\n#### OpenAPI and JSON Schema { #openapi-and-json-schema }\n\nOpenAPI defines an API schema for your API. And that schema includes definitions (or \"schemas\") of the data sent and received by your API using **JSON Schema**, the standard for JSON data schemas.\n\n#### Check the `openapi.json` { #check-the-openapi-json }\n\nIf you are curious about how the raw OpenAPI schema looks like, FastAPI automatically generates a JSON (schema) with the descriptions of all your API.\n\nYou can see it directly at: <a href=\"http://127.0.0.1:8000/openapi.json\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/openapi.json</a>.\n\nIt will show a JSON starting with something like:\n\n```JSON\n{\n    \"openapi\": \"3.1.0\",\n    \"info\": {\n        \"title\": \"FastAPI\",\n        \"version\": \"0.1.0\"\n    },\n    \"paths\": {\n        \"/items/\": {\n            \"get\": {\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"Successful Response\",\n                        \"content\": {\n                            \"application/json\": {\n\n\n\n...\n```\n\n#### What is OpenAPI for { #what-is-openapi-for }\n\nThe OpenAPI schema is what powers the two interactive documentation systems included.\n\nAnd there are dozens of alternatives, all based on OpenAPI. You could easily add any of those alternatives to your application built with **FastAPI**.\n\nYou could also use it to generate code automatically, for clients that communicate with your API. For example, frontend, mobile or IoT applications.", "source": "tutorial\\first-steps.md"}
{"doc_id": "fastapi_1436", "title": "First Steps { #first-steps }", "section": "Deploy your app (optional) { #deploy-your-app-optional }", "content": "You can optionally deploy your FastAPI app to <a href=\"https://fastapicloud.com\" class=\"external-link\" target=\"_blank\">FastAPI Cloud</a>, go and join the waiting list if you haven't. üöÄ\n\nIf you already have a **FastAPI Cloud** account (we invited you from the waiting list üòâ), you can deploy your application with one command.\n\nBefore deploying, make sure you are logged in:\n\n<div class=\"termy\">\n\n```console\n$ fastapi login\n\nYou are logged in to FastAPI Cloud üöÄ\n```\n\n</div>\n\nThen deploy your app:\n\n<div class=\"termy\">\n\n```console\n$ fastapi deploy\n\nDeploying to FastAPI Cloud...\n\n‚úÖ Deployment successful!\n\nüêî Ready the chicken! Your app is ready at https://myapp.fastapicloud.dev\n```\n\n</div>\n\nThat's it! Now you can access your app at that URL. ‚ú®", "source": "tutorial\\first-steps.md"}
{"doc_id": "fastapi_1437", "title": "First Steps { #first-steps }", "section": "Recap, step by step { #recap-step-by-step }", "content": "", "source": "tutorial\\first-steps.md"}
{"doc_id": "fastapi_1438", "title": "First Steps { #first-steps }", "section": "Step 1: import `FastAPI` { #step-1-import-fastapi }", "content": "{* ../../docs_src/first_steps/tutorial001.py hl[1] *}\n\n`FastAPI` is a Python class that provides all the functionality for your API.\n\n/// note | Technical Details\n\n`FastAPI` is a class that inherits directly from `Starlette`.\n\nYou can use all the <a href=\"https://www.starlette.dev/\" class=\"external-link\" target=\"_blank\">Starlette</a> functionality with `FastAPI` too.\n\n///", "source": "tutorial\\first-steps.md"}
{"doc_id": "fastapi_1439", "title": "First Steps { #first-steps }", "section": "Step 2: create a `FastAPI` \"instance\" { #step-2-create-a-fastapi-instance }", "content": "{* ../../docs_src/first_steps/tutorial001.py hl[3] *}\n\nHere the `app` variable will be an \"instance\" of the class `FastAPI`.\n\nThis will be the main point of interaction to create all your API.", "source": "tutorial\\first-steps.md"}
{"doc_id": "fastapi_1440", "title": "First Steps { #first-steps }", "section": "Step 3: create a *path operation* { #step-3-create-a-path-operation }", "content": "#### Path { #path }\n\n\"Path\" here refers to the last part of the URL starting from the first `/`.\n\nSo, in a URL like:\n\n```\nhttps://example.com/items/foo\n```\n\n...the path would be:\n\n```\n/items/foo\n```\n\n/// info\n\nA \"path\" is also commonly called an \"endpoint\" or a \"route\".\n\n///\n\nWhile building an API, the \"path\" is the main way to separate \"concerns\" and \"resources\".\n\n#### Operation { #operation }\n\n\"Operation\" here refers to one of the HTTP \"methods\".\n\nOne of:\n\n* `POST`\n* `GET`\n* `PUT`\n* `DELETE`\n\n...and the more exotic ones:\n\n* `OPTIONS`\n* `HEAD`\n* `PATCH`\n* `TRACE`\n\nIn the HTTP protocol, you can communicate to each path using one (or more) of these \"methods\".\n\n---\n\nWhen building APIs, you normally use these specific HTTP methods to perform a specific action.\n\nNormally you use:\n\n* `POST`: to create data.\n* `GET`: to read data.\n* `PUT`: to update data.\n* `DELETE`: to delete data.\n\nSo, in OpenAPI, each of the HTTP methods is called an \"operation\".\n\nWe are going to call them \"**operations**\" too.\n\n#### Define a *path operation decorator* { #define-a-path-operation-decorator }\n\n{* ../../docs_src/first_steps/tutorial001.py hl[6] *}\n\nThe `@app.get(\"/\")` tells **FastAPI** that the function right below is in charge of handling requests that go to:\n\n* the path `/`\n* using a <abbr title=\"an HTTP GET method\"><code>get</code> operation</abbr>\n\n/// info | `@decorator` Info\n\nThat `@something` syntax in Python is called a \"decorator\".\n\nYou put it on top of a function. Like a pretty decorative hat (I guess that's where the term came from).\n\nA \"decorator\" takes the function below and does something with it.\n\nIn our case, this decorator tells **FastAPI** that the function below corresponds to the **path** `/` with an **operation** `get`.\n\nIt is the \"**path operation decorator**\".\n\n///\n\nYou can also use the other operations:\n\n* `@app.post()`\n* `@app.put()`\n* `@app.delete()`\n\nAnd the more exotic ones:\n\n* `@app.options()`\n* `@app.head()`\n* `@app.patch()`\n* `@app.trace()`\n\n/// tip\n\nYou are free to use each operation (HTTP method) as you wish.\n\n**FastAPI** doesn't enforce any specific meaning.\n\nThe information here is presented as a guideline, not a requirement.\n\nFor example, when using GraphQL you normally perform all the actions using only `POST` operations.\n\n///", "source": "tutorial\\first-steps.md"}
{"doc_id": "fastapi_1441", "title": "First Steps { #first-steps }", "section": "Step 4: define the **path operation function** { #step-4-define-the-path-operation-function }", "content": "This is our \"**path operation function**\":\n\n* **path**: is `/`.\n* **operation**: is `get`.\n* **function**: is the function below the \"decorator\" (below `@app.get(\"/\")`).\n\n{* ../../docs_src/first_steps/tutorial001.py hl[7] *}\n\nThis is a Python function.\n\nIt will be called by **FastAPI** whenever it receives a request to the URL \"`/`\" using a `GET` operation.\n\nIn this case, it is an `async` function.\n\n---\n\nYou could also define it as a normal function instead of `async def`:\n\n{* ../../docs_src/first_steps/tutorial003.py hl[7] *}\n\n/// note\n\nIf you don't know the difference, check the [Async: *\"In a hurry?\"*](../async.md#in-a-hurry){.internal-link target=_blank}.\n\n///", "source": "tutorial\\first-steps.md"}
{"doc_id": "fastapi_1442", "title": "First Steps { #first-steps }", "section": "Step 5: return the content { #step-5-return-the-content }", "content": "{* ../../docs_src/first_steps/tutorial001.py hl[8] *}\n\nYou can return a `dict`, `list`, singular values as `str`, `int`, etc.\n\nYou can also return Pydantic models (you'll see more about that later).\n\nThere are many other objects and models that will be automatically converted to JSON (including ORMs, etc). Try using your favorite ones, it's highly probable that they are already supported.", "source": "tutorial\\first-steps.md"}
{"doc_id": "fastapi_1443", "title": "First Steps { #first-steps }", "section": "Step 6: Deploy it { #step-6-deploy-it }", "content": "Deploy your app to **<a href=\"https://fastapicloud.com\" class=\"external-link\" target=\"_blank\">FastAPI Cloud</a>** with one command: `fastapi deploy`. üéâ\n\n#### About FastAPI Cloud { #about-fastapi-cloud }\n\n**<a href=\"https://fastapicloud.com\" class=\"external-link\" target=\"_blank\">FastAPI Cloud</a>** is built by the same author and team behind **FastAPI**.\n\nIt streamlines the process of **building**, **deploying**, and **accessing** an API with minimal effort.\n\nIt brings the same **developer experience** of building apps with FastAPI to **deploying** them to the cloud. üéâ\n\nFastAPI Cloud is the primary sponsor and funding provider for the *FastAPI and friends* open source projects. ‚ú®\n\n#### Deploy to other cloud providers { #deploy-to-other-cloud-providers }\n\nFastAPI is open source and based on standards. You can deploy FastAPI apps to any cloud provider you choose.\n\nFollow your cloud provider's guides to deploy FastAPI apps with them. ü§ì", "source": "tutorial\\first-steps.md"}
{"doc_id": "fastapi_1444", "title": "First Steps { #first-steps }", "section": "Recap { #recap }", "content": "* Import `FastAPI`.\n* Create an `app` instance.\n* Write a **path operation decorator** using decorators like `@app.get(\"/\")`.\n* Define a **path operation function**; for example, `def root(): ...`.\n* Run the development server using the command `fastapi dev`.\n* Optionally deploy your app with `fastapi deploy`.", "source": "tutorial\\first-steps.md"}
{"doc_id": "fastapi_1445", "title": "Handling Errors { #handling-errors }", "section": "Handling Errors { #handling-errors }", "content": "There are many situations in which you need to notify an error to a client that is using your API.\n\nThis client could be a browser with a frontend, a code from someone else, an IoT device, etc.\n\nYou could need to tell the client that:\n\n* The client doesn't have enough privileges for that operation.\n* The client doesn't have access to that resource.\n* The item the client was trying to access doesn't exist.\n* etc.\n\nIn these cases, you would normally return an **HTTP status code** in the range of **400** (from 400 to 499).\n\nThis is similar to the 200 HTTP status codes (from 200 to 299). Those \"200\" status codes mean that somehow there was a \"success\" in the request.\n\nThe status codes in the 400 range mean that there was an error from the client.\n\nRemember all those **\"404 Not Found\"** errors (and jokes)?", "source": "tutorial\\handling-errors.md"}
{"doc_id": "fastapi_1446", "title": "Handling Errors { #handling-errors }", "section": "Use `HTTPException` { #use-httpexception }", "content": "To return HTTP responses with errors to the client you use `HTTPException`.", "source": "tutorial\\handling-errors.md"}
{"doc_id": "fastapi_1447", "title": "Handling Errors { #handling-errors }", "section": "Import `HTTPException` { #import-httpexception }", "content": "{* ../../docs_src/handling_errors/tutorial001.py hl[1] *}", "source": "tutorial\\handling-errors.md"}
{"doc_id": "fastapi_1448", "title": "Handling Errors { #handling-errors }", "section": "Raise an `HTTPException` in your code { #raise-an-httpexception-in-your-code }", "content": "`HTTPException` is a normal Python exception with additional data relevant for APIs.\n\nBecause it's a Python exception, you don't `return` it, you `raise` it.\n\nThis also means that if you are inside a utility function that you are calling inside of your *path operation function*, and you raise the `HTTPException` from inside of that utility function, it won't run the rest of the code in the *path operation function*, it will terminate that request right away and send the HTTP error from the `HTTPException` to the client.\n\nThe benefit of raising an exception over returning a value will be more evident in the section about Dependencies and Security.\n\nIn this example, when the client requests an item by an ID that doesn't exist, raise an exception with a status code of `404`:\n\n{* ../../docs_src/handling_errors/tutorial001.py hl[11] *}", "source": "tutorial\\handling-errors.md"}
{"doc_id": "fastapi_1449", "title": "Handling Errors { #handling-errors }", "section": "The resulting response { #the-resulting-response }", "content": "If the client requests `http://example.com/items/foo` (an `item_id` `\"foo\"`), that client will receive an HTTP status code of 200, and a JSON response of:\n\n```JSON\n{\n  \"item\": \"The Foo Wrestlers\"\n}\n```\n\nBut if the client requests `http://example.com/items/bar` (a non-existent `item_id` `\"bar\"`), that client will receive an HTTP status code of 404 (the \"not found\" error), and a JSON response of:\n\n```JSON\n{\n  \"detail\": \"Item not found\"\n}\n```\n\n/// tip\n\nWhen raising an `HTTPException`, you can pass any value that can be converted to JSON as the parameter `detail`, not only `str`.\n\nYou could pass a `dict`, a `list`, etc.\n\nThey are handled automatically by **FastAPI** and converted to JSON.\n\n///", "source": "tutorial\\handling-errors.md"}
{"doc_id": "fastapi_1450", "title": "Handling Errors { #handling-errors }", "section": "Add custom headers { #add-custom-headers }", "content": "There are some situations in where it's useful to be able to add custom headers to the HTTP error. For example, for some types of security.\n\nYou probably won't need to use it directly in your code.\n\nBut in case you needed it for an advanced scenario, you can add custom headers:\n\n{* ../../docs_src/handling_errors/tutorial002.py hl[14] *}", "source": "tutorial\\handling-errors.md"}
{"doc_id": "fastapi_1451", "title": "Handling Errors { #handling-errors }", "section": "Install custom exception handlers { #install-custom-exception-handlers }", "content": "You can add custom exception handlers with <a href=\"https://www.starlette.dev/exceptions/\" class=\"external-link\" target=\"_blank\">the same exception utilities from Starlette</a>.\n\nLet's say you have a custom exception `UnicornException` that you (or a library you use) might `raise`.\n\nAnd you want to handle this exception globally with FastAPI.\n\nYou could add a custom exception handler with `@app.exception_handler()`:\n\n{* ../../docs_src/handling_errors/tutorial003.py hl[5:7,13:18,24] *}\n\nHere, if you request `/unicorns/yolo`, the *path operation* will `raise` a `UnicornException`.\n\nBut it will be handled by the `unicorn_exception_handler`.\n\nSo, you will receive a clean error, with an HTTP status code of `418` and a JSON content of:\n\n```JSON\n{\"message\": \"Oops! yolo did something. There goes a rainbow...\"}\n```\n\n/// note | Technical Details\n\nYou could also use `from starlette.requests import Request` and `from starlette.responses import JSONResponse`.\n\n**FastAPI** provides the same `starlette.responses` as `fastapi.responses` just as a convenience for you, the developer. But most of the available responses come directly from Starlette. The same with `Request`.\n\n///", "source": "tutorial\\handling-errors.md"}
{"doc_id": "fastapi_1452", "title": "Handling Errors { #handling-errors }", "section": "Override the default exception handlers { #override-the-default-exception-handlers }", "content": "**FastAPI** has some default exception handlers.\n\nThese handlers are in charge of returning the default JSON responses when you `raise` an `HTTPException` and when the request has invalid data.\n\nYou can override these exception handlers with your own.", "source": "tutorial\\handling-errors.md"}
{"doc_id": "fastapi_1453", "title": "Handling Errors { #handling-errors }", "section": "Override request validation exceptions { #override-request-validation-exceptions }", "content": "When a request contains invalid data, **FastAPI** internally raises a `RequestValidationError`.\n\nAnd it also includes a default exception handler for it.\n\nTo override it, import the `RequestValidationError` and use it with `@app.exception_handler(RequestValidationError)` to decorate the exception handler.\n\nThe exception handler will receive a `Request` and the exception.\n\n{* ../../docs_src/handling_errors/tutorial004.py hl[2,14:16] *}\n\nNow, if you go to `/items/foo`, instead of getting the default JSON error with:\n\n```JSON\n{\n    \"detail\": [\n        {\n            \"loc\": [\n                \"path\",\n                \"item_id\"\n            ],\n            \"msg\": \"value is not a valid integer\",\n            \"type\": \"type_error.integer\"\n        }\n    ]\n}\n```\n\nyou will get a text version, with:\n\n```\n1 validation error\npath -> item_id\n  value is not a valid integer (type=type_error.integer)\n```\n\n#### `RequestValidationError` vs `ValidationError` { #requestvalidationerror-vs-validationerror }\n\n/// warning\n\nThese are technical details that you might skip if it's not important for you now.\n\n///\n\n`RequestValidationError` is a sub-class of Pydantic's <a href=\"https://docs.pydantic.dev/latest/concepts/models/#error-handling\" class=\"external-link\" target=\"_blank\">`ValidationError`</a>.\n\n**FastAPI** uses it so that, if you use a Pydantic model in `response_model`, and your data has an error, you will see the error in your log.\n\nBut the client/user will not see it. Instead, the client will receive an \"Internal Server Error\" with an HTTP status code `500`.\n\nIt should be this way because if you have a Pydantic `ValidationError` in your *response* or anywhere in your code (not in the client's *request*), it's actually a bug in your code.\n\nAnd while you fix it, your clients/users shouldn't have access to internal information about the error, as that could expose a security vulnerability.", "source": "tutorial\\handling-errors.md"}
{"doc_id": "fastapi_1454", "title": "Handling Errors { #handling-errors }", "section": "Override the `HTTPException` error handler { #override-the-httpexception-error-handler }", "content": "The same way, you can override the `HTTPException` handler.\n\nFor example, you could want to return a plain text response instead of JSON for these errors:\n\n{* ../../docs_src/handling_errors/tutorial004.py hl[3:4,9:11,22] *}\n\n/// note | Technical Details\n\nYou could also use `from starlette.responses import PlainTextResponse`.\n\n**FastAPI** provides the same `starlette.responses` as `fastapi.responses` just as a convenience for you, the developer. But most of the available responses come directly from Starlette.\n\n///", "source": "tutorial\\handling-errors.md"}
{"doc_id": "fastapi_1455", "title": "Handling Errors { #handling-errors }", "section": "Use the `RequestValidationError` body { #use-the-requestvalidationerror-body }", "content": "The `RequestValidationError` contains the `body` it received with invalid data.\n\nYou could use it while developing your app to log the body and debug it, return it to the user, etc.\n\n{* ../../docs_src/handling_errors/tutorial005.py hl[14] *}\n\nNow try sending an invalid item like:\n\n```JSON\n{\n  \"title\": \"towel\",\n  \"size\": \"XL\"\n}\n```\n\nYou will receive a response telling you that the data is invalid containing the received body:\n\n```JSON hl_lines=\"12-15\"\n{\n  \"detail\": [\n    {\n      \"loc\": [\n        \"body\",\n        \"size\"\n      ],\n      \"msg\": \"value is not a valid integer\",\n      \"type\": \"type_error.integer\"\n    }\n  ],\n  \"body\": {\n    \"title\": \"towel\",\n    \"size\": \"XL\"\n  }\n}\n```\n\n#### FastAPI's `HTTPException` vs Starlette's `HTTPException` { #fastapis-httpexception-vs-starlettes-httpexception }\n\n**FastAPI** has its own `HTTPException`.\n\nAnd **FastAPI**'s `HTTPException` error class inherits from Starlette's `HTTPException` error class.\n\nThe only difference is that **FastAPI**'s `HTTPException` accepts any JSON-able data for the `detail` field, while Starlette's `HTTPException` only accepts strings for it.\n\nSo, you can keep raising **FastAPI**'s `HTTPException` as normally in your code.\n\nBut when you register an exception handler, you should register it for Starlette's `HTTPException`.\n\nThis way, if any part of Starlette's internal code, or a Starlette extension or plug-in, raises a Starlette `HTTPException`, your handler will be able to catch and handle it.\n\nIn this example, to be able to have both `HTTPException`s in the same code, Starlette's exceptions is renamed to `StarletteHTTPException`:\n\n```Python\nfrom starlette.exceptions import HTTPException as StarletteHTTPException\n```", "source": "tutorial\\handling-errors.md"}
{"doc_id": "fastapi_1456", "title": "Handling Errors { #handling-errors }", "section": "Reuse **FastAPI**'s exception handlers { #reuse-fastapis-exception-handlers }", "content": "If you want to use the exception along with the same default exception handlers from  **FastAPI**, you can import and reuse the default exception handlers from `fastapi.exception_handlers`:\n\n{* ../../docs_src/handling_errors/tutorial006.py hl[2:5,15,21] *}\n\nIn this example you are just printing the error with a very expressive message, but you get the idea. You can use the exception and then just reuse the default exception handlers.", "source": "tutorial\\handling-errors.md"}
{"doc_id": "fastapi_1457", "title": "Header Parameter Models { #header-parameter-models }", "section": "Header Parameter Models { #header-parameter-models }", "content": "If you have a group of related **header parameters**, you can create a **Pydantic model** to declare them.\n\nThis would allow you to **re-use the model** in **multiple places** and also to declare validations and metadata for all the parameters at once. üòé\n\n/// note\n\nThis is supported since FastAPI version `0.115.0`. ü§ì\n\n///", "source": "tutorial\\header-param-models.md"}
{"doc_id": "fastapi_1458", "title": "Header Parameter Models { #header-parameter-models }", "section": "Header Parameters with a Pydantic Model { #header-parameters-with-a-pydantic-model }", "content": "Declare the **header parameters** that you need in a **Pydantic model**, and then declare the parameter as `Header`:\n\n{* ../../docs_src/header_param_models/tutorial001_an_py310.py hl[9:14,18] *}\n\n**FastAPI** will **extract** the data for **each field** from the **headers** in the request and give you the Pydantic model you defined.", "source": "tutorial\\header-param-models.md"}
{"doc_id": "fastapi_1459", "title": "Header Parameter Models { #header-parameter-models }", "section": "Check the Docs { #check-the-docs }", "content": "You can see the required headers in the docs UI at `/docs`:\n\n<div class=\"screenshot\">\n<img src=\"/img/tutorial/header-param-models/image01.png\">\n</div>", "source": "tutorial\\header-param-models.md"}
{"doc_id": "fastapi_1460", "title": "Header Parameter Models { #header-parameter-models }", "section": "Forbid Extra Headers { #forbid-extra-headers }", "content": "In some special use cases (probably not very common), you might want to **restrict** the headers that you want to receive.\n\nYou can use Pydantic's model configuration to `forbid` any `extra` fields:\n\n{* ../../docs_src/header_param_models/tutorial002_an_py310.py hl[10] *}\n\nIf a client tries to send some **extra headers**, they will receive an **error** response.\n\nFor example, if the client tries to send a `tool` header with a value of `plumbus`, they will receive an **error** response telling them that the header parameter `tool` is not allowed:\n\n```json\n{\n    \"detail\": [\n        {\n            \"type\": \"extra_forbidden\",\n            \"loc\": [\"header\", \"tool\"],\n            \"msg\": \"Extra inputs are not permitted\",\n            \"input\": \"plumbus\",\n        }\n    ]\n}\n```", "source": "tutorial\\header-param-models.md"}
{"doc_id": "fastapi_1461", "title": "Header Parameter Models { #header-parameter-models }", "section": "Disable Convert Underscores { #disable-convert-underscores }", "content": "The same way as with regular header parameters, when you have underscore characters in the parameter names, they are **automatically converted to hyphens**.\n\nFor example, if you have a header parameter `save_data` in the code, the expected HTTP header will be `save-data`, and it will show up like that in the docs.\n\nIf for some reason you need to disable this automatic conversion, you can do it as well for Pydantic models for header parameters.\n\n{* ../../docs_src/header_param_models/tutorial003_an_py310.py hl[19] *}\n\n/// warning\n\nBefore setting `convert_underscores` to `False`, bear in mind that some HTTP proxies and servers disallow the usage of headers with underscores.\n\n///", "source": "tutorial\\header-param-models.md"}
{"doc_id": "fastapi_1462", "title": "Header Parameter Models { #header-parameter-models }", "section": "Summary { #summary }", "content": "You can use **Pydantic models** to declare **headers** in **FastAPI**. üòé", "source": "tutorial\\header-param-models.md"}
{"doc_id": "fastapi_1463", "title": "Header Parameters { #header-parameters }", "section": "Header Parameters { #header-parameters }", "content": "You can define Header parameters the same way you define `Query`, `Path` and `Cookie` parameters.", "source": "tutorial\\header-params.md"}
{"doc_id": "fastapi_1464", "title": "Header Parameters { #header-parameters }", "section": "Import `Header` { #import-header }", "content": "First import `Header`:\n\n{* ../../docs_src/header_params/tutorial001_an_py310.py hl[3] *}", "source": "tutorial\\header-params.md"}
{"doc_id": "fastapi_1465", "title": "Header Parameters { #header-parameters }", "section": "Declare `Header` parameters { #declare-header-parameters }", "content": "Then declare the header parameters using the same structure as with `Path`, `Query` and `Cookie`.\n\nYou can define the default value as well as all the extra validation or annotation parameters:\n\n{* ../../docs_src/header_params/tutorial001_an_py310.py hl[9] *}\n\n/// note | Technical Details\n\n`Header` is a \"sister\" class of `Path`, `Query` and `Cookie`. It also inherits from the same common `Param` class.\n\nBut remember that when you import `Query`, `Path`, `Header`, and others from `fastapi`, those are actually functions that return special classes.\n\n///\n\n/// info\n\nTo declare headers, you need to use `Header`, because otherwise the parameters would be interpreted as query parameters.\n\n///", "source": "tutorial\\header-params.md"}
{"doc_id": "fastapi_1466", "title": "Header Parameters { #header-parameters }", "section": "Automatic conversion { #automatic-conversion }", "content": "`Header` has a little extra functionality on top of what `Path`, `Query` and `Cookie` provide.\n\nMost of the standard headers are separated by a \"hyphen\" character, also known as the \"minus symbol\" (`-`).\n\nBut a variable like `user-agent` is invalid in Python.\n\nSo, by default, `Header` will convert the parameter names characters from underscore (`_`) to hyphen (`-`) to extract and document the headers.\n\nAlso, HTTP headers are case-insensitive, so, you can declare them with standard Python style (also known as \"snake_case\").\n\nSo, you can use `user_agent` as you normally would in Python code, instead of needing to capitalize the first letters as `User_Agent` or something similar.\n\nIf for some reason you need to disable automatic conversion of underscores to hyphens, set the parameter `convert_underscores` of `Header` to `False`:\n\n{* ../../docs_src/header_params/tutorial002_an_py310.py hl[10] *}\n\n/// warning\n\nBefore setting `convert_underscores` to `False`, bear in mind that some HTTP proxies and servers disallow the usage of headers with underscores.\n\n///", "source": "tutorial\\header-params.md"}
{"doc_id": "fastapi_1467", "title": "Header Parameters { #header-parameters }", "section": "Duplicate headers { #duplicate-headers }", "content": "It is possible to receive duplicate headers. That means, the same header with multiple values.\n\nYou can define those cases using a list in the type declaration.\n\nYou will receive all the values from the duplicate header as a Python `list`.\n\nFor example, to declare a header of `X-Token` that can appear more than once, you can write:\n\n{* ../../docs_src/header_params/tutorial003_an_py310.py hl[9] *}\n\nIf you communicate with that *path operation* sending two HTTP headers like:\n\n```\nX-Token: foo\nX-Token: bar\n```\n\nThe response would be like:\n\n```JSON\n{\n    \"X-Token values\": [\n        \"bar\",\n        \"foo\"\n    ]\n}\n```", "source": "tutorial\\header-params.md"}
{"doc_id": "fastapi_1468", "title": "Header Parameters { #header-parameters }", "section": "Recap { #recap }", "content": "Declare headers with `Header`, using the same common pattern as `Query`, `Path` and `Cookie`.\n\nAnd don't worry about underscores in your variables, **FastAPI** will take care of converting them.", "source": "tutorial\\header-params.md"}
{"doc_id": "fastapi_1469", "title": "Tutorial - User Guide { #tutorial-user-guide }", "section": "Tutorial - User Guide { #tutorial-user-guide }", "content": "This tutorial shows you how to use **FastAPI** with most of its features, step by step.\n\nEach section gradually builds on the previous ones, but it's structured to separate topics, so that you can go directly to any specific one to solve your specific API needs.\n\nIt is also built to work as a future reference so you can come back and see exactly what you need.", "source": "tutorial\\index.md"}
{"doc_id": "fastapi_1470", "title": "Tutorial - User Guide { #tutorial-user-guide }", "section": "Run the code { #run-the-code }", "content": "All the code blocks can be copied and used directly (they are actually tested Python files).\n\nTo run any of the examples, copy the code to a file `main.py`, and start `fastapi dev` with:\n\n<div class=\"termy\">\n\n```console\n$ <font color=\"#4E9A06\">fastapi</font> dev <u style=\"text-decoration-style:solid\">main.py</u>\n\n  <span style=\"background-color:#009485\"><font color=\"#D3D7CF\"> FastAPI </font></span>  Starting development server üöÄ\n\n             Searching for package file structure from directories\n             with <font color=\"#3465A4\">__init__.py</font> files\n             Importing from <font color=\"#75507B\">/home/user/code/</font><font color=\"#AD7FA8\">awesomeapp</font>\n\n   <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> module </font></span>  üêç main.py\n\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> code </font></span>  Importing the FastAPI app object from the module with\n             the following code:\n\n             <u style=\"text-decoration-style:solid\">from </u><u style=\"text-decoration-style:solid\"><b>main</b></u><u style=\"text-decoration-style:solid\"> import </u><u style=\"text-decoration-style:solid\"><b>app</b></u>\n\n      <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> app </font></span>  Using import string: <font color=\"#3465A4\">main:app</font>\n\n   <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> server </font></span>  Server started at <font color=\"#729FCF\"><u style=\"text-decoration-style:solid\">http://127.0.0.1:8000</u></font>\n   <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> server </font></span>  Documentation at <font color=\"#729FCF\"><u style=\"text-decoration-style:solid\">http://127.0.0.1:8000/docs</u></font>\n\n      <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> tip </font></span>  Running in development mode, for production use:\n             <b>fastapi run</b>\n\n             Logs:\n\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Will watch for changes in these directories:\n             <b>[</b><font color=\"#4E9A06\">&apos;/home/user/code/awesomeapp&apos;</font><b>]</b>\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Uvicorn running on <font color=\"#729FCF\"><u style=\"text-decoration-style:solid\">http://127.0.0.1:8000</u></font> <b>(</b>Press CTRL+C\n             to quit<b>)</b>\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Started reloader process <b>[</b><font color=\"#34E2E2\"><b>383138</b></font><b>]</b> using WatchFiles\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Started server process <b>[</b><font color=\"#34E2E2\"><b>383153</b></font><b>]</b>\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Waiting for application startup.\n     <span style=\"background-color:#007166\"><font color=\"#D3D7CF\"> INFO </font></span>  Application startup complete.\n```\n\n</div>\n\nIt is **HIGHLY encouraged** that you write or copy the code, edit it and run it locally.\n\nUsing it in your editor is what really shows you the benefits of FastAPI, seeing how little code you have to write, all the type checks, autocompletion, etc.\n\n---", "source": "tutorial\\index.md"}
{"doc_id": "fastapi_1471", "title": "Tutorial - User Guide { #tutorial-user-guide }", "section": "Install FastAPI { #install-fastapi }", "content": "The first step is to install FastAPI.\n\nMake sure you create a [virtual environment](../virtual-environments.md){.internal-link target=_blank}, activate it, and then **install FastAPI**:\n\n<div class=\"termy\">\n\n```console\n$ pip install \"fastapi[standard]\"\n\n---> 100%\n```\n\n</div>\n\n/// note\n\nWhen you install with `pip install \"fastapi[standard]\"` it comes with some default optional standard dependencies, including `fastapi-cloud-cli`, which allows you to deploy to <a href=\"https://fastapicloud.com\" class=\"external-link\" target=\"_blank\">FastAPI Cloud</a>.\n\nIf you don't want to have those optional dependencies, you can instead install `pip install fastapi`.\n\nIf you want to install the standard dependencies but without the `fastapi-cloud-cli`, you can install with `pip install \"fastapi[standard-no-fastapi-cloud-cli]\"`.\n\n///", "source": "tutorial\\index.md"}
{"doc_id": "fastapi_1472", "title": "Tutorial - User Guide { #tutorial-user-guide }", "section": "Advanced User Guide { #advanced-user-guide }", "content": "There is also an **Advanced User Guide** that you can read later after this **Tutorial - User guide**.\n\nThe **Advanced User Guide** builds on this one, uses the same concepts, and teaches you some extra features.\n\nBut you should first read the **Tutorial - User Guide** (what you are reading right now).\n\nIt's designed so that you can build a complete application with just the **Tutorial - User Guide**, and then extend it in different ways, depending on your needs, using some of the additional ideas from the **Advanced User Guide**.", "source": "tutorial\\index.md"}
{"doc_id": "fastapi_1473", "title": "Metadata and Docs URLs { #metadata-and-docs-urls }", "section": "Metadata and Docs URLs { #metadata-and-docs-urls }", "content": "You can customize several metadata configurations in your **FastAPI** application.", "source": "tutorial\\metadata.md"}
{"doc_id": "fastapi_1474", "title": "Metadata and Docs URLs { #metadata-and-docs-urls }", "section": "Metadata for API { #metadata-for-api }", "content": "You can set the following fields that are used in the OpenAPI specification and the automatic API docs UIs:\n\n| Parameter | Type | Description |\n|------------|------|-------------|\n| `title` | `str` | The title of the API. |\n| `summary` | `str` | A short summary of the API. <small>Available since OpenAPI 3.1.0, FastAPI 0.99.0.</small> |\n| `description` | `str` | A short description of the API. It can use Markdown. |\n| `version` | `string` | The version of the API. This is the version of your own application, not of OpenAPI. For example `2.5.0`. |\n| `terms_of_service` | `str` | A URL to the Terms of Service for the API. If provided, this has to be a URL. |\n| `contact` | `dict` | The contact information for the exposed API. It can contain several fields. <details><summary><code>contact</code> fields</summary><table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td><code>str</code></td><td>The identifying name of the contact person/organization.</td></tr><tr><td><code>url</code></td><td><code>str</code></td><td>The URL pointing to the contact information. MUST be in the format of a URL.</td></tr><tr><td><code>email</code></td><td><code>str</code></td><td>The email address of the contact person/organization. MUST be in the format of an email address.</td></tr></tbody></table></details> |\n| `license_info` | `dict` | The license information for the exposed API. It can contain several fields. <details><summary><code>license_info</code> fields</summary><table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td><code>str</code></td><td><strong>REQUIRED</strong> (if a <code>license_info</code> is set). The license name used for the API.</td></tr><tr><td><code>identifier</code></td><td><code>str</code></td><td>An <a href=\"https://spdx.org/licenses/\" class=\"external-link\" target=\"_blank\">SPDX</a> license expression for the API. The <code>identifier</code> field is mutually exclusive of the <code>url</code> field. <small>Available since OpenAPI 3.1.0, FastAPI 0.99.0.</small></td></tr><tr><td><code>url</code></td><td><code>str</code></td><td>A URL to the license used for the API. MUST be in the format of a URL.</td></tr></tbody></table></details> |\n\nYou can set them as follows:\n\n{* ../../docs_src/metadata/tutorial001.py hl[3:16, 19:32] *}\n\n/// tip\n\nYou can write Markdown in the `description` field and it will be rendered in the output.\n\n///\n\nWith this configuration, the automatic API docs would look like:\n\n<img src=\"/img/tutorial/metadata/image01.png\">", "source": "tutorial\\metadata.md"}
{"doc_id": "fastapi_1475", "title": "Metadata and Docs URLs { #metadata-and-docs-urls }", "section": "License identifier { #license-identifier }", "content": "Since OpenAPI 3.1.0 and FastAPI 0.99.0, you can also set the `license_info` with an `identifier` instead of a `url`.\n\nFor example:\n\n{* ../../docs_src/metadata/tutorial001_1.py hl[31] *}", "source": "tutorial\\metadata.md"}
{"doc_id": "fastapi_1476", "title": "Metadata and Docs URLs { #metadata-and-docs-urls }", "section": "Metadata for tags { #metadata-for-tags }", "content": "You can also add additional metadata for the different tags used to group your path operations with the parameter `openapi_tags`.\n\nIt takes a list containing one dictionary for each tag.\n\nEach dictionary can contain:\n\n* `name` (**required**): a `str` with the same tag name you use in the `tags` parameter in your *path operations* and `APIRouter`s.\n* `description`: a `str` with a short description for the tag. It can have Markdown and will be shown in the docs UI.\n* `externalDocs`: a `dict` describing external documentation with:\n    * `description`: a `str` with a short description for the external docs.\n    * `url` (**required**): a `str` with the URL for the external documentation.", "source": "tutorial\\metadata.md"}
{"doc_id": "fastapi_1477", "title": "Metadata and Docs URLs { #metadata-and-docs-urls }", "section": "Create metadata for tags { #create-metadata-for-tags }", "content": "Let's try that in an example with tags for `users` and `items`.\n\nCreate metadata for your tags and pass it to the `openapi_tags` parameter:\n\n{* ../../docs_src/metadata/tutorial004.py hl[3:16,18] *}\n\nNotice that you can use Markdown inside of the descriptions, for example \"login\" will be shown in bold (**login**) and \"fancy\" will be shown in italics (_fancy_).\n\n/// tip\n\nYou don't have to add metadata for all the tags that you use.\n\n///", "source": "tutorial\\metadata.md"}
{"doc_id": "fastapi_1478", "title": "Metadata and Docs URLs { #metadata-and-docs-urls }", "section": "Use your tags { #use-your-tags }", "content": "Use the `tags` parameter with your *path operations* (and `APIRouter`s) to assign them to different tags:\n\n{* ../../docs_src/metadata/tutorial004.py hl[21,26] *}\n\n/// info\n\nRead more about tags in [Path Operation Configuration](path-operation-configuration.md#tags){.internal-link target=_blank}.\n\n///", "source": "tutorial\\metadata.md"}
{"doc_id": "fastapi_1479", "title": "Metadata and Docs URLs { #metadata-and-docs-urls }", "section": "Check the docs { #check-the-docs }", "content": "Now, if you check the docs, they will show all the additional metadata:\n\n<img src=\"/img/tutorial/metadata/image02.png\">", "source": "tutorial\\metadata.md"}
{"doc_id": "fastapi_1480", "title": "Metadata and Docs URLs { #metadata-and-docs-urls }", "section": "Order of tags { #order-of-tags }", "content": "The order of each tag metadata dictionary also defines the order shown in the docs UI.\n\nFor example, even though `users` would go after `items` in alphabetical order, it is shown before them, because we added their metadata as the first dictionary in the list.", "source": "tutorial\\metadata.md"}
{"doc_id": "fastapi_1481", "title": "Metadata and Docs URLs { #metadata-and-docs-urls }", "section": "OpenAPI URL { #openapi-url }", "content": "By default, the OpenAPI schema is served at `/openapi.json`.\n\nBut you can configure it with the parameter `openapi_url`.\n\nFor example, to set it to be served at `/api/v1/openapi.json`:\n\n{* ../../docs_src/metadata/tutorial002.py hl[3] *}\n\nIf you want to disable the OpenAPI schema completely you can set `openapi_url=None`, that will also disable the documentation user interfaces that use it.", "source": "tutorial\\metadata.md"}
{"doc_id": "fastapi_1482", "title": "Metadata and Docs URLs { #metadata-and-docs-urls }", "section": "Docs URLs { #docs-urls }", "content": "You can configure the two documentation user interfaces included:\n\n* **Swagger UI**: served at `/docs`.\n    * You can set its URL with the parameter `docs_url`.\n    * You can disable it by setting `docs_url=None`.\n* **ReDoc**: served at `/redoc`.\n    * You can set its URL with the parameter `redoc_url`.\n    * You can disable it by setting `redoc_url=None`.\n\nFor example, to set Swagger UI to be served at `/documentation` and disable ReDoc:\n\n{* ../../docs_src/metadata/tutorial003.py hl[3] *}", "source": "tutorial\\metadata.md"}
{"doc_id": "fastapi_1483", "title": "Middleware { #middleware }", "section": "Middleware { #middleware }", "content": "You can add middleware to **FastAPI** applications.\n\nA \"middleware\" is a function that works with every **request** before it is processed by any specific *path operation*. And also with every **response** before returning it.\n\n* It takes each **request** that comes to your application.\n* It can then do something to that **request** or run any needed code.\n* Then it passes the **request** to be processed by the rest of the application (by some *path operation*).\n* It then takes the **response** generated by the application (by some *path operation*).\n* It can do something to that **response** or run any needed code.\n* Then it returns the **response**.\n\n/// note | Technical Details\n\nIf you have dependencies with `yield`, the exit code will run *after* the middleware.\n\nIf there were any background tasks (covered in the [Background Tasks](background-tasks.md){.internal-link target=_blank} section, you will see it later), they will run *after* all the middleware.\n\n///", "source": "tutorial\\middleware.md"}
{"doc_id": "fastapi_1484", "title": "Middleware { #middleware }", "section": "Create a middleware { #create-a-middleware }", "content": "To create a middleware you use the decorator `@app.middleware(\"http\")` on top of a function.\n\nThe middleware function receives:\n\n* The `request`.\n* A function `call_next` that will receive the `request` as a parameter.\n    * This function will pass the `request` to the corresponding *path operation*.\n    * Then it returns the `response` generated by the corresponding *path operation*.\n* You can then further modify the `response` before returning it.\n\n{* ../../docs_src/middleware/tutorial001.py hl[8:9,11,14] *}\n\n/// tip\n\nKeep in mind that custom proprietary headers can be added <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers\" class=\"external-link\" target=\"_blank\">using the `X-` prefix</a>.\n\nBut if you have custom headers that you want a client in a browser to be able to see, you need to add them to your CORS configurations ([CORS (Cross-Origin Resource Sharing)](cors.md){.internal-link target=_blank}) using the parameter `expose_headers` documented in <a href=\"https://www.starlette.dev/middleware/#corsmiddleware\" class=\"external-link\" target=\"_blank\">Starlette's CORS docs</a>.\n\n///\n\n/// note | Technical Details\n\nYou could also use `from starlette.requests import Request`.\n\n**FastAPI** provides it as a convenience for you, the developer. But it comes directly from Starlette.\n\n///", "source": "tutorial\\middleware.md"}
{"doc_id": "fastapi_1485", "title": "Middleware { #middleware }", "section": "Before and after the `response` { #before-and-after-the-response }", "content": "You can add code to be run with the `request`,  before any *path operation* receives it.\n\nAnd also after the `response` is generated, before returning it.\n\nFor example, you could add a custom header `X-Process-Time` containing the time in seconds that it took to process the request and generate a response:\n\n{* ../../docs_src/middleware/tutorial001.py hl[10,12:13] *}\n\n/// tip\n\nHere we use <a href=\"https://docs.python.org/3/library/time.html#time.perf_counter\" class=\"external-link\" target=\"_blank\">`time.perf_counter()`</a> instead of `time.time()` because it can be more precise for these use cases. ü§ì\n\n///", "source": "tutorial\\middleware.md"}
{"doc_id": "fastapi_1486", "title": "Middleware { #middleware }", "section": "Multiple middleware execution order { #multiple-middleware-execution-order }", "content": "When you add multiple middlewares using either `@app.middleware()` decorator or `app.add_middleware()` method, each new middleware wraps the application, forming a stack. The last middleware added is the *outermost*, and the first is the *innermost*.\n\nOn the request path, the *outermost* middleware runs first.\n\nOn the response path, it runs last.\n\nFor example:\n\n```Python\napp.add_middleware(MiddlewareA)\napp.add_middleware(MiddlewareB)\n```\n\nThis results in the following execution order:\n\n* **Request**: MiddlewareB ‚Üí MiddlewareA ‚Üí route\n\n* **Response**: route ‚Üí MiddlewareA ‚Üí MiddlewareB\n\nThis stacking behavior ensures that middlewares are executed in a predictable and controllable order.", "source": "tutorial\\middleware.md"}
{"doc_id": "fastapi_1487", "title": "Middleware { #middleware }", "section": "Other middlewares { #other-middlewares }", "content": "You can later read more about other middlewares in the [Advanced User Guide: Advanced Middleware](../advanced/middleware.md){.internal-link target=_blank}.\n\nYou will read about how to handle <abbr title=\"Cross-Origin Resource Sharing\">CORS</abbr> with a middleware in the next section.", "source": "tutorial\\middleware.md"}
{"doc_id": "fastapi_1488", "title": "Path Operation Configuration { #path-operation-configuration }", "section": "Path Operation Configuration { #path-operation-configuration }", "content": "There are several parameters that you can pass to your *path operation decorator* to configure it.\n\n/// warning\n\nNotice that these parameters are passed directly to the *path operation decorator*, not to your *path operation function*.\n\n///", "source": "tutorial\\path-operation-configuration.md"}
{"doc_id": "fastapi_1489", "title": "Path Operation Configuration { #path-operation-configuration }", "section": "Response Status Code { #response-status-code }", "content": "You can define the (HTTP) `status_code` to be used in the response of your *path operation*.\n\nYou can pass directly the `int` code, like `404`.\n\nBut if you don't remember what each number code is for, you can use the shortcut constants in `status`:\n\n{* ../../docs_src/path_operation_configuration/tutorial001_py310.py hl[1,15] *}\n\nThat status code will be used in the response and will be added to the OpenAPI schema.\n\n/// note | Technical Details\n\nYou could also use `from starlette import status`.\n\n**FastAPI** provides the same `starlette.status` as `fastapi.status` just as a convenience for you, the developer. But it comes directly from Starlette.\n\n///", "source": "tutorial\\path-operation-configuration.md"}
{"doc_id": "fastapi_1490", "title": "Path Operation Configuration { #path-operation-configuration }", "section": "Tags { #tags }", "content": "You can add tags to your *path operation*, pass the parameter `tags` with a `list` of `str` (commonly just one `str`):\n\n{* ../../docs_src/path_operation_configuration/tutorial002_py310.py hl[15,20,25] *}\n\nThey will be added to the OpenAPI schema and used by the automatic documentation interfaces:\n\n<img src=\"/img/tutorial/path-operation-configuration/image01.png\">", "source": "tutorial\\path-operation-configuration.md"}
{"doc_id": "fastapi_1491", "title": "Path Operation Configuration { #path-operation-configuration }", "section": "Tags with Enums { #tags-with-enums }", "content": "If you have a big application, you might end up accumulating **several tags**, and you would want to make sure you always use the **same tag** for related *path operations*.\n\nIn these cases, it could make sense to store the tags in an `Enum`.\n\n**FastAPI** supports that the same way as with plain strings:\n\n{* ../../docs_src/path_operation_configuration/tutorial002b.py hl[1,8:10,13,18] *}", "source": "tutorial\\path-operation-configuration.md"}
{"doc_id": "fastapi_1492", "title": "Path Operation Configuration { #path-operation-configuration }", "section": "Summary and description { #summary-and-description }", "content": "You can add a `summary` and `description`:\n\n{* ../../docs_src/path_operation_configuration/tutorial003_py310.py hl[18:19] *}", "source": "tutorial\\path-operation-configuration.md"}
{"doc_id": "fastapi_1493", "title": "Path Operation Configuration { #path-operation-configuration }", "section": "Description from docstring { #description-from-docstring }", "content": "As descriptions tend to be long and cover multiple lines, you can declare the *path operation* description in the function <abbr title=\"a multi-line string as the first expression inside a function (not assigned to any variable) used for documentation\">docstring</abbr> and **FastAPI** will read it from there.\n\nYou can write <a href=\"https://en.wikipedia.org/wiki/Markdown\" class=\"external-link\" target=\"_blank\">Markdown</a> in the docstring, it will be interpreted and displayed correctly (taking into account docstring indentation).\n\n{* ../../docs_src/path_operation_configuration/tutorial004_py310.py hl[17:25] *}\n\nIt will be used in the interactive docs:\n\n<img src=\"/img/tutorial/path-operation-configuration/image02.png\">", "source": "tutorial\\path-operation-configuration.md"}
{"doc_id": "fastapi_1494", "title": "Path Operation Configuration { #path-operation-configuration }", "section": "Response description { #response-description }", "content": "You can specify the response description with the parameter `response_description`:\n\n{* ../../docs_src/path_operation_configuration/tutorial005_py310.py hl[19] *}\n\n/// info\n\nNotice that `response_description` refers specifically to the response, the `description` refers to the *path operation* in general.\n\n///\n\n/// check\n\nOpenAPI specifies that each *path operation* requires a response description.\n\nSo, if you don't provide one, **FastAPI** will automatically generate one of \"Successful response\".\n\n///\n\n<img src=\"/img/tutorial/path-operation-configuration/image03.png\">", "source": "tutorial\\path-operation-configuration.md"}
{"doc_id": "fastapi_1495", "title": "Path Operation Configuration { #path-operation-configuration }", "section": "Deprecate a *path operation* { #deprecate-a-path-operation }", "content": "If you need to mark a *path operation* as <abbr title=\"obsolete, recommended not to use it\">deprecated</abbr>, but without removing it, pass the parameter `deprecated`:\n\n{* ../../docs_src/path_operation_configuration/tutorial006.py hl[16] *}\n\nIt will be clearly marked as deprecated in the interactive docs:\n\n<img src=\"/img/tutorial/path-operation-configuration/image04.png\">\n\nCheck how deprecated and non-deprecated *path operations* look like:\n\n<img src=\"/img/tutorial/path-operation-configuration/image05.png\">", "source": "tutorial\\path-operation-configuration.md"}
{"doc_id": "fastapi_1496", "title": "Path Operation Configuration { #path-operation-configuration }", "section": "Recap { #recap }", "content": "You can configure and add metadata for your *path operations* easily by passing parameters to the *path operation decorators*.", "source": "tutorial\\path-operation-configuration.md"}
{"doc_id": "fastapi_1497", "title": "Path Parameters and Numeric Validations { #path-parameters-and-numeric-validations }", "section": "Path Parameters and Numeric Validations { #path-parameters-and-numeric-validations }", "content": "In the same way that you can declare more validations and metadata for query parameters with `Query`, you can declare the same type of validations and metadata for path parameters with `Path`.", "source": "tutorial\\path-params-numeric-validations.md"}
{"doc_id": "fastapi_1498", "title": "Path Parameters and Numeric Validations { #path-parameters-and-numeric-validations }", "section": "Import `Path` { #import-path }", "content": "First, import `Path` from `fastapi`, and import `Annotated`:\n\n{* ../../docs_src/path_params_numeric_validations/tutorial001_an_py310.py hl[1,3] *}\n\n/// info\n\nFastAPI added support for `Annotated` (and started recommending it) in version 0.95.0.\n\nIf you have an older version, you would get errors when trying to use `Annotated`.\n\nMake sure you [Upgrade the FastAPI version](../deployment/versions.md#upgrading-the-fastapi-versions){.internal-link target=_blank} to at least 0.95.1 before using `Annotated`.\n\n///", "source": "tutorial\\path-params-numeric-validations.md"}
{"doc_id": "fastapi_1499", "title": "Path Parameters and Numeric Validations { #path-parameters-and-numeric-validations }", "section": "Declare metadata { #declare-metadata }", "content": "You can declare all the same parameters as for `Query`.\n\nFor example, to declare a `title` metadata value for the path parameter `item_id` you can type:\n\n{* ../../docs_src/path_params_numeric_validations/tutorial001_an_py310.py hl[10] *}\n\n/// note\n\nA path parameter is always required as it has to be part of the path. Even if you declared it with `None` or set a default value, it would not affect anything, it would still be always required.\n\n///", "source": "tutorial\\path-params-numeric-validations.md"}
{"doc_id": "fastapi_1500", "title": "Path Parameters and Numeric Validations { #path-parameters-and-numeric-validations }", "section": "Order the parameters as you need { #order-the-parameters-as-you-need }", "content": "/// tip\n\nThis is probably not as important or necessary if you use `Annotated`.\n\n///\n\nLet's say that you want to declare the query parameter `q` as a required `str`.\n\nAnd you don't need to declare anything else for that parameter, so you don't really need to use `Query`.\n\nBut you still need to use `Path` for the `item_id` path parameter. And you don't want to use `Annotated` for some reason.\n\nPython will complain if you put a value with a \"default\" before a value that doesn't have a \"default\".\n\nBut you can re-order them, and have the value without a default (the query parameter `q`) first.\n\nIt doesn't matter for **FastAPI**. It will detect the parameters by their names, types and default declarations (`Query`, `Path`, etc), it doesn't care about the order.\n\nSo, you can declare your function as:\n\n{* ../../docs_src/path_params_numeric_validations/tutorial002.py hl[7] *}\n\nBut keep in mind that if you use `Annotated`, you won't have this problem, it won't matter as you're not using the function parameter default values for `Query()` or `Path()`.\n\n{* ../../docs_src/path_params_numeric_validations/tutorial002_an_py39.py *}", "source": "tutorial\\path-params-numeric-validations.md"}
{"doc_id": "fastapi_1501", "title": "Path Parameters and Numeric Validations { #path-parameters-and-numeric-validations }", "section": "Order the parameters as you need, tricks { #order-the-parameters-as-you-need-tricks }", "content": "/// tip\n\nThis is probably not as important or necessary if you use `Annotated`.\n\n///\n\nHere's a **small trick** that can be handy, but you won't need it often.\n\nIf you want to:\n\n* declare the `q` query parameter without a `Query` nor any default value\n* declare the path parameter `item_id` using `Path`\n* have them in a different order\n* not use `Annotated`\n\n...Python has a little special syntax for that.\n\nPass `*`, as the first parameter of the function.\n\nPython won't do anything with that `*`, but it will know that all the following parameters should be called as keyword arguments (key-value pairs), also known as <abbr title=\"From: K-ey W-ord Arg-uments\"><code>kwargs</code></abbr>. Even if they don't have a default value.\n\n{* ../../docs_src/path_params_numeric_validations/tutorial003.py hl[7] *}", "source": "tutorial\\path-params-numeric-validations.md"}
{"doc_id": "fastapi_1502", "title": "Path Parameters and Numeric Validations { #path-parameters-and-numeric-validations }", "section": "Better with `Annotated` { #better-with-annotated }", "content": "Keep in mind that if you use `Annotated`, as you are not using function parameter default values, you won't have this problem, and you probably won't need to use `*`.\n\n{* ../../docs_src/path_params_numeric_validations/tutorial003_an_py39.py hl[10] *}", "source": "tutorial\\path-params-numeric-validations.md"}
{"doc_id": "fastapi_1503", "title": "Path Parameters and Numeric Validations { #path-parameters-and-numeric-validations }", "section": "Number validations: greater than or equal { #number-validations-greater-than-or-equal }", "content": "With `Query` and `Path` (and others you'll see later) you can declare number constraints.\n\nHere, with `ge=1`, `item_id` will need to be an integer number \"`g`reater than or `e`qual\" to `1`.\n\n{* ../../docs_src/path_params_numeric_validations/tutorial004_an_py39.py hl[10] *}", "source": "tutorial\\path-params-numeric-validations.md"}
{"doc_id": "fastapi_1504", "title": "Path Parameters and Numeric Validations { #path-parameters-and-numeric-validations }", "section": "Number validations: greater than and less than or equal { #number-validations-greater-than-and-less-than-or-equal }", "content": "The same applies for:\n\n* `gt`: `g`reater `t`han\n* `le`: `l`ess than or `e`qual\n\n{* ../../docs_src/path_params_numeric_validations/tutorial005_an_py39.py hl[10] *}", "source": "tutorial\\path-params-numeric-validations.md"}
{"doc_id": "fastapi_1505", "title": "Path Parameters and Numeric Validations { #path-parameters-and-numeric-validations }", "section": "Number validations: floats, greater than and less than { #number-validations-floats-greater-than-and-less-than }", "content": "Number validations also work for `float` values.\n\nHere's where it becomes important to be able to declare <abbr title=\"greater than\"><code>gt</code></abbr> and not just <abbr title=\"greater than or equal\"><code>ge</code></abbr>. As with it you can require, for example, that a value must be greater than `0`, even if it is less than `1`.\n\nSo, `0.5` would be a valid value. But `0.0` or `0` would not.\n\nAnd the same for <abbr title=\"less than\"><code>lt</code></abbr>.\n\n{* ../../docs_src/path_params_numeric_validations/tutorial006_an_py39.py hl[13] *}", "source": "tutorial\\path-params-numeric-validations.md"}
{"doc_id": "fastapi_1506", "title": "Path Parameters and Numeric Validations { #path-parameters-and-numeric-validations }", "section": "Recap { #recap }", "content": "With `Query`, `Path` (and others you haven't seen yet) you can declare metadata and string validations in the same ways as with [Query Parameters and String Validations](query-params-str-validations.md){.internal-link target=_blank}.\n\nAnd you can also declare numeric validations:\n\n* `gt`: `g`reater `t`han\n* `ge`: `g`reater than or `e`qual\n* `lt`: `l`ess `t`han\n* `le`: `l`ess than or `e`qual\n\n/// info\n\n`Query`, `Path`, and other classes you will see later are subclasses of a common `Param` class.\n\nAll of them share the same parameters for additional validation and metadata you have seen.\n\n///\n\n/// note | Technical Details\n\nWhen you import `Query`, `Path` and others from `fastapi`, they are actually functions.\n\nThat when called, return instances of classes of the same name.\n\nSo, you import `Query`, which is a function. And when you call it, it returns an instance of a class also named `Query`.\n\nThese functions are there (instead of just using the classes directly) so that your editor doesn't mark errors about their types.\n\nThat way you can use your normal editor and coding tools without having to add custom configurations to disregard those errors.\n\n///", "source": "tutorial\\path-params-numeric-validations.md"}
{"doc_id": "fastapi_1507", "title": "Path Parameters { #path-parameters }", "section": "Path Parameters { #path-parameters }", "content": "You can declare path \"parameters\" or \"variables\" with the same syntax used by Python format strings:\n\n{* ../../docs_src/path_params/tutorial001.py hl[6:7] *}\n\nThe value of the path parameter `item_id` will be passed to your function as the argument `item_id`.\n\nSo, if you run this example and go to <a href=\"http://127.0.0.1:8000/items/foo\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/items/foo</a>, you will see a response of:\n\n```JSON\n{\"item_id\":\"foo\"}\n```", "source": "tutorial\\path-params.md"}
{"doc_id": "fastapi_1508", "title": "Path Parameters { #path-parameters }", "section": "Path parameters with types { #path-parameters-with-types }", "content": "You can declare the type of a path parameter in the function, using standard Python type annotations:\n\n{* ../../docs_src/path_params/tutorial002.py hl[7] *}\n\nIn this case, `item_id` is declared to be an `int`.\n\n/// check\n\nThis will give you editor support inside of your function, with error checks, completion, etc.\n\n///", "source": "tutorial\\path-params.md"}
{"doc_id": "fastapi_1509", "title": "Path Parameters { #path-parameters }", "section": "Data <abbr title=\"also known as: serialization, parsing, marshalling\">conversion</abbr> { #data-conversion }", "content": "If you run this example and open your browser at <a href=\"http://127.0.0.1:8000/items/3\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/items/3</a>, you will see a response of:\n\n```JSON\n{\"item_id\":3}\n```\n\n/// check\n\nNotice that the value your function received (and returned) is `3`, as a Python `int`, not a string `\"3\"`.\n\nSo, with that type declaration, **FastAPI** gives you automatic request <abbr title=\"converting the string that comes from an HTTP request into Python data\">\"parsing\"</abbr>.\n\n///", "source": "tutorial\\path-params.md"}
{"doc_id": "fastapi_1510", "title": "Path Parameters { #path-parameters }", "section": "Data validation { #data-validation }", "content": "But if you go to the browser at <a href=\"http://127.0.0.1:8000/items/foo\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/items/foo</a>, you will see a nice HTTP error of:\n\n```JSON\n{\n  \"detail\": [\n    {\n      \"type\": \"int_parsing\",\n      \"loc\": [\n        \"path\",\n        \"item_id\"\n      ],\n      \"msg\": \"Input should be a valid integer, unable to parse string as an integer\",\n      \"input\": \"foo\"\n    }\n  ]\n}\n```\n\nbecause the path parameter `item_id` had a value of `\"foo\"`, which is not an `int`.\n\nThe same error would appear if you provided a `float` instead of an `int`, as in: <a href=\"http://127.0.0.1:8000/items/4.2\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/items/4.2</a>\n\n/// check\n\nSo, with the same Python type declaration, **FastAPI** gives you data validation.\n\nNotice that the error also clearly states exactly the point where the validation didn't pass.\n\nThis is incredibly helpful while developing and debugging code that interacts with your API.\n\n///", "source": "tutorial\\path-params.md"}
{"doc_id": "fastapi_1511", "title": "Path Parameters { #path-parameters }", "section": "Documentation { #documentation }", "content": "And when you open your browser at <a href=\"http://127.0.0.1:8000/docs\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/docs</a>, you will see an automatic, interactive, API documentation like:\n\n<img src=\"/img/tutorial/path-params/image01.png\">\n\n/// check\n\nAgain, just with that same Python type declaration, **FastAPI** gives you automatic, interactive documentation (integrating Swagger UI).\n\nNotice that the path parameter is declared to be an integer.\n\n///", "source": "tutorial\\path-params.md"}
{"doc_id": "fastapi_1512", "title": "Path Parameters { #path-parameters }", "section": "Standards-based benefits, alternative documentation { #standards-based-benefits-alternative-documentation }", "content": "And because the generated schema is from the <a href=\"https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.1.0.md\" class=\"external-link\" target=\"_blank\">OpenAPI</a> standard, there are many compatible tools.\n\nBecause of this, **FastAPI** itself provides an alternative API documentation (using ReDoc), which you can access at <a href=\"http://127.0.0.1:8000/redoc\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/redoc</a>:\n\n<img src=\"/img/tutorial/path-params/image02.png\">\n\nThe same way, there are many compatible tools. Including code generation tools for many languages.", "source": "tutorial\\path-params.md"}
{"doc_id": "fastapi_1513", "title": "Path Parameters { #path-parameters }", "section": "Pydantic { #pydantic }", "content": "All the data validation is performed under the hood by <a href=\"https://docs.pydantic.dev/\" class=\"external-link\" target=\"_blank\">Pydantic</a>, so you get all the benefits from it. And you know you are in good hands.\n\nYou can use the same type declarations with `str`, `float`, `bool` and many other complex data types.\n\nSeveral of these are explored in the next chapters of the tutorial.", "source": "tutorial\\path-params.md"}
{"doc_id": "fastapi_1514", "title": "Path Parameters { #path-parameters }", "section": "Order matters { #order-matters }", "content": "When creating *path operations*, you can find situations where you have a fixed path.\n\nLike `/users/me`, let's say that it's to get data about the current user.\n\nAnd then you can also have a path `/users/{user_id}` to get data about a specific user by some user ID.\n\nBecause *path operations* are evaluated in order, you need to make sure that the path for `/users/me` is declared before the one for `/users/{user_id}`:\n\n{* ../../docs_src/path_params/tutorial003.py hl[6,11] *}\n\nOtherwise, the path for `/users/{user_id}` would match also for `/users/me`, \"thinking\" that it's receiving a parameter `user_id` with a value of `\"me\"`.\n\nSimilarly, you cannot redefine a path operation:\n\n{* ../../docs_src/path_params/tutorial003b.py hl[6,11] *}\n\nThe first one will always be used since the path matches first.", "source": "tutorial\\path-params.md"}
{"doc_id": "fastapi_1515", "title": "Path Parameters { #path-parameters }", "section": "Predefined values { #predefined-values }", "content": "If you have a *path operation* that receives a *path parameter*, but you want the possible valid *path parameter* values to be predefined, you can use a standard Python <abbr title=\"Enumeration\">`Enum`</abbr>.", "source": "tutorial\\path-params.md"}
{"doc_id": "fastapi_1516", "title": "Path Parameters { #path-parameters }", "section": "Create an `Enum` class { #create-an-enum-class }", "content": "Import `Enum` and create a sub-class that inherits from `str` and from `Enum`.\n\nBy inheriting from `str` the API docs will be able to know that the values must be of type `string` and will be able to render correctly.\n\nThen create class attributes with fixed values, which will be the available valid values:\n\n{* ../../docs_src/path_params/tutorial005.py hl[1,6:9] *}\n\n/// info\n\n<a href=\"https://docs.python.org/3/library/enum.html\" class=\"external-link\" target=\"_blank\">Enumerations (or enums) are available in Python</a> since version 3.4.\n\n///\n\n/// tip\n\nIf you are wondering, \"AlexNet\", \"ResNet\", and \"LeNet\" are just names of Machine Learning <abbr title=\"Technically, Deep Learning model architectures\">models</abbr>.\n\n///", "source": "tutorial\\path-params.md"}
{"doc_id": "fastapi_1517", "title": "Path Parameters { #path-parameters }", "section": "Declare a *path parameter* { #declare-a-path-parameter }", "content": "Then create a *path parameter* with a type annotation using the enum class you created (`ModelName`):\n\n{* ../../docs_src/path_params/tutorial005.py hl[16] *}", "source": "tutorial\\path-params.md"}
{"doc_id": "fastapi_1518", "title": "Path Parameters { #path-parameters }", "section": "Check the docs { #check-the-docs }", "content": "Because the available values for the *path parameter* are predefined, the interactive docs can show them nicely:\n\n<img src=\"/img/tutorial/path-params/image03.png\">", "source": "tutorial\\path-params.md"}
{"doc_id": "fastapi_1519", "title": "Path Parameters { #path-parameters }", "section": "Working with Python *enumerations* { #working-with-python-enumerations }", "content": "The value of the *path parameter* will be an *enumeration member*.\n\n#### Compare *enumeration members* { #compare-enumeration-members }\n\nYou can compare it with the *enumeration member* in your created enum `ModelName`:\n\n{* ../../docs_src/path_params/tutorial005.py hl[17] *}\n\n#### Get the *enumeration value* { #get-the-enumeration-value }\n\nYou can get the actual value (a `str` in this case) using `model_name.value`, or in general, `your_enum_member.value`:\n\n{* ../../docs_src/path_params/tutorial005.py hl[20] *}\n\n/// tip\n\nYou could also access the value `\"lenet\"` with `ModelName.lenet.value`.\n\n///\n\n#### Return *enumeration members* { #return-enumeration-members }\n\nYou can return *enum members* from your *path operation*, even nested in a JSON body (e.g. a `dict`).\n\nThey will be converted to their corresponding values (strings in this case) before returning them to the client:\n\n{* ../../docs_src/path_params/tutorial005.py hl[18,21,23] *}\n\nIn your client you will get a JSON response like:\n\n```JSON\n{\n  \"model_name\": \"alexnet\",\n  \"message\": \"Deep Learning FTW!\"\n}\n```", "source": "tutorial\\path-params.md"}
{"doc_id": "fastapi_1520", "title": "Path Parameters { #path-parameters }", "section": "Path parameters containing paths { #path-parameters-containing-paths }", "content": "Let's say you have a *path operation* with a path `/files/{file_path}`.\n\nBut you need `file_path` itself to contain a *path*, like `home/johndoe/myfile.txt`.\n\nSo, the URL for that file would be something like: `/files/home/johndoe/myfile.txt`.", "source": "tutorial\\path-params.md"}
{"doc_id": "fastapi_1521", "title": "Path Parameters { #path-parameters }", "section": "OpenAPI support { #openapi-support }", "content": "OpenAPI doesn't support a way to declare a *path parameter* to contain a *path* inside, as that could lead to scenarios that are difficult to test and define.\n\nNevertheless, you can still do it in **FastAPI**, using one of the internal tools from Starlette.\n\nAnd the docs would still work, although not adding any documentation telling that the parameter should contain a path.", "source": "tutorial\\path-params.md"}
{"doc_id": "fastapi_1522", "title": "Path Parameters { #path-parameters }", "section": "Path convertor { #path-convertor }", "content": "Using an option directly from Starlette you can declare a *path parameter* containing a *path* using a URL like:\n\n```\n/files/{file_path:path}\n```\n\nIn this case, the name of the parameter is `file_path`, and the last part, `:path`, tells it that the parameter should match any *path*.\n\nSo, you can use it with:\n\n{* ../../docs_src/path_params/tutorial004.py hl[6] *}\n\n/// tip\n\nYou might need the parameter to contain `/home/johndoe/myfile.txt`, with a leading slash (`/`).\n\nIn that case, the URL would be: `/files//home/johndoe/myfile.txt`, with a double slash (`//`) between `files` and `home`.\n\n///", "source": "tutorial\\path-params.md"}
{"doc_id": "fastapi_1523", "title": "Path Parameters { #path-parameters }", "section": "Recap { #recap }", "content": "With **FastAPI**, by using short, intuitive and standard Python type declarations, you get:\n\n* Editor support: error checks, autocompletion, etc.\n* Data \"<abbr title=\"converting the string that comes from an HTTP request into Python data\">parsing</abbr>\"\n* Data validation\n* API annotation and automatic documentation\n\nAnd you only have to declare them once.\n\nThat's probably the main visible advantage of **FastAPI** compared to alternative frameworks (apart from the raw performance).", "source": "tutorial\\path-params.md"}
{"doc_id": "fastapi_1524", "title": "Query Parameter Models { #query-parameter-models }", "section": "Query Parameter Models { #query-parameter-models }", "content": "If you have a group of **query parameters** that are related, you can create a **Pydantic model** to declare them.\n\nThis would allow you to **re-use the model** in **multiple places** and also to declare validations and metadata for all the parameters at once. üòé\n\n/// note\n\nThis is supported since FastAPI version `0.115.0`. ü§ì\n\n///", "source": "tutorial\\query-param-models.md"}
{"doc_id": "fastapi_1525", "title": "Query Parameter Models { #query-parameter-models }", "section": "Query Parameters with a Pydantic Model { #query-parameters-with-a-pydantic-model }", "content": "Declare the **query parameters** that you need in a **Pydantic model**, and then declare the parameter as `Query`:\n\n{* ../../docs_src/query_param_models/tutorial001_an_py310.py hl[9:13,17] *}\n\n**FastAPI** will **extract** the data for **each field** from the **query parameters** in the request and give you the Pydantic model you defined.", "source": "tutorial\\query-param-models.md"}
{"doc_id": "fastapi_1526", "title": "Query Parameter Models { #query-parameter-models }", "section": "Check the Docs { #check-the-docs }", "content": "You can see the query parameters in the docs UI at `/docs`:\n\n<div class=\"screenshot\">\n<img src=\"/img/tutorial/query-param-models/image01.png\">\n</div>", "source": "tutorial\\query-param-models.md"}
{"doc_id": "fastapi_1527", "title": "Query Parameter Models { #query-parameter-models }", "section": "Forbid Extra Query Parameters { #forbid-extra-query-parameters }", "content": "In some special use cases (probably not very common), you might want to **restrict** the query parameters that you want to receive.\n\nYou can use Pydantic's model configuration to `forbid` any `extra` fields:\n\n{* ../../docs_src/query_param_models/tutorial002_an_py310.py hl[10] *}\n\nIf a client tries to send some **extra** data in the **query parameters**, they will receive an **error** response.\n\nFor example, if the client tries to send a `tool` query parameter with a value of `plumbus`, like:\n\n```http\nhttps://example.com/items/?limit=10&tool=plumbus\n```\n\nThey will receive an **error** response telling them that the query parameter `tool` is not allowed:\n\n```json\n{\n    \"detail\": [\n        {\n            \"type\": \"extra_forbidden\",\n            \"loc\": [\"query\", \"tool\"],\n            \"msg\": \"Extra inputs are not permitted\",\n            \"input\": \"plumbus\"\n        }\n    ]\n}\n```", "source": "tutorial\\query-param-models.md"}
{"doc_id": "fastapi_1528", "title": "Query Parameter Models { #query-parameter-models }", "section": "Summary { #summary }", "content": "You can use **Pydantic models** to declare **query parameters** in **FastAPI**. üòé\n\n/// tip\n\nSpoiler alert: you can also use Pydantic models to declare cookies and headers, but you will read about that later in the tutorial. ü§´\n\n///", "source": "tutorial\\query-param-models.md"}
{"doc_id": "fastapi_1529", "title": "Query Parameters and String Validations { #query-parameters-and-string-validations }", "section": "Query Parameters and String Validations { #query-parameters-and-string-validations }", "content": "**FastAPI** allows you to declare additional information and validation for your parameters.\n\nLet's take this application as example:\n\n{* ../../docs_src/query_params_str_validations/tutorial001_py310.py hl[7] *}\n\nThe query parameter `q` is of type `str | None`, that means that it's of type `str` but could also be `None`, and indeed, the default value is `None`, so FastAPI will know it's not required.\n\n/// note\n\nFastAPI will know that the value of `q` is not required because of the default value `= None`.\n\nHaving `str | None` will allow your editor to give you better support and detect errors.\n\n///", "source": "tutorial\\query-params-str-validations.md"}
{"doc_id": "fastapi_1530", "title": "Query Parameters and String Validations { #query-parameters-and-string-validations }", "section": "Additional validation { #additional-validation }", "content": "We are going to enforce that even though `q` is optional, whenever it is provided, **its length doesn't exceed 50 characters**.", "source": "tutorial\\query-params-str-validations.md"}
{"doc_id": "fastapi_1531", "title": "Query Parameters and String Validations { #query-parameters-and-string-validations }", "section": "Import `Query` and `Annotated` { #import-query-and-annotated }", "content": "To achieve that, first import:\n\n* `Query` from `fastapi`\n* `Annotated` from `typing`\n\n{* ../../docs_src/query_params_str_validations/tutorial002_an_py310.py hl[1,3] *}\n\n/// info\n\nFastAPI added support for `Annotated` (and started recommending it) in version 0.95.0.\n\nIf you have an older version, you would get errors when trying to use `Annotated`.\n\nMake sure you [Upgrade the FastAPI version](../deployment/versions.md#upgrading-the-fastapi-versions){.internal-link target=_blank} to at least 0.95.1 before using `Annotated`.\n\n///", "source": "tutorial\\query-params-str-validations.md"}
{"doc_id": "fastapi_1532", "title": "Query Parameters and String Validations { #query-parameters-and-string-validations }", "section": "Use `Annotated` in the type for the `q` parameter { #use-annotated-in-the-type-for-the-q-parameter }", "content": "Remember I told you before that `Annotated` can be used to add metadata to your parameters in the [Python Types Intro](../python-types.md#type-hints-with-metadata-annotations){.internal-link target=_blank}?\n\nNow it's the time to use it with FastAPI. üöÄ\n\nWe had this type annotation:\n\n//// tab | Python 3.10+\n\n```Python\nq: str | None = None\n```\n\n////\n\n//// tab | Python 3.8+\n\n```Python\nq: Union[str, None] = None\n```\n\n////\n\nWhat we will do is wrap that with `Annotated`, so it becomes:\n\n//// tab | Python 3.10+\n\n```Python\nq: Annotated[str | None] = None\n```\n\n////\n\n//// tab | Python 3.8+\n\n```Python\nq: Annotated[Union[str, None]] = None\n```\n\n////\n\nBoth of those versions mean the same thing, `q` is a parameter that can be a `str` or `None`, and by default, it is `None`.\n\nNow let's jump to the fun stuff. üéâ", "source": "tutorial\\query-params-str-validations.md"}
{"doc_id": "fastapi_1533", "title": "Query Parameters and String Validations { #query-parameters-and-string-validations }", "section": "Add `Query` to `Annotated` in the `q` parameter { #add-query-to-annotated-in-the-q-parameter }", "content": "Now that we have this `Annotated` where we can put more information (in this case some additional validation), add `Query` inside of `Annotated`, and set the parameter `max_length` to `50`:\n\n{* ../../docs_src/query_params_str_validations/tutorial002_an_py310.py hl[9] *}\n\nNotice that the default value is still `None`, so the parameter is still optional.\n\nBut now, having `Query(max_length=50)` inside of `Annotated`, we are telling FastAPI that we want it to have **additional validation** for this value, we want it to have maximum 50 characters. üòé\n\n/// tip\n\nHere we are using `Query()` because this is a **query parameter**. Later we will see others like `Path()`, `Body()`, `Header()`, and `Cookie()`, that also accept the same arguments as `Query()`.\n\n///\n\nFastAPI will now:\n\n* **Validate** the data making sure that the max length is 50 characters\n* Show a **clear error** for the client when the data is not valid\n* **Document** the parameter in the OpenAPI schema *path operation* (so it will show up in the **automatic docs UI**)", "source": "tutorial\\query-params-str-validations.md"}
{"doc_id": "fastapi_1534", "title": "Query Parameters and String Validations { #query-parameters-and-string-validations }", "section": "Alternative (old): `Query` as the default value { #alternative-old-query-as-the-default-value }", "content": "Previous versions of FastAPI (before <abbr title=\"before 2023-03\">0.95.0</abbr>) required you to use `Query` as the default value of your parameter, instead of putting it in `Annotated`, there's a high chance that you will see code using it around, so I'll explain it to you.\n\n/// tip\n\nFor new code and whenever possible, use `Annotated` as explained above. There are multiple advantages (explained below) and no disadvantages. üç∞\n\n///\n\nThis is how you would use `Query()` as the default value of your function parameter, setting the parameter `max_length` to 50:\n\n{* ../../docs_src/query_params_str_validations/tutorial002_py310.py hl[7] *}\n\nAs in this case (without using `Annotated`) we have to replace the default value `None` in the function with `Query()`, we now need to set the default value with the parameter `Query(default=None)`, it serves the same purpose of defining that default value (at least for FastAPI).\n\nSo:\n\n```Python\nq: str | None = Query(default=None)\n```\n\n...makes the parameter optional, with a default value of `None`, the same as:\n\n\n```Python\nq: str | None = None\n```\n\nBut the `Query` version declares it explicitly as being a query parameter.\n\nThen, we can pass more parameters to `Query`. In this case, the `max_length` parameter that applies to strings:\n\n```Python\nq: str | None = Query(default=None, max_length=50)\n```\n\nThis will validate the data, show a clear error when the data is not valid, and document the parameter in the OpenAPI schema *path operation*.", "source": "tutorial\\query-params-str-validations.md"}
{"doc_id": "fastapi_1535", "title": "Query Parameters and String Validations { #query-parameters-and-string-validations }", "section": "`Query` as the default value or in `Annotated` { #query-as-the-default-value-or-in-annotated }", "content": "Keep in mind that when using `Query` inside of `Annotated` you cannot use the `default` parameter for `Query`.\n\nInstead, use the actual default value of the function parameter. Otherwise, it would be inconsistent.\n\nFor example, this is not allowed:\n\n```Python\nq: Annotated[str, Query(default=\"rick\")] = \"morty\"\n```\n\n...because it's not clear if the default value should be `\"rick\"` or `\"morty\"`.\n\nSo, you would use (preferably):\n\n```Python\nq: Annotated[str, Query()] = \"rick\"\n```\n\n...or in older code bases you will find:\n\n```Python\nq: str = Query(default=\"rick\")\n```", "source": "tutorial\\query-params-str-validations.md"}
{"doc_id": "fastapi_1536", "title": "Query Parameters and String Validations { #query-parameters-and-string-validations }", "section": "Advantages of `Annotated` { #advantages-of-annotated }", "content": "**Using `Annotated` is recommended** instead of the default value in function parameters, it is **better** for multiple reasons. ü§ì\n\nThe **default** value of the **function parameter** is the **actual default** value, that's more intuitive with Python in general. üòå\n\nYou could **call** that same function in **other places** without FastAPI, and it would **work as expected**. If there's a **required** parameter (without a default value), your **editor** will let you know with an error, **Python** will also complain if you run it without passing the required parameter.\n\nWhen you don't use `Annotated` and instead use the **(old) default value style**, if you call that function without FastAPI in **other places**, you have to **remember** to pass the arguments to the function for it to work correctly, otherwise the values will be different from what you expect (e.g. `QueryInfo` or something similar instead of `str`). And your editor won't complain, and Python won't complain running that function, only when the operations inside error out.\n\nBecause `Annotated` can have more than one metadata annotation, you could now even use the same function with other tools, like <a href=\"https://typer.tiangolo.com/\" class=\"external-link\" target=\"_blank\">Typer</a>. üöÄ", "source": "tutorial\\query-params-str-validations.md"}
{"doc_id": "fastapi_1537", "title": "Query Parameters and String Validations { #query-parameters-and-string-validations }", "section": "Add more validations { #add-more-validations }", "content": "You can also add a parameter `min_length`:\n\n{* ../../docs_src/query_params_str_validations/tutorial003_an_py310.py hl[10] *}", "source": "tutorial\\query-params-str-validations.md"}
{"doc_id": "fastapi_1538", "title": "Query Parameters and String Validations { #query-parameters-and-string-validations }", "section": "Add regular expressions { #add-regular-expressions }", "content": "You can define a <abbr title=\"A regular expression, regex or regexp is a sequence of characters that define a search pattern for strings.\">regular expression</abbr> `pattern` that the parameter should match:\n\n{* ../../docs_src/query_params_str_validations/tutorial004_an_py310.py hl[11] *}\n\nThis specific regular expression pattern checks that the received parameter value:\n\n* `^`: starts with the following characters, doesn't have characters before.\n* `fixedquery`: has the exact value `fixedquery`.\n* `$`: ends there, doesn't have any more characters after `fixedquery`.\n\nIf you feel lost with all these **\"regular expression\"** ideas, don't worry. They are a hard topic for many people. You can still do a lot of stuff without needing regular expressions yet.\n\nNow you know that whenever you need them you can use them in **FastAPI**.", "source": "tutorial\\query-params-str-validations.md"}
{"doc_id": "fastapi_1539", "title": "Query Parameters and String Validations { #query-parameters-and-string-validations }", "section": "Pydantic v1 `regex` instead of `pattern` { #pydantic-v1-regex-instead-of-pattern }", "content": "Before Pydantic version 2 and before FastAPI 0.100.0, the parameter was called `regex` instead of `pattern`, but it's now deprecated.\n\nYou could still see some code using it:\n\n//// tab | Pydantic v1\n\n{* ../../docs_src/query_params_str_validations/tutorial004_regex_an_py310.py hl[11] *}\n\n////\n\nBut know that this is deprecated and it should be updated to use the new parameter `pattern`. ü§ì", "source": "tutorial\\query-params-str-validations.md"}
{"doc_id": "fastapi_1540", "title": "Query Parameters and String Validations { #query-parameters-and-string-validations }", "section": "Default values { #default-values }", "content": "You can, of course, use default values other than `None`.\n\nLet's say that you want to declare the `q` query parameter to have a `min_length` of `3`, and to have a default value of `\"fixedquery\"`:\n\n{* ../../docs_src/query_params_str_validations/tutorial005_an_py39.py hl[9] *}\n\n/// note\n\nHaving a default value of any type, including `None`, makes the parameter optional (not required).\n\n///", "source": "tutorial\\query-params-str-validations.md"}
{"doc_id": "fastapi_1541", "title": "Query Parameters and String Validations { #query-parameters-and-string-validations }", "section": "Required parameters { #required-parameters }", "content": "When we don't need to declare more validations or metadata, we can make the `q` query parameter required just by not declaring a default value, like:\n\n```Python\nq: str\n```\n\ninstead of:\n\n```Python\nq: str | None = None\n```\n\nBut we are now declaring it with `Query`, for example like:\n\n```Python\nq: Annotated[str | None, Query(min_length=3)] = None\n```\n\nSo, when you need to declare a value as required while using `Query`, you can simply not declare a default value:\n\n{* ../../docs_src/query_params_str_validations/tutorial006_an_py39.py hl[9] *}", "source": "tutorial\\query-params-str-validations.md"}
{"doc_id": "fastapi_1542", "title": "Query Parameters and String Validations { #query-parameters-and-string-validations }", "section": "Required, can be `None` { #required-can-be-none }", "content": "You can declare that a parameter can accept `None`, but that it's still required. This would force clients to send a value, even if the value is `None`.\n\nTo do that, you can declare that `None` is a valid type but simply do not declare a default value:\n\n{* ../../docs_src/query_params_str_validations/tutorial006c_an_py310.py hl[9] *}", "source": "tutorial\\query-params-str-validations.md"}
{"doc_id": "fastapi_1543", "title": "Query Parameters and String Validations { #query-parameters-and-string-validations }", "section": "Query parameter list / multiple values { #query-parameter-list-multiple-values }", "content": "When you define a query parameter explicitly with `Query` you can also declare it to receive a list of values, or said in another way, to receive multiple values.\n\nFor example, to declare a query parameter `q` that can appear multiple times in the URL, you can write:\n\n{* ../../docs_src/query_params_str_validations/tutorial011_an_py310.py hl[9] *}\n\nThen, with a URL like:\n\n```\nhttp://localhost:8000/items/?q=foo&q=bar\n```\n\nyou would receive the multiple `q` *query parameters'* values (`foo` and `bar`) in a Python `list` inside your *path operation function*, in the *function parameter* `q`.\n\nSo, the response to that URL would be:\n\n```JSON\n{\n  \"q\": [\n    \"foo\",\n    \"bar\"\n  ]\n}\n```\n\n/// tip\n\nTo declare a query parameter with a type of `list`, like in the example above, you need to explicitly use `Query`, otherwise it would be interpreted as a request body.\n\n///\n\nThe interactive API docs will update accordingly, to allow multiple values:\n\n<img src=\"/img/tutorial/query-params-str-validations/image02.png\">", "source": "tutorial\\query-params-str-validations.md"}
{"doc_id": "fastapi_1544", "title": "Query Parameters and String Validations { #query-parameters-and-string-validations }", "section": "Query parameter list / multiple values with defaults { #query-parameter-list-multiple-values-with-defaults }", "content": "You can also define a default `list` of values if none are provided:\n\n{* ../../docs_src/query_params_str_validations/tutorial012_an_py39.py hl[9] *}\n\nIf you go to:\n\n```\nhttp://localhost:8000/items/\n```\n\nthe default of `q` will be: `[\"foo\", \"bar\"]` and your response will be:\n\n```JSON\n{\n  \"q\": [\n    \"foo\",\n    \"bar\"\n  ]\n}\n```\n\n#### Using just `list` { #using-just-list }\n\nYou can also use `list` directly instead of `list[str]`:\n\n{* ../../docs_src/query_params_str_validations/tutorial013_an_py39.py hl[9] *}\n\n/// note\n\nKeep in mind that in this case, FastAPI won't check the contents of the list.\n\nFor example, `list[int]` would check (and document) that the contents of the list are integers. But `list` alone wouldn't.\n\n///", "source": "tutorial\\query-params-str-validations.md"}
{"doc_id": "fastapi_1545", "title": "Query Parameters and String Validations { #query-parameters-and-string-validations }", "section": "Declare more metadata { #declare-more-metadata }", "content": "You can add more information about the parameter.\n\nThat information will be included in the generated OpenAPI and used by the documentation user interfaces and external tools.\n\n/// note\n\nKeep in mind that different tools might have different levels of OpenAPI support.\n\nSome of them might not show all the extra information declared yet, although in most of the cases, the missing feature is already planned for development.\n\n///\n\nYou can add a `title`:\n\n{* ../../docs_src/query_params_str_validations/tutorial007_an_py310.py hl[10] *}\n\nAnd a `description`:\n\n{* ../../docs_src/query_params_str_validations/tutorial008_an_py310.py hl[14] *}", "source": "tutorial\\query-params-str-validations.md"}
{"doc_id": "fastapi_1546", "title": "Query Parameters and String Validations { #query-parameters-and-string-validations }", "section": "Alias parameters { #alias-parameters }", "content": "Imagine that you want the parameter to be `item-query`.\n\nLike in:\n\n```\nhttp://127.0.0.1:8000/items/?item-query=foobaritems\n```\n\nBut `item-query` is not a valid Python variable name.\n\nThe closest would be `item_query`.\n\nBut you still need it to be exactly `item-query`...\n\nThen you can declare an `alias`, and that alias is what will be used to find the parameter value:\n\n{* ../../docs_src/query_params_str_validations/tutorial009_an_py310.py hl[9] *}", "source": "tutorial\\query-params-str-validations.md"}
{"doc_id": "fastapi_1547", "title": "Query Parameters and String Validations { #query-parameters-and-string-validations }", "section": "Deprecating parameters { #deprecating-parameters }", "content": "Now let's say you don't like this parameter anymore.\n\nYou have to leave it there a while because there are clients using it, but you want the docs to clearly show it as <abbr title=\"obsolete, recommended not to use it\">deprecated</abbr>.\n\nThen pass the parameter `deprecated=True` to `Query`:\n\n{* ../../docs_src/query_params_str_validations/tutorial010_an_py310.py hl[19] *}\n\nThe docs will show it like this:\n\n<img src=\"/img/tutorial/query-params-str-validations/image01.png\">", "source": "tutorial\\query-params-str-validations.md"}
{"doc_id": "fastapi_1548", "title": "Query Parameters and String Validations { #query-parameters-and-string-validations }", "section": "Exclude parameters from OpenAPI { #exclude-parameters-from-openapi }", "content": "To exclude a query parameter from the generated OpenAPI schema (and thus, from the automatic documentation systems), set the parameter `include_in_schema` of `Query` to `False`:\n\n{* ../../docs_src/query_params_str_validations/tutorial014_an_py310.py hl[10] *}", "source": "tutorial\\query-params-str-validations.md"}
{"doc_id": "fastapi_1549", "title": "Query Parameters and String Validations { #query-parameters-and-string-validations }", "section": "Custom Validation { #custom-validation }", "content": "There could be cases where you need to do some **custom validation** that can't be done with the parameters shown above.\n\nIn those cases, you can use a **custom validator function** that is applied after the normal validation (e.g. after validating that the value is a `str`).\n\nYou can achieve that using <a href=\"https://docs.pydantic.dev/latest/concepts/validators/#field-after-validator\" class=\"external-link\" target=\"_blank\">Pydantic's `AfterValidator`</a> inside of `Annotated`.\n\n/// tip\n\nPydantic also has <a href=\"https://docs.pydantic.dev/latest/concepts/validators/#field-before-validator\" class=\"external-link\" target=\"_blank\">`BeforeValidator`</a> and others. ü§ì\n\n///\n\nFor example, this custom validator checks that the item ID starts with `isbn-` for an <abbr title=\"ISBN means International Standard Book Number\">ISBN</abbr> book number or with `imdb-` for an <abbr title=\"IMDB (Internet Movie Database) is a website with information about movies\">IMDB</abbr> movie URL ID:\n\n{* ../../docs_src/query_params_str_validations/tutorial015_an_py310.py hl[5,16:19,24] *}\n\n/// info\n\nThis is available with Pydantic version 2 or above. üòé\n\n///\n\n/// tip\n\nIf you need to do any type of validation that requires communicating with any **external component**, like a database or another API, you should instead use **FastAPI Dependencies**, you will learn about them later.\n\nThese custom validators are for things that can be checked with **only** the **same data** provided in the request.\n\n///", "source": "tutorial\\query-params-str-validations.md"}
{"doc_id": "fastapi_1550", "title": "Query Parameters and String Validations { #query-parameters-and-string-validations }", "section": "Understand that Code { #understand-that-code }", "content": "The important point is just using **`AfterValidator` with a function inside `Annotated`**. Feel free to skip this part. ü§∏\n\n---\n\nBut if you're curious about this specific code example and you're still entertained, here are some extra details.\n\n#### String with `value.startswith()` { #string-with-value-startswith }\n\nDid you notice? a string using `value.startswith()` can take a tuple, and it will check each value in the tuple:\n\n{* ../../docs_src/query_params_str_validations/tutorial015_an_py310.py ln[16:19] hl[17] *}\n\n#### A Random Item { #a-random-item }\n\nWith `data.items()` we get an <abbr title=\"Something we can iterate on with a for loop, like a list, set, etc.\">iterable object</abbr> with tuples containing the key and value for each dictionary item.\n\nWe convert this iterable object into a proper `list` with `list(data.items())`.\n\nThen with `random.choice()` we can get a **random value** from the list, so, we get a tuple with `(id, name)`. It will be something like `(\"imdb-tt0371724\", \"The Hitchhiker's Guide to the Galaxy\")`.\n\nThen we **assign those two values** of the tuple to the variables `id` and `name`.\n\nSo, if the user didn't provide an item ID, they will still receive a random suggestion.\n\n...we do all this in a **single simple line**. ü§Ø Don't you love Python? üêç\n\n{* ../../docs_src/query_params_str_validations/tutorial015_an_py310.py ln[22:30] hl[29] *}", "source": "tutorial\\query-params-str-validations.md"}
{"doc_id": "fastapi_1551", "title": "Query Parameters and String Validations { #query-parameters-and-string-validations }", "section": "Recap { #recap }", "content": "You can declare additional validations and metadata for your parameters.\n\nGeneric validations and metadata:\n\n* `alias`\n* `title`\n* `description`\n* `deprecated`\n\nValidations specific for strings:\n\n* `min_length`\n* `max_length`\n* `pattern`\n\nCustom validations using `AfterValidator`.\n\nIn these examples you saw how to declare validations for `str` values.\n\nSee the next chapters to learn how to declare validations for other types, like numbers.", "source": "tutorial\\query-params-str-validations.md"}
{"doc_id": "fastapi_1552", "title": "Query Parameters { #query-parameters }", "section": "Query Parameters { #query-parameters }", "content": "When you declare other function parameters that are not part of the path parameters, they are automatically interpreted as \"query\" parameters.\n\n{* ../../docs_src/query_params/tutorial001.py hl[9] *}\n\nThe query is the set of key-value pairs that go after the `?` in a URL, separated by `&` characters.\n\nFor example, in the URL:\n\n```\nhttp://127.0.0.1:8000/items/?skip=0&limit=10\n```\n\n...the query parameters are:\n\n* `skip`: with a value of `0`\n* `limit`: with a value of `10`\n\nAs they are part of the URL, they are \"naturally\" strings.\n\nBut when you declare them with Python types (in the example above, as `int`), they are converted to that type and validated against it.\n\nAll the same process that applied for path parameters also applies for query parameters:\n\n* Editor support (obviously)\n* Data <abbr title=\"converting the string that comes from an HTTP request into Python data\">\"parsing\"</abbr>\n* Data validation\n* Automatic documentation", "source": "tutorial\\query-params.md"}
{"doc_id": "fastapi_1553", "title": "Query Parameters { #query-parameters }", "section": "Defaults { #defaults }", "content": "As query parameters are not a fixed part of a path, they can be optional and can have default values.\n\nIn the example above they have default values of `skip=0` and `limit=10`.\n\nSo, going to the URL:\n\n```\nhttp://127.0.0.1:8000/items/\n```\n\nwould be the same as going to:\n\n```\nhttp://127.0.0.1:8000/items/?skip=0&limit=10\n```\n\nBut if you go to, for example:\n\n```\nhttp://127.0.0.1:8000/items/?skip=20\n```\n\nThe parameter values in your function will be:\n\n* `skip=20`: because you set it in the URL\n* `limit=10`: because that was the default value", "source": "tutorial\\query-params.md"}
{"doc_id": "fastapi_1554", "title": "Query Parameters { #query-parameters }", "section": "Optional parameters { #optional-parameters }", "content": "The same way, you can declare optional query parameters, by setting their default to `None`:\n\n{* ../../docs_src/query_params/tutorial002_py310.py hl[7] *}\n\nIn this case, the function parameter `q` will be optional, and will be `None` by default.\n\n/// check\n\nAlso notice that **FastAPI** is smart enough to notice that the path parameter `item_id` is a path parameter and `q` is not, so, it's a query parameter.\n\n///", "source": "tutorial\\query-params.md"}
{"doc_id": "fastapi_1555", "title": "Query Parameters { #query-parameters }", "section": "Query parameter type conversion { #query-parameter-type-conversion }", "content": "You can also declare `bool` types, and they will be converted:\n\n{* ../../docs_src/query_params/tutorial003_py310.py hl[7] *}\n\nIn this case, if you go to:\n\n```\nhttp://127.0.0.1:8000/items/foo?short=1\n```\n\nor\n\n```\nhttp://127.0.0.1:8000/items/foo?short=True\n```\n\nor\n\n```\nhttp://127.0.0.1:8000/items/foo?short=true\n```\n\nor\n\n```\nhttp://127.0.0.1:8000/items/foo?short=on\n```\n\nor\n\n```\nhttp://127.0.0.1:8000/items/foo?short=yes\n```\n\nor any other case variation (uppercase, first letter in uppercase, etc), your function will see the parameter `short` with a `bool` value of `True`. Otherwise as `False`.", "source": "tutorial\\query-params.md"}
{"doc_id": "fastapi_1556", "title": "Query Parameters { #query-parameters }", "section": "Multiple path and query parameters { #multiple-path-and-query-parameters }", "content": "You can declare multiple path parameters and query parameters at the same time, **FastAPI** knows which is which.\n\nAnd you don't have to declare them in any specific order.\n\nThey will be detected by name:\n\n{* ../../docs_src/query_params/tutorial004_py310.py hl[6,8] *}", "source": "tutorial\\query-params.md"}
{"doc_id": "fastapi_1557", "title": "Query Parameters { #query-parameters }", "section": "Required query parameters { #required-query-parameters }", "content": "When you declare a default value for non-path parameters (for now, we have only seen query parameters), then it is not required.\n\nIf you don't want to add a specific value but just make it optional, set the default as `None`.\n\nBut when you want to make a query parameter required, you can just not declare any default value:\n\n{* ../../docs_src/query_params/tutorial005.py hl[6:7] *}\n\nHere the query parameter `needy` is a required query parameter of type `str`.\n\nIf you open in your browser a URL like:\n\n```\nhttp://127.0.0.1:8000/items/foo-item\n```\n\n...without adding the required parameter `needy`, you will see an error like:\n\n```JSON\n{\n  \"detail\": [\n    {\n      \"type\": \"missing\",\n      \"loc\": [\n        \"query\",\n        \"needy\"\n      ],\n      \"msg\": \"Field required\",\n      \"input\": null\n    }\n  ]\n}\n```\n\nAs `needy` is a required parameter, you would need to set it in the URL:\n\n```\nhttp://127.0.0.1:8000/items/foo-item?needy=sooooneedy\n```\n\n...this would work:\n\n```JSON\n{\n    \"item_id\": \"foo-item\",\n    \"needy\": \"sooooneedy\"\n}\n```\n\nAnd of course, you can define some parameters as required, some as having a default value, and some entirely optional:\n\n{* ../../docs_src/query_params/tutorial006_py310.py hl[8] *}\n\nIn this case, there are 3 query parameters:\n\n* `needy`, a required `str`.\n* `skip`, an `int` with a default value of `0`.\n* `limit`, an optional `int`.\n\n/// tip\n\nYou could also use `Enum`s the same way as with [Path Parameters](path-params.md#predefined-values){.internal-link target=_blank}.\n\n///", "source": "tutorial\\query-params.md"}
{"doc_id": "fastapi_1558", "title": "Request Files { #request-files }", "section": "Request Files { #request-files }", "content": "You can define files to be uploaded by the client using `File`.\n\n/// info\n\nTo receive uploaded files, first install <a href=\"https://github.com/Kludex/python-multipart\" class=\"external-link\" target=\"_blank\">`python-multipart`</a>.\n\nMake sure you create a [virtual environment](../virtual-environments.md){.internal-link target=_blank}, activate it, and then install it, for example:\n\n```console\n$ pip install python-multipart\n```\n\nThis is because uploaded files are sent as \"form data\".\n\n///", "source": "tutorial\\request-files.md"}
{"doc_id": "fastapi_1559", "title": "Request Files { #request-files }", "section": "Import `File` { #import-file }", "content": "Import `File` and `UploadFile` from `fastapi`:\n\n{* ../../docs_src/request_files/tutorial001_an_py39.py hl[3] *}", "source": "tutorial\\request-files.md"}
{"doc_id": "fastapi_1560", "title": "Request Files { #request-files }", "section": "Define `File` Parameters { #define-file-parameters }", "content": "Create file parameters the same way you would for `Body` or `Form`:\n\n{* ../../docs_src/request_files/tutorial001_an_py39.py hl[9] *}\n\n/// info\n\n`File` is a class that inherits directly from `Form`.\n\nBut remember that when you import `Query`, `Path`, `File` and others from `fastapi`, those are actually functions that return special classes.\n\n///\n\n/// tip\n\nTo declare File bodies, you need to use `File`, because otherwise the parameters would be interpreted as query parameters or body (JSON) parameters.\n\n///\n\nThe files will be uploaded as \"form data\".\n\nIf you declare the type of your *path operation function* parameter as `bytes`, **FastAPI** will read the file for you and you will receive the contents as `bytes`.\n\nKeep in mind that this means that the whole contents will be stored in memory. This will work well for small files.\n\nBut there are several cases in which you might benefit from using `UploadFile`.", "source": "tutorial\\request-files.md"}
{"doc_id": "fastapi_1561", "title": "Request Files { #request-files }", "section": "File Parameters with `UploadFile` { #file-parameters-with-uploadfile }", "content": "Define a file parameter with a type of `UploadFile`:\n\n{* ../../docs_src/request_files/tutorial001_an_py39.py hl[14] *}\n\nUsing `UploadFile` has several advantages over `bytes`:\n\n* You don't have to use `File()` in the default value of the parameter.\n* It uses a \"spooled\" file:\n    * A file stored in memory up to a maximum size limit, and after passing this limit it will be stored in disk.\n* This means that it will work well for large files like images, videos, large binaries, etc. without consuming all the memory.\n* You can get metadata from the uploaded file.\n* It has a <a href=\"https://docs.python.org/3/glossary.html#term-file-like-object\" class=\"external-link\" target=\"_blank\">file-like</a> `async` interface.\n* It exposes an actual Python <a href=\"https://docs.python.org/3/library/tempfile.html#tempfile.SpooledTemporaryFile\" class=\"external-link\" target=\"_blank\">`SpooledTemporaryFile`</a> object that you can pass directly to other libraries that expect a file-like object.", "source": "tutorial\\request-files.md"}
{"doc_id": "fastapi_1562", "title": "Request Files { #request-files }", "section": "`UploadFile` { #uploadfile }", "content": "`UploadFile` has the following attributes:\n\n* `filename`: A `str` with the original file name that was uploaded (e.g. `myimage.jpg`).\n* `content_type`: A `str` with the content type (MIME type / media type) (e.g. `image/jpeg`).\n* `file`: A <a href=\"https://docs.python.org/3/library/tempfile.html#tempfile.SpooledTemporaryFile\" class=\"external-link\" target=\"_blank\">`SpooledTemporaryFile`</a> (a <a href=\"https://docs.python.org/3/glossary.html#term-file-like-object\" class=\"external-link\" target=\"_blank\">file-like</a> object). This is the actual Python file object that you can pass directly to other functions or libraries that expect a \"file-like\" object.\n\n`UploadFile` has the following `async` methods. They all call the corresponding file methods underneath (using the internal `SpooledTemporaryFile`).\n\n* `write(data)`: Writes `data` (`str` or `bytes`) to the file.\n* `read(size)`: Reads `size` (`int`) bytes/characters of the file.\n* `seek(offset)`: Goes to the byte position `offset` (`int`) in the file.\n    * E.g., `await myfile.seek(0)` would go to the start of the file.\n    * This is especially useful if you run `await myfile.read()` once and then need to read the contents again.\n* `close()`: Closes the file.\n\nAs all these methods are `async` methods, you need to \"await\" them.\n\nFor example, inside of an `async` *path operation function* you can get the contents with:\n\n```Python\ncontents = await myfile.read()\n```\n\nIf you are inside of a normal `def` *path operation function*, you can access the `UploadFile.file` directly, for example:\n\n```Python\ncontents = myfile.file.read()\n```\n\n/// note | `async` Technical Details\n\nWhen you use the `async` methods, **FastAPI** runs the file methods in a threadpool and awaits for them.\n\n///\n\n/// note | Starlette Technical Details\n\n**FastAPI**'s `UploadFile` inherits directly from **Starlette**'s `UploadFile`, but adds some necessary parts to make it compatible with **Pydantic** and the other parts of FastAPI.\n\n///", "source": "tutorial\\request-files.md"}
{"doc_id": "fastapi_1563", "title": "Request Files { #request-files }", "section": "What is \"Form Data\" { #what-is-form-data }", "content": "The way HTML forms (`<form></form>`) sends the data to the server normally uses a \"special\" encoding for that data, it's different from JSON.\n\n**FastAPI** will make sure to read that data from the right place instead of JSON.\n\n/// note | Technical Details\n\nData from forms is normally encoded using the \"media type\" `application/x-www-form-urlencoded` when it doesn't include files.\n\nBut when the form includes files, it is encoded as `multipart/form-data`. If you use `File`, **FastAPI** will know it has to get the files from the correct part of the body.\n\nIf you want to read more about these encodings and form fields, head to the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST\" class=\"external-link\" target=\"_blank\"><abbr title=\"Mozilla Developer Network\">MDN</abbr> web docs for <code>POST</code></a>.\n\n///\n\n/// warning\n\nYou can declare multiple `File` and `Form` parameters in a *path operation*, but you can't also declare `Body` fields that you expect to receive as JSON, as the request will have the body encoded using `multipart/form-data` instead of `application/json`.\n\nThis is not a limitation of **FastAPI**, it's part of the HTTP protocol.\n\n///", "source": "tutorial\\request-files.md"}
{"doc_id": "fastapi_1564", "title": "Request Files { #request-files }", "section": "Optional File Upload { #optional-file-upload }", "content": "You can make a file optional by using standard type annotations and setting a default value of `None`:\n\n{* ../../docs_src/request_files/tutorial001_02_an_py310.py hl[9,17] *}", "source": "tutorial\\request-files.md"}
{"doc_id": "fastapi_1565", "title": "Request Files { #request-files }", "section": "`UploadFile` with Additional Metadata { #uploadfile-with-additional-metadata }", "content": "You can also use `File()` with `UploadFile`, for example, to set additional metadata:\n\n{* ../../docs_src/request_files/tutorial001_03_an_py39.py hl[9,15] *}", "source": "tutorial\\request-files.md"}
{"doc_id": "fastapi_1566", "title": "Request Files { #request-files }", "section": "Multiple File Uploads { #multiple-file-uploads }", "content": "It's possible to upload several files at the same time.\n\nThey would be associated to the same \"form field\" sent using \"form data\".\n\nTo use that, declare a list of `bytes` or `UploadFile`:\n\n{* ../../docs_src/request_files/tutorial002_an_py39.py hl[10,15] *}\n\nYou will receive, as declared, a `list` of `bytes` or `UploadFile`s.\n\n/// note | Technical Details\n\nYou could also use `from starlette.responses import HTMLResponse`.\n\n**FastAPI** provides the same `starlette.responses` as `fastapi.responses` just as a convenience for you, the developer. But most of the available responses come directly from Starlette.\n\n///", "source": "tutorial\\request-files.md"}
{"doc_id": "fastapi_1567", "title": "Request Files { #request-files }", "section": "Multiple File Uploads with Additional Metadata { #multiple-file-uploads-with-additional-metadata }", "content": "And the same way as before, you can use `File()` to set additional parameters, even for `UploadFile`:\n\n{* ../../docs_src/request_files/tutorial003_an_py39.py hl[11,18:20] *}", "source": "tutorial\\request-files.md"}
{"doc_id": "fastapi_1568", "title": "Request Files { #request-files }", "section": "Recap { #recap }", "content": "Use `File`, `bytes`, and `UploadFile` to declare files to be uploaded in the request, sent as form data.", "source": "tutorial\\request-files.md"}
{"doc_id": "fastapi_1569", "title": "Form Models { #form-models }", "section": "Form Models { #form-models }", "content": "You can use **Pydantic models** to declare **form fields** in FastAPI.\n\n/// info\n\nTo use forms, first install <a href=\"https://github.com/Kludex/python-multipart\" class=\"external-link\" target=\"_blank\">`python-multipart`</a>.\n\nMake sure you create a [virtual environment](../virtual-environments.md){.internal-link target=_blank}, activate it, and then install it, for example:\n\n```console\n$ pip install python-multipart\n```\n\n///\n\n/// note\n\nThis is supported since FastAPI version `0.113.0`. ü§ì\n\n///", "source": "tutorial\\request-form-models.md"}
{"doc_id": "fastapi_1570", "title": "Form Models { #form-models }", "section": "Pydantic Models for Forms { #pydantic-models-for-forms }", "content": "You just need to declare a **Pydantic model** with the fields you want to receive as **form fields**, and then declare the parameter as `Form`:\n\n{* ../../docs_src/request_form_models/tutorial001_an_py39.py hl[9:11,15] *}\n\n**FastAPI** will **extract** the data for **each field** from the **form data** in the request and give you the Pydantic model you defined.", "source": "tutorial\\request-form-models.md"}
{"doc_id": "fastapi_1571", "title": "Form Models { #form-models }", "section": "Check the Docs { #check-the-docs }", "content": "You can verify it in the docs UI at `/docs`:\n\n<div class=\"screenshot\">\n<img src=\"/img/tutorial/request-form-models/image01.png\">\n</div>", "source": "tutorial\\request-form-models.md"}
{"doc_id": "fastapi_1572", "title": "Form Models { #form-models }", "section": "Forbid Extra Form Fields { #forbid-extra-form-fields }", "content": "In some special use cases (probably not very common), you might want to **restrict** the form fields to only those declared in the Pydantic model. And **forbid** any **extra** fields.\n\n/// note\n\nThis is supported since FastAPI version `0.114.0`. ü§ì\n\n///\n\nYou can use Pydantic's model configuration to `forbid` any `extra` fields:\n\n{* ../../docs_src/request_form_models/tutorial002_an_py39.py hl[12] *}\n\nIf a client tries to send some extra data, they will receive an **error** response.\n\nFor example, if the client tries to send the form fields:\n\n* `username`: `Rick`\n* `password`: `Portal Gun`\n* `extra`: `Mr. Poopybutthole`\n\nThey will receive an error response telling them that the field `extra` is not allowed:\n\n```json\n{\n    \"detail\": [\n        {\n            \"type\": \"extra_forbidden\",\n            \"loc\": [\"body\", \"extra\"],\n            \"msg\": \"Extra inputs are not permitted\",\n            \"input\": \"Mr. Poopybutthole\"\n        }\n    ]\n}\n```", "source": "tutorial\\request-form-models.md"}
{"doc_id": "fastapi_1573", "title": "Form Models { #form-models }", "section": "Summary { #summary }", "content": "You can use Pydantic models to declare form fields in FastAPI. üòé", "source": "tutorial\\request-form-models.md"}
{"doc_id": "fastapi_1574", "title": "Request Forms and Files { #request-forms-and-files }", "section": "Request Forms and Files { #request-forms-and-files }", "content": "You can define files and form fields at the same time using `File` and `Form`.\n\n/// info\n\nTo receive uploaded files and/or form data, first install <a href=\"https://github.com/Kludex/python-multipart\" class=\"external-link\" target=\"_blank\">`python-multipart`</a>.\n\nMake sure you create a [virtual environment](../virtual-environments.md){.internal-link target=_blank}, activate it, and then install it, for example:\n\n```console\n$ pip install python-multipart\n```\n\n///", "source": "tutorial\\request-forms-and-files.md"}
{"doc_id": "fastapi_1575", "title": "Request Forms and Files { #request-forms-and-files }", "section": "Import `File` and `Form` { #import-file-and-form }", "content": "{* ../../docs_src/request_forms_and_files/tutorial001_an_py39.py hl[3] *}", "source": "tutorial\\request-forms-and-files.md"}
{"doc_id": "fastapi_1576", "title": "Request Forms and Files { #request-forms-and-files }", "section": "Define `File` and `Form` parameters { #define-file-and-form-parameters }", "content": "Create file and form parameters the same way you would for `Body` or `Query`:\n\n{* ../../docs_src/request_forms_and_files/tutorial001_an_py39.py hl[10:12] *}\n\nThe files and form fields will be uploaded as form data and you will receive the files and form fields.\n\nAnd you can declare some of the files as `bytes` and some as `UploadFile`.\n\n/// warning\n\nYou can declare multiple `File` and `Form` parameters in a *path operation*, but you can't also declare `Body` fields that you expect to receive as JSON, as the request will have the body encoded using `multipart/form-data` instead of `application/json`.\n\nThis is not a limitation of **FastAPI**, it's part of the HTTP protocol.\n\n///", "source": "tutorial\\request-forms-and-files.md"}
{"doc_id": "fastapi_1577", "title": "Request Forms and Files { #request-forms-and-files }", "section": "Recap { #recap }", "content": "Use `File` and `Form` together when you need to receive data and files in the same request.", "source": "tutorial\\request-forms-and-files.md"}
{"doc_id": "fastapi_1578", "title": "Form Data { #form-data }", "section": "Form Data { #form-data }", "content": "When you need to receive form fields instead of JSON, you can use `Form`.\n\n/// info\n\nTo use forms, first install <a href=\"https://github.com/Kludex/python-multipart\" class=\"external-link\" target=\"_blank\">`python-multipart`</a>.\n\nMake sure you create a [virtual environment](../virtual-environments.md){.internal-link target=_blank}, activate it, and then install it, for example:\n\n```console\n$ pip install python-multipart\n```\n\n///", "source": "tutorial\\request-forms.md"}
{"doc_id": "fastapi_1579", "title": "Form Data { #form-data }", "section": "Import `Form` { #import-form }", "content": "Import `Form` from `fastapi`:\n\n{* ../../docs_src/request_forms/tutorial001_an_py39.py hl[3] *}", "source": "tutorial\\request-forms.md"}
{"doc_id": "fastapi_1580", "title": "Form Data { #form-data }", "section": "Define `Form` parameters { #define-form-parameters }", "content": "Create form parameters the same way you would for `Body` or `Query`:\n\n{* ../../docs_src/request_forms/tutorial001_an_py39.py hl[9] *}\n\nFor example, in one of the ways the OAuth2 specification can be used (called \"password flow\") it is required to send a `username` and `password` as form fields.\n\nThe <abbr title=\"specification\">spec</abbr> requires the fields to be exactly named `username` and `password`, and to be sent as form fields, not JSON.\n\nWith `Form` you can declare the same configurations as with `Body` (and `Query`, `Path`, `Cookie`), including validation, examples, an alias (e.g. `user-name` instead of `username`), etc.\n\n/// info\n\n`Form` is a class that inherits directly from `Body`.\n\n///\n\n/// tip\n\nTo declare form bodies, you need to use `Form` explicitly, because without it the parameters would be interpreted as query parameters or body (JSON) parameters.\n\n///", "source": "tutorial\\request-forms.md"}
{"doc_id": "fastapi_1581", "title": "Form Data { #form-data }", "section": "About \"Form Fields\" { #about-form-fields }", "content": "The way HTML forms (`<form></form>`) sends the data to the server normally uses a \"special\" encoding for that data, it's different from JSON.\n\n**FastAPI** will make sure to read that data from the right place instead of JSON.\n\n/// note | Technical Details\n\nData from forms is normally encoded using the \"media type\" `application/x-www-form-urlencoded`.\n\nBut when the form includes files, it is encoded as `multipart/form-data`. You'll read about handling files in the next chapter.\n\nIf you want to read more about these encodings and form fields, head to the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST\" class=\"external-link\" target=\"_blank\"><abbr title=\"Mozilla Developer Network\">MDN</abbr> web docs for <code>POST</code></a>.\n\n///\n\n/// warning\n\nYou can declare multiple `Form` parameters in a *path operation*, but you can't also declare `Body` fields that you expect to receive as JSON, as the request will have the body encoded using `application/x-www-form-urlencoded` instead of `application/json`.\n\nThis is not a limitation of **FastAPI**, it's part of the HTTP protocol.\n\n///", "source": "tutorial\\request-forms.md"}
{"doc_id": "fastapi_1582", "title": "Form Data { #form-data }", "section": "Recap { #recap }", "content": "Use `Form` to declare form data input parameters.", "source": "tutorial\\request-forms.md"}
{"doc_id": "fastapi_1583", "title": "Response Model - Return Type { #response-model-return-type }", "section": "Response Model - Return Type { #response-model-return-type }", "content": "You can declare the type used for the response by annotating the *path operation function* **return type**.\n\nYou can use **type annotations** the same way you would for input data in function **parameters**, you can use Pydantic models, lists, dictionaries, scalar values like integers, booleans, etc.\n\n{* ../../docs_src/response_model/tutorial001_01_py310.py hl[16,21] *}\n\nFastAPI will use this return type to:\n\n* **Validate** the returned data.\n    * If the data is invalid (e.g. you are missing a field), it means that *your* app code is broken, not returning what it should, and it will return a server error instead of returning incorrect data. This way you and your clients can be certain that they will receive the data and the data shape expected.\n* Add a **JSON Schema** for the response, in the OpenAPI *path operation*.\n    * This will be used by the **automatic docs**.\n    * It will also be used by automatic client code generation tools.\n\nBut most importantly:\n\n* It will **limit and filter** the output data to what is defined in the return type.\n    * This is particularly important for **security**, we'll see more of that below.", "source": "tutorial\\response-model.md"}
{"doc_id": "fastapi_1584", "title": "Response Model - Return Type { #response-model-return-type }", "section": "`response_model` Parameter { #response-model-parameter }", "content": "There are some cases where you need or want to return some data that is not exactly what the type declares.\n\nFor example, you could want to **return a dictionary** or a database object, but **declare it as a Pydantic model**. This way the Pydantic model would do all the data documentation, validation, etc. for the object that you returned (e.g. a dictionary or database object).\n\nIf you added the return type annotation, tools and editors would complain with a (correct) error telling you that your function is returning a type (e.g. a dict) that is different from what you declared (e.g. a Pydantic model).\n\nIn those cases, you can use the *path operation decorator* parameter `response_model` instead of the return type.\n\nYou can use the `response_model` parameter in any of the *path operations*:\n\n* `@app.get()`\n* `@app.post()`\n* `@app.put()`\n* `@app.delete()`\n* etc.\n\n{* ../../docs_src/response_model/tutorial001_py310.py hl[17,22,24:27] *}\n\n/// note\n\nNotice that `response_model` is a parameter of the \"decorator\" method (`get`, `post`, etc). Not of your *path operation function*, like all the parameters and body.\n\n///\n\n`response_model` receives the same type you would declare for a Pydantic model field, so, it can be a Pydantic model, but it can also be, e.g. a `list` of Pydantic models, like `List[Item]`.\n\nFastAPI will use this `response_model` to do all the data documentation, validation, etc. and also to **convert and filter the output data** to its type declaration.\n\n/// tip\n\nIf you have strict type checks in your editor, mypy, etc, you can declare the function return type as `Any`.\n\nThat way you tell the editor that you are intentionally returning anything. But FastAPI will still do the data documentation, validation, filtering, etc. with the `response_model`.\n\n///", "source": "tutorial\\response-model.md"}
{"doc_id": "fastapi_1585", "title": "Response Model - Return Type { #response-model-return-type }", "section": "`response_model` Priority { #response-model-priority }", "content": "If you declare both a return type and a `response_model`, the `response_model` will take priority and be used by FastAPI.\n\nThis way you can add correct type annotations to your functions even when you are returning a type different than the response model, to be used by the editor and tools like mypy. And still you can have FastAPI do the data validation, documentation, etc. using the `response_model`.\n\nYou can also use `response_model=None` to disable creating a response model for that *path operation*, you might need to do it if you are adding type annotations for things that are not valid Pydantic fields, you will see an example of that in one of the sections below.", "source": "tutorial\\response-model.md"}
{"doc_id": "fastapi_1586", "title": "Response Model - Return Type { #response-model-return-type }", "section": "Return the same input data { #return-the-same-input-data }", "content": "Here we are declaring a `UserIn` model, it will contain a plaintext password:\n\n{* ../../docs_src/response_model/tutorial002_py310.py hl[7,9] *}\n\n/// info\n\nTo use `EmailStr`, first install <a href=\"https://github.com/JoshData/python-email-validator\" class=\"external-link\" target=\"_blank\">`email-validator`</a>.\n\nMake sure you create a [virtual environment](../virtual-environments.md){.internal-link target=_blank}, activate it, and then install it, for example:\n\n```console\n$ pip install email-validator\n```\n\nor with:\n\n```console\n$ pip install \"pydantic[email]\"\n```\n\n///\n\nAnd we are using this model to declare our input and the same model to declare our output:\n\n{* ../../docs_src/response_model/tutorial002_py310.py hl[16] *}\n\nNow, whenever a browser is creating a user with a password, the API will return the same password in the response.\n\nIn this case, it might not be a problem, because it's the same user sending the password.\n\nBut if we use the same model for another *path operation*, we could be sending our user's passwords to every client.\n\n/// danger\n\nNever store the plain password of a user or send it in a response like this, unless you know all the caveats and you know what you are doing.\n\n///", "source": "tutorial\\response-model.md"}
{"doc_id": "fastapi_1587", "title": "Response Model - Return Type { #response-model-return-type }", "section": "Add an output model { #add-an-output-model }", "content": "We can instead create an input model with the plaintext password and an output model without it:\n\n{* ../../docs_src/response_model/tutorial003_py310.py hl[9,11,16] *}\n\nHere, even though our *path operation function* is returning the same input user that contains the password:\n\n{* ../../docs_src/response_model/tutorial003_py310.py hl[24] *}\n\n...we declared the `response_model` to be our model `UserOut`, that doesn't include the password:\n\n{* ../../docs_src/response_model/tutorial003_py310.py hl[22] *}\n\nSo, **FastAPI** will take care of filtering out all the data that is not declared in the output model (using Pydantic).", "source": "tutorial\\response-model.md"}
{"doc_id": "fastapi_1588", "title": "Response Model - Return Type { #response-model-return-type }", "section": "`response_model` or Return Type { #response-model-or-return-type }", "content": "In this case, because the two models are different, if we annotated the function return type as `UserOut`, the editor and tools would complain that we are returning an invalid type, as those are different classes.\n\nThat's why in this example we have to declare it in the `response_model` parameter.\n\n...but continue reading below to see how to overcome that.", "source": "tutorial\\response-model.md"}
{"doc_id": "fastapi_1589", "title": "Response Model - Return Type { #response-model-return-type }", "section": "Return Type and Data Filtering { #return-type-and-data-filtering }", "content": "Let's continue from the previous example. We wanted to **annotate the function with one type**, but we wanted to be able to return from the function something that actually includes **more data**.\n\nWe want FastAPI to keep **filtering** the data using the response model. So that even though the function returns more data, the response will only include the fields declared in the response model.\n\nIn the previous example, because the classes were different, we had to use the `response_model` parameter. But that also means that we don't get the support from the editor and tools checking the function return type.\n\nBut in most of the cases where we need to do something like this, we want the model just to **filter/remove** some of the data as in this example.\n\nAnd in those cases, we can use classes and inheritance to take advantage of function **type annotations** to get better support in the editor and tools, and still get the FastAPI **data filtering**.\n\n{* ../../docs_src/response_model/tutorial003_01_py310.py hl[7:10,13:14,18] *}\n\nWith this, we get tooling support, from editors and mypy as this code is correct in terms of types, but we also get the data filtering from FastAPI.\n\nHow does this work? Let's check that out. ü§ì", "source": "tutorial\\response-model.md"}
{"doc_id": "fastapi_1590", "title": "Response Model - Return Type { #response-model-return-type }", "section": "Type Annotations and Tooling { #type-annotations-and-tooling }", "content": "First let's see how editors, mypy and other tools would see this.\n\n`BaseUser` has the base fields. Then `UserIn` inherits from `BaseUser` and adds the `password` field, so, it will include all the fields from both models.\n\nWe annotate the function return type as `BaseUser`, but we are actually returning a `UserIn` instance.\n\nThe editor, mypy, and other tools won't complain about this because, in typing terms, `UserIn` is a subclass of `BaseUser`, which means it's a *valid* type when what is expected is anything that is a `BaseUser`.", "source": "tutorial\\response-model.md"}
{"doc_id": "fastapi_1591", "title": "Response Model - Return Type { #response-model-return-type }", "section": "FastAPI Data Filtering { #fastapi-data-filtering }", "content": "Now, for FastAPI, it will see the return type and make sure that what you return includes **only** the fields that are declared in the type.\n\nFastAPI does several things internally with Pydantic to make sure that those same rules of class inheritance are not used for the returned data filtering, otherwise you could end up returning much more data than what you expected.\n\nThis way, you can get the best of both worlds: type annotations with **tooling support** and **data filtering**.", "source": "tutorial\\response-model.md"}
{"doc_id": "fastapi_1592", "title": "Response Model - Return Type { #response-model-return-type }", "section": "See it in the docs { #see-it-in-the-docs }", "content": "When you see the automatic docs, you can check that the input model and output model will both have their own JSON Schema:\n\n<img src=\"/img/tutorial/response-model/image01.png\">\n\nAnd both models will be used for the interactive API documentation:\n\n<img src=\"/img/tutorial/response-model/image02.png\">", "source": "tutorial\\response-model.md"}
{"doc_id": "fastapi_1593", "title": "Response Model - Return Type { #response-model-return-type }", "section": "Other Return Type Annotations { #other-return-type-annotations }", "content": "There might be cases where you return something that is not a valid Pydantic field and you annotate it in the function, only to get the support provided by tooling (the editor, mypy, etc).", "source": "tutorial\\response-model.md"}
{"doc_id": "fastapi_1594", "title": "Response Model - Return Type { #response-model-return-type }", "section": "Return a Response Directly { #return-a-response-directly }", "content": "The most common case would be [returning a Response directly as explained later in the advanced docs](../advanced/response-directly.md){.internal-link target=_blank}.\n\n{* ../../docs_src/response_model/tutorial003_02.py hl[8,10:11] *}\n\nThis simple case is handled automatically by FastAPI because the return type annotation is the class (or a subclass of) `Response`.\n\nAnd tools will also be happy because both `RedirectResponse` and `JSONResponse` are subclasses of `Response`, so the type annotation is correct.", "source": "tutorial\\response-model.md"}
{"doc_id": "fastapi_1595", "title": "Response Model - Return Type { #response-model-return-type }", "section": "Annotate a Response Subclass { #annotate-a-response-subclass }", "content": "You can also use a subclass of `Response` in the type annotation:\n\n{* ../../docs_src/response_model/tutorial003_03.py hl[8:9] *}\n\nThis will also work because `RedirectResponse` is a subclass of `Response`, and FastAPI will automatically handle this simple case.", "source": "tutorial\\response-model.md"}
{"doc_id": "fastapi_1596", "title": "Response Model - Return Type { #response-model-return-type }", "section": "Invalid Return Type Annotations { #invalid-return-type-annotations }", "content": "But when you return some other arbitrary object that is not a valid Pydantic type (e.g. a database object) and you annotate it like that in the function, FastAPI will try to create a Pydantic response model from that type annotation, and will fail.\n\nThe same would happen if you had something like a <abbr title='A union between multiple types means \"any of these types\".'>union</abbr> between different types where one or more of them are not valid Pydantic types, for example this would fail üí•:\n\n{* ../../docs_src/response_model/tutorial003_04_py310.py hl[8] *}\n\n...this fails because the type annotation is not a Pydantic type and is not just a single `Response` class or subclass, it's a union (any of the two) between a `Response` and a `dict`.", "source": "tutorial\\response-model.md"}
{"doc_id": "fastapi_1597", "title": "Response Model - Return Type { #response-model-return-type }", "section": "Disable Response Model { #disable-response-model }", "content": "Continuing from the example above, you might not want to have the default data validation, documentation, filtering, etc. that is performed by FastAPI.\n\nBut you might want to still keep the return type annotation in the function to get the support from tools like editors and type checkers (e.g. mypy).\n\nIn this case, you can disable the response model generation by setting `response_model=None`:\n\n{* ../../docs_src/response_model/tutorial003_05_py310.py hl[7] *}\n\nThis will make FastAPI skip the response model generation and that way you can have any return type annotations you need without it affecting your FastAPI application. ü§ì", "source": "tutorial\\response-model.md"}
{"doc_id": "fastapi_1598", "title": "Response Model - Return Type { #response-model-return-type }", "section": "Response Model encoding parameters { #response-model-encoding-parameters }", "content": "Your response model could have default values, like:\n\n{* ../../docs_src/response_model/tutorial004_py310.py hl[9,11:12] *}\n\n* `description: Union[str, None] = None` (or `str | None = None` in Python 3.10) has a default of `None`.\n* `tax: float = 10.5` has a default of `10.5`.\n* `tags: List[str] = []` has a default of an empty list: `[]`.\n\nbut you might want to omit them from the result if they were not actually stored.\n\nFor example, if you have models with many optional attributes in a NoSQL database, but you don't want to send very long JSON responses full of default values.", "source": "tutorial\\response-model.md"}
{"doc_id": "fastapi_1599", "title": "Response Model - Return Type { #response-model-return-type }", "section": "Use the `response_model_exclude_unset` parameter { #use-the-response-model-exclude-unset-parameter }", "content": "You can set the *path operation decorator* parameter `response_model_exclude_unset=True`:\n\n{* ../../docs_src/response_model/tutorial004_py310.py hl[22] *}\n\nand those default values won't be included in the response, only the values actually set.\n\nSo, if you send a request to that *path operation* for the item with ID `foo`, the response (not including default values) will be:\n\n```JSON\n{\n    \"name\": \"Foo\",\n    \"price\": 50.2\n}\n```\n\n/// info\n\nIn Pydantic v1 the method was called `.dict()`, it was deprecated (but still supported) in Pydantic v2, and renamed to `.model_dump()`.\n\nThe examples here use `.dict()` for compatibility with Pydantic v1, but you should use `.model_dump()` instead if you can use Pydantic v2.\n\n///\n\n/// info\n\nFastAPI uses Pydantic model's `.dict()` with <a href=\"https://docs.pydantic.dev/1.10/usage/exporting_models/#modeldict\" class=\"external-link\" target=\"_blank\">its `exclude_unset` parameter</a> to achieve this.\n\n///\n\n/// info\n\nYou can also use:\n\n* `response_model_exclude_defaults=True`\n* `response_model_exclude_none=True`\n\nas described in <a href=\"https://docs.pydantic.dev/1.10/usage/exporting_models/#modeldict\" class=\"external-link\" target=\"_blank\">the Pydantic docs</a> for `exclude_defaults` and `exclude_none`.\n\n///\n\n#### Data with values for fields with defaults { #data-with-values-for-fields-with-defaults }\n\nBut if your data has values for the model's fields with default values, like the item with ID `bar`:\n\n```Python hl_lines=\"3  5\"\n{\n    \"name\": \"Bar\",\n    \"description\": \"The bartenders\",\n    \"price\": 62,\n    \"tax\": 20.2\n}\n```\n\nthey will be included in the response.\n\n#### Data with the same values as the defaults { #data-with-the-same-values-as-the-defaults }\n\nIf the data has the same values as the default ones, like the item with ID `baz`:\n\n```Python hl_lines=\"3  5-6\"\n{\n    \"name\": \"Baz\",\n    \"description\": None,\n    \"price\": 50.2,\n    \"tax\": 10.5,\n    \"tags\": []\n}\n```\n\nFastAPI is smart enough (actually, Pydantic is smart enough) to realize that, even though `description`, `tax`, and `tags` have the same values as the defaults, they were set explicitly (instead of taken from the defaults).\n\nSo, they will be included in the JSON response.\n\n/// tip\n\nNotice that the default values can be anything, not only `None`.\n\nThey can be a list (`[]`), a `float` of `10.5`, etc.\n\n///", "source": "tutorial\\response-model.md"}
{"doc_id": "fastapi_1600", "title": "Response Model - Return Type { #response-model-return-type }", "section": "`response_model_include` and `response_model_exclude` { #response-model-include-and-response-model-exclude }", "content": "You can also use the *path operation decorator* parameters `response_model_include` and `response_model_exclude`.\n\nThey take a `set` of `str` with the name of the attributes to include (omitting the rest) or to exclude (including the rest).\n\nThis can be used as a quick shortcut if you have only one Pydantic model and want to remove some data from the output.\n\n/// tip\n\nBut it is still recommended to use the ideas above, using multiple classes, instead of these parameters.\n\nThis is because the JSON Schema generated in your app's OpenAPI (and the docs) will still be the one for the complete model, even if you use `response_model_include` or `response_model_exclude` to omit some attributes.\n\nThis also applies to `response_model_by_alias` that works similarly.\n\n///\n\n{* ../../docs_src/response_model/tutorial005_py310.py hl[29,35] *}\n\n/// tip\n\nThe syntax `{\"name\", \"description\"}` creates a `set` with those two values.\n\nIt is equivalent to `set([\"name\", \"description\"])`.\n\n///\n\n#### Using `list`s instead of `set`s { #using-lists-instead-of-sets }\n\nIf you forget to use a `set` and use a `list` or `tuple` instead, FastAPI will still convert it to a `set` and it will work correctly:\n\n{* ../../docs_src/response_model/tutorial006_py310.py hl[29,35] *}", "source": "tutorial\\response-model.md"}
{"doc_id": "fastapi_1601", "title": "Response Model - Return Type { #response-model-return-type }", "section": "Recap { #recap }", "content": "Use the *path operation decorator's* parameter `response_model` to define response models and especially to ensure private data is filtered out.\n\nUse `response_model_exclude_unset` to return only the values explicitly set.", "source": "tutorial\\response-model.md"}
{"doc_id": "fastapi_1602", "title": "Response Status Code { #response-status-code }", "section": "Response Status Code { #response-status-code }", "content": "The same way you can specify a response model, you can also declare the HTTP status code used for the response with the parameter `status_code` in any of the *path operations*:\n\n* `@app.get()`\n* `@app.post()`\n* `@app.put()`\n* `@app.delete()`\n* etc.\n\n{* ../../docs_src/response_status_code/tutorial001.py hl[6] *}\n\n/// note\n\nNotice that `status_code` is a parameter of the \"decorator\" method (`get`, `post`, etc). Not of your *path operation function*, like all the parameters and body.\n\n///\n\nThe `status_code` parameter receives a number with the HTTP status code.\n\n/// info\n\n`status_code` can alternatively also receive an `IntEnum`, such as Python's <a href=\"https://docs.python.org/3/library/http.html#http.HTTPStatus\" class=\"external-link\" target=\"_blank\">`http.HTTPStatus`</a>.\n\n///\n\nIt will:\n\n* Return that status code in the response.\n* Document it as such in the OpenAPI schema (and so, in the user interfaces):\n\n<img src=\"/img/tutorial/response-status-code/image01.png\">\n\n/// note\n\nSome response codes (see the next section) indicate that the response does not have a body.\n\nFastAPI knows this, and will produce OpenAPI docs that state there is no response body.\n\n///", "source": "tutorial\\response-status-code.md"}
{"doc_id": "fastapi_1603", "title": "Response Status Code { #response-status-code }", "section": "About HTTP status codes { #about-http-status-codes }", "content": "/// note\n\nIf you already know what HTTP status codes are, skip to the next section.\n\n///\n\nIn HTTP, you send a numeric status code of 3 digits as part of the response.\n\nThese status codes have a name associated to recognize them, but the important part is the number.\n\nIn short:\n\n* `100 - 199` are for \"Information\". You rarely use them directly.  Responses with these status codes cannot have a body.\n* **`200 - 299`** are for \"Successful\" responses. These are the ones you would use the most.\n    * `200` is the default status code, which means everything was \"OK\".\n    * Another example would be `201`, \"Created\". It is commonly used after creating a new record in the database.\n    * A special case is `204`, \"No Content\".  This response is used when there is no content to return to the client, and so the response must not have a body.\n* **`300 - 399`** are for \"Redirection\".  Responses with these status codes may or may not have a body, except for `304`, \"Not Modified\", which must not have one.\n* **`400 - 499`** are for \"Client error\" responses. These are the second type you would probably use the most.\n    * An example is `404`, for a \"Not Found\" response.\n    * For generic errors from the client, you can just use `400`.\n* `500 - 599` are for server errors. You almost never use them directly. When something goes wrong at some part in your application code, or server, it will automatically return one of these status codes.\n\n/// tip\n\nTo know more about each status code and which code is for what, check the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status\" class=\"external-link\" target=\"_blank\"><abbr title=\"Mozilla Developer Network\">MDN</abbr> documentation about HTTP status codes</a>.\n\n///", "source": "tutorial\\response-status-code.md"}
{"doc_id": "fastapi_1604", "title": "Response Status Code { #response-status-code }", "section": "Shortcut to remember the names { #shortcut-to-remember-the-names }", "content": "Let's see the previous example again:\n\n{* ../../docs_src/response_status_code/tutorial001.py hl[6] *}\n\n`201` is the status code for \"Created\".\n\nBut you don't have to memorize what each of these codes mean.\n\nYou can use the convenience variables from `fastapi.status`.\n\n{* ../../docs_src/response_status_code/tutorial002.py hl[1,6] *}\n\nThey are just a convenience, they hold the same number, but that way you can use the editor's autocomplete to find them:\n\n<img src=\"/img/tutorial/response-status-code/image02.png\">\n\n/// note | Technical Details\n\nYou could also use `from starlette import status`.\n\n**FastAPI** provides the same `starlette.status` as `fastapi.status` just as a convenience for you, the developer. But it comes directly from Starlette.\n\n///", "source": "tutorial\\response-status-code.md"}
{"doc_id": "fastapi_1605", "title": "Response Status Code { #response-status-code }", "section": "Changing the default { #changing-the-default }", "content": "Later, in the [Advanced User Guide](../advanced/response-change-status-code.md){.internal-link target=_blank}, you will see how to return a different status code than the default you are declaring here.", "source": "tutorial\\response-status-code.md"}
{"doc_id": "fastapi_1606", "title": "Declare Request Example Data { #declare-request-example-data }", "section": "Declare Request Example Data { #declare-request-example-data }", "content": "You can declare examples of the data your app can receive.\n\nHere are several ways to do it.", "source": "tutorial\\schema-extra-example.md"}
{"doc_id": "fastapi_1607", "title": "Declare Request Example Data { #declare-request-example-data }", "section": "Extra JSON Schema data in Pydantic models { #extra-json-schema-data-in-pydantic-models }", "content": "You can declare `examples` for a Pydantic model that will be added to the generated JSON Schema.\n\n//// tab | Pydantic v2\n\n{* ../../docs_src/schema_extra_example/tutorial001_py310.py hl[13:24] *}\n\n////\n\n//// tab | Pydantic v1\n\n{* ../../docs_src/schema_extra_example/tutorial001_pv1_py310.py hl[13:23] *}\n\n////\n\nThat extra info will be added as-is to the output **JSON Schema** for that model, and it will be used in the API docs.\n\n//// tab | Pydantic v2\n\nIn Pydantic version 2, you would use the attribute `model_config`, that takes a `dict` as described in <a href=\"https://docs.pydantic.dev/latest/api/config/\" class=\"external-link\" target=\"_blank\">Pydantic's docs: Configuration</a>.\n\nYou can set `\"json_schema_extra\"` with a `dict` containing any additional data you would like to show up in the generated JSON Schema, including `examples`.\n\n////\n\n//// tab | Pydantic v1\n\nIn Pydantic version 1, you would use an internal class `Config` and `schema_extra`, as described in <a href=\"https://docs.pydantic.dev/1.10/usage/schema/#schema-customization\" class=\"external-link\" target=\"_blank\">Pydantic's docs: Schema customization</a>.\n\nYou can set `schema_extra` with a `dict` containing any additional data you would like to show up in the generated JSON Schema, including `examples`.\n\n////\n\n/// tip\n\nYou could use the same technique to extend the JSON Schema and add your own custom extra info.\n\nFor example you could use it to add metadata for a frontend user interface, etc.\n\n///\n\n/// info\n\nOpenAPI 3.1.0 (used since FastAPI 0.99.0) added support for `examples`, which is part of the **JSON Schema** standard.\n\nBefore that, it only supported the keyword `example` with a single example. That is still supported by OpenAPI 3.1.0, but is deprecated and is not part of the JSON Schema standard. So you are encouraged to migrate `example` to `examples`. ü§ì\n\nYou can read more at the end of this page.\n\n///", "source": "tutorial\\schema-extra-example.md"}
{"doc_id": "fastapi_1608", "title": "Declare Request Example Data { #declare-request-example-data }", "section": "`Field` additional arguments { #field-additional-arguments }", "content": "When using `Field()` with Pydantic models, you can also declare additional `examples`:\n\n{* ../../docs_src/schema_extra_example/tutorial002_py310.py hl[2,8:11] *}", "source": "tutorial\\schema-extra-example.md"}
{"doc_id": "fastapi_1609", "title": "Declare Request Example Data { #declare-request-example-data }", "section": "`examples` in JSON Schema - OpenAPI { #examples-in-json-schema-openapi }", "content": "When using any of:\n\n* `Path()`\n* `Query()`\n* `Header()`\n* `Cookie()`\n* `Body()`\n* `Form()`\n* `File()`\n\nyou can also declare a group of `examples` with additional information that will be added to their **JSON Schemas** inside of **OpenAPI**.", "source": "tutorial\\schema-extra-example.md"}
{"doc_id": "fastapi_1610", "title": "Declare Request Example Data { #declare-request-example-data }", "section": "`Body` with `examples` { #body-with-examples }", "content": "Here we pass `examples` containing one example of the data expected in `Body()`:\n\n{* ../../docs_src/schema_extra_example/tutorial003_an_py310.py hl[22:29] *}", "source": "tutorial\\schema-extra-example.md"}
{"doc_id": "fastapi_1611", "title": "Declare Request Example Data { #declare-request-example-data }", "section": "Example in the docs UI { #example-in-the-docs-ui }", "content": "With any of the methods above it would look like this in the `/docs`:\n\n<img src=\"/img/tutorial/body-fields/image01.png\">", "source": "tutorial\\schema-extra-example.md"}
{"doc_id": "fastapi_1612", "title": "Declare Request Example Data { #declare-request-example-data }", "section": "`Body` with multiple `examples` { #body-with-multiple-examples }", "content": "You can of course also pass multiple `examples`:\n\n{* ../../docs_src/schema_extra_example/tutorial004_an_py310.py hl[23:38] *}\n\nWhen you do this, the examples will be part of the internal **JSON Schema** for that body data.\n\nNevertheless, at the <abbr title=\"2023-08-26\">time of writing this</abbr>, Swagger UI, the tool in charge of showing the docs UI, doesn't support showing multiple examples for the data in **JSON Schema**. But read below for a workaround.", "source": "tutorial\\schema-extra-example.md"}
{"doc_id": "fastapi_1613", "title": "Declare Request Example Data { #declare-request-example-data }", "section": "OpenAPI-specific `examples` { #openapi-specific-examples }", "content": "Since before **JSON Schema** supported `examples` OpenAPI had support for a different field also called `examples`.\n\nThis **OpenAPI-specific** `examples` goes in another section in the OpenAPI specification. It goes in the **details for each *path operation***, not inside each JSON Schema.\n\nAnd Swagger UI has supported this particular `examples` field for a while. So, you can use it to **show** different **examples in the docs UI**.\n\nThe shape of this OpenAPI-specific field `examples` is a `dict` with **multiple examples** (instead of a `list`), each with extra information that will be added to **OpenAPI** too.\n\nThis doesn't go inside of each JSON Schema contained in OpenAPI, this goes outside, in the *path operation* directly.", "source": "tutorial\\schema-extra-example.md"}
{"doc_id": "fastapi_1614", "title": "Declare Request Example Data { #declare-request-example-data }", "section": "Using the `openapi_examples` Parameter { #using-the-openapi-examples-parameter }", "content": "You can declare the OpenAPI-specific `examples` in FastAPI with the parameter `openapi_examples` for:\n\n* `Path()`\n* `Query()`\n* `Header()`\n* `Cookie()`\n* `Body()`\n* `Form()`\n* `File()`\n\nThe keys of the `dict` identify each example, and each value is another `dict`.\n\nEach specific example `dict` in the `examples` can contain:\n\n* `summary`: Short description for the example.\n* `description`: A long description that can contain Markdown text.\n* `value`: This is the actual example shown, e.g. a `dict`.\n* `externalValue`: alternative to `value`, a URL pointing to the example. Although this might not be supported by as many tools as `value`.\n\nYou can use it like this:\n\n{* ../../docs_src/schema_extra_example/tutorial005_an_py310.py hl[23:49] *}", "source": "tutorial\\schema-extra-example.md"}
{"doc_id": "fastapi_1615", "title": "Declare Request Example Data { #declare-request-example-data }", "section": "OpenAPI Examples in the Docs UI { #openapi-examples-in-the-docs-ui }", "content": "With `openapi_examples` added to `Body()` the `/docs` would look like:\n\n<img src=\"/img/tutorial/body-fields/image02.png\">", "source": "tutorial\\schema-extra-example.md"}
{"doc_id": "fastapi_1616", "title": "Declare Request Example Data { #declare-request-example-data }", "section": "Technical Details { #technical-details }", "content": "/// tip\n\nIf you are already using **FastAPI** version **0.99.0 or above**, you can probably **skip** these details.\n\nThey are more relevant for older versions, before OpenAPI 3.1.0 was available.\n\nYou can consider this a brief OpenAPI and JSON Schema **history lesson**. ü§ì\n\n///\n\n/// warning\n\nThese are very technical details about the standards **JSON Schema** and **OpenAPI**.\n\nIf the ideas above already work for you, that might be enough, and you probably don't need these details, feel free to skip them.\n\n///\n\nBefore OpenAPI 3.1.0, OpenAPI used an older and modified version of **JSON Schema**.\n\nJSON Schema didn't have `examples`, so OpenAPI added its own `example` field to its own modified version.\n\nOpenAPI also added `example` and `examples` fields to other parts of the specification:\n\n* <a href=\"https://github.com/OAI/OpenAPI-Specification/blob/main/versions/3.1.0.md#parameter-object\" class=\"external-link\" target=\"_blank\">`Parameter Object` (in the specification)</a> that was used by FastAPI's:\n    * `Path()`\n    * `Query()`\n    * `Header()`\n    * `Cookie()`\n* <a href=\"https://github.com/OAI/OpenAPI-Specification/blob/main/versions/3.1.0.md#media-type-object\" class=\"external-link\" target=\"_blank\">`Request Body Object`, in the field `content`, on the `Media Type Object` (in the specification)</a> that was used by FastAPI's:\n    * `Body()`\n    * `File()`\n    * `Form()`\n\n/// info\n\nThis old OpenAPI-specific `examples` parameter is now `openapi_examples` since FastAPI `0.103.0`.\n\n///", "source": "tutorial\\schema-extra-example.md"}
{"doc_id": "fastapi_1617", "title": "Declare Request Example Data { #declare-request-example-data }", "section": "JSON Schema's `examples` field { #json-schemas-examples-field }", "content": "But then JSON Schema added an <a href=\"https://json-schema.org/draft/2019-09/json-schema-validation.html#rfc.section.9.5\" class=\"external-link\" target=\"_blank\">`examples`</a> field to a new version of the specification.\n\nAnd then the new OpenAPI 3.1.0 was based on the latest version (JSON Schema 2020-12) that included this new field `examples`.\n\nAnd now this new `examples` field takes precedence over the old single (and custom) `example` field, that is now deprecated.\n\nThis new `examples` field in JSON Schema is **just a `list`** of examples, not a dict with extra metadata as in the other places in OpenAPI (described above).\n\n/// info\n\nEven after OpenAPI 3.1.0 was released with this new simpler integration with JSON Schema, for a while, Swagger UI, the tool that provides the automatic docs, didn't support OpenAPI 3.1.0 (it does since version 5.0.0 üéâ).\n\nBecause of that, versions of FastAPI previous to 0.99.0 still used versions of OpenAPI lower than 3.1.0.\n\n///", "source": "tutorial\\schema-extra-example.md"}
{"doc_id": "fastapi_1618", "title": "Declare Request Example Data { #declare-request-example-data }", "section": "Pydantic and FastAPI `examples` { #pydantic-and-fastapi-examples }", "content": "When you add `examples` inside a Pydantic model, using `schema_extra` or `Field(examples=[\"something\"])` that example is added to the **JSON Schema** for that Pydantic model.\n\nAnd that **JSON Schema** of the Pydantic model is included in the **OpenAPI** of your API, and then it's used in the docs UI.\n\nIn versions of FastAPI before 0.99.0 (0.99.0 and above use the newer OpenAPI 3.1.0) when you used `example` or `examples` with any of the other utilities (`Query()`, `Body()`, etc.) those examples were not added to the JSON Schema that describes that data (not even to OpenAPI's own version of JSON Schema), they were added directly to the *path operation* declaration in OpenAPI (outside the parts of OpenAPI that use JSON Schema).\n\nBut now that FastAPI 0.99.0 and above uses OpenAPI 3.1.0, that uses JSON Schema 2020-12, and Swagger UI 5.0.0 and above, everything is more consistent and the examples are included in JSON Schema.", "source": "tutorial\\schema-extra-example.md"}
{"doc_id": "fastapi_1619", "title": "Declare Request Example Data { #declare-request-example-data }", "section": "Swagger UI and OpenAPI-specific `examples` { #swagger-ui-and-openapi-specific-examples }", "content": "Now, as Swagger UI didn't support multiple JSON Schema examples (as of 2023-08-26), users didn't have a way to show multiple examples in the docs.\n\nTo solve that, FastAPI `0.103.0` **added support** for declaring the same old **OpenAPI-specific** `examples` field with the new parameter `openapi_examples`. ü§ì", "source": "tutorial\\schema-extra-example.md"}
{"doc_id": "fastapi_1620", "title": "Declare Request Example Data { #declare-request-example-data }", "section": "Summary { #summary }", "content": "I used to say I didn't like history that much... and look at me now giving \"tech history\" lessons. üòÖ\n\nIn short, **upgrade to FastAPI 0.99.0 or above**, and things are much **simpler, consistent, and intuitive**, and you don't have to know all these historic details. üòé", "source": "tutorial\\schema-extra-example.md"}
{"doc_id": "fastapi_1621", "title": "SQL (Relational) Databases { #sql-relational-databases }", "section": "SQL (Relational) Databases { #sql-relational-databases }", "content": "**FastAPI** doesn't require you to use a SQL (relational) database. But you can use **any database** that you want.\n\nHere we'll see an example using <a href=\"https://sqlmodel.tiangolo.com/\" class=\"external-link\" target=\"_blank\">SQLModel</a>.\n\n**SQLModel** is built on top of <a href=\"https://www.sqlalchemy.org/\" class=\"external-link\" target=\"_blank\">SQLAlchemy</a> and Pydantic. It was made by the same author of **FastAPI** to be the perfect match for FastAPI applications that need to use **SQL databases**.\n\n/// tip\n\nYou could use any other SQL or NoSQL database library you want (in some cases called <abbr title=\"Object Relational Mapper: a fancy term for a library where some classes represent SQL tables and instances represent rows in those tables\">\"ORMs\"</abbr>), FastAPI doesn't force you to use anything. üòé\n\n///\n\nAs SQLModel is based on SQLAlchemy, you can easily use **any database supported** by SQLAlchemy (which makes them also supported by SQLModel), like:\n\n* PostgreSQL\n* MySQL\n* SQLite\n* Oracle\n* Microsoft SQL Server, etc.\n\nIn this example, we'll use **SQLite**, because it uses a single file and Python has integrated support. So, you can copy this example and run it as is.\n\nLater, for your production application, you might want to use a database server like **PostgreSQL**.\n\n/// tip\n\nThere is an official project generator with **FastAPI** and **PostgreSQL** including a frontend and more tools: <a href=\"https://github.com/fastapi/full-stack-fastapi-template\" class=\"external-link\" target=\"_blank\">https://github.com/fastapi/full-stack-fastapi-template</a>\n\n///\n\nThis is a very simple and short tutorial, if you want to learn about databases in general, about SQL, or more advanced features, go to the <a href=\"https://sqlmodel.tiangolo.com/\" class=\"external-link\" target=\"_blank\">SQLModel docs</a>.", "source": "tutorial\\sql-databases.md"}
{"doc_id": "fastapi_1622", "title": "SQL (Relational) Databases { #sql-relational-databases }", "section": "Install `SQLModel` { #install-sqlmodel }", "content": "First, make sure you create your [virtual environment](../virtual-environments.md){.internal-link target=_blank}, activate it, and then install `sqlmodel`:\n\n<div class=\"termy\">\n\n```console\n$ pip install sqlmodel\n---> 100%\n```\n\n</div>", "source": "tutorial\\sql-databases.md"}
{"doc_id": "fastapi_1623", "title": "SQL (Relational) Databases { #sql-relational-databases }", "section": "Create the App with a Single Model { #create-the-app-with-a-single-model }", "content": "We'll create the simplest first version of the app with a single **SQLModel** model first.\n\nLater we'll improve it increasing security and versatility with **multiple models** below. ü§ì", "source": "tutorial\\sql-databases.md"}
{"doc_id": "fastapi_1624", "title": "SQL (Relational) Databases { #sql-relational-databases }", "section": "Create Models { #create-models }", "content": "Import `SQLModel` and create a database model:\n\n{* ../../docs_src/sql_databases/tutorial001_an_py310.py ln[1:11] hl[7:11] *}\n\nThe `Hero` class is very similar to a Pydantic model (in fact, underneath, it actually *is a Pydantic model*).\n\nThere are a few differences:\n\n* `table=True` tells SQLModel that this is a *table model*, it should represent a **table** in the SQL database, it's not just a *data model* (as would be any other regular Pydantic class).\n\n* `Field(primary_key=True)` tells SQLModel that the `id` is the **primary key** in the SQL database (you can learn more about SQL primary keys in the SQLModel docs).\n\n    **Note:** We use `int | None` for the primary key field so that in Python code we can *create an object without an `id`* (`id=None`), assuming the database will *generate it when saving*. SQLModel understands that the database will provide the `id` and *defines the column as a non-null `INTEGER`* in the database schema. See <a href=\"https://sqlmodel.tiangolo.com/tutorial/create-db-and-table/#primary-key-id\" class=\"external-link\" target=\"_blank\">SQLModel docs on primary keys</a> for details.\n\n* `Field(index=True)` tells SQLModel that it should create a **SQL index** for this column, that would allow faster lookups in the database when reading data filtered by this column.\n\n    SQLModel will know that something declared as `str` will be a SQL column of type `TEXT` (or `VARCHAR`, depending on the database).", "source": "tutorial\\sql-databases.md"}
{"doc_id": "fastapi_1625", "title": "SQL (Relational) Databases { #sql-relational-databases }", "section": "Create an Engine { #create-an-engine }", "content": "A SQLModel `engine` (underneath it's actually a SQLAlchemy `engine`) is what **holds the connections** to the database.\n\nYou would have **one single `engine` object** for all your code to connect to the same database.\n\n{* ../../docs_src/sql_databases/tutorial001_an_py310.py ln[14:18] hl[14:15,17:18] *}\n\nUsing `check_same_thread=False` allows FastAPI to use the same SQLite database in different threads. This is necessary as **one single request** could use **more than one thread** (for example in dependencies).\n\nDon't worry, with the way the code is structured, we'll make sure we use **a single SQLModel *session* per request** later, this is actually what the `check_same_thread` is trying to achieve.", "source": "tutorial\\sql-databases.md"}
{"doc_id": "fastapi_1626", "title": "SQL (Relational) Databases { #sql-relational-databases }", "section": "Create the Tables { #create-the-tables }", "content": "We then add a function that uses `SQLModel.metadata.create_all(engine)` to **create the tables** for all the *table models*.\n\n{* ../../docs_src/sql_databases/tutorial001_an_py310.py ln[21:22] hl[21:22] *}", "source": "tutorial\\sql-databases.md"}
{"doc_id": "fastapi_1627", "title": "SQL (Relational) Databases { #sql-relational-databases }", "section": "Create a Session Dependency { #create-a-session-dependency }", "content": "A **`Session`** is what stores the **objects in memory** and keeps track of any changes needed in the data, then it **uses the `engine`** to communicate with the database.\n\nWe will create a FastAPI **dependency** with `yield` that will provide a new `Session` for each request. This is what ensures that we use a single session per request. ü§ì\n\nThen we create an `Annotated` dependency `SessionDep` to simplify the rest of the code that will use this dependency.\n\n{* ../../docs_src/sql_databases/tutorial001_an_py310.py ln[25:30]  hl[25:27,30] *}", "source": "tutorial\\sql-databases.md"}
{"doc_id": "fastapi_1628", "title": "SQL (Relational) Databases { #sql-relational-databases }", "section": "Create Database Tables on Startup { #create-database-tables-on-startup }", "content": "We will create the database tables when the application starts.\n\n{* ../../docs_src/sql_databases/tutorial001_an_py310.py ln[32:37] hl[35:37] *}\n\nHere we create the tables on an application startup event.\n\nFor production you would probably use a migration script that runs before you start your app. ü§ì\n\n/// tip\n\nSQLModel will have migration utilities wrapping Alembic, but for now, you can use <a href=\"https://alembic.sqlalchemy.org/en/latest/\" class=\"external-link\" target=\"_blank\">Alembic</a> directly.\n\n///", "source": "tutorial\\sql-databases.md"}
{"doc_id": "fastapi_1629", "title": "SQL (Relational) Databases { #sql-relational-databases }", "section": "Create a Hero { #create-a-hero }", "content": "Because each SQLModel model is also a Pydantic model, you can use it in the same **type annotations** that you could use Pydantic models.\n\nFor example, if you declare a parameter of type `Hero`, it will be read from the **JSON body**.\n\nThe same way, you can declare it as the function's **return type**, and then the shape of the data will show up in the automatic API docs UI.\n\n{* ../../docs_src/sql_databases/tutorial001_an_py310.py ln[40:45] hl[40:45] *}\n\nHere we use the `SessionDep` dependency (a `Session`) to add the new `Hero` to the `Session` instance, commit the changes to the database, refresh the data in the `hero`, and then return it.", "source": "tutorial\\sql-databases.md"}
{"doc_id": "fastapi_1630", "title": "SQL (Relational) Databases { #sql-relational-databases }", "section": "Read Heroes { #read-heroes }", "content": "We can **read** `Hero`s from the database using a `select()`. We can include a `limit` and `offset` to paginate the results.\n\n{* ../../docs_src/sql_databases/tutorial001_an_py310.py ln[48:55] hl[51:52,54] *}", "source": "tutorial\\sql-databases.md"}
{"doc_id": "fastapi_1631", "title": "SQL (Relational) Databases { #sql-relational-databases }", "section": "Read One Hero { #read-one-hero }", "content": "We can **read** a single `Hero`.\n\n{* ../../docs_src/sql_databases/tutorial001_an_py310.py ln[58:63] hl[60] *}", "source": "tutorial\\sql-databases.md"}
{"doc_id": "fastapi_1632", "title": "SQL (Relational) Databases { #sql-relational-databases }", "section": "Delete a Hero { #delete-a-hero }", "content": "We can also **delete** a `Hero`.\n\n{* ../../docs_src/sql_databases/tutorial001_an_py310.py ln[66:73] hl[71] *}", "source": "tutorial\\sql-databases.md"}
{"doc_id": "fastapi_1633", "title": "SQL (Relational) Databases { #sql-relational-databases }", "section": "Run the App { #run-the-app }", "content": "You can run the app:\n\n<div class=\"termy\">\n\n```console\n$ fastapi dev main.py\n\n<span style=\"color: green;\">INFO</span>:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)\n```\n\n</div>\n\nThen go to the `/docs` UI, you will see that **FastAPI** is using these **models** to **document** the API, and it will use them to **serialize** and **validate** the data too.\n\n<div class=\"screenshot\">\n<img src=\"/img/tutorial/sql-databases/image01.png\">\n</div>", "source": "tutorial\\sql-databases.md"}
{"doc_id": "fastapi_1634", "title": "SQL (Relational) Databases { #sql-relational-databases }", "section": "Update the App with Multiple Models { #update-the-app-with-multiple-models }", "content": "Now let's **refactor** this app a bit to increase **security** and **versatility**.\n\nIf you check the previous app, in the UI you can see that, up to now, it lets the client decide the `id` of the `Hero` to create. üò±\n\nWe shouldn't let that happen, they could overwrite an `id` we already have assigned in the DB. Deciding the `id` should be done by the **backend** or the **database**, **not by the client**.\n\nAdditionally, we create a `secret_name` for the hero, but so far, we are returning it everywhere, that's not very **secret**... üòÖ\n\nWe'll fix these things by adding a few **extra models**. Here's where SQLModel will shine. ‚ú®", "source": "tutorial\\sql-databases.md"}
{"doc_id": "fastapi_1635", "title": "SQL (Relational) Databases { #sql-relational-databases }", "section": "Create Multiple Models { #create-multiple-models }", "content": "In **SQLModel**, any model class that has `table=True` is a **table model**.\n\nAnd any model class that doesn't have `table=True` is a **data model**, these ones are actually just Pydantic models (with a couple of small extra features). ü§ì\n\nWith SQLModel, we can use **inheritance** to **avoid duplicating** all the fields in all the cases.\n\n#### `HeroBase` - the base class { #herobase-the-base-class }\n\nLet's start with a `HeroBase` model that has all the **fields that are shared** by all the models:\n\n* `name`\n* `age`\n\n{* ../../docs_src/sql_databases/tutorial002_an_py310.py ln[7:9] hl[7:9] *}\n\n#### `Hero` - the *table model* { #hero-the-table-model }\n\nThen let's create `Hero`, the actual *table model*, with the **extra fields** that are not always in the other models:\n\n* `id`\n* `secret_name`\n\nBecause `Hero` inherits form `HeroBase`, it **also** has the **fields** declared in `HeroBase`, so all the fields for `Hero` are:\n\n* `id`\n* `name`\n* `age`\n* `secret_name`\n\n{* ../../docs_src/sql_databases/tutorial002_an_py310.py ln[7:14] hl[12:14] *}\n\n#### `HeroPublic` - the public *data model* { #heropublic-the-public-data-model }\n\nNext, we create a `HeroPublic` model, this is the one that will be **returned** to the clients of the API.\n\nIt has the same fields as `HeroBase`, so it won't include `secret_name`.\n\nFinally, the identity of our heroes is protected! ü•∑\n\nIt also re-declares `id: int`. By doing this, we are making a **contract** with the API clients, so that they can always expect the `id` to be there and to be an `int` (it will never be `None`).\n\n/// tip\n\nHaving the return model ensure that a value is always available and always `int` (not `None`) is very useful for the API clients, they can write much simpler code having this certainty.\n\nAlso, **automatically generated clients** will have simpler interfaces, so that the developers communicating with your API can have a much better time working with your API. üòé\n\n///\n\nAll the fields in `HeroPublic` are the same as in `HeroBase`, with `id` declared as `int` (not `None`):\n\n* `id`\n* `name`\n* `age`\n\n{* ../../docs_src/sql_databases/tutorial002_an_py310.py ln[7:18] hl[17:18] *}\n\n#### `HeroCreate` - the *data model* to create a hero { #herocreate-the-data-model-to-create-a-hero }\n\nNow we create a `HeroCreate` model, this is the one that will **validate** the data from the clients.\n\nIt has the same fields as `HeroBase`, and it also has `secret_name`.\n\nNow, when the clients **create a new hero**, they will send the `secret_name`, it will be stored in the database, but those secret names won't be returned in the API to the clients.\n\n/// tip\n\nThis is how you would handle **passwords**. Receive them, but don't return them in the API.\n\nYou would also **hash** the values of the passwords before storing them, **never store them in plain text**.\n\n///\n\nThe fields of `HeroCreate` are:\n\n* `name`\n* `age`\n* `secret_name`\n\n{* ../../docs_src/sql_databases/tutorial002_an_py310.py ln[7:22] hl[21:22] *}\n\n#### `HeroUpdate` - the *data model* to update a hero { #heroupdate-the-data-model-to-update-a-hero }\n\nWe didn't have a way to **update a hero** in the previous version of the app, but now with **multiple models**, we can do it. üéâ\n\nThe `HeroUpdate` *data model* is somewhat special, it has **all the same fields** that would be needed to create a new hero, but all the fields are **optional** (they all have a default value). This way, when you update a hero, you can send just the fields that you want to update.\n\nBecause all the **fields actually change** (the type now includes `None` and they now have a default value of `None`), we need to **re-declare** them.\n\nWe don't really need to inherit from `HeroBase` because we are re-declaring all the fields. I'll leave it inheriting just for consistency, but this is not necessary. It's more a matter of personal taste. ü§∑\n\nThe fields of `HeroUpdate` are:\n\n* `name`\n* `age`\n* `secret_name`\n\n{* ../../docs_src/sql_databases/tutorial002_an_py310.py ln[7:28] hl[25:28] *}", "source": "tutorial\\sql-databases.md"}
{"doc_id": "fastapi_1636", "title": "SQL (Relational) Databases { #sql-relational-databases }", "section": "Create with `HeroCreate` and return a `HeroPublic` { #create-with-herocreate-and-return-a-heropublic }", "content": "Now that we have **multiple models**, we can update the parts of the app that use them.\n\nWe receive in the request a `HeroCreate` *data model*, and from it, we create a `Hero` *table model*.\n\nThis new *table model* `Hero` will have the fields sent by the client, and will also have an `id` generated by the database.\n\nThen we return the same *table model* `Hero` as is from the function. But as we declare the `response_model` with the `HeroPublic` *data model*, **FastAPI** will use `HeroPublic` to validate and serialize the data.\n\n{* ../../docs_src/sql_databases/tutorial002_an_py310.py ln[56:62] hl[56:58] *}\n\n/// tip\n\nNow we use `response_model=HeroPublic` instead of the **return type annotation** `-> HeroPublic` because the value that we are returning is actually *not* a `HeroPublic`.\n\nIf we had declared `-> HeroPublic`, your editor and linter would complain (rightfully so) that you are returning a `Hero` instead of a `HeroPublic`.\n\nBy declaring it in `response_model` we are telling **FastAPI** to do its thing, without interfering with the type annotations and the help from your editor and other tools.\n\n///", "source": "tutorial\\sql-databases.md"}
{"doc_id": "fastapi_1637", "title": "SQL (Relational) Databases { #sql-relational-databases }", "section": "Read Heroes with `HeroPublic` { #read-heroes-with-heropublic }", "content": "We can do the same as before to **read** `Hero`s, again, we use `response_model=list[HeroPublic]` to ensure that the data is validated and serialized correctly.\n\n{* ../../docs_src/sql_databases/tutorial002_an_py310.py ln[65:72] hl[65] *}", "source": "tutorial\\sql-databases.md"}
{"doc_id": "fastapi_1638", "title": "SQL (Relational) Databases { #sql-relational-databases }", "section": "Read One Hero with `HeroPublic` { #read-one-hero-with-heropublic }", "content": "We can **read** a single hero:\n\n{* ../../docs_src/sql_databases/tutorial002_an_py310.py ln[75:80] hl[77] *}", "source": "tutorial\\sql-databases.md"}
{"doc_id": "fastapi_1639", "title": "SQL (Relational) Databases { #sql-relational-databases }", "section": "Update a Hero with `HeroUpdate` { #update-a-hero-with-heroupdate }", "content": "We can **update a hero**. For this we use an HTTP `PATCH` operation.\n\nAnd in the code, we get a `dict` with all the data sent by the client, **only the data sent by the client**, excluding any values that would be there just for being the default values. To do it we use `exclude_unset=True`. This is the main trick. ü™Ñ\n\nThen we use `hero_db.sqlmodel_update(hero_data)` to update the `hero_db` with the data from `hero_data`.\n\n{* ../../docs_src/sql_databases/tutorial002_an_py310.py ln[83:93] hl[83:84,88:89] *}", "source": "tutorial\\sql-databases.md"}
{"doc_id": "fastapi_1640", "title": "SQL (Relational) Databases { #sql-relational-databases }", "section": "Delete a Hero Again { #delete-a-hero-again }", "content": "**Deleting** a hero stays pretty much the same.\n\nWe won't satisfy the desire to refactor everything in this one. üòÖ\n\n{* ../../docs_src/sql_databases/tutorial002_an_py310.py ln[96:103] hl[101] *}", "source": "tutorial\\sql-databases.md"}
{"doc_id": "fastapi_1641", "title": "SQL (Relational) Databases { #sql-relational-databases }", "section": "Run the App Again { #run-the-app-again }", "content": "You can run the app again:\n\n<div class=\"termy\">\n\n```console\n$ fastapi dev main.py\n\n<span style=\"color: green;\">INFO</span>:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)\n```\n\n</div>\n\nIf you go to the `/docs` API UI, you will see that it is now updated, and it won't expect to receive the `id` from the client when creating a hero, etc.\n\n<div class=\"screenshot\">\n<img src=\"/img/tutorial/sql-databases/image02.png\">\n</div>", "source": "tutorial\\sql-databases.md"}
{"doc_id": "fastapi_1642", "title": "SQL (Relational) Databases { #sql-relational-databases }", "section": "Recap { #recap }", "content": "You can use <a href=\"https://sqlmodel.tiangolo.com/\" class=\"external-link\" target=\"_blank\">**SQLModel**</a> to interact with a SQL database and simplify the code with *data models*  and *table models*.\n\nYou can learn a lot more at the **SQLModel** docs, there's a longer mini <a href=\"https://sqlmodel.tiangolo.com/tutorial/fastapi/\" class=\"external-link\" target=\"_blank\">tutorial on using SQLModel with **FastAPI**</a>. üöÄ", "source": "tutorial\\sql-databases.md"}
{"doc_id": "fastapi_1643", "title": "Static Files { #static-files }", "section": "Static Files { #static-files }", "content": "You can serve static files automatically from a directory using `StaticFiles`.", "source": "tutorial\\static-files.md"}
{"doc_id": "fastapi_1644", "title": "Static Files { #static-files }", "section": "Use `StaticFiles` { #use-staticfiles }", "content": "* Import `StaticFiles`.\n* \"Mount\" a `StaticFiles()` instance in a specific path.\n\n{* ../../docs_src/static_files/tutorial001.py hl[2,6] *}\n\n/// note | Technical Details\n\nYou could also use `from starlette.staticfiles import StaticFiles`.\n\n**FastAPI** provides the same `starlette.staticfiles` as `fastapi.staticfiles` just as a convenience for you, the developer. But it actually comes directly from Starlette.\n\n///", "source": "tutorial\\static-files.md"}
{"doc_id": "fastapi_1645", "title": "Static Files { #static-files }", "section": "What is \"Mounting\" { #what-is-mounting }", "content": "\"Mounting\" means adding a complete \"independent\" application in a specific path, that then takes care of handling all the sub-paths.\n\nThis is different from using an `APIRouter` as a mounted application is completely independent. The OpenAPI and docs from your main application won't include anything from the mounted application, etc.\n\nYou can read more about this in the [Advanced User Guide](../advanced/index.md){.internal-link target=_blank}.", "source": "tutorial\\static-files.md"}
{"doc_id": "fastapi_1646", "title": "Static Files { #static-files }", "section": "Details { #details }", "content": "The first `\"/static\"` refers to the sub-path this \"sub-application\" will be \"mounted\" on. So, any path that starts with `\"/static\"` will be handled by it.\n\nThe `directory=\"static\"` refers to the name of the directory that contains your static files.\n\nThe `name=\"static\"` gives it a name that can be used internally by **FastAPI**.\n\nAll these parameters can be different than \"`static`\", adjust them with the needs and specific details of your own application.", "source": "tutorial\\static-files.md"}
{"doc_id": "fastapi_1647", "title": "Static Files { #static-files }", "section": "More info { #more-info }", "content": "For more details and options check <a href=\"https://www.starlette.dev/staticfiles/\" class=\"external-link\" target=\"_blank\">Starlette's docs about Static Files</a>.", "source": "tutorial\\static-files.md"}
{"doc_id": "fastapi_1648", "title": "Testing { #testing }", "section": "Testing { #testing }", "content": "Thanks to <a href=\"https://www.starlette.dev/testclient/\" class=\"external-link\" target=\"_blank\">Starlette</a>, testing **FastAPI** applications is easy and enjoyable.\n\nIt is based on <a href=\"https://www.python-httpx.org\" class=\"external-link\" target=\"_blank\">HTTPX</a>, which in turn is designed based on Requests, so it's very familiar and intuitive.\n\nWith it, you can use <a href=\"https://docs.pytest.org/\" class=\"external-link\" target=\"_blank\">pytest</a> directly with **FastAPI**.", "source": "tutorial\\testing.md"}
{"doc_id": "fastapi_1649", "title": "Testing { #testing }", "section": "Using `TestClient` { #using-testclient }", "content": "/// info\n\nTo use `TestClient`, first install <a href=\"https://www.python-httpx.org\" class=\"external-link\" target=\"_blank\">`httpx`</a>.\n\nMake sure you create a [virtual environment](../virtual-environments.md){.internal-link target=_blank}, activate it, and then install it, for example:\n\n```console\n$ pip install httpx\n```\n\n///\n\nImport `TestClient`.\n\nCreate a `TestClient` by passing your **FastAPI** application to it.\n\nCreate functions with a name that starts with `test_` (this is standard `pytest` conventions).\n\nUse the `TestClient` object the same way as you do with `httpx`.\n\nWrite simple `assert` statements with the standard Python expressions that you need to check (again, standard `pytest`).\n\n{* ../../docs_src/app_testing/tutorial001.py hl[2,12,15:18] *}\n\n/// tip\n\nNotice that the testing functions are normal `def`, not `async def`.\n\nAnd the calls to the client are also normal calls, not using `await`.\n\nThis allows you to use `pytest` directly without complications.\n\n///\n\n/// note | Technical Details\n\nYou could also use `from starlette.testclient import TestClient`.\n\n**FastAPI** provides the same `starlette.testclient` as `fastapi.testclient` just as a convenience for you, the developer. But it comes directly from Starlette.\n\n///\n\n/// tip\n\nIf you want to call `async` functions in your tests apart from sending requests to your FastAPI application (e.g. asynchronous database functions), have a look at the [Async Tests](../advanced/async-tests.md){.internal-link target=_blank} in the advanced tutorial.\n\n///", "source": "tutorial\\testing.md"}
{"doc_id": "fastapi_1650", "title": "Testing { #testing }", "section": "Separating tests { #separating-tests }", "content": "In a real application, you probably would have your tests in a different file.\n\nAnd your **FastAPI** application might also be composed of several files/modules, etc.", "source": "tutorial\\testing.md"}
{"doc_id": "fastapi_1651", "title": "Testing { #testing }", "section": "**FastAPI** app file { #fastapi-app-file }", "content": "Let's say you have a file structure as described in [Bigger Applications](bigger-applications.md){.internal-link target=_blank}:\n\n```\n.\n‚îú‚îÄ‚îÄ app\n‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __init__.py\n‚îÇ¬†¬† ‚îî‚îÄ‚îÄ main.py\n```\n\nIn the file `main.py` you have your **FastAPI** app:\n\n\n{* ../../docs_src/app_testing/main.py *}", "source": "tutorial\\testing.md"}
{"doc_id": "fastapi_1652", "title": "Testing { #testing }", "section": "Testing file { #testing-file }", "content": "Then you could have a file `test_main.py` with your tests. It could live on the same Python package (the same directory with a `__init__.py` file):\n\n``` hl_lines=\"5\"\n.\n‚îú‚îÄ‚îÄ app\n‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __init__.py\n‚îÇ¬†¬† ‚îú‚îÄ‚îÄ main.py\n‚îÇ¬†¬† ‚îî‚îÄ‚îÄ test_main.py\n```\n\nBecause this file is in the same package, you can use relative imports to import the object `app` from the `main` module (`main.py`):\n\n{* ../../docs_src/app_testing/test_main.py hl[3] *}\n\n\n...and have the code for the tests just like before.", "source": "tutorial\\testing.md"}
{"doc_id": "fastapi_1653", "title": "Testing { #testing }", "section": "Testing: extended example { #testing-extended-example }", "content": "Now let's extend this example and add more details to see how to test different parts.", "source": "tutorial\\testing.md"}
{"doc_id": "fastapi_1654", "title": "Testing { #testing }", "section": "Extended **FastAPI** app file { #extended-fastapi-app-file }", "content": "Let's continue with the same file structure as before:\n\n```\n.\n‚îú‚îÄ‚îÄ app\n‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __init__.py\n‚îÇ¬†¬† ‚îú‚îÄ‚îÄ main.py\n‚îÇ¬†¬† ‚îî‚îÄ‚îÄ test_main.py\n```\n\nLet's say that now the file `main.py` with your **FastAPI** app has some other **path operations**.\n\nIt has a `GET` operation that could return an error.\n\nIt has a `POST` operation that could return several errors.\n\nBoth *path operations* require an `X-Token` header.\n\n//// tab | Python 3.10+\n\n```Python\n{!> ../../docs_src/app_testing/app_b_an_py310/main.py!}\n```\n\n////\n\n//// tab | Python 3.9+\n\n```Python\n{!> ../../docs_src/app_testing/app_b_an_py39/main.py!}\n```\n\n////\n\n//// tab | Python 3.8+\n\n```Python\n{!> ../../docs_src/app_testing/app_b_an/main.py!}\n```\n\n////\n\n//// tab | Python 3.10+ non-Annotated\n\n/// tip\n\nPrefer to use the `Annotated` version if possible.\n\n///\n\n```Python\n{!> ../../docs_src/app_testing/app_b_py310/main.py!}\n```\n\n////\n\n//// tab | Python 3.8+ non-Annotated\n\n/// tip\n\nPrefer to use the `Annotated` version if possible.\n\n///\n\n```Python\n{!> ../../docs_src/app_testing/app_b/main.py!}\n```\n\n////", "source": "tutorial\\testing.md"}
{"doc_id": "fastapi_1655", "title": "Testing { #testing }", "section": "Extended testing file { #extended-testing-file }", "content": "You could then update `test_main.py` with the extended tests:\n\n{* ../../docs_src/app_testing/app_b/test_main.py *}\n\n\nWhenever you need the client to pass information in the request and you don't know how to, you can search (Google) how to do it in `httpx`, or even how to do it with `requests`, as HTTPX's design is based on Requests' design.\n\nThen you just do the same in your tests.\n\nE.g.:\n\n* To pass a *path* or *query* parameter, add it to the URL itself.\n* To pass a JSON body, pass a Python object (e.g. a `dict`) to the parameter `json`.\n* If you need to send *Form Data* instead of JSON, use the `data` parameter instead.\n* To pass *headers*, use a `dict` in the `headers` parameter.\n* For *cookies*, a `dict` in the `cookies` parameter.\n\nFor more information about how to pass data to the backend (using `httpx` or the `TestClient`) check the <a href=\"https://www.python-httpx.org\" class=\"external-link\" target=\"_blank\">HTTPX documentation</a>.\n\n/// info\n\nNote that the `TestClient` receives data that can be converted to JSON, not Pydantic models.\n\nIf you have a Pydantic model in your test and you want to send its data to the application during testing, you can use the `jsonable_encoder` described in [JSON Compatible Encoder](encoder.md){.internal-link target=_blank}.\n\n///", "source": "tutorial\\testing.md"}
{"doc_id": "fastapi_1656", "title": "Testing { #testing }", "section": "Run it { #run-it }", "content": "After that, you just need to install `pytest`.\n\nMake sure you create a [virtual environment](../virtual-environments.md){.internal-link target=_blank}, activate it, and then install it, for example:\n\n<div class=\"termy\">\n\n```console\n$ pip install pytest\n\n---> 100%\n```\n\n</div>\n\nIt will detect the files and tests automatically, execute them, and report the results back to you.\n\nRun the tests with:\n\n<div class=\"termy\">\n\n```console\n$ pytest\n\n================ test session starts ================\nplatform linux -- Python 3.6.9, pytest-5.3.5, py-1.8.1, pluggy-0.13.1\nrootdir: /home/user/code/superawesome-cli/app\nplugins: forked-1.1.3, xdist-1.31.0, cov-2.8.1\ncollected 6 items\n\n---> 100%\n\ntest_main.py <span style=\"color: green; white-space: pre;\">......                            [100%]</span>\n\n<span style=\"color: green;\">================= 1 passed in 0.03s =================</span>\n```\n\n</div>", "source": "tutorial\\testing.md"}
{"doc_id": "fastapi_1657", "title": "Classes as Dependencies { #classes-as-dependencies }", "section": "Classes as Dependencies { #classes-as-dependencies }", "content": "Before diving deeper into the **Dependency Injection** system, let's upgrade the previous example.", "source": "tutorial\\dependencies\\classes-as-dependencies.md"}
{"doc_id": "fastapi_1658", "title": "Classes as Dependencies { #classes-as-dependencies }", "section": "A `dict` from the previous example { #a-dict-from-the-previous-example }", "content": "In the previous example, we were returning a `dict` from our dependency (\"dependable\"):\n\n{* ../../docs_src/dependencies/tutorial001_an_py310.py hl[9] *}\n\nBut then we get a `dict` in the parameter `commons` of the *path operation function*.\n\nAnd we know that editors can't provide a lot of support (like completion) for `dict`s, because they can't know their keys and value types.\n\nWe can do better...", "source": "tutorial\\dependencies\\classes-as-dependencies.md"}
{"doc_id": "fastapi_1659", "title": "Classes as Dependencies { #classes-as-dependencies }", "section": "What makes a dependency { #what-makes-a-dependency }", "content": "Up to now you have seen dependencies declared as functions.\n\nBut that's not the only way to declare dependencies (although it would probably be the more common).\n\nThe key factor is that a dependency should be a \"callable\".\n\nA \"**callable**\" in Python is anything that Python can \"call\" like a function.\n\nSo, if you have an object `something` (that might _not_ be a function) and you can \"call\" it (execute it) like:\n\n```Python\nsomething()\n```\n\nor\n\n```Python\nsomething(some_argument, some_keyword_argument=\"foo\")\n```\n\nthen it is a \"callable\".", "source": "tutorial\\dependencies\\classes-as-dependencies.md"}
{"doc_id": "fastapi_1660", "title": "Classes as Dependencies { #classes-as-dependencies }", "section": "Classes as dependencies { #classes-as-dependencies_1 }", "content": "You might notice that to create an instance of a Python class, you use that same syntax.\n\nFor example:\n\n```Python\nclass Cat:\n    def __init__(self, name: str):\n        self.name = name\n\n\nfluffy = Cat(name=\"Mr Fluffy\")\n```\n\nIn this case, `fluffy` is an instance of the class `Cat`.\n\nAnd to create `fluffy`, you are \"calling\" `Cat`.\n\nSo, a Python class is also a **callable**.\n\nThen, in **FastAPI**, you could use a Python class as a dependency.\n\nWhat FastAPI actually checks is that it is a \"callable\" (function, class or anything else) and the parameters defined.\n\nIf you pass a \"callable\" as a dependency in **FastAPI**, it will analyze the parameters for that \"callable\", and process them in the same way as the parameters for a *path operation function*. Including sub-dependencies.\n\nThat also applies to callables with no parameters at all. The same as it would be for *path operation functions* with no parameters.\n\nThen, we can change the dependency \"dependable\" `common_parameters` from above to the class `CommonQueryParams`:\n\n{* ../../docs_src/dependencies/tutorial002_an_py310.py hl[11:15] *}\n\nPay attention to the `__init__` method used to create the instance of the class:\n\n{* ../../docs_src/dependencies/tutorial002_an_py310.py hl[12] *}\n\n...it has the same parameters as our previous `common_parameters`:\n\n{* ../../docs_src/dependencies/tutorial001_an_py310.py hl[8] *}\n\nThose parameters are what **FastAPI** will use to \"solve\" the dependency.\n\nIn both cases, it will have:\n\n* An optional `q` query parameter that is a `str`.\n* A `skip` query parameter that is an `int`, with a default of `0`.\n* A `limit` query parameter that is an `int`, with a default of `100`.\n\nIn both cases the data will be converted, validated, documented on the OpenAPI schema, etc.", "source": "tutorial\\dependencies\\classes-as-dependencies.md"}
{"doc_id": "fastapi_1661", "title": "Classes as Dependencies { #classes-as-dependencies }", "section": "Use it { #use-it }", "content": "Now you can declare your dependency using this class.\n\n{* ../../docs_src/dependencies/tutorial002_an_py310.py hl[19] *}\n\n**FastAPI** calls the `CommonQueryParams` class. This creates an \"instance\" of that class and the instance will be passed as the parameter `commons` to your function.", "source": "tutorial\\dependencies\\classes-as-dependencies.md"}
{"doc_id": "fastapi_1662", "title": "Classes as Dependencies { #classes-as-dependencies }", "section": "Type annotation vs `Depends` { #type-annotation-vs-depends }", "content": "Notice how we write `CommonQueryParams` twice in the above code:\n\n//// tab | Python 3.8+\n\n```Python\ncommons: Annotated[CommonQueryParams, Depends(CommonQueryParams)]\n```\n\n////\n\n//// tab | Python 3.8+ non-Annotated\n\n/// tip\n\nPrefer to use the `Annotated` version if possible.\n\n///\n\n```Python\ncommons: CommonQueryParams = Depends(CommonQueryParams)\n```\n\n////\n\nThe last `CommonQueryParams`, in:\n\n```Python\n... Depends(CommonQueryParams)\n```\n\n...is what **FastAPI** will actually use to know what is the dependency.\n\nIt is from this one that FastAPI will extract the declared parameters and that is what FastAPI will actually call.\n\n---\n\nIn this case, the first `CommonQueryParams`, in:\n\n//// tab | Python 3.8+\n\n```Python\ncommons: Annotated[CommonQueryParams, ...\n```\n\n////\n\n//// tab | Python 3.8+ non-Annotated\n\n/// tip\n\nPrefer to use the `Annotated` version if possible.\n\n///\n\n```Python\ncommons: CommonQueryParams ...\n```\n\n////\n\n...doesn't have any special meaning for **FastAPI**. FastAPI won't use it for data conversion, validation, etc. (as it is using the `Depends(CommonQueryParams)` for that).\n\nYou could actually write just:\n\n//// tab | Python 3.8+\n\n```Python\ncommons: Annotated[Any, Depends(CommonQueryParams)]\n```\n\n////\n\n//// tab | Python 3.8+ non-Annotated\n\n/// tip\n\nPrefer to use the `Annotated` version if possible.\n\n///\n\n```Python\ncommons = Depends(CommonQueryParams)\n```\n\n////\n\n...as in:\n\n{* ../../docs_src/dependencies/tutorial003_an_py310.py hl[19] *}\n\nBut declaring the type is encouraged as that way your editor will know what will be passed as the parameter `commons`, and then it can help you with code completion, type checks, etc:\n\n<img src=\"/img/tutorial/dependencies/image02.png\">", "source": "tutorial\\dependencies\\classes-as-dependencies.md"}
{"doc_id": "fastapi_1663", "title": "Classes as Dependencies { #classes-as-dependencies }", "section": "Shortcut { #shortcut }", "content": "But you see that we are having some code repetition here, writing `CommonQueryParams` twice:\n\n//// tab | Python 3.8+\n\n```Python\ncommons: Annotated[CommonQueryParams, Depends(CommonQueryParams)]\n```\n\n////\n\n//// tab | Python 3.8+ non-Annotated\n\n/// tip\n\nPrefer to use the `Annotated` version if possible.\n\n///\n\n```Python\ncommons: CommonQueryParams = Depends(CommonQueryParams)\n```\n\n////\n\n**FastAPI** provides a shortcut for these cases, in where the dependency is *specifically* a class that **FastAPI** will \"call\" to create an instance of the class itself.\n\nFor those specific cases, you can do the following:\n\nInstead of writing:\n\n//// tab | Python 3.8+\n\n```Python\ncommons: Annotated[CommonQueryParams, Depends(CommonQueryParams)]\n```\n\n////\n\n//// tab | Python 3.8+ non-Annotated\n\n/// tip\n\nPrefer to use the `Annotated` version if possible.\n\n///\n\n```Python\ncommons: CommonQueryParams = Depends(CommonQueryParams)\n```\n\n////\n\n...you write:\n\n//// tab | Python 3.8+\n\n```Python\ncommons: Annotated[CommonQueryParams, Depends()]\n```\n\n////\n\n//// tab | Python 3.8 non-Annotated\n\n/// tip\n\nPrefer to use the `Annotated` version if possible.\n\n///\n\n```Python\ncommons: CommonQueryParams = Depends()\n```\n\n////\n\nYou declare the dependency as the type of the parameter, and you use `Depends()` without any parameter, instead of having to write the full class *again* inside of `Depends(CommonQueryParams)`.\n\nThe same example would then look like:\n\n{* ../../docs_src/dependencies/tutorial004_an_py310.py hl[19] *}\n\n...and **FastAPI** will know what to do.\n\n/// tip\n\nIf that seems more confusing than helpful, disregard it, you don't *need* it.\n\nIt is just a shortcut. Because **FastAPI** cares about helping you minimize code repetition.\n\n///", "source": "tutorial\\dependencies\\classes-as-dependencies.md"}
{"doc_id": "fastapi_1664", "title": "Dependencies in path operation decorators { #dependencies-in-path-operation-decorators }", "section": "Dependencies in path operation decorators { #dependencies-in-path-operation-decorators }", "content": "In some cases you don't really need the return value of a dependency inside your *path operation function*.\n\nOr the dependency doesn't return a value.\n\nBut you still need it to be executed/solved.\n\nFor those cases, instead of declaring a *path operation function* parameter with `Depends`, you can add a `list` of `dependencies` to the *path operation decorator*.", "source": "tutorial\\dependencies\\dependencies-in-path-operation-decorators.md"}
{"doc_id": "fastapi_1665", "title": "Dependencies in path operation decorators { #dependencies-in-path-operation-decorators }", "section": "Add `dependencies` to the *path operation decorator* { #add-dependencies-to-the-path-operation-decorator }", "content": "The *path operation decorator* receives an optional argument `dependencies`.\n\nIt should be a `list` of `Depends()`:\n\n{* ../../docs_src/dependencies/tutorial006_an_py39.py hl[19] *}\n\nThese dependencies will be executed/solved the same way as normal dependencies. But their value (if they return any) won't be passed to your *path operation function*.\n\n/// tip\n\nSome editors check for unused function parameters, and show them as errors.\n\nUsing these `dependencies` in the *path operation decorator* you can make sure they are executed while avoiding editor/tooling errors.\n\nIt might also help avoid confusion for new developers that see an unused parameter in your code and could think it's unnecessary.\n\n///\n\n/// info\n\nIn this example we use invented custom headers `X-Key` and `X-Token`.\n\nBut in real cases, when implementing security, you would get more benefits from using the integrated [Security utilities (the next chapter)](../security/index.md){.internal-link target=_blank}.\n\n///", "source": "tutorial\\dependencies\\dependencies-in-path-operation-decorators.md"}
{"doc_id": "fastapi_1666", "title": "Dependencies in path operation decorators { #dependencies-in-path-operation-decorators }", "section": "Dependencies errors and return values { #dependencies-errors-and-return-values }", "content": "You can use the same dependency *functions* you use normally.", "source": "tutorial\\dependencies\\dependencies-in-path-operation-decorators.md"}
{"doc_id": "fastapi_1667", "title": "Dependencies in path operation decorators { #dependencies-in-path-operation-decorators }", "section": "Dependency requirements { #dependency-requirements }", "content": "They can declare request requirements (like headers) or other sub-dependencies:\n\n{* ../../docs_src/dependencies/tutorial006_an_py39.py hl[8,13] *}", "source": "tutorial\\dependencies\\dependencies-in-path-operation-decorators.md"}
{"doc_id": "fastapi_1668", "title": "Dependencies in path operation decorators { #dependencies-in-path-operation-decorators }", "section": "Raise exceptions { #raise-exceptions }", "content": "These dependencies can `raise` exceptions, the same as normal dependencies:\n\n{* ../../docs_src/dependencies/tutorial006_an_py39.py hl[10,15] *}", "source": "tutorial\\dependencies\\dependencies-in-path-operation-decorators.md"}
{"doc_id": "fastapi_1669", "title": "Dependencies in path operation decorators { #dependencies-in-path-operation-decorators }", "section": "Return values { #return-values }", "content": "And they can return values or not, the values won't be used.\n\nSo, you can reuse a normal dependency (that returns a value) you already use somewhere else, and even though the value won't be used, the dependency will be executed:\n\n{* ../../docs_src/dependencies/tutorial006_an_py39.py hl[11,16] *}", "source": "tutorial\\dependencies\\dependencies-in-path-operation-decorators.md"}
{"doc_id": "fastapi_1670", "title": "Dependencies in path operation decorators { #dependencies-in-path-operation-decorators }", "section": "Dependencies for a group of *path operations* { #dependencies-for-a-group-of-path-operations }", "content": "Later, when reading about how to structure bigger applications ([Bigger Applications - Multiple Files](../../tutorial/bigger-applications.md){.internal-link target=_blank}), possibly with multiple files, you will learn how to declare a single `dependencies` parameter for a group of *path operations*.", "source": "tutorial\\dependencies\\dependencies-in-path-operation-decorators.md"}
{"doc_id": "fastapi_1671", "title": "Dependencies in path operation decorators { #dependencies-in-path-operation-decorators }", "section": "Global Dependencies { #global-dependencies }", "content": "Next we will see how to add dependencies to the whole `FastAPI` application, so that they apply to each *path operation*.", "source": "tutorial\\dependencies\\dependencies-in-path-operation-decorators.md"}
{"doc_id": "fastapi_1672", "title": "Dependencies with yield { #dependencies-with-yield }", "section": "Dependencies with yield { #dependencies-with-yield }", "content": "FastAPI supports dependencies that do some <abbr title='sometimes also called \"exit code\", \"cleanup code\", \"teardown code\", \"closing code\", \"context manager exit code\", etc.'>extra steps after finishing</abbr>.\n\nTo do this, use `yield` instead of `return`, and write the extra steps (code) after.\n\n/// tip\n\nMake sure to use `yield` one single time per dependency.\n\n///\n\n/// note | Technical Details\n\nAny function that is valid to use with:\n\n* <a href=\"https://docs.python.org/3/library/contextlib.html#contextlib.contextmanager\" class=\"external-link\" target=\"_blank\">`@contextlib.contextmanager`</a> or\n* <a href=\"https://docs.python.org/3/library/contextlib.html#contextlib.asynccontextmanager\" class=\"external-link\" target=\"_blank\">`@contextlib.asynccontextmanager`</a>\n\nwould be valid to use as a **FastAPI** dependency.\n\nIn fact, FastAPI uses those two decorators internally.\n\n///", "source": "tutorial\\dependencies\\dependencies-with-yield.md"}
{"doc_id": "fastapi_1673", "title": "Dependencies with yield { #dependencies-with-yield }", "section": "A database dependency with `yield` { #a-database-dependency-with-yield }", "content": "For example, you could use this to create a database session and close it after finishing.\n\nOnly the code prior to and including the `yield` statement is executed before creating a response:\n\n{* ../../docs_src/dependencies/tutorial007.py hl[2:4] *}\n\nThe yielded value is what is injected into *path operations* and other dependencies:\n\n{* ../../docs_src/dependencies/tutorial007.py hl[4] *}\n\nThe code following the `yield` statement is executed after the response:\n\n{* ../../docs_src/dependencies/tutorial007.py hl[5:6] *}\n\n/// tip\n\nYou can use `async` or regular functions.\n\n**FastAPI** will do the right thing with each, the same as with normal dependencies.\n\n///", "source": "tutorial\\dependencies\\dependencies-with-yield.md"}
{"doc_id": "fastapi_1674", "title": "Dependencies with yield { #dependencies-with-yield }", "section": "A dependency with `yield` and `try` { #a-dependency-with-yield-and-try }", "content": "If you use a `try` block in a dependency with `yield`, you'll receive any exception that was thrown when using the dependency.\n\nFor example, if some code at some point in the middle, in another dependency or in a *path operation*, made a database transaction \"rollback\" or created any other exception, you would receive the exception in your dependency.\n\nSo, you can look for that specific exception inside the dependency with `except SomeException`.\n\nIn the same way, you can use `finally` to make sure the exit steps are executed, no matter if there was an exception or not.\n\n{* ../../docs_src/dependencies/tutorial007.py hl[3,5] *}", "source": "tutorial\\dependencies\\dependencies-with-yield.md"}
{"doc_id": "fastapi_1675", "title": "Dependencies with yield { #dependencies-with-yield }", "section": "Sub-dependencies with `yield` { #sub-dependencies-with-yield }", "content": "You can have sub-dependencies and \"trees\" of sub-dependencies of any size and shape, and any or all of them can use `yield`.\n\n**FastAPI** will make sure that the \"exit code\" in each dependency with `yield` is run in the correct order.\n\nFor example, `dependency_c` can have a dependency on `dependency_b`, and `dependency_b` on `dependency_a`:\n\n{* ../../docs_src/dependencies/tutorial008_an_py39.py hl[6,14,22] *}\n\nAnd all of them can use `yield`.\n\nIn this case `dependency_c`, to execute its exit code, needs the value from `dependency_b` (here named `dep_b`) to still be available.\n\nAnd, in turn, `dependency_b` needs the value from `dependency_a` (here named `dep_a`) to be available for its exit code.\n\n{* ../../docs_src/dependencies/tutorial008_an_py39.py hl[18:19,26:27] *}\n\nThe same way, you could have some dependencies with `yield` and some other dependencies with `return`, and have some of those depend on some of the others.\n\nAnd you could have a single dependency that requires several other dependencies with `yield`, etc.\n\nYou can have any combinations of dependencies that you want.\n\n**FastAPI** will make sure everything is run in the correct order.\n\n/// note | Technical Details\n\nThis works thanks to Python's <a href=\"https://docs.python.org/3/library/contextlib.html\" class=\"external-link\" target=\"_blank\">Context Managers</a>.\n\n**FastAPI** uses them internally to achieve this.\n\n///", "source": "tutorial\\dependencies\\dependencies-with-yield.md"}
{"doc_id": "fastapi_1676", "title": "Dependencies with yield { #dependencies-with-yield }", "section": "Dependencies with `yield` and `HTTPException` { #dependencies-with-yield-and-httpexception }", "content": "You saw that you can use dependencies with `yield` and have `try` blocks that try to execute some code and then run some exit code after `finally`.\n\nYou can also use `except` to catch the exception that was raised and do something with it.\n\nFor example, you can raise a different exception, like `HTTPException`.\n\n/// tip\n\nThis is a somewhat advanced technique, and in most of the cases you won't really need it, as you can raise exceptions (including `HTTPException`) from inside of the rest of your application code, for example, in the *path operation function*.\n\nBut it's there for you if you need it. ü§ì\n\n///\n\n{* ../../docs_src/dependencies/tutorial008b_an_py39.py hl[18:22,31] *}\n\nIf you want to catch exceptions and create a custom response based on that, create a [Custom Exception Handler](../handling-errors.md#install-custom-exception-handlers){.internal-link target=_blank}.", "source": "tutorial\\dependencies\\dependencies-with-yield.md"}
{"doc_id": "fastapi_1677", "title": "Dependencies with yield { #dependencies-with-yield }", "section": "Dependencies with `yield` and `except` { #dependencies-with-yield-and-except }", "content": "If you catch an exception using `except` in a dependency with `yield` and you don't raise it again (or raise a new exception), FastAPI won't be able to notice there was an exception, the same way that would happen with regular Python:\n\n{* ../../docs_src/dependencies/tutorial008c_an_py39.py hl[15:16] *}\n\nIn this case, the client will see an *HTTP 500 Internal Server Error* response as it should, given that we are not raising an `HTTPException` or similar, but the server will **not have any logs** or any other indication of what was the error. üò±", "source": "tutorial\\dependencies\\dependencies-with-yield.md"}
{"doc_id": "fastapi_1678", "title": "Dependencies with yield { #dependencies-with-yield }", "section": "Always `raise` in Dependencies with `yield` and `except` { #always-raise-in-dependencies-with-yield-and-except }", "content": "If you catch an exception in a dependency with `yield`, unless you are raising another `HTTPException` or similar, **you should re-raise the original exception**.\n\nYou can re-raise the same exception using `raise`:\n\n{* ../../docs_src/dependencies/tutorial008d_an_py39.py hl[17] *}\n\nNow the client will get the same *HTTP 500 Internal Server Error* response, but the server will have our custom `InternalError` in the logs. üòé", "source": "tutorial\\dependencies\\dependencies-with-yield.md"}
{"doc_id": "fastapi_1679", "title": "Dependencies with yield { #dependencies-with-yield }", "section": "Execution of dependencies with `yield` { #execution-of-dependencies-with-yield }", "content": "The sequence of execution is more or less like this diagram. Time flows from top to bottom. And each column is one of the parts interacting or executing code.\n\n```mermaid\nsequenceDiagram\n\nparticipant client as Client\nparticipant handler as Exception handler\nparticipant dep as Dep with yield\nparticipant operation as Path Operation\nparticipant tasks as Background tasks\n\n    Note over client,operation: Can raise exceptions, including HTTPException\n    client ->> dep: Start request\n    Note over dep: Run code up to yield\n    opt raise Exception\n        dep -->> handler: Raise Exception\n        handler -->> client: HTTP error response\n    end\n    dep ->> operation: Run dependency, e.g. DB session\n    opt raise\n        operation -->> dep: Raise Exception (e.g. HTTPException)\n        opt handle\n            dep -->> dep: Can catch exception, raise a new HTTPException, raise other exception\n        end\n        handler -->> client: HTTP error response\n    end\n\n    operation ->> client: Return response to client\n    Note over client,operation: Response is already sent, can't change it anymore\n    opt Tasks\n        operation -->> tasks: Send background tasks\n    end\n    opt Raise other exception\n        tasks -->> tasks: Handle exceptions in the background task code\n    end\n```\n\n/// info\n\nOnly **one response** will be sent to the client. It might be one of the error responses or it will be the response from the *path operation*.\n\nAfter one of those responses is sent, no other response can be sent.\n\n///\n\n/// tip\n\nIf you raise any exception in the code from the *path operation function*, it will be passed to the dependencies with yield, including `HTTPException`. In most cases you will want to re-raise that same exception or a new one from the dependency with `yield` to make sure it's properly handled.\n\n///", "source": "tutorial\\dependencies\\dependencies-with-yield.md"}
{"doc_id": "fastapi_1680", "title": "Dependencies with yield { #dependencies-with-yield }", "section": "Early exit and `scope` { #early-exit-and-scope }", "content": "Normally the exit code of dependencies with `yield` is executed **after the response** is sent to the client.\n\nBut if you know that you won't need to use the dependency after returning from the *path operation function*, you can use `Depends(scope=\"function\")` to tell FastAPI that it should close the dependency after the *path operation function* returns, but **before** the **response is sent**.\n\n{* ../../docs_src/dependencies/tutorial008e_an_py39.py hl[12,16] *}\n\n`Depends()` receives a `scope` parameter that can be:\n\n* `\"function\"`: start the dependency before the *path operation function* that handles the request, end the dependency after the *path operation function* ends, but **before** the response is sent back to the client. So, the dependency function will be executed **around** the *path operation **function***.\n* `\"request\"`: start the dependency before the *path operation function* that handles the request (similar to when using `\"function\"`), but end **after** the response is sent back to the client. So, the dependency function will be executed **around** the **request** and response cycle.\n\nIf not specified and the dependency has `yield`, it will have a `scope` of `\"request\"` by default.", "source": "tutorial\\dependencies\\dependencies-with-yield.md"}
{"doc_id": "fastapi_1681", "title": "Dependencies with yield { #dependencies-with-yield }", "section": "`scope` for sub-dependencies { #scope-for-sub-dependencies }", "content": "When you declare a dependency with a `scope=\"request\"` (the default), any sub-dependency needs to also have a `scope` of `\"request\"`.\n\nBut a dependency with `scope` of `\"function\"` can have dependencies with `scope` of `\"function\"` and `scope` of `\"request\"`.\n\nThis is because any dependency needs to be able to run its exit code before the sub-dependencies, as it might need to still use them during its exit code.\n\n```mermaid\nsequenceDiagram\n\nparticipant client as Client\nparticipant dep_req as Dep scope=\"request\"\nparticipant dep_func as Dep scope=\"function\"\nparticipant operation as Path Operation\n\n    client ->> dep_req: Start request\n    Note over dep_req: Run code up to yield\n    dep_req ->> dep_func: Pass dependency\n    Note over dep_func: Run code up to yield\n    dep_func ->> operation: Run path operation with dependency\n    operation ->> dep_func: Return from path operation\n    Note over dep_func: Run code after yield\n    Note over dep_func: ‚úÖ Dependency closed\n    dep_func ->> client: Send response to client\n    Note over client: Response sent\n    Note over dep_req: Run code after yield\n    Note over dep_req: ‚úÖ Dependency closed\n```", "source": "tutorial\\dependencies\\dependencies-with-yield.md"}
{"doc_id": "fastapi_1682", "title": "Dependencies with yield { #dependencies-with-yield }", "section": "Dependencies with `yield`, `HTTPException`, `except` and Background Tasks { #dependencies-with-yield-httpexception-except-and-background-tasks }", "content": "Dependencies with `yield` have evolved over time to cover different use cases and fix some issues.\n\nIf you want to see what has changed in different versions of FastAPI, you can read more about it in the advanced guide, in [Advanced Dependencies - Dependencies with `yield`, `HTTPException`, `except` and Background Tasks](../../advanced/advanced-dependencies.md#dependencies-with-yield-httpexception-except-and-background-tasks){.internal-link target=_blank}.", "source": "tutorial\\dependencies\\dependencies-with-yield.md"}
{"doc_id": "fastapi_1683", "title": "Dependencies with yield { #dependencies-with-yield }", "section": "Context Managers { #context-managers }", "content": "", "source": "tutorial\\dependencies\\dependencies-with-yield.md"}
{"doc_id": "fastapi_1684", "title": "Dependencies with yield { #dependencies-with-yield }", "section": "What are \"Context Managers\" { #what-are-context-managers }", "content": "\"Context Managers\" are any of those Python objects that you can use in a `with` statement.\n\nFor example, <a href=\"https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files\" class=\"external-link\" target=\"_blank\">you can use `with` to read a file</a>:\n\n```Python\nwith open(\"./somefile.txt\") as f:\n    contents = f.read()\n    print(contents)\n```\n\nUnderneath, the `open(\"./somefile.txt\")` creates an object that is called a \"Context Manager\".\n\nWhen the `with` block finishes, it makes sure to close the file, even if there were exceptions.\n\nWhen you create a dependency with `yield`, **FastAPI** will internally create a context manager for it, and combine it with some other related tools.", "source": "tutorial\\dependencies\\dependencies-with-yield.md"}
{"doc_id": "fastapi_1685", "title": "Dependencies with yield { #dependencies-with-yield }", "section": "Using context managers in dependencies with `yield` { #using-context-managers-in-dependencies-with-yield }", "content": "/// warning\n\nThis is, more or less, an \"advanced\" idea.\n\nIf you are just starting with **FastAPI** you might want to skip it for now.\n\n///\n\nIn Python, you can create Context Managers by <a href=\"https://docs.python.org/3/reference/datamodel.html#context-managers\" class=\"external-link\" target=\"_blank\">creating a class with two methods: `__enter__()` and `__exit__()`</a>.\n\nYou can also use them inside of **FastAPI** dependencies with `yield` by using\n`with` or `async with` statements inside of the dependency function:\n\n{* ../../docs_src/dependencies/tutorial010.py hl[1:9,13] *}\n\n/// tip\n\nAnother way to create a context manager is with:\n\n* <a href=\"https://docs.python.org/3/library/contextlib.html#contextlib.contextmanager\" class=\"external-link\" target=\"_blank\">`@contextlib.contextmanager`</a> or\n* <a href=\"https://docs.python.org/3/library/contextlib.html#contextlib.asynccontextmanager\" class=\"external-link\" target=\"_blank\">`@contextlib.asynccontextmanager`</a>\n\nusing them to decorate a function with a single `yield`.\n\nThat's what **FastAPI** uses internally for dependencies with `yield`.\n\nBut you don't have to use the decorators for FastAPI dependencies (and you shouldn't).\n\nFastAPI will do it for you internally.\n\n///", "source": "tutorial\\dependencies\\dependencies-with-yield.md"}
{"doc_id": "fastapi_1686", "title": "Global Dependencies { #global-dependencies }", "section": "Global Dependencies { #global-dependencies }", "content": "For some types of applications you might want to add dependencies to the whole application.\n\nSimilar to the way you can [add `dependencies` to the *path operation decorators*](dependencies-in-path-operation-decorators.md){.internal-link target=_blank}, you can add them to the `FastAPI` application.\n\nIn that case, they will be applied to all the *path operations* in the application:\n\n{* ../../docs_src/dependencies/tutorial012_an_py39.py hl[16] *}\n\n\nAnd all the ideas in the section about [adding `dependencies` to the *path operation decorators*](dependencies-in-path-operation-decorators.md){.internal-link target=_blank} still apply, but in this case, to all of the *path operations* in the app.", "source": "tutorial\\dependencies\\global-dependencies.md"}
{"doc_id": "fastapi_1687", "title": "Global Dependencies { #global-dependencies }", "section": "Dependencies for groups of *path operations* { #dependencies-for-groups-of-path-operations }", "content": "Later, when reading about how to structure bigger applications ([Bigger Applications - Multiple Files](../../tutorial/bigger-applications.md){.internal-link target=_blank}), possibly with multiple files, you will learn how to declare a single `dependencies` parameter for a group of *path operations*.", "source": "tutorial\\dependencies\\global-dependencies.md"}
{"doc_id": "fastapi_1688", "title": "Dependencies { #dependencies }", "section": "Dependencies { #dependencies }", "content": "**FastAPI** has a very powerful but intuitive **<abbr title=\"also known as components, resources, providers, services, injectables\">Dependency Injection</abbr>** system.\n\nIt is designed to be very simple to use, and to make it very easy for any developer to integrate other components with **FastAPI**.", "source": "tutorial\\dependencies\\index.md"}
{"doc_id": "fastapi_1689", "title": "Dependencies { #dependencies }", "section": "What is \"Dependency Injection\" { #what-is-dependency-injection }", "content": "**\"Dependency Injection\"** means, in programming, that there is a way for your code (in this case, your *path operation functions*) to declare things that it requires to work and use: \"dependencies\".\n\nAnd then, that system (in this case **FastAPI**) will take care of doing whatever is needed to provide your code with those needed dependencies (\"inject\" the dependencies).\n\nThis is very useful when you need to:\n\n* Have shared logic (the same code logic again and again).\n* Share database connections.\n* Enforce security, authentication, role requirements, etc.\n* And many other things...\n\nAll these, while minimizing code repetition.", "source": "tutorial\\dependencies\\index.md"}
{"doc_id": "fastapi_1690", "title": "Dependencies { #dependencies }", "section": "First Steps { #first-steps }", "content": "Let's see a very simple example. It will be so simple that it is not very useful, for now.\n\nBut this way we can focus on how the **Dependency Injection** system works.", "source": "tutorial\\dependencies\\index.md"}
{"doc_id": "fastapi_1691", "title": "Dependencies { #dependencies }", "section": "Create a dependency, or \"dependable\" { #create-a-dependency-or-dependable }", "content": "Let's first focus on the dependency.\n\nIt is just a function that can take all the same parameters that a *path operation function* can take:\n\n{* ../../docs_src/dependencies/tutorial001_an_py310.py hl[8:9] *}\n\nThat's it.\n\n**2 lines**.\n\nAnd it has the same shape and structure that all your *path operation functions* have.\n\nYou can think of it as a *path operation function* without the \"decorator\" (without the `@app.get(\"/some-path\")`).\n\nAnd it can return anything you want.\n\nIn this case, this dependency expects:\n\n* An optional query parameter `q` that is a `str`.\n* An optional query parameter `skip` that is an `int`, and by default is `0`.\n* An optional query parameter `limit` that is an `int`, and by default is `100`.\n\nAnd then it just returns a `dict` containing those values.\n\n/// info\n\nFastAPI added support for `Annotated` (and started recommending it) in version 0.95.0.\n\nIf you have an older version, you would get errors when trying to use `Annotated`.\n\nMake sure you [Upgrade the FastAPI version](../../deployment/versions.md#upgrading-the-fastapi-versions){.internal-link target=_blank} to at least 0.95.1 before using `Annotated`.\n\n///", "source": "tutorial\\dependencies\\index.md"}
{"doc_id": "fastapi_1692", "title": "Dependencies { #dependencies }", "section": "Import `Depends` { #import-depends }", "content": "{* ../../docs_src/dependencies/tutorial001_an_py310.py hl[3] *}", "source": "tutorial\\dependencies\\index.md"}
{"doc_id": "fastapi_1693", "title": "Dependencies { #dependencies }", "section": "Declare the dependency, in the \"dependant\" { #declare-the-dependency-in-the-dependant }", "content": "The same way you use `Body`, `Query`, etc. with your *path operation function* parameters, use `Depends` with a new parameter:\n\n{* ../../docs_src/dependencies/tutorial001_an_py310.py hl[13,18] *}\n\nAlthough you use `Depends` in the parameters of your function the same way you use `Body`, `Query`, etc, `Depends` works a bit differently.\n\nYou only give `Depends` a single parameter.\n\nThis parameter must be something like a function.\n\nYou **don't call it** directly (don't add the parenthesis at the end), you just pass it as a parameter to `Depends()`.\n\nAnd that function takes parameters in the same way that *path operation functions* do.\n\n/// tip\n\nYou'll see what other \"things\", apart from functions, can be used as dependencies in the next chapter.\n\n///\n\nWhenever a new request arrives, **FastAPI** will take care of:\n\n* Calling your dependency (\"dependable\") function with the correct parameters.\n* Get the result from your function.\n* Assign that result to the parameter in your *path operation function*.\n\n```mermaid\ngraph TB\n\ncommon_parameters([\"common_parameters\"])\nread_items[\"/items/\"]\nread_users[\"/users/\"]\n\ncommon_parameters --> read_items\ncommon_parameters --> read_users\n```\n\nThis way you write shared code once and **FastAPI** takes care of calling it for your *path operations*.\n\n/// check\n\nNotice that you don't have to create a special class and pass it somewhere to **FastAPI** to \"register\" it or anything similar.\n\nYou just pass it to `Depends` and **FastAPI** knows how to do the rest.\n\n///", "source": "tutorial\\dependencies\\index.md"}
{"doc_id": "fastapi_1694", "title": "Dependencies { #dependencies }", "section": "Share `Annotated` dependencies { #share-annotated-dependencies }", "content": "In the examples above, you see that there's a tiny bit of **code duplication**.\n\nWhen you need to use the `common_parameters()` dependency, you have to write the whole parameter with the type annotation and `Depends()`:\n\n```Python\ncommons: Annotated[dict, Depends(common_parameters)]\n```\n\nBut because we are using `Annotated`, we can store that `Annotated` value in a variable and use it in multiple places:\n\n{* ../../docs_src/dependencies/tutorial001_02_an_py310.py hl[12,16,21] *}\n\n/// tip\n\nThis is just standard Python, it's called a \"type alias\", it's actually not specific to **FastAPI**.\n\nBut because **FastAPI** is based on the Python standards, including `Annotated`, you can use this trick in your code. üòé\n\n///\n\nThe dependencies will keep working as expected, and the **best part** is that the **type information will be preserved**, which means that your editor will be able to keep providing you with **autocompletion**, **inline errors**, etc. The same for other tools like `mypy`.\n\nThis will be especially useful when you use it in a **large code base** where you use **the same dependencies** over and over again in **many *path operations***.", "source": "tutorial\\dependencies\\index.md"}
{"doc_id": "fastapi_1695", "title": "Dependencies { #dependencies }", "section": "To `async` or not to `async` { #to-async-or-not-to-async }", "content": "As dependencies will also be called by **FastAPI** (the same as your *path operation functions*), the same rules apply while defining your functions.\n\nYou can use `async def` or normal `def`.\n\nAnd you can declare dependencies with `async def` inside of normal `def` *path operation functions*, or `def` dependencies inside of `async def` *path operation functions*, etc.\n\nIt doesn't matter. **FastAPI** will know what to do.\n\n/// note\n\nIf you don't know, check the [Async: *\"In a hurry?\"*](../../async.md#in-a-hurry){.internal-link target=_blank} section about `async` and `await` in the docs.\n\n///", "source": "tutorial\\dependencies\\index.md"}
{"doc_id": "fastapi_1696", "title": "Dependencies { #dependencies }", "section": "Integrated with OpenAPI { #integrated-with-openapi }", "content": "All the request declarations, validations and requirements of your dependencies (and sub-dependencies) will be integrated in the same OpenAPI schema.\n\nSo, the interactive docs will have all the information from these dependencies too:\n\n<img src=\"/img/tutorial/dependencies/image01.png\">", "source": "tutorial\\dependencies\\index.md"}
{"doc_id": "fastapi_1697", "title": "Dependencies { #dependencies }", "section": "Simple usage { #simple-usage }", "content": "If you look at it, *path operation functions* are declared to be used whenever a *path* and *operation* matches, and then **FastAPI** takes care of calling the function with the correct parameters, extracting the data from the request.\n\nActually, all (or most) of the web frameworks work in this same way.\n\nYou never call those functions directly. They are called by your framework (in this case, **FastAPI**).\n\nWith the Dependency Injection system, you can also tell **FastAPI** that your *path operation function* also \"depends\" on something else that should be executed before your *path operation function*, and **FastAPI** will take care of executing it and \"injecting\" the results.\n\nOther common terms for this same idea of \"dependency injection\" are:\n\n* resources\n* providers\n* services\n* injectables\n* components", "source": "tutorial\\dependencies\\index.md"}
{"doc_id": "fastapi_1698", "title": "Dependencies { #dependencies }", "section": "**FastAPI** plug-ins { #fastapi-plug-ins }", "content": "Integrations and \"plug-ins\" can be built using the **Dependency Injection** system. But in fact, there is actually **no need to create \"plug-ins\"**, as by using dependencies it's possible to declare an infinite number of integrations and interactions that become available to your *path operation functions*.\n\nAnd dependencies can be created in a very simple and intuitive way that allows you to just import the Python packages you need, and integrate them with your API functions in a couple of lines of code, *literally*.\n\nYou will see examples of this in the next chapters, about relational and NoSQL databases, security, etc.", "source": "tutorial\\dependencies\\index.md"}
{"doc_id": "fastapi_1699", "title": "Dependencies { #dependencies }", "section": "**FastAPI** compatibility { #fastapi-compatibility }", "content": "The simplicity of the dependency injection system makes **FastAPI** compatible with:\n\n* all the relational databases\n* NoSQL databases\n* external packages\n* external APIs\n* authentication and authorization systems\n* API usage monitoring systems\n* response data injection systems\n* etc.", "source": "tutorial\\dependencies\\index.md"}
{"doc_id": "fastapi_1700", "title": "Dependencies { #dependencies }", "section": "Simple and Powerful { #simple-and-powerful }", "content": "Although the hierarchical dependency injection system is very simple to define and use, it's still very powerful.\n\nYou can define dependencies that in turn can define dependencies themselves.\n\nIn the end, a hierarchical tree of dependencies is built, and the **Dependency Injection** system takes care of solving all these dependencies for you (and their sub-dependencies) and providing (injecting) the results at each step.\n\nFor example, let's say you have 4 API endpoints (*path operations*):\n\n* `/items/public/`\n* `/items/private/`\n* `/users/{user_id}/activate`\n* `/items/pro/`\n\nthen you could add different permission requirements for each of them just with dependencies and sub-dependencies:\n\n```mermaid\ngraph TB\n\ncurrent_user([\"current_user\"])\nactive_user([\"active_user\"])\nadmin_user([\"admin_user\"])\npaying_user([\"paying_user\"])\n\npublic[\"/items/public/\"]\nprivate[\"/items/private/\"]\nactivate_user[\"/users/{user_id}/activate\"]\npro_items[\"/items/pro/\"]\n\ncurrent_user --> active_user\nactive_user --> admin_user\nactive_user --> paying_user\n\ncurrent_user --> public\nactive_user --> private\nadmin_user --> activate_user\npaying_user --> pro_items\n```", "source": "tutorial\\dependencies\\index.md"}
{"doc_id": "fastapi_1701", "title": "Dependencies { #dependencies }", "section": "Integrated with **OpenAPI** { #integrated-with-openapi_1 }", "content": "All these dependencies, while declaring their requirements, also add parameters, validations, etc. to your *path operations*.\n\n**FastAPI** will take care of adding it all to the OpenAPI schema, so that it is shown in the interactive documentation systems.", "source": "tutorial\\dependencies\\index.md"}
{"doc_id": "fastapi_1702", "title": "Sub-dependencies { #sub-dependencies }", "section": "Sub-dependencies { #sub-dependencies }", "content": "You can create dependencies that have **sub-dependencies**.\n\nThey can be as **deep** as you need them to be.\n\n**FastAPI** will take care of solving them.", "source": "tutorial\\dependencies\\sub-dependencies.md"}
{"doc_id": "fastapi_1703", "title": "Sub-dependencies { #sub-dependencies }", "section": "First dependency \"dependable\" { #first-dependency-dependable }", "content": "You could create a first dependency (\"dependable\") like:\n\n{* ../../docs_src/dependencies/tutorial005_an_py310.py hl[8:9] *}\n\nIt declares an optional query parameter `q` as a `str`, and then it just returns it.\n\nThis is quite simple (not very useful), but will help us focus on how the sub-dependencies work.", "source": "tutorial\\dependencies\\sub-dependencies.md"}
{"doc_id": "fastapi_1704", "title": "Sub-dependencies { #sub-dependencies }", "section": "Second dependency, \"dependable\" and \"dependant\" { #second-dependency-dependable-and-dependant }", "content": "Then you can create another dependency function (a \"dependable\") that at the same time declares a dependency of its own (so it is a \"dependant\" too):\n\n{* ../../docs_src/dependencies/tutorial005_an_py310.py hl[13] *}\n\nLet's focus on the parameters declared:\n\n* Even though this function is a dependency (\"dependable\") itself, it also declares another dependency (it \"depends\" on something else).\n    * It depends on the `query_extractor`, and assigns the value returned by it to the parameter `q`.\n* It also declares an optional `last_query` cookie, as a `str`.\n    * If the user didn't provide any query `q`, we use the last query used, which we saved to a cookie before.", "source": "tutorial\\dependencies\\sub-dependencies.md"}
{"doc_id": "fastapi_1705", "title": "Sub-dependencies { #sub-dependencies }", "section": "Use the dependency { #use-the-dependency }", "content": "Then we can use the dependency with:\n\n{* ../../docs_src/dependencies/tutorial005_an_py310.py hl[23] *}\n\n/// info\n\nNotice that we are only declaring one dependency in the *path operation function*, the `query_or_cookie_extractor`.\n\nBut **FastAPI** will know that it has to solve `query_extractor` first, to pass the results of that to `query_or_cookie_extractor` while calling it.\n\n///\n\n```mermaid\ngraph TB\n\nquery_extractor([\"query_extractor\"])\nquery_or_cookie_extractor([\"query_or_cookie_extractor\"])\n\nread_query[\"/items/\"]\n\nquery_extractor --> query_or_cookie_extractor --> read_query\n```", "source": "tutorial\\dependencies\\sub-dependencies.md"}
{"doc_id": "fastapi_1706", "title": "Sub-dependencies { #sub-dependencies }", "section": "Using the same dependency multiple times { #using-the-same-dependency-multiple-times }", "content": "If one of your dependencies is declared multiple times for the same *path operation*, for example, multiple dependencies have a common sub-dependency, **FastAPI** will know to call that sub-dependency only once per request.\n\nAnd it will save the returned value in a <abbr title=\"A utility/system to store computed/generated values, to reuse them instead of computing them again.\">\"cache\"</abbr> and pass it to all the \"dependants\" that need it in that specific request, instead of calling the dependency multiple times for the same request.\n\nIn an advanced scenario where you know you need the dependency to be called at every step (possibly multiple times) in the same request instead of using the \"cached\" value, you can set the parameter `use_cache=False` when using `Depends`:\n\n//// tab | Python 3.8+\n\n```Python hl_lines=\"1\"\nasync def needy_dependency(fresh_value: Annotated[str, Depends(get_value, use_cache=False)]):\n    return {\"fresh_value\": fresh_value}\n```\n\n////\n\n//// tab | Python 3.8+ non-Annotated\n\n/// tip\n\nPrefer to use the `Annotated` version if possible.\n\n///\n\n```Python hl_lines=\"1\"\nasync def needy_dependency(fresh_value: str = Depends(get_value, use_cache=False)):\n    return {\"fresh_value\": fresh_value}\n```\n\n////", "source": "tutorial\\dependencies\\sub-dependencies.md"}
{"doc_id": "fastapi_1707", "title": "Sub-dependencies { #sub-dependencies }", "section": "Recap { #recap }", "content": "Apart from all the fancy words used here, the **Dependency Injection** system is quite simple.\n\nJust functions that look the same as the *path operation functions*.\n\nBut still, it is very powerful, and allows you to declare arbitrarily deeply nested dependency \"graphs\" (trees).\n\n/// tip\n\nAll this might not seem as useful with these simple examples.\n\nBut you will see how useful it is in the chapters about **security**.\n\nAnd you will also see the amounts of code it will save you.\n\n///", "source": "tutorial\\dependencies\\sub-dependencies.md"}
{"doc_id": "fastapi_1708", "title": "Security - First Steps { #security-first-steps }", "section": "Security - First Steps { #security-first-steps }", "content": "Let's imagine that you have your **backend** API in some domain.\n\nAnd you have a **frontend** in another domain or in a different path of the same domain (or in a mobile application).\n\nAnd you want to have a way for the frontend to authenticate with the backend, using a **username** and **password**.\n\nWe can use **OAuth2** to build that with **FastAPI**.\n\nBut let's save you the time of reading the full long specification just to find those little pieces of information you need.\n\nLet's use the tools provided by **FastAPI** to handle security.", "source": "tutorial\\security\\first-steps.md"}
{"doc_id": "fastapi_1709", "title": "Security - First Steps { #security-first-steps }", "section": "How it looks { #how-it-looks }", "content": "Let's first just use the code and see how it works, and then we'll come back to understand what's happening.", "source": "tutorial\\security\\first-steps.md"}
{"doc_id": "fastapi_1710", "title": "Security - First Steps { #security-first-steps }", "section": "Create `main.py` { #create-main-py }", "content": "Copy the example in a file `main.py`:\n\n{* ../../docs_src/security/tutorial001_an_py39.py *}", "source": "tutorial\\security\\first-steps.md"}
{"doc_id": "fastapi_1711", "title": "Security - First Steps { #security-first-steps }", "section": "Run it { #run-it }", "content": "/// info\n\nThe <a href=\"https://github.com/Kludex/python-multipart\" class=\"external-link\" target=\"_blank\">`python-multipart`</a> package is automatically installed with **FastAPI** when you run the `pip install \"fastapi[standard]\"` command.\n\nHowever, if you use the `pip install fastapi` command, the `python-multipart` package is not included by default.\n\nTo install it manually, make sure you create a [virtual environment](../../virtual-environments.md){.internal-link target=_blank}, activate it, and then install it with:\n\n```console\n$ pip install python-multipart\n```\n\nThis is because **OAuth2** uses \"form data\" for sending the `username` and `password`.\n\n///\n\nRun the example with:\n\n<div class=\"termy\">\n\n```console\n$ fastapi dev main.py\n\n<span style=\"color: green;\">INFO</span>:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)\n```\n\n</div>", "source": "tutorial\\security\\first-steps.md"}
{"doc_id": "fastapi_1712", "title": "Security - First Steps { #security-first-steps }", "section": "Check it { #check-it }", "content": "Go to the interactive docs at: <a href=\"http://127.0.0.1:8000/docs\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/docs</a>.\n\nYou will see something like this:\n\n<img src=\"/img/tutorial/security/image01.png\">\n\n/// check | Authorize button!\n\nYou already have a shiny new \"Authorize\" button.\n\nAnd your *path operation* has a little lock in the top-right corner that you can click.\n\n///\n\nAnd if you click it, you have a little authorization form to type a `username` and `password` (and other optional fields):\n\n<img src=\"/img/tutorial/security/image02.png\">\n\n/// note\n\nIt doesn't matter what you type in the form, it won't work yet. But we'll get there.\n\n///\n\nThis is of course not the frontend for the final users, but it's a great automatic tool to document interactively all your API.\n\nIt can be used by the frontend team (that can also be yourself).\n\nIt can be used by third party applications and systems.\n\nAnd it can also be used by yourself, to debug, check and test the same application.", "source": "tutorial\\security\\first-steps.md"}
{"doc_id": "fastapi_1713", "title": "Security - First Steps { #security-first-steps }", "section": "The `password` flow { #the-password-flow }", "content": "Now let's go back a bit and understand what is all that.\n\nThe `password` \"flow\" is one of the ways (\"flows\") defined in OAuth2, to handle security and authentication.\n\nOAuth2 was designed so that the backend or API could be independent of the server that authenticates the user.\n\nBut in this case, the same **FastAPI** application will handle the API and the authentication.\n\nSo, let's review it from that simplified point of view:\n\n* The user types the `username` and `password` in the frontend, and hits `Enter`.\n* The frontend (running in the user's browser) sends that `username` and `password` to a specific URL in our API (declared with `tokenUrl=\"token\"`).\n* The API checks that `username` and `password`, and responds with a \"token\" (we haven't implemented any of this yet).\n    * A \"token\" is just a string with some content that we can use later to verify this user.\n    * Normally, a token is set to expire after some time.\n        * So, the user will have to log in again at some point later.\n        * And if the token is stolen, the risk is less. It is not like a permanent key that will work forever (in most of the cases).\n* The frontend stores that token temporarily somewhere.\n* The user clicks in the frontend to go to another section of the frontend web app.\n* The frontend needs to fetch some more data from the API.\n    * But it needs authentication for that specific endpoint.\n    * So, to authenticate with our API, it sends a header `Authorization` with a value of `Bearer ` plus the token.\n    * If the token contains `foobar`, the content of the `Authorization` header would be: `Bearer foobar`.", "source": "tutorial\\security\\first-steps.md"}
{"doc_id": "fastapi_1714", "title": "Security - First Steps { #security-first-steps }", "section": "**FastAPI**'s `OAuth2PasswordBearer` { #fastapis-oauth2passwordbearer }", "content": "**FastAPI** provides several tools, at different levels of abstraction, to implement these security features.\n\nIn this example we are going to use **OAuth2**, with the **Password** flow, using a **Bearer** token. We do that using the `OAuth2PasswordBearer` class.\n\n/// info\n\nA \"bearer\" token is not the only option.\n\nBut it's the best one for our use case.\n\nAnd it might be the best for most use cases, unless you are an OAuth2 expert and know exactly why there's another option that better suits your needs.\n\nIn that case, **FastAPI** also provides you with the tools to build it.\n\n///\n\nWhen we create an instance of the `OAuth2PasswordBearer` class we pass in the `tokenUrl` parameter. This parameter contains the URL that the client (the frontend running in the user's browser) will use to send the `username` and `password` in order to get a token.\n\n{* ../../docs_src/security/tutorial001_an_py39.py hl[8] *}\n\n/// tip\n\nHere `tokenUrl=\"token\"` refers to a relative URL `token` that we haven't created yet. As it's a relative URL, it's equivalent to `./token`.\n\nBecause we are using a relative URL, if your API was located at `https://example.com/`, then it would refer to `https://example.com/token`. But if your API was located at `https://example.com/api/v1/`, then it would refer to `https://example.com/api/v1/token`.\n\nUsing a relative URL is important to make sure your application keeps working even in an advanced use case like [Behind a Proxy](../../advanced/behind-a-proxy.md){.internal-link target=_blank}.\n\n///\n\nThis parameter doesn't create that endpoint / *path operation*, but declares that the URL `/token` will be the one that the client should use to get the token. That information is used in OpenAPI, and then in the interactive API documentation systems.\n\nWe will soon also create the actual path operation.\n\n/// info\n\nIf you are a very strict \"Pythonista\" you might dislike the style of the parameter name `tokenUrl` instead of `token_url`.\n\nThat's because it is using the same name as in the OpenAPI spec. So that if you need to investigate more about any of these security schemes you can just copy and paste it to find more information about it.\n\n///\n\nThe `oauth2_scheme` variable is an instance of `OAuth2PasswordBearer`, but it is also a \"callable\".\n\nIt could be called as:\n\n```Python\noauth2_scheme(some, parameters)\n```\n\nSo, it can be used with `Depends`.", "source": "tutorial\\security\\first-steps.md"}
{"doc_id": "fastapi_1715", "title": "Security - First Steps { #security-first-steps }", "section": "Use it { #use-it }", "content": "Now you can pass that `oauth2_scheme` in a dependency with `Depends`.\n\n{* ../../docs_src/security/tutorial001_an_py39.py hl[12] *}\n\nThis dependency will provide a `str` that is assigned to the parameter `token` of the *path operation function*.\n\n**FastAPI** will know that it can use this dependency to define a \"security scheme\" in the OpenAPI schema (and the automatic API docs).\n\n/// info | Technical Details\n\n**FastAPI** will know that it can use the class `OAuth2PasswordBearer` (declared in a dependency) to define the security scheme in OpenAPI because it inherits from `fastapi.security.oauth2.OAuth2`, which in turn inherits from `fastapi.security.base.SecurityBase`.\n\nAll the security utilities that integrate with OpenAPI (and the automatic API docs) inherit from `SecurityBase`, that's how **FastAPI** can know how to integrate them in OpenAPI.\n\n///", "source": "tutorial\\security\\first-steps.md"}
{"doc_id": "fastapi_1716", "title": "Security - First Steps { #security-first-steps }", "section": "What it does { #what-it-does }", "content": "It will go and look in the request for that `Authorization` header, check if the value is `Bearer ` plus some token, and will return the token as a `str`.\n\nIf it doesn't see an `Authorization` header, or the value doesn't have a `Bearer ` token, it will respond with a 401 status code error (`UNAUTHORIZED`) directly.\n\nYou don't even have to check if the token exists to return an error. You can be sure that if your function is executed, it will have a `str` in that token.\n\nYou can try it already in the interactive docs:\n\n<img src=\"/img/tutorial/security/image03.png\">\n\nWe are not verifying the validity of the token yet, but that's a start already.", "source": "tutorial\\security\\first-steps.md"}
{"doc_id": "fastapi_1717", "title": "Security - First Steps { #security-first-steps }", "section": "Recap { #recap }", "content": "So, in just 3 or 4 extra lines, you already have some primitive form of security.", "source": "tutorial\\security\\first-steps.md"}
{"doc_id": "fastapi_1718", "title": "Get Current User { #get-current-user }", "section": "Get Current User { #get-current-user }", "content": "In the previous chapter the security system (which is based on the dependency injection system) was giving the *path operation function* a `token` as a `str`:\n\n{* ../../docs_src/security/tutorial001_an_py39.py hl[12] *}\n\nBut that is still not that useful.\n\nLet's make it give us the current user.", "source": "tutorial\\security\\get-current-user.md"}
{"doc_id": "fastapi_1719", "title": "Get Current User { #get-current-user }", "section": "Create a user model { #create-a-user-model }", "content": "First, let's create a Pydantic user model.\n\nThe same way we use Pydantic to declare bodies, we can use it anywhere else:\n\n{* ../../docs_src/security/tutorial002_an_py310.py hl[5,12:6] *}", "source": "tutorial\\security\\get-current-user.md"}
{"doc_id": "fastapi_1720", "title": "Get Current User { #get-current-user }", "section": "Create a `get_current_user` dependency { #create-a-get-current-user-dependency }", "content": "Let's create a dependency `get_current_user`.\n\nRemember that dependencies can have sub-dependencies?\n\n`get_current_user` will have a dependency with the same `oauth2_scheme` we created before.\n\nThe same as we were doing before in the *path operation* directly, our new dependency `get_current_user` will receive a `token` as a `str` from the sub-dependency `oauth2_scheme`:\n\n{* ../../docs_src/security/tutorial002_an_py310.py hl[25] *}", "source": "tutorial\\security\\get-current-user.md"}
{"doc_id": "fastapi_1721", "title": "Get Current User { #get-current-user }", "section": "Get the user { #get-the-user }", "content": "`get_current_user` will use a (fake) utility function we created, that takes a token as a `str` and returns our Pydantic `User` model:\n\n{* ../../docs_src/security/tutorial002_an_py310.py hl[19:22,26:27] *}", "source": "tutorial\\security\\get-current-user.md"}
{"doc_id": "fastapi_1722", "title": "Get Current User { #get-current-user }", "section": "Inject the current user { #inject-the-current-user }", "content": "So now we can use the same `Depends` with our `get_current_user` in the *path operation*:\n\n{* ../../docs_src/security/tutorial002_an_py310.py hl[31] *}\n\nNotice that we declare the type of `current_user` as the Pydantic model `User`.\n\nThis will help us inside of the function with all the completion and type checks.\n\n/// tip\n\nYou might remember that request bodies are also declared with Pydantic models.\n\nHere **FastAPI** won't get confused because you are using `Depends`.\n\n///\n\n/// check\n\nThe way this dependency system is designed allows us to have different dependencies (different \"dependables\") that all return a `User` model.\n\nWe are not restricted to having only one dependency that can return that type of data.\n\n///", "source": "tutorial\\security\\get-current-user.md"}
{"doc_id": "fastapi_1723", "title": "Get Current User { #get-current-user }", "section": "Other models { #other-models }", "content": "You can now get the current user directly in the *path operation functions* and deal with the security mechanisms at the **Dependency Injection** level, using `Depends`.\n\nAnd you can use any model or data for the security requirements (in this case, a Pydantic model `User`).\n\nBut you are not restricted to using some specific data model, class or type.\n\nDo you want to have an `id` and `email` and not have any `username` in your model? Sure. You can use these same tools.\n\nDo you want to just have a `str`? Or just a `dict`? Or a database class model instance directly? It all works the same way.\n\nYou actually don't have users that log in to your application but robots, bots, or other systems, that have just an access token? Again, it all works the same.\n\nJust use any kind of model, any kind of class, any kind of database that you need for your application. **FastAPI** has you covered with the dependency injection system.", "source": "tutorial\\security\\get-current-user.md"}
{"doc_id": "fastapi_1724", "title": "Get Current User { #get-current-user }", "section": "Code size { #code-size }", "content": "This example might seem verbose. Keep in mind that we are mixing security, data models, utility functions and *path operations* in the same file.\n\nBut here's the key point.\n\nThe security and dependency injection stuff is written once.\n\nAnd you can make it as complex as you want. And still, have it written only once, in a single place. With all the flexibility.\n\nBut you can have thousands of endpoints (*path operations*) using the same security system.\n\nAnd all of them (or any portion of them that you want) can take advantage of re-using these dependencies or any other dependencies you create.\n\nAnd all these thousands of *path operations* can be as small as 3 lines:\n\n{* ../../docs_src/security/tutorial002_an_py310.py hl[30:32] *}", "source": "tutorial\\security\\get-current-user.md"}
{"doc_id": "fastapi_1725", "title": "Get Current User { #get-current-user }", "section": "Recap { #recap }", "content": "You can now get the current user directly in your *path operation function*.\n\nWe are already halfway there.\n\nWe just need to add a *path operation* for the user/client to actually send the `username` and `password`.\n\nThat comes next.", "source": "tutorial\\security\\get-current-user.md"}
{"doc_id": "fastapi_1726", "title": "Security { #security }", "section": "Security { #security }", "content": "There are many ways to handle security, authentication and authorization.\n\nAnd it normally is a complex and \"difficult\" topic.\n\nIn many frameworks and systems just handling security and authentication takes a big amount of effort and code (in many cases it can be 50% or more of all the code written).\n\n**FastAPI** provides several tools to help you deal with **Security** easily, rapidly, in a standard way, without having to study and learn all the security specifications.\n\nBut first, let's check some small concepts.", "source": "tutorial\\security\\index.md"}
{"doc_id": "fastapi_1727", "title": "Security { #security }", "section": "In a hurry? { #in-a-hurry }", "content": "If you don't care about any of these terms and you just need to add security with authentication based on username and password *right now*, skip to the next chapters.", "source": "tutorial\\security\\index.md"}
{"doc_id": "fastapi_1728", "title": "Security { #security }", "section": "OAuth2 { #oauth2 }", "content": "OAuth2 is a specification that defines several ways to handle authentication and authorization.\n\nIt is quite an extensive specification and covers several complex use cases.\n\nIt includes ways to authenticate using a \"third party\".\n\nThat's what all the systems with \"login with Facebook, Google, X (Twitter), GitHub\" use underneath.", "source": "tutorial\\security\\index.md"}
{"doc_id": "fastapi_1729", "title": "Security { #security }", "section": "OAuth 1 { #oauth-1 }", "content": "There was an OAuth 1, which is very different from OAuth2, and more complex, as it included direct specifications on how to encrypt the communication.\n\nIt is not very popular or used nowadays.\n\nOAuth2 doesn't specify how to encrypt the communication, it expects you to have your application served with HTTPS.\n\n/// tip\n\nIn the section about **deployment** you will see how to set up HTTPS for free, using Traefik and Let's Encrypt.\n\n///", "source": "tutorial\\security\\index.md"}
{"doc_id": "fastapi_1730", "title": "Security { #security }", "section": "OpenID Connect { #openid-connect }", "content": "OpenID Connect is another specification, based on **OAuth2**.\n\nIt just extends OAuth2 specifying some things that are relatively ambiguous in OAuth2, to try to make it more interoperable.\n\nFor example, Google login uses OpenID Connect (which underneath uses OAuth2).\n\nBut Facebook login doesn't support OpenID Connect. It has its own flavor of OAuth2.", "source": "tutorial\\security\\index.md"}
{"doc_id": "fastapi_1731", "title": "Security { #security }", "section": "OpenID (not \"OpenID Connect\") { #openid-not-openid-connect }", "content": "There was also an \"OpenID\" specification. That tried to solve the same thing as **OpenID Connect**, but was not based on OAuth2.\n\nSo, it was a complete additional system.\n\nIt is not very popular or used nowadays.", "source": "tutorial\\security\\index.md"}
{"doc_id": "fastapi_1732", "title": "Security { #security }", "section": "OpenAPI { #openapi }", "content": "OpenAPI (previously known as Swagger) is the open specification for building APIs (now part of the Linux Foundation).\n\n**FastAPI** is based on **OpenAPI**.\n\nThat's what makes it possible to have multiple automatic interactive documentation interfaces, code generation, etc.\n\nOpenAPI has a way to define multiple security \"schemes\".\n\nBy using them, you can take advantage of all these standard-based tools, including these interactive documentation systems.\n\nOpenAPI defines the following security schemes:\n\n* `apiKey`: an application specific key that can come from:\n    * A query parameter.\n    * A header.\n    * A cookie.\n* `http`: standard HTTP authentication systems, including:\n    * `bearer`: a header `Authorization` with a value of `Bearer ` plus a token. This is inherited from OAuth2.\n    * HTTP Basic authentication.\n    * HTTP Digest, etc.\n* `oauth2`: all the OAuth2 ways to handle security (called \"flows\").\n    * Several of these flows are appropriate for building an OAuth 2.0 authentication provider (like Google, Facebook, X (Twitter), GitHub, etc):\n        * `implicit`\n        * `clientCredentials`\n        * `authorizationCode`\n    * But there is one specific \"flow\" that can be perfectly used for handling authentication in the same application directly:\n        * `password`: some next chapters will cover examples of this.\n* `openIdConnect`: has a way to define how to discover OAuth2 authentication data automatically.\n    * This automatic discovery is what is defined in the OpenID Connect specification.\n\n\n/// tip\n\nIntegrating other authentication/authorization providers like Google, Facebook, X (Twitter), GitHub, etc. is also possible and relatively easy.\n\nThe most complex problem is building an authentication/authorization provider like those, but **FastAPI** gives you the tools to do it easily, while doing the heavy lifting for you.\n\n///", "source": "tutorial\\security\\index.md"}
{"doc_id": "fastapi_1733", "title": "Security { #security }", "section": "**FastAPI** utilities { #fastapi-utilities }", "content": "FastAPI provides several tools for each of these security schemes in the `fastapi.security` module that simplify using these security mechanisms.\n\nIn the next chapters you will see how to add security to your API using those tools provided by **FastAPI**.\n\nAnd you will also see how it gets automatically integrated into the interactive documentation system.", "source": "tutorial\\security\\index.md"}
{"doc_id": "fastapi_1734", "title": "OAuth2 with Password (and hashing), Bearer with JWT tokens { #oauth2-with-password-and-hashing-bearer-with-jwt-tokens }", "section": "OAuth2 with Password (and hashing), Bearer with JWT tokens { #oauth2-with-password-and-hashing-bearer-with-jwt-tokens }", "content": "Now that we have all the security flow, let's make the application actually secure, using <abbr title=\"JSON Web Tokens\">JWT</abbr> tokens and secure password hashing.\n\nThis code is something you can actually use in your application, save the password hashes in your database, etc.\n\nWe are going to start from where we left in the previous chapter and increment it.", "source": "tutorial\\security\\oauth2-jwt.md"}
{"doc_id": "fastapi_1735", "title": "OAuth2 with Password (and hashing), Bearer with JWT tokens { #oauth2-with-password-and-hashing-bearer-with-jwt-tokens }", "section": "About JWT { #about-jwt }", "content": "JWT means \"JSON Web Tokens\".\n\nIt's a standard to codify a JSON object in a long dense string without spaces. It looks like this:\n\n```\neyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c\n```\n\nIt is not encrypted, so, anyone could recover the information from the contents.\n\nBut it's signed. So, when you receive a token that you emitted, you can verify that you actually emitted it.\n\nThat way, you can create a token with an expiration of, let's say, 1 week. And then when the user comes back the next day with the token, you know that user is still logged in to your system.\n\nAfter a week, the token will be expired and the user will not be authorized and will have to sign in again to get a new token. And if the user (or a third party) tried to modify the token to change the expiration, you would be able to discover it, because the signatures would not match.\n\nIf you want to play with JWT tokens and see how they work, check <a href=\"https://jwt.io/\" class=\"external-link\" target=\"_blank\">https://jwt.io</a>.", "source": "tutorial\\security\\oauth2-jwt.md"}
{"doc_id": "fastapi_1736", "title": "OAuth2 with Password (and hashing), Bearer with JWT tokens { #oauth2-with-password-and-hashing-bearer-with-jwt-tokens }", "section": "Install `PyJWT` { #install-pyjwt }", "content": "We need to install `PyJWT` to generate and verify the JWT tokens in Python.\n\nMake sure you create a [virtual environment](../../virtual-environments.md){.internal-link target=_blank}, activate it, and then install `pyjwt`:\n\n<div class=\"termy\">\n\n```console\n$ pip install pyjwt\n\n---> 100%\n```\n\n</div>\n\n/// info\n\nIf you are planning to use digital signature algorithms like RSA or ECDSA, you should install the cryptography library dependency `pyjwt[crypto]`.\n\nYou can read more about it in the <a href=\"https://pyjwt.readthedocs.io/en/latest/installation.html\" class=\"external-link\" target=\"_blank\">PyJWT Installation docs</a>.\n\n///", "source": "tutorial\\security\\oauth2-jwt.md"}
{"doc_id": "fastapi_1737", "title": "OAuth2 with Password (and hashing), Bearer with JWT tokens { #oauth2-with-password-and-hashing-bearer-with-jwt-tokens }", "section": "Password hashing { #password-hashing }", "content": "\"Hashing\" means converting some content (a password in this case) into a sequence of bytes (just a string) that looks like gibberish.\n\nWhenever you pass exactly the same content (exactly the same password) you get exactly the same gibberish.\n\nBut you cannot convert from the gibberish back to the password.", "source": "tutorial\\security\\oauth2-jwt.md"}
{"doc_id": "fastapi_1738", "title": "OAuth2 with Password (and hashing), Bearer with JWT tokens { #oauth2-with-password-and-hashing-bearer-with-jwt-tokens }", "section": "Why use password hashing { #why-use-password-hashing }", "content": "If your database is stolen, the thief won't have your users' plaintext passwords, only the hashes.\n\nSo, the thief won't be able to try to use that password in another system (as many users use the same password everywhere, this would be dangerous).", "source": "tutorial\\security\\oauth2-jwt.md"}
{"doc_id": "fastapi_1739", "title": "OAuth2 with Password (and hashing), Bearer with JWT tokens { #oauth2-with-password-and-hashing-bearer-with-jwt-tokens }", "section": "Install `pwdlib` { #install-pwdlib }", "content": "pwdlib is a great Python package to handle password hashes.\n\nIt supports many secure hashing algorithms and utilities to work with them.\n\nThe recommended algorithm is \"Argon2\".\n\nMake sure you create a [virtual environment](../../virtual-environments.md){.internal-link target=_blank}, activate it, and then install pwdlib with Argon2:\n\n<div class=\"termy\">\n\n```console\n$ pip install \"pwdlib[argon2]\"\n\n---> 100%\n```\n\n</div>\n\n/// tip\n\nWith `pwdlib`, you could even configure it to be able to read passwords created by **Django**, a **Flask** security plug-in or many others.\n\nSo, you would be able to, for example, share the same data from a Django application in a database with a FastAPI application. Or gradually migrate a Django application using the same database.\n\nAnd your users would be able to login from your Django app or from your **FastAPI** app, at the same time.\n\n///", "source": "tutorial\\security\\oauth2-jwt.md"}
{"doc_id": "fastapi_1740", "title": "OAuth2 with Password (and hashing), Bearer with JWT tokens { #oauth2-with-password-and-hashing-bearer-with-jwt-tokens }", "section": "Hash and verify the passwords { #hash-and-verify-the-passwords }", "content": "Import the tools we need from `pwdlib`.\n\nCreate a PasswordHash instance with recommended settings - it will be used for hashing and verifying passwords.\n\n/// tip\n\npwdlib also supports the bcrypt hashing algorithm but does not include legacy algorithms - for working with outdated hashes, it is recommended to use the passlib library.\n\nFor example, you could use it to read and verify passwords generated by another system (like Django) but hash any new passwords with a different algorithm like Argon2 or Bcrypt.\n\nAnd be compatible with all of them at the same time.\n\n///\n\nCreate a utility function to hash a password coming from the user.\n\nAnd another utility to verify if a received password matches the hash stored.\n\nAnd another one to authenticate and return a user.\n\n{* ../../docs_src/security/tutorial004_an_py310.py hl[8,49,56:57,60:61,70:76] *}\n\n/// note\n\nIf you check the new (fake) database `fake_users_db`, you will see how the hashed password looks like now: `\"$argon2id$v=19$m=65536,t=3,p=4$wagCPXjifgvUFBzq4hqe3w$CYaIb8sB+wtD+Vu/P4uod1+Qof8h+1g7bbDlBID48Rc\"`.\n\n///", "source": "tutorial\\security\\oauth2-jwt.md"}
{"doc_id": "fastapi_1741", "title": "OAuth2 with Password (and hashing), Bearer with JWT tokens { #oauth2-with-password-and-hashing-bearer-with-jwt-tokens }", "section": "Handle JWT tokens { #handle-jwt-tokens }", "content": "Import the modules installed.\n\nCreate a random secret key that will be used to sign the JWT tokens.\n\nTo generate a secure random secret key use the command:\n\n<div class=\"termy\">\n\n```console\n$ openssl rand -hex 32\n\n09d25e094faa6ca2556c818166b7a9563b93f7099f6f0f4caa6cf63b88e8d3e7\n```\n\n</div>\n\nAnd copy the output to the variable `SECRET_KEY` (don't use the one in the example).\n\nCreate a variable `ALGORITHM` with the algorithm used to sign the JWT token and set it to `\"HS256\"`.\n\nCreate a variable for the expiration of the token.\n\nDefine a Pydantic Model that will be used in the token endpoint for the response.\n\nCreate a utility function to generate a new access token.\n\n{* ../../docs_src/security/tutorial004_an_py310.py hl[4,7,13:15,29:31,79:87] *}", "source": "tutorial\\security\\oauth2-jwt.md"}
{"doc_id": "fastapi_1742", "title": "OAuth2 with Password (and hashing), Bearer with JWT tokens { #oauth2-with-password-and-hashing-bearer-with-jwt-tokens }", "section": "Update the dependencies { #update-the-dependencies }", "content": "Update `get_current_user` to receive the same token as before, but this time, using JWT tokens.\n\nDecode the received token, verify it, and return the current user.\n\nIf the token is invalid, return an HTTP error right away.\n\n{* ../../docs_src/security/tutorial004_an_py310.py hl[90:107] *}", "source": "tutorial\\security\\oauth2-jwt.md"}
{"doc_id": "fastapi_1743", "title": "OAuth2 with Password (and hashing), Bearer with JWT tokens { #oauth2-with-password-and-hashing-bearer-with-jwt-tokens }", "section": "Update the `/token` *path operation* { #update-the-token-path-operation }", "content": "Create a `timedelta` with the expiration time of the token.\n\nCreate a real JWT access token and return it.\n\n{* ../../docs_src/security/tutorial004_an_py310.py hl[118:133] *}", "source": "tutorial\\security\\oauth2-jwt.md"}
{"doc_id": "fastapi_1744", "title": "OAuth2 with Password (and hashing), Bearer with JWT tokens { #oauth2-with-password-and-hashing-bearer-with-jwt-tokens }", "section": "Technical details about the JWT \"subject\" `sub` { #technical-details-about-the-jwt-subject-sub }", "content": "The JWT specification says that there's a key `sub`, with the subject of the token.\n\nIt's optional to use it, but that's where you would put the user's identification, so we are using it here.\n\nJWT might be used for other things apart from identifying a user and allowing them to perform operations directly on your API.\n\nFor example, you could identify a \"car\" or a \"blog post\".\n\nThen you could add permissions about that entity, like \"drive\" (for the car) or \"edit\" (for the blog).\n\nAnd then, you could give that JWT token to a user (or bot), and they could use it to perform those actions (drive the car, or edit the blog post) without even needing to have an account, just with the JWT token your API generated for that.\n\nUsing these ideas, JWT can be used for way more sophisticated scenarios.\n\nIn those cases, several of those entities could have the same ID, let's say `foo` (a user `foo`, a car `foo`, and a blog post `foo`).\n\nSo, to avoid ID collisions, when creating the JWT token for the user, you could prefix the value of the `sub` key, e.g. with `username:`. So, in this example, the value of `sub` could have been: `username:johndoe`.\n\nThe important thing to keep in mind is that the `sub` key should have a unique identifier across the entire application, and it should be a string.", "source": "tutorial\\security\\oauth2-jwt.md"}
{"doc_id": "fastapi_1745", "title": "OAuth2 with Password (and hashing), Bearer with JWT tokens { #oauth2-with-password-and-hashing-bearer-with-jwt-tokens }", "section": "Check it { #check-it }", "content": "Run the server and go to the docs: <a href=\"http://127.0.0.1:8000/docs\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/docs</a>.\n\nYou'll see the user interface like:\n\n<img src=\"/img/tutorial/security/image07.png\">\n\nAuthorize the application the same way as before.\n\nUsing the credentials:\n\nUsername: `johndoe`\nPassword: `secret`\n\n/// check\n\nNotice that nowhere in the code is the plaintext password \"`secret`\", we only have the hashed version.\n\n///\n\n<img src=\"/img/tutorial/security/image08.png\">\n\nCall the endpoint `/users/me/`, you will get the response as:\n\n```JSON\n{\n  \"username\": \"johndoe\",\n  \"email\": \"johndoe@example.com\",\n  \"full_name\": \"John Doe\",\n  \"disabled\": false\n}\n```\n\n<img src=\"/img/tutorial/security/image09.png\">\n\nIf you open the developer tools, you could see how the data sent only includes the token, the password is only sent in the first request to authenticate the user and get that access token, but not afterwards:\n\n<img src=\"/img/tutorial/security/image10.png\">\n\n/// note\n\nNotice the header `Authorization`, with a value that starts with `Bearer `.\n\n///", "source": "tutorial\\security\\oauth2-jwt.md"}
{"doc_id": "fastapi_1746", "title": "OAuth2 with Password (and hashing), Bearer with JWT tokens { #oauth2-with-password-and-hashing-bearer-with-jwt-tokens }", "section": "Advanced usage with `scopes` { #advanced-usage-with-scopes }", "content": "OAuth2 has the notion of \"scopes\".\n\nYou can use them to add a specific set of permissions to a JWT token.\n\nThen you can give this token to a user directly or a third party, to interact with your API with a set of restrictions.\n\nYou can learn how to use them and how they are integrated into **FastAPI** later in the **Advanced User Guide**.", "source": "tutorial\\security\\oauth2-jwt.md"}
{"doc_id": "fastapi_1747", "title": "OAuth2 with Password (and hashing), Bearer with JWT tokens { #oauth2-with-password-and-hashing-bearer-with-jwt-tokens }", "section": "Recap { #recap }", "content": "With what you have seen up to now, you can set up a secure **FastAPI** application using standards like OAuth2 and JWT.\n\nIn almost any framework handling the security becomes a rather complex subject quite quickly.\n\nMany packages that simplify it a lot have to make many compromises with the data model, database, and available features. And some of these packages that simplify things too much actually have security flaws underneath.\n\n---\n\n**FastAPI** doesn't make any compromise with any database, data model or tool.\n\nIt gives you all the flexibility to choose the ones that fit your project the best.\n\nAnd you can use directly many well maintained and widely used packages like `pwdlib` and `PyJWT`, because **FastAPI** doesn't require any complex mechanisms to integrate external packages.\n\nBut it provides you the tools to simplify the process as much as possible without compromising flexibility, robustness, or security.\n\nAnd you can use and implement secure, standard protocols, like OAuth2 in a relatively simple way.\n\nYou can learn more in the **Advanced User Guide** about how to use OAuth2 \"scopes\", for a more fine-grained permission system, following these same standards. OAuth2 with scopes is the mechanism used by many big authentication providers, like Facebook, Google, GitHub, Microsoft, X (Twitter), etc. to authorize third party applications to interact with their APIs on behalf of their users.", "source": "tutorial\\security\\oauth2-jwt.md"}
{"doc_id": "fastapi_1748", "title": "Simple OAuth2 with Password and Bearer { #simple-oauth2-with-password-and-bearer }", "section": "Simple OAuth2 with Password and Bearer { #simple-oauth2-with-password-and-bearer }", "content": "Now let's build from the previous chapter and add the missing parts to have a complete security flow.", "source": "tutorial\\security\\simple-oauth2.md"}
{"doc_id": "fastapi_1749", "title": "Simple OAuth2 with Password and Bearer { #simple-oauth2-with-password-and-bearer }", "section": "Get the `username` and `password` { #get-the-username-and-password }", "content": "We are going to use **FastAPI** security utilities to get the `username` and `password`.\n\nOAuth2 specifies that when using the \"password flow\" (that we are using) the client/user must send a `username` and `password` fields as form data.\n\nAnd the spec says that the fields have to be named like that. So `user-name` or `email` wouldn't work.\n\nBut don't worry, you can show it as you wish to your final users in the frontend.\n\nAnd your database models can use any other names you want.\n\nBut for the login *path operation*, we need to use these names to be compatible with the spec (and be able to, for example, use the integrated API documentation system).\n\nThe spec also states that the `username` and `password` must be sent as form data (so, no JSON here).", "source": "tutorial\\security\\simple-oauth2.md"}
{"doc_id": "fastapi_1750", "title": "Simple OAuth2 with Password and Bearer { #simple-oauth2-with-password-and-bearer }", "section": "`scope` { #scope }", "content": "The spec also says that the client can send another form field \"`scope`\".\n\nThe form field name is `scope` (in singular), but it is actually a long string with \"scopes\" separated by spaces.\n\nEach \"scope\" is just a string (without spaces).\n\nThey are normally used to declare specific security permissions, for example:\n\n* `users:read` or `users:write` are common examples.\n* `instagram_basic` is used by Facebook / Instagram.\n* `https://www.googleapis.com/auth/drive` is used by Google.\n\n/// info\n\nIn OAuth2 a \"scope\" is just a string that declares a specific permission required.\n\nIt doesn't matter if it has other characters like `:` or if it is a URL.\n\nThose details are implementation specific.\n\nFor OAuth2 they are just strings.\n\n///", "source": "tutorial\\security\\simple-oauth2.md"}
{"doc_id": "fastapi_1751", "title": "Simple OAuth2 with Password and Bearer { #simple-oauth2-with-password-and-bearer }", "section": "Code to get the `username` and `password` { #code-to-get-the-username-and-password }", "content": "Now let's use the utilities provided by **FastAPI** to handle this.", "source": "tutorial\\security\\simple-oauth2.md"}
{"doc_id": "fastapi_1752", "title": "Simple OAuth2 with Password and Bearer { #simple-oauth2-with-password-and-bearer }", "section": "`OAuth2PasswordRequestForm` { #oauth2passwordrequestform }", "content": "First, import `OAuth2PasswordRequestForm`, and use it as a dependency with `Depends` in the *path operation* for `/token`:\n\n{* ../../docs_src/security/tutorial003_an_py310.py hl[4,78] *}\n\n`OAuth2PasswordRequestForm` is a class dependency that declares a form body with:\n\n* The `username`.\n* The `password`.\n* An optional `scope` field as a big string, composed of strings separated by spaces.\n* An optional `grant_type`.\n\n/// tip\n\nThe OAuth2 spec actually *requires* a field `grant_type` with a fixed value of `password`, but `OAuth2PasswordRequestForm` doesn't enforce it.\n\nIf you need to enforce it, use `OAuth2PasswordRequestFormStrict` instead of `OAuth2PasswordRequestForm`.\n\n///\n\n* An optional `client_id` (we don't need it for our example).\n* An optional `client_secret` (we don't need it for our example).\n\n/// info\n\nThe `OAuth2PasswordRequestForm` is not a special class for **FastAPI** as is `OAuth2PasswordBearer`.\n\n`OAuth2PasswordBearer` makes **FastAPI** know that it is a security scheme. So it is added that way to OpenAPI.\n\nBut `OAuth2PasswordRequestForm` is just a class dependency that you could have written yourself, or you could have declared `Form` parameters directly.\n\nBut as it's a common use case, it is provided by **FastAPI** directly, just to make it easier.\n\n///", "source": "tutorial\\security\\simple-oauth2.md"}
{"doc_id": "fastapi_1753", "title": "Simple OAuth2 with Password and Bearer { #simple-oauth2-with-password-and-bearer }", "section": "Use the form data { #use-the-form-data }", "content": "/// tip\n\nThe instance of the dependency class `OAuth2PasswordRequestForm` won't have an attribute `scope` with the long string separated by spaces, instead, it will have a `scopes` attribute with the actual list of strings for each scope sent.\n\nWe are not using `scopes` in this example, but the functionality is there if you need it.\n\n///\n\nNow, get the user data from the (fake) database, using the `username` from the form field.\n\nIf there is no such user, we return an error saying \"Incorrect username or password\".\n\nFor the error, we use the exception `HTTPException`:\n\n{* ../../docs_src/security/tutorial003_an_py310.py hl[3,79:81] *}", "source": "tutorial\\security\\simple-oauth2.md"}
{"doc_id": "fastapi_1754", "title": "Simple OAuth2 with Password and Bearer { #simple-oauth2-with-password-and-bearer }", "section": "Check the password { #check-the-password }", "content": "At this point we have the user data from our database, but we haven't checked the password.\n\nLet's put that data in the Pydantic `UserInDB` model first.\n\nYou should never save plaintext passwords, so, we'll use the (fake) password hashing system.\n\nIf the passwords don't match, we return the same error.\n\n#### Password hashing { #password-hashing }\n\n\"Hashing\" means: converting some content (a password in this case) into a sequence of bytes (just a string) that looks like gibberish.\n\nWhenever you pass exactly the same content (exactly the same password) you get exactly the same gibberish.\n\nBut you cannot convert from the gibberish back to the password.\n\n##### Why use password hashing { #why-use-password-hashing }\n\nIf your database is stolen, the thief won't have your users' plaintext passwords, only the hashes.\n\nSo, the thief won't be able to try to use those same passwords in another system (as many users use the same password everywhere, this would be dangerous).\n\n{* ../../docs_src/security/tutorial003_an_py310.py hl[82:85] *}\n\n#### About `**user_dict` { #about-user-dict }\n\n`UserInDB(**user_dict)` means:\n\n*Pass the keys and values of the `user_dict` directly as key-value arguments, equivalent to:*\n\n```Python\nUserInDB(\n    username = user_dict[\"username\"],\n    email = user_dict[\"email\"],\n    full_name = user_dict[\"full_name\"],\n    disabled = user_dict[\"disabled\"],\n    hashed_password = user_dict[\"hashed_password\"],\n)\n```\n\n/// info\n\nFor a more complete explanation of `**user_dict` check back in [the documentation for **Extra Models**](../extra-models.md#about-user-in-dict){.internal-link target=_blank}.\n\n///", "source": "tutorial\\security\\simple-oauth2.md"}
{"doc_id": "fastapi_1755", "title": "Simple OAuth2 with Password and Bearer { #simple-oauth2-with-password-and-bearer }", "section": "Return the token { #return-the-token }", "content": "The response of the `token` endpoint must be a JSON object.\n\nIt should have a `token_type`. In our case, as we are using \"Bearer\" tokens, the token type should be \"`bearer`\".\n\nAnd it should have an `access_token`, with a string containing our access token.\n\nFor this simple example, we are going to just be completely insecure and return the same `username` as the token.\n\n/// tip\n\nIn the next chapter, you will see a real secure implementation, with password hashing and <abbr title=\"JSON Web Tokens\">JWT</abbr> tokens.\n\nBut for now, let's focus on the specific details we need.\n\n///\n\n{* ../../docs_src/security/tutorial003_an_py310.py hl[87] *}\n\n/// tip\n\nBy the spec, you should return a JSON with an `access_token` and a `token_type`, the same as in this example.\n\nThis is something that you have to do yourself in your code, and make sure you use those JSON keys.\n\nIt's almost the only thing that you have to remember to do correctly yourself, to be compliant with the specifications.\n\nFor the rest, **FastAPI** handles it for you.\n\n///", "source": "tutorial\\security\\simple-oauth2.md"}
{"doc_id": "fastapi_1756", "title": "Simple OAuth2 with Password and Bearer { #simple-oauth2-with-password-and-bearer }", "section": "Update the dependencies { #update-the-dependencies }", "content": "Now we are going to update our dependencies.\n\nWe want to get the `current_user` *only* if this user is active.\n\nSo, we create an additional dependency `get_current_active_user` that in turn uses `get_current_user` as a dependency.\n\nBoth of these dependencies will just return an HTTP error if the user doesn't exist, or if is inactive.\n\nSo, in our endpoint, we will only get a user if the user exists, was correctly authenticated, and is active:\n\n{* ../../docs_src/security/tutorial003_an_py310.py hl[58:66,69:74,94] *}\n\n/// info\n\nThe additional header `WWW-Authenticate` with value `Bearer` we are returning here is also part of the spec.\n\nAny HTTP (error) status code 401 \"UNAUTHORIZED\" is supposed to also return a `WWW-Authenticate` header.\n\nIn the case of bearer tokens (our case), the value of that header should be `Bearer`.\n\nYou can actually skip that extra header and it would still work.\n\nBut it's provided here to be compliant with the specifications.\n\nAlso, there might be tools that expect and use it (now or in the future) and that might be useful for you or your users, now or in the future.\n\nThat's the benefit of standards...\n\n///", "source": "tutorial\\security\\simple-oauth2.md"}
{"doc_id": "fastapi_1757", "title": "Simple OAuth2 with Password and Bearer { #simple-oauth2-with-password-and-bearer }", "section": "See it in action { #see-it-in-action }", "content": "Open the interactive docs: <a href=\"http://127.0.0.1:8000/docs\" class=\"external-link\" target=\"_blank\">http://127.0.0.1:8000/docs</a>.", "source": "tutorial\\security\\simple-oauth2.md"}
{"doc_id": "fastapi_1758", "title": "Simple OAuth2 with Password and Bearer { #simple-oauth2-with-password-and-bearer }", "section": "Authenticate { #authenticate }", "content": "Click the \"Authorize\" button.\n\nUse the credentials:\n\nUser: `johndoe`\n\nPassword: `secret`\n\n<img src=\"/img/tutorial/security/image04.png\">\n\nAfter authenticating in the system, you will see it like:\n\n<img src=\"/img/tutorial/security/image05.png\">", "source": "tutorial\\security\\simple-oauth2.md"}
{"doc_id": "fastapi_1759", "title": "Simple OAuth2 with Password and Bearer { #simple-oauth2-with-password-and-bearer }", "section": "Get your own user data { #get-your-own-user-data }", "content": "Now use the operation `GET` with the path `/users/me`.\n\nYou will get your user's data, like:\n\n```JSON\n{\n  \"username\": \"johndoe\",\n  \"email\": \"johndoe@example.com\",\n  \"full_name\": \"John Doe\",\n  \"disabled\": false,\n  \"hashed_password\": \"fakehashedsecret\"\n}\n```\n\n<img src=\"/img/tutorial/security/image06.png\">\n\nIf you click the lock icon and logout, and then try the same operation again, you will get an HTTP 401 error of:\n\n```JSON\n{\n  \"detail\": \"Not authenticated\"\n}\n```", "source": "tutorial\\security\\simple-oauth2.md"}
{"doc_id": "fastapi_1760", "title": "Simple OAuth2 with Password and Bearer { #simple-oauth2-with-password-and-bearer }", "section": "Inactive user { #inactive-user }", "content": "Now try with an inactive user, authenticate with:\n\nUser: `alice`\n\nPassword: `secret2`\n\nAnd try to use the operation `GET` with the path `/users/me`.\n\nYou will get an \"Inactive user\" error, like:\n\n```JSON\n{\n  \"detail\": \"Inactive user\"\n}\n```", "source": "tutorial\\security\\simple-oauth2.md"}
{"doc_id": "fastapi_1761", "title": "Simple OAuth2 with Password and Bearer { #simple-oauth2-with-password-and-bearer }", "section": "Recap { #recap }", "content": "You now have the tools to implement a complete security system based on `username` and `password` for your API.\n\nUsing these tools, you can make the security system compatible with any database and with any user or data model.\n\nThe only detail missing is that it is not actually \"secure\" yet.\n\nIn the next chapter you'll see how to use a secure password hashing library and <abbr title=\"JSON Web Tokens\">JWT</abbr> tokens.", "source": "tutorial\\security\\simple-oauth2.md"}
{"doc_id": "fastapi_1762", "title": "OpenAPI `docs`", "section": "OpenAPI `docs`", "content": "Utilities to handle OpenAPI automatic UI documentation, including Swagger UI (by default at `/docs`) and ReDoc (by default at `/redoc`).\n\n::: fastapi.openapi.docs.get_swagger_ui_html\n\n::: fastapi.openapi.docs.get_redoc_html\n\n::: fastapi.openapi.docs.get_swagger_ui_oauth2_redirect_html\n\n::: fastapi.openapi.docs.swagger_ui_default_parameters", "source": "reference\\openapi\\docs.md"}
{"doc_id": "fastapi_1763", "title": "OpenAPI", "section": "OpenAPI", "content": "There are several utilities to handle OpenAPI.\n\nYou normally don't need to use them unless you have a specific advanced use case that requires it.", "source": "reference\\openapi\\index.md"}
{"doc_id": "fastapi_1764", "title": "OpenAPI `models`", "section": "OpenAPI `models`", "content": "OpenAPI Pydantic models used to generate and validate the generated OpenAPI.\n\n::: fastapi.openapi.models", "source": "reference\\openapi\\models.md"}
{"doc_id": "fastapi_1765", "title": "Security Tools", "section": "Security Tools", "content": "When you need to declare dependencies with OAuth2 scopes you use `Security()`.\n\nBut you still need to define what is the dependable, the callable that you pass as a parameter to `Depends()` or `Security()`.\n\nThere are multiple tools that you can use to create those dependables, and they get integrated into OpenAPI so they are shown in the automatic docs UI, they can be used by automatically generated clients and SDKs, etc.\n\nYou can import them from `fastapi.security`:\n\n```python\nfrom fastapi.security import (\n    APIKeyCookie,\n    APIKeyHeader,\n    APIKeyQuery,\n    HTTPAuthorizationCredentials,\n    HTTPBasic,\n    HTTPBasicCredentials,\n    HTTPBearer,\n    HTTPDigest,\n    OAuth2,\n    OAuth2AuthorizationCodeBearer,\n    OAuth2PasswordBearer,\n    OAuth2PasswordRequestForm,\n    OAuth2PasswordRequestFormStrict,\n    OpenIdConnect,\n    SecurityScopes,\n)\n```", "source": "reference\\security\\index.md"}
{"doc_id": "fastapi_1766", "title": "Security Tools", "section": "API Key Security Schemes", "content": "::: fastapi.security.APIKeyCookie\n\n::: fastapi.security.APIKeyHeader\n\n::: fastapi.security.APIKeyQuery", "source": "reference\\security\\index.md"}
{"doc_id": "fastapi_1767", "title": "Security Tools", "section": "HTTP Authentication Schemes", "content": "::: fastapi.security.HTTPBasic\n\n::: fastapi.security.HTTPBearer\n\n::: fastapi.security.HTTPDigest", "source": "reference\\security\\index.md"}
{"doc_id": "fastapi_1768", "title": "Security Tools", "section": "HTTP Credentials", "content": "::: fastapi.security.HTTPAuthorizationCredentials\n\n::: fastapi.security.HTTPBasicCredentials", "source": "reference\\security\\index.md"}
{"doc_id": "fastapi_1769", "title": "Security Tools", "section": "OAuth2 Authentication", "content": "::: fastapi.security.OAuth2\n\n::: fastapi.security.OAuth2AuthorizationCodeBearer\n\n::: fastapi.security.OAuth2PasswordBearer", "source": "reference\\security\\index.md"}
{"doc_id": "fastapi_1770", "title": "Security Tools", "section": "OAuth2 Password Form", "content": "::: fastapi.security.OAuth2PasswordRequestForm\n\n::: fastapi.security.OAuth2PasswordRequestFormStrict", "source": "reference\\security\\index.md"}
{"doc_id": "fastapi_1771", "title": "Security Tools", "section": "OAuth2 Security Scopes in Dependencies", "content": "::: fastapi.security.SecurityScopes", "source": "reference\\security\\index.md"}
{"doc_id": "fastapi_1772", "title": "Security Tools", "section": "OpenID Connect", "content": "::: fastapi.security.OpenIdConnect", "source": "reference\\security\\index.md"}
{"doc_id": "fastapi_1773", "title": "HTTP Basic Auth { #http-basic-auth }", "section": "HTTP Basic Auth { #http-basic-auth }", "content": "For the simplest cases, you can use HTTP Basic Auth.\n\nIn HTTP Basic Auth, the application expects a header that contains a username and a password.\n\nIf it doesn't receive it, it returns an HTTP 401 \"Unauthorized\" error.\n\nAnd returns a header `WWW-Authenticate` with a value of `Basic`, and an optional `realm` parameter.\n\nThat tells the browser to show the integrated prompt for a username and password.\n\nThen, when you type that username and password, the browser sends them in the header automatically.", "source": "advanced\\security\\http-basic-auth.md"}
{"doc_id": "fastapi_1774", "title": "HTTP Basic Auth { #http-basic-auth }", "section": "Simple HTTP Basic Auth { #simple-http-basic-auth }", "content": "* Import `HTTPBasic` and `HTTPBasicCredentials`.\n* Create a \"`security` scheme\" using `HTTPBasic`.\n* Use that `security` with a dependency in your *path operation*.\n* It returns an object of type `HTTPBasicCredentials`:\n    * It contains the `username` and `password` sent.\n\n{* ../../docs_src/security/tutorial006_an_py39.py hl[4,8,12] *}\n\nWhen you try to open the URL for the first time (or click the \"Execute\" button in the docs) the browser will ask you for your username and password:\n\n<img src=\"/img/tutorial/security/image12.png\">", "source": "advanced\\security\\http-basic-auth.md"}
{"doc_id": "fastapi_1775", "title": "HTTP Basic Auth { #http-basic-auth }", "section": "Check the username { #check-the-username }", "content": "Here's a more complete example.\n\nUse a dependency to check if the username and password are correct.\n\nFor this, use the Python standard module <a href=\"https://docs.python.org/3/library/secrets.html\" class=\"external-link\" target=\"_blank\">`secrets`</a> to check the username and password.\n\n`secrets.compare_digest()` needs to take `bytes` or a `str` that only contains ASCII characters (the ones in English), this means it wouldn't work with characters like `√°`, as in `Sebasti√°n`.\n\nTo handle that, we first convert the `username` and `password` to `bytes` encoding them with UTF-8.\n\nThen we can use `secrets.compare_digest()` to ensure that `credentials.username` is `\"stanleyjobson\"`, and that `credentials.password` is `\"swordfish\"`.\n\n{* ../../docs_src/security/tutorial007_an_py39.py hl[1,12:24] *}\n\nThis would be similar to:\n\n```Python\nif not (credentials.username == \"stanleyjobson\") or not (credentials.password == \"swordfish\"):\n    # Return some error\n    ...\n```\n\nBut by using the `secrets.compare_digest()` it will be secure against a type of attacks called \"timing attacks\".", "source": "advanced\\security\\http-basic-auth.md"}
{"doc_id": "fastapi_1776", "title": "HTTP Basic Auth { #http-basic-auth }", "section": "Timing Attacks { #timing-attacks }", "content": "But what's a \"timing attack\"?\n\nLet's imagine some attackers are trying to guess the username and password.\n\nAnd they send a request with a username `johndoe` and a password `love123`.\n\nThen the Python code in your application would be equivalent to something like:\n\n```Python\nif \"johndoe\" == \"stanleyjobson\" and \"love123\" == \"swordfish\":\n    ...\n```\n\nBut right at the moment Python compares the first `j` in `johndoe` to the first `s` in `stanleyjobson`, it will return `False`, because it already knows that those two strings are not the same, thinking that \"there's no need to waste more computation comparing the rest of the letters\". And your application will say \"Incorrect username or password\".\n\nBut then the attackers try with username `stanleyjobsox` and password `love123`.\n\nAnd your application code does something like:\n\n```Python\nif \"stanleyjobsox\" == \"stanleyjobson\" and \"love123\" == \"swordfish\":\n    ...\n```\n\nPython will have to compare the whole `stanleyjobso` in both `stanleyjobsox` and `stanleyjobson` before realizing that both strings are not the same. So it will take some extra microseconds to reply back \"Incorrect username or password\".\n\n#### The time to answer helps the attackers { #the-time-to-answer-helps-the-attackers }\n\nAt that point, by noticing that the server took some microseconds longer to send the \"Incorrect username or password\" response, the attackers will know that they got _something_ right, some of the initial letters were right.\n\nAnd then they can try again knowing that it's probably something more similar to `stanleyjobsox` than to `johndoe`.\n\n#### A \"professional\" attack { #a-professional-attack }\n\nOf course, the attackers would not try all this by hand, they would write a program to do it, possibly with thousands or millions of tests per second. And they would get just one extra correct letter at a time.\n\nBut doing that, in some minutes or hours the attackers would have guessed the correct username and password, with the \"help\" of our application, just using the time taken to answer.\n\n#### Fix it with `secrets.compare_digest()` { #fix-it-with-secrets-compare-digest }\n\nBut in our code we are actually using `secrets.compare_digest()`.\n\nIn short, it will take the same time to compare `stanleyjobsox` to `stanleyjobson` than it takes to compare `johndoe` to `stanleyjobson`. And the same for the password.\n\nThat way, using `secrets.compare_digest()` in your application code, it will be safe against this whole range of security attacks.", "source": "advanced\\security\\http-basic-auth.md"}
{"doc_id": "fastapi_1777", "title": "HTTP Basic Auth { #http-basic-auth }", "section": "Return the error { #return-the-error }", "content": "After detecting that the credentials are incorrect, return an `HTTPException` with a status code 401 (the same returned when no credentials are provided) and add the header `WWW-Authenticate` to make the browser show the login prompt again:\n\n{* ../../docs_src/security/tutorial007_an_py39.py hl[26:30] *}", "source": "advanced\\security\\http-basic-auth.md"}
{"doc_id": "fastapi_1778", "title": "Advanced Security { #advanced-security }", "section": "Advanced Security { #advanced-security }", "content": "", "source": "advanced\\security\\index.md"}
{"doc_id": "fastapi_1779", "title": "Advanced Security { #advanced-security }", "section": "Additional Features { #additional-features }", "content": "There are some extra features to handle security apart from the ones covered in the [Tutorial - User Guide: Security](../../tutorial/security/index.md){.internal-link target=_blank}.\n\n/// tip\n\nThe next sections are **not necessarily \"advanced\"**.\n\nAnd it's possible that for your use case, the solution is in one of them.\n\n///", "source": "advanced\\security\\index.md"}
{"doc_id": "fastapi_1780", "title": "Advanced Security { #advanced-security }", "section": "Read the Tutorial first { #read-the-tutorial-first }", "content": "The next sections assume you already read the main [Tutorial - User Guide: Security](../../tutorial/security/index.md){.internal-link target=_blank}.\n\nThey are all based on the same concepts, but allow some extra functionalities.", "source": "advanced\\security\\index.md"}
{"doc_id": "fastapi_1781", "title": "OAuth2 scopes { #oauth2-scopes }", "section": "OAuth2 scopes { #oauth2-scopes }", "content": "You can use OAuth2 scopes directly with **FastAPI**, they are integrated to work seamlessly.\n\nThis would allow you to have a more fine-grained permission system, following the OAuth2 standard, integrated into your OpenAPI application (and the API docs).\n\nOAuth2 with scopes is the mechanism used by many big authentication providers, like Facebook, Google, GitHub, Microsoft, X (Twitter), etc. They use it to provide specific permissions to users and applications.\n\nEvery time you \"log in with\" Facebook, Google, GitHub, Microsoft, X (Twitter), that application is using OAuth2 with scopes.\n\nIn this section you will see how to manage authentication and authorization with the same OAuth2 with scopes in your **FastAPI** application.\n\n/// warning\n\nThis is a more or less advanced section. If you are just starting, you can skip it.\n\nYou don't necessarily need OAuth2 scopes, and you can handle authentication and authorization however you want.\n\nBut OAuth2 with scopes can be nicely integrated into your API (with OpenAPI) and your API docs.\n\nNevertheless, you still enforce those scopes, or any other security/authorization requirement, however you need, in your code.\n\nIn many cases, OAuth2 with scopes can be an overkill.\n\nBut if you know you need it, or you are curious, keep reading.\n\n///", "source": "advanced\\security\\oauth2-scopes.md"}
{"doc_id": "fastapi_1782", "title": "OAuth2 scopes { #oauth2-scopes }", "section": "OAuth2 scopes and OpenAPI { #oauth2-scopes-and-openapi }", "content": "The OAuth2 specification defines \"scopes\" as a list of strings separated by spaces.\n\nThe content of each of these strings can have any format, but should not contain spaces.\n\nThese scopes represent \"permissions\".\n\nIn OpenAPI (e.g. the API docs), you can define \"security schemes\".\n\nWhen one of these security schemes uses OAuth2, you can also declare and use scopes.\n\nEach \"scope\" is just a string (without spaces).\n\nThey are normally used to declare specific security permissions, for example:\n\n* `users:read` or `users:write` are common examples.\n* `instagram_basic` is used by Facebook / Instagram.\n* `https://www.googleapis.com/auth/drive` is used by Google.\n\n/// info\n\nIn OAuth2 a \"scope\" is just a string that declares a specific permission required.\n\nIt doesn't matter if it has other characters like `:` or if it is a URL.\n\nThose details are implementation specific.\n\nFor OAuth2 they are just strings.\n\n///", "source": "advanced\\security\\oauth2-scopes.md"}
{"doc_id": "fastapi_1783", "title": "OAuth2 scopes { #oauth2-scopes }", "section": "Global view { #global-view }", "content": "First, let's quickly see the parts that change from the examples in the main **Tutorial - User Guide** for [OAuth2 with Password (and hashing), Bearer with JWT tokens](../../tutorial/security/oauth2-jwt.md){.internal-link target=_blank}. Now using OAuth2 scopes:\n\n{* ../../docs_src/security/tutorial005_an_py310.py hl[5,9,13,47,65,106,108:116,122:126,130:136,141,157] *}\n\nNow let's review those changes step by step.", "source": "advanced\\security\\oauth2-scopes.md"}
{"doc_id": "fastapi_1784", "title": "OAuth2 scopes { #oauth2-scopes }", "section": "OAuth2 Security scheme { #oauth2-security-scheme }", "content": "The first change is that now we are declaring the OAuth2 security scheme with two available scopes, `me` and `items`.\n\nThe `scopes` parameter receives a `dict` with each scope as a key and the description as the value:\n\n{* ../../docs_src/security/tutorial005_an_py310.py hl[63:66] *}\n\nBecause we are now declaring those scopes, they will show up in the API docs when you log-in/authorize.\n\nAnd you will be able to select which scopes you want to give access to: `me` and `items`.\n\nThis is the same mechanism used when you give permissions while logging in with Facebook, Google, GitHub, etc:\n\n<img src=\"/img/tutorial/security/image11.png\">", "source": "advanced\\security\\oauth2-scopes.md"}
{"doc_id": "fastapi_1785", "title": "OAuth2 scopes { #oauth2-scopes }", "section": "JWT token with scopes { #jwt-token-with-scopes }", "content": "Now, modify the token *path operation* to return the scopes requested.\n\nWe are still using the same `OAuth2PasswordRequestForm`. It includes a property `scopes` with a `list` of `str`, with each scope it received in the request.\n\nAnd we return the scopes as part of the JWT token.\n\n/// danger\n\nFor simplicity, here we are just adding the scopes received directly to the token.\n\nBut in your application, for security, you should make sure you only add the scopes that the user is actually able to have, or the ones you have predefined.\n\n///\n\n{* ../../docs_src/security/tutorial005_an_py310.py hl[157] *}", "source": "advanced\\security\\oauth2-scopes.md"}
{"doc_id": "fastapi_1786", "title": "OAuth2 scopes { #oauth2-scopes }", "section": "Declare scopes in *path operations* and dependencies { #declare-scopes-in-path-operations-and-dependencies }", "content": "Now we declare that the *path operation* for `/users/me/items/` requires the scope `items`.\n\nFor this, we import and use `Security` from `fastapi`.\n\nYou can use `Security` to declare dependencies (just like `Depends`), but `Security` also receives a parameter `scopes` with a list of scopes (strings).\n\nIn this case, we pass a dependency function `get_current_active_user` to `Security` (the same way we would do with `Depends`).\n\nBut we also pass a `list` of scopes, in this case with just one scope: `items` (it could have more).\n\nAnd the dependency function `get_current_active_user` can also declare sub-dependencies, not only with `Depends` but also with `Security`. Declaring its own sub-dependency function (`get_current_user`), and more scope requirements.\n\nIn this case, it requires the scope `me` (it could require more than one scope).\n\n/// note\n\nYou don't necessarily need to add different scopes in different places.\n\nWe are doing it here to demonstrate how **FastAPI** handles scopes declared at different levels.\n\n///\n\n{* ../../docs_src/security/tutorial005_an_py310.py hl[5,141,172] *}\n\n/// info | Technical Details\n\n`Security` is actually a subclass of `Depends`, and it has just one extra parameter that we'll see later.\n\nBut by using `Security` instead of `Depends`, **FastAPI** will know that it can declare security scopes, use them internally, and document the API with OpenAPI.\n\nBut when you import `Query`, `Path`, `Depends`, `Security` and others from `fastapi`, those are actually functions that return special classes.\n\n///", "source": "advanced\\security\\oauth2-scopes.md"}
{"doc_id": "fastapi_1787", "title": "OAuth2 scopes { #oauth2-scopes }", "section": "Use `SecurityScopes` { #use-securityscopes }", "content": "Now update the dependency `get_current_user`.\n\nThis is the one used by the dependencies above.\n\nHere's where we are using the same OAuth2 scheme we created before, declaring it as a dependency: `oauth2_scheme`.\n\nBecause this dependency function doesn't have any scope requirements itself, we can use `Depends` with `oauth2_scheme`, we don't have to use `Security` when we don't need to specify security scopes.\n\nWe also declare a special parameter of type `SecurityScopes`, imported from `fastapi.security`.\n\nThis `SecurityScopes` class is similar to `Request` (`Request` was used to get the request object directly).\n\n{* ../../docs_src/security/tutorial005_an_py310.py hl[9,106] *}", "source": "advanced\\security\\oauth2-scopes.md"}
{"doc_id": "fastapi_1788", "title": "OAuth2 scopes { #oauth2-scopes }", "section": "Use the `scopes` { #use-the-scopes }", "content": "The parameter `security_scopes` will be of type `SecurityScopes`.\n\nIt will have a property `scopes` with a list containing all the scopes required by itself and all the dependencies that use this as a sub-dependency. That means, all the \"dependants\"... this might sound confusing, it is explained again later below.\n\nThe `security_scopes` object (of class `SecurityScopes`) also provides a `scope_str` attribute with a single string, containing those scopes separated by spaces (we are going to use it).\n\nWe create an `HTTPException` that we can reuse (`raise`) later at several points.\n\nIn this exception, we include the scopes required (if any) as a string separated by spaces (using `scope_str`). We put that string containing the scopes in the `WWW-Authenticate` header (this is part of the spec).\n\n{* ../../docs_src/security/tutorial005_an_py310.py hl[106,108:116] *}", "source": "advanced\\security\\oauth2-scopes.md"}
{"doc_id": "fastapi_1789", "title": "OAuth2 scopes { #oauth2-scopes }", "section": "Verify the `username` and data shape { #verify-the-username-and-data-shape }", "content": "We verify that we get a `username`, and extract the scopes.\n\nAnd then we validate that data with the Pydantic model (catching the `ValidationError` exception), and if we get an error reading the JWT token or validating the data with Pydantic, we raise the `HTTPException` we created before.\n\nFor that, we update the Pydantic model `TokenData` with a new property `scopes`.\n\nBy validating the data with Pydantic we can make sure that we have, for example, exactly a `list` of `str` with the scopes and a `str` with the `username`.\n\nInstead of, for example, a `dict`, or something else, as it could break the application at some point later, making it a security risk.\n\nWe also verify that we have a user with that username, and if not, we raise that same exception we created before.\n\n{* ../../docs_src/security/tutorial005_an_py310.py hl[47,117:129] *}", "source": "advanced\\security\\oauth2-scopes.md"}
{"doc_id": "fastapi_1790", "title": "OAuth2 scopes { #oauth2-scopes }", "section": "Verify the `scopes` { #verify-the-scopes }", "content": "We now verify that all the scopes required, by this dependency and all the dependants (including *path operations*), are included in the scopes provided in the token received, otherwise raise an `HTTPException`.\n\nFor this, we use `security_scopes.scopes`, that contains a `list` with all these scopes as `str`.\n\n{* ../../docs_src/security/tutorial005_an_py310.py hl[130:136] *}", "source": "advanced\\security\\oauth2-scopes.md"}
{"doc_id": "fastapi_1791", "title": "OAuth2 scopes { #oauth2-scopes }", "section": "Dependency tree and scopes { #dependency-tree-and-scopes }", "content": "Let's review again this dependency tree and the scopes.\n\nAs the `get_current_active_user` dependency has as a sub-dependency on `get_current_user`, the scope `\"me\"` declared at `get_current_active_user` will be included in the list of required scopes in the `security_scopes.scopes` passed to `get_current_user`.\n\nThe *path operation* itself also declares a scope, `\"items\"`, so this will also be in the list of `security_scopes.scopes` passed to `get_current_user`.\n\nHere's how the hierarchy of dependencies and scopes looks like:\n\n* The *path operation* `read_own_items` has:\n    * Required scopes `[\"items\"]` with the dependency:\n    * `get_current_active_user`:\n        *  The dependency function `get_current_active_user` has:\n            * Required scopes `[\"me\"]` with the dependency:\n            * `get_current_user`:\n                * The dependency function `get_current_user` has:\n                    * No scopes required by itself.\n                    * A dependency using `oauth2_scheme`.\n                    * A `security_scopes` parameter of type `SecurityScopes`:\n                        * This `security_scopes` parameter has a property `scopes` with a `list` containing all these scopes declared above, so:\n                            * `security_scopes.scopes` will contain `[\"me\", \"items\"]` for the *path operation* `read_own_items`.\n                            * `security_scopes.scopes` will contain `[\"me\"]` for the *path operation* `read_users_me`, because it is declared in the dependency `get_current_active_user`.\n                            * `security_scopes.scopes` will contain `[]` (nothing) for the *path operation* `read_system_status`, because it didn't declare any `Security` with `scopes`, and its dependency, `get_current_user`, doesn't declare any `scopes` either.\n\n/// tip\n\nThe important and \"magic\" thing here is that `get_current_user` will have a different list of `scopes` to check for each *path operation*.\n\nAll depending on the `scopes` declared in each *path operation* and each dependency in the dependency tree for that specific *path operation*.\n\n///", "source": "advanced\\security\\oauth2-scopes.md"}
{"doc_id": "fastapi_1792", "title": "OAuth2 scopes { #oauth2-scopes }", "section": "More details about `SecurityScopes` { #more-details-about-securityscopes }", "content": "You can use `SecurityScopes` at any point, and in multiple places, it doesn't have to be at the \"root\" dependency.\n\nIt will always have the security scopes declared in the current `Security` dependencies and all the dependants for **that specific** *path operation* and **that specific** dependency tree.\n\nBecause the `SecurityScopes` will have all the scopes declared by dependants, you can use it to verify that a token has the required scopes in a central dependency function, and then declare different scope requirements in different *path operations*.\n\nThey will be checked independently for each *path operation*.", "source": "advanced\\security\\oauth2-scopes.md"}
{"doc_id": "fastapi_1793", "title": "OAuth2 scopes { #oauth2-scopes }", "section": "Check it { #check-it }", "content": "If you open the API docs, you can authenticate and specify which scopes you want to authorize.\n\n<img src=\"/img/tutorial/security/image11.png\">\n\nIf you don't select any scope, you will be \"authenticated\", but when you try to access `/users/me/` or `/users/me/items/` you will get an error saying that you don't have enough permissions. You will still be able to access `/status/`.\n\nAnd if you select the scope `me` but not the scope `items`, you will be able to access `/users/me/` but not `/users/me/items/`.\n\nThat's what would happen to a third party application that tried to access one of these *path operations* with a token provided by a user, depending on how many permissions the user gave the application.", "source": "advanced\\security\\oauth2-scopes.md"}
{"doc_id": "fastapi_1794", "title": "OAuth2 scopes { #oauth2-scopes }", "section": "About third party integrations { #about-third-party-integrations }", "content": "In this example we are using the OAuth2 \"password\" flow.\n\nThis is appropriate when we are logging in to our own application, probably with our own frontend.\n\nBecause we can trust it to receive the `username` and `password`, as we control it.\n\nBut if you are building an OAuth2 application that others would connect to (i.e., if you are building an authentication provider equivalent to Facebook, Google, GitHub, etc.) you should use one of the other flows.\n\nThe most common is the implicit flow.\n\nThe most secure is the code flow, but it's more complex to implement as it requires more steps. As it is more complex, many providers end up suggesting the implicit flow.\n\n/// note\n\nIt's common that each authentication provider names their flows in a different way, to make it part of their brand.\n\nBut in the end, they are implementing the same OAuth2 standard.\n\n///\n\n**FastAPI** includes utilities for all these OAuth2 authentication flows in `fastapi.security.oauth2`.", "source": "advanced\\security\\oauth2-scopes.md"}
{"doc_id": "fastapi_1795", "title": "OAuth2 scopes { #oauth2-scopes }", "section": "`Security` in decorator `dependencies` { #security-in-decorator-dependencies }", "content": "The same way you can define a `list` of `Depends` in the decorator's `dependencies` parameter (as explained in [Dependencies in path operation decorators](../../tutorial/dependencies/dependencies-in-path-operation-decorators.md){.internal-link target=_blank}), you could also use `Security` with `scopes` there.", "source": "advanced\\security\\oauth2-scopes.md"}
